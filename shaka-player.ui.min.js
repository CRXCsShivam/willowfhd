!function() {
    var e = "undefined" != typeof window ? window : global
      , t = {};
    if (!function(U, r, o) {
        function s(e) {
            var t = 0;
            return function() {
                return t < e.length ? {
                    done: !1,
                    value: e[t++]
                } : {
                    done: !0
                }
            }
        }
        var u = "function" == typeof Object.defineProperties ? Object.defineProperty : function(e, t, n) {
            return e == Array.prototype || e == Object.prototype || (e[t] = n.value),
            e
        }
        ;
        var l = function(e) {
            e = ["object" == typeof globalThis && globalThis, e, "object" == typeof U && U, "object" == typeof self && self, "object" == typeof r && r];
            for (var t = 0; t < e.length; ++t) {
                var n = e[t];
                if (n && n.Math == Math)
                    return n
            }
            throw Error("Cannot find global object")
        }(this);
        function e(e, t) {
            if (t)
                e: {
                    var n = l;
                    e = e.split(".");
                    for (var i = 0; i < e.length - 1; i++) {
                        var a = e[i];
                        if (!(a in n))
                            break e;
                        n = n[a]
                    }
                    (t = t(i = n[e = e[e.length - 1]])) != i && null != t && u(n, e, {
                        configurable: !0,
                        writable: !0,
                        value: t
                    })
                }
        }
        function c(e) {
            return (e = {
                next: e
            })[Symbol.iterator] = function() {
                return this
            }
            ,
            e
        }
        function Ze(e) {
            var t = "undefined" != typeof Symbol && Symbol.iterator && e[Symbol.iterator];
            if (t)
                return t.call(e);
            if ("number" == typeof e.length)
                return {
                    next: s(e)
                };
            throw Error(String(e) + " is not an iterable or ArrayLike")
        }
        function et(e) {
            if (!(e instanceof Array)) {
                e = Ze(e);
                for (var t, n = []; !(t = e.next()).done; )
                    n.push(t.value);
                e = n
            }
            return e
        }
        e("Symbol", function(e) {
            function n(e, t) {
                this.g = e,
                u(this, "description", {
                    configurable: !0,
                    writable: !0,
                    value: t
                })
            }
            if (e)
                return e;
            n.prototype.toString = function() {
                return this.g
            }
            ;
            var i = "jscomp_symbol_" + (1e9 * Math.random() >>> 0) + "_"
              , a = 0;
            return function e(t) {
                if (this instanceof e)
                    throw new TypeError("Symbol is not a constructor");
                return new n(i + (t || "") + "_" + a++,t)
            }
        }),
        e("Symbol.iterator", function(e) {
            if (e)
                return e;
            e = Symbol("Symbol.iterator");
            for (var t = "Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "), n = 0; n < t.length; n++) {
                var i = l[t[n]];
                "function" == typeof i && "function" != typeof i.prototype[e] && u(i.prototype, e, {
                    configurable: !0,
                    writable: !0,
                    value: function() {
                        return c(s(this))
                    }
                })
            }
            return e
        });
        var t, d, v = "function" == typeof Object.create ? Object.create : function(e) {
            function t() {}
            return t.prototype = e,
            new t
        }
        ;
        if ("function" == typeof Object.setPrototypeOf)
            t = Object.setPrototypeOf;
        else {
            e: {
                var y = {};
                try {
                    y.__proto__ = {
                        a: !0
                    },
                    d = y.a;
                    break e
                } catch (e) {}
                d = !1
            }
            t = d ? function(e, t) {
                if (e.__proto__ = t,
                e.__proto__ !== t)
                    throw new TypeError(e + " is not extensible");
                return e
            }
            : null
        }
        var T = t;
        function n(e, t) {
            if (e.prototype = v(t.prototype),
            e.prototype.constructor = e,
            T)
                T(e, t);
            else
                for (var n in t) {
                    var i;
                    "prototype" != n && (Object.defineProperties ? (i = Object.getOwnPropertyDescriptor(t, n)) && Object.defineProperty(e, n, i) : e[n] = t[n])
                }
            e.im = t.prototype
        }
        function w() {
            this.s = !1,
            this.l = null,
            this.h = void 0,
            this.g = 1,
            this.j = this.m = 0,
            this.B = this.i = null
        }
        function S(e) {
            if (e.s)
                throw new TypeError("Generator is already running");
            e.s = !0
        }
        function E(e, t) {
            e.i = {
                Ih: t,
                Th: !0
            },
            e.g = e.m || e.j
        }
        function We(e, t, n) {
            return e.g = n,
            {
                value: t
            }
        }
        function Ye(e) {
            e.g = 0
        }
        function qe(e, t, n) {
            e.m = t,
            null != n && (e.j = n)
        }
        function A(e, t) {
            e.m = 0,
            e.j = t || 0
        }
        function Je(e, t, n) {
            e.g = t,
            e.m = n || 0
        }
        function Qe(e, t) {
            return e.m = t || 0,
            t = e.i.Ih,
            e.i = null,
            t
        }
        function dt(e) {
            e.B = [e.i],
            e.m = 0,
            e.j = 0
        }
        function ht(e, t) {
            var n = e.B.splice(0)[0];
            (n = e.i = e.i || n) ? n.Th ? e.g = e.m || e.j : null != n.A && e.j < n.A ? (e.g = n.A,
            e.i = null) : e.g = e.j : e.g = t
        }
        function x(e) {
            this.g = new w,
            this.h = e
        }
        function I(t, e, n, i) {
            try {
                var a = e.call(t.g.l, n);
                if (!(a instanceof Object))
                    throw new TypeError("Iterator result " + a + " is not an object");
                if (!a.done)
                    return t.g.s = !1,
                    a;
                var r = a.value
            } catch (e) {
                return t.g.l = null,
                E(t.g, e),
                M(t)
            }
            return t.g.l = null,
            i.call(t.g, r),
            M(t)
        }
        function M(t) {
            for (; t.g.g; )
                try {
                    var e = t.h(t.g);
                    if (e)
                        return t.g.s = !1,
                        {
                            value: e.value,
                            done: !1
                        }
                } catch (e) {
                    t.g.h = void 0,
                    E(t.g, e)
                }
            if (t.g.s = !1,
            t.g.i) {
                if (e = t.g.i,
                t.g.i = null,
                e.Th)
                    throw e.Ih;
                return {
                    value: e.return,
                    done: !0
                }
            }
            return {
                value: void 0,
                done: !0
            }
        }
        function L(i) {
            this.next = function(e) {
                return S(i.g),
                e = i.g.l ? I(i, i.g.l.next, e, i.g.u) : (i.g.u(e),
                M(i))
            }
            ,
            this.throw = function(e) {
                return S(i.g),
                e = i.g.l ? I(i, i.g.l.throw, e, i.g.u) : (E(i.g, e),
                M(i))
            }
            ,
            this.return = function(e) {
                return e = e,
                S((t = i).g),
                (n = t.g.l) ? I(t, "return"in n ? n.return : function(e) {
                    return {
                        value: e,
                        done: !0
                    }
                }
                , e, t.g.return) : (t.g.return(e),
                M(t));
                var t, n
            }
            ,
            this[Symbol.iterator] = function() {
                return this
            }
        }
        function R(t) {
            function a(e) {
                return t.next(e)
            }
            function r(e) {
                return t.throw(e)
            }
            return new Promise(function(n, i) {
                !function e(t) {
                    t.done ? n(t.value) : Promise.resolve(t.value).then(a, r).then(e, i)
                }(t.next())
            }
            )
        }
        function $e(e) {
            return R(new L(new x(e)))
        }
        function P() {
            for (var e = Number(this), t = [], n = e; n < arguments.length; n++)
                t[n - e] = arguments[n];
            return t
        }
        function D(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        function N(t, n) {
            t instanceof String && (t += "");
            var i = 0
              , a = !1
              , e = {
                next: function() {
                    var e;
                    return !a && i < t.length ? (e = i++,
                    {
                        value: n(e, t[e]),
                        done: !1
                    }) : {
                        done: a = !0,
                        value: void 0
                    }
                }
            };
            return e[Symbol.iterator] = function() {
                return e
            }
            ,
            e
        }
        function _(e, t, n) {
            if (null == e)
                throw new TypeError("The 'this' value for String.prototype." + n + " must not be null or undefined");
            if (t instanceof RegExp)
                throw new TypeError("First argument to String.prototype." + n + " must not be a regular expression");
            return e + ""
        }
        function O(e, t, n) {
            for (var i = (e = e instanceof String ? String(e) : e).length, a = 0; a < i; a++) {
                var r = e[a];
                if (t.call(n, r, a, e))
                    return {
                        Rh: a,
                        v: r
                    }
            }
            return {
                Rh: -1,
                v: void 0
            }
        }
        w.prototype.u = function(e) {
            this.h = e
        }
        ,
        w.prototype.return = function(e) {
            this.i = {
                return: e
            },
            this.g = this.j
        }
        ,
        w.prototype.A = function(e) {
            this.g = e
        }
        ,
        e("Promise", function(e) {
            function o(e) {
                this.h = 0,
                this.i = void 0,
                this.g = [],
                this.s = !1;
                var t = this.j();
                try {
                    e(t.resolve, t.reject)
                } catch (e) {
                    t.reject(e)
                }
            }
            function t() {
                this.g = null
            }
            function s(t) {
                return t instanceof o ? t : new o(function(e) {
                    e(t)
                }
                )
            }
            if (e)
                return e;
            t.prototype.h = function(e) {
                var t;
                null == this.g && (this.g = [],
                (t = this).i(function() {
                    t.l()
                })),
                this.g.push(e)
            }
            ;
            var n = l.setTimeout
              , a = (t.prototype.i = function(e) {
                n(e, 0)
            }
            ,
            t.prototype.l = function() {
                for (; this.g && this.g.length; ) {
                    var e = this.g;
                    this.g = [];
                    for (var t = 0; t < e.length; ++t) {
                        var n = e[t];
                        e[t] = null;
                        try {
                            n()
                        } catch (e) {
                            this.j(e)
                        }
                    }
                }
                this.g = null
            }
            ,
            t.prototype.j = function(e) {
                this.i(function() {
                    throw e
                })
            }
            ,
            o.prototype.j = function() {
                function e(t) {
                    return function(e) {
                        i || (i = !0,
                        t.call(n, e))
                    }
                }
                var n = this
                  , i = !1;
                return {
                    resolve: e(this.H),
                    reject: e(this.l)
                }
            }
            ,
            o.prototype.H = function(e) {
                if (e === this)
                    this.l(new TypeError("A Promise cannot resolve to itself"));
                else if (e instanceof o)
                    this.J(e);
                else {
                    switch (typeof e) {
                    case "object":
                        var t = null != e;
                        break;
                    case "function":
                        t = !0;
                        break;
                    default:
                        t = !1
                    }
                    t ? this.G(e) : this.m(e)
                }
            }
            ,
            o.prototype.G = function(e) {
                var t = void 0;
                try {
                    t = e.then
                } catch (e) {
                    return void this.l(e)
                }
                "function" == typeof t ? this.K(t, e) : this.m(e)
            }
            ,
            o.prototype.l = function(e) {
                this.u(2, e)
            }
            ,
            o.prototype.m = function(e) {
                this.u(1, e)
            }
            ,
            o.prototype.u = function(e, t) {
                if (0 != this.h)
                    throw Error("Cannot settle(" + e + ", " + t + "): Promise already settled in state" + this.h);
                this.h = e,
                this.i = t,
                2 === this.h && this.I(),
                this.B()
            }
            ,
            o.prototype.I = function() {
                var t = this;
                n(function() {
                    var e;
                    t.C() && void 0 !== (e = l.console) && e.error(t.i)
                }, 1)
            }
            ,
            o.prototype.C = function() {
                if (this.s)
                    return !1;
                var e = l.CustomEvent
                  , t = l.Event
                  , n = l.dispatchEvent;
                return void 0 === n || ("function" == typeof e ? e = new e("unhandledrejection",{
                    cancelable: !0
                }) : "function" == typeof t ? e = new t("unhandledrejection",{
                    cancelable: !0
                }) : (e = l.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection", !1, !0, e),
                e.promise = this,
                e.reason = this.i,
                n(e))
            }
            ,
            o.prototype.B = function() {
                if (null != this.g) {
                    for (var e = 0; e < this.g.length; ++e)
                        a.h(this.g[e]);
                    this.g = null
                }
            }
            ,
            new t);
            return o.prototype.J = function(e) {
                var t = this.j();
                e.ve(t.resolve, t.reject)
            }
            ,
            o.prototype.K = function(e, t) {
                var n = this.j();
                try {
                    e.call(t, n.resolve, n.reject)
                } catch (e) {
                    n.reject(e)
                }
            }
            ,
            o.prototype.then = function(e, t) {
                function n(t, e) {
                    return "function" == typeof t ? function(e) {
                        try {
                            i(t(e))
                        } catch (e) {
                            a(e)
                        }
                    }
                    : e
                }
                var i, a, r = new o(function(e, t) {
                    i = e,
                    a = t
                }
                );
                return this.ve(n(e, i), n(t, a)),
                r
            }
            ,
            o.prototype.catch = function(e) {
                return this.then(void 0, e)
            }
            ,
            o.prototype.ve = function(e, t) {
                function n() {
                    switch (i.h) {
                    case 1:
                        e(i.i);
                        break;
                    case 2:
                        t(i.i);
                        break;
                    default:
                        throw Error("Unexpected state: " + i.h)
                    }
                }
                var i = this;
                null == this.g ? a.h(n) : this.g.push(n),
                this.s = !0
            }
            ,
            o.resolve = s,
            o.reject = function(n) {
                return new o(function(e, t) {
                    t(n)
                }
                )
            }
            ,
            o.race = function(a) {
                return new o(function(e, t) {
                    for (var n = Ze(a), i = n.next(); !i.done; i = n.next())
                        s(i.value).ve(e, t)
                }
                )
            }
            ,
            o.all = function(e) {
                var t = Ze(e)
                  , r = t.next();
                return r.done ? s([]) : new o(function(n, e) {
                    for (var i = [], a = 0; i.push(void 0),
                    a++,
                    s(r.value).ve(function(t) {
                        return function(e) {
                            i[t] = e,
                            0 == --a && n(i)
                        }
                    }(i.length - 1), e),
                    !(r = t.next()).done; )
                        ;
                }
                )
            }
            ,
            o
        }),
        e("WeakMap", function(i) {
            function e(e) {
                if (this.g = (s += Math.random() + 1).toString(),
                e) {
                    e = Ze(e);
                    for (var t; !(t = e.next()).done; )
                        t = t.value,
                        this.set(t[0], t[1])
                }
            }
            function n() {}
            function a(e) {
                var t = typeof e;
                return "object" == t && null !== e || "function" == t
            }
            function r(e) {
                var t;
                D(e, o) || (t = new n,
                u(e, o, {
                    value: t
                }))
            }
            function t(e) {
                var t = Object[e];
                t && (Object[e] = function(e) {
                    return e instanceof n ? e : (Object.isExtensible(e) && r(e),
                    t(e))
                }
                )
            }
            if (function() {
                if (i && Object.seal)
                    try {
                        var e = Object.seal({})
                          , t = Object.seal({})
                          , n = new i([[e, 2], [t, 3]]);
                        return 2 != n.get(e) || 3 != n.get(t) ? void 0 : (n.delete(e),
                        n.set(t, 4),
                        !n.has(e) && 4 == n.get(t))
                    } catch (e) {
                        return
                    }
            }())
                return i;
            var o = "$jscomp_hidden_" + Math.random()
              , s = (t("freeze"),
            t("preventExtensions"),
            t("seal"),
            0);
            return e.prototype.set = function(e, t) {
                if (!a(e))
                    throw Error("Invalid WeakMap key");
                if (r(e),
                D(e, o))
                    return e[o][this.g] = t,
                    this;
                throw Error("WeakMap key fail: " + e)
            }
            ,
            e.prototype.get = function(e) {
                return a(e) && D(e, o) ? e[o][this.g] : void 0
            }
            ,
            e.prototype.has = function(e) {
                return a(e) && D(e, o) && D(e[o], this.g)
            }
            ,
            e.prototype.delete = function(e) {
                return !!(a(e) && D(e, o) && D(e[o], this.g)) && delete e[o][this.g]
            }
            ,
            e
        }),
        e("Map", function(a) {
            function n() {
                var e = {};
                return e.kc = e.next = e.head = e
            }
            function e(e, t) {
                var n = e[1];
                return c(function() {
                    if (n) {
                        for (; n.head != e[1]; )
                            n = n.kc;
                        if (n.next != n.head)
                            return n = n.next,
                            {
                                done: !1,
                                value: t(n)
                            };
                        n = null
                    }
                    return {
                        done: !0,
                        value: void 0
                    }
                })
            }
            function i(e, t) {
                var n = t && typeof t
                  , i = ("object" == n || "function" == n ? r.has(t) ? n = r.get(t) : (n = "" + ++o,
                r.set(t, n)) : n = "p_" + t,
                e[0][n]);
                if (i && D(e[0], n))
                    for (e = 0; e < i.length; e++) {
                        var a = i[e];
                        if (t != t && a.key != a.key || t === a.key)
                            return {
                                id: n,
                                list: i,
                                index: e,
                                entry: a
                            }
                    }
                return {
                    id: n,
                    list: i,
                    index: -1,
                    entry: void 0
                }
            }
            function t(e) {
                if (this[0] = {},
                this[1] = n(),
                this.size = 0,
                e) {
                    e = Ze(e);
                    for (var t; !(t = e.next()).done; )
                        t = t.value,
                        this.set(t[0], t[1])
                }
            }
            if (function() {
                if (a && "function" == typeof a && a.prototype.entries && "function" == typeof Object.seal)
                    try {
                        var e = Object.seal({
                            x: 4
                        })
                          , t = new a(Ze([[e, "s"]]));
                        if ("s" != t.get(e) || 1 != t.size || t.get({
                            x: 4
                        }) || t.set({
                            x: 4
                        }, "t") != t || 2 != t.size)
                            return;
                        var n = t.entries()
                          , i = n.next();
                        return i.done || i.value[0] != e || "s" != i.value[1] ? void 0 : !((i = n.next()).done || 4 != i.value[0].x || "t" != i.value[1] || !n.next().done)
                    } catch (e) {
                        return
                    }
            }())
                return a;
            var r = new WeakMap
              , o = (t.prototype.set = function(e, t) {
                var n = i(this, e = 0 === e ? 0 : e);
                return n.list || (n.list = this[0][n.id] = []),
                n.entry ? n.entry.value = t : (n.entry = {
                    next: this[1],
                    kc: this[1].kc,
                    head: this[1],
                    key: e,
                    value: t
                },
                n.list.push(n.entry),
                this[1].kc.next = n.entry,
                this[1].kc = n.entry,
                this.size++),
                this
            }
            ,
            t.prototype.delete = function(e) {
                return !(!(e = i(this, e)).entry || !e.list) && (e.list.splice(e.index, 1),
                e.list.length || delete this[0][e.id],
                e.entry.kc.next = e.entry.next,
                e.entry.next.kc = e.entry.kc,
                e.entry.head = null,
                this.size--,
                !0)
            }
            ,
            t.prototype.clear = function() {
                this[0] = {},
                this[1] = this[1].kc = n(),
                this.size = 0
            }
            ,
            t.prototype.has = function(e) {
                return !!i(this, e).entry
            }
            ,
            t.prototype.get = function(e) {
                return (e = i(this, e).entry) && e.value
            }
            ,
            t.prototype.entries = function() {
                return e(this, function(e) {
                    return [e.key, e.value]
                })
            }
            ,
            t.prototype.keys = function() {
                return e(this, function(e) {
                    return e.key
                })
            }
            ,
            t.prototype.values = function() {
                return e(this, function(e) {
                    return e.value
                })
            }
            ,
            t.prototype.forEach = function(e, t) {
                for (var n, i = this.entries(); !(n = i.next()).done; )
                    n = n.value,
                    e.call(t, n[1], n[0], this)
            }
            ,
            t.prototype[Symbol.iterator] = t.prototype.entries,
            0);
            return t
        }),
        e("Array.prototype.keys", function(e) {
            return e || function() {
                return N(this, function(e) {
                    return e
                })
            }
        }),
        e("Set", function(a) {
            function e(e) {
                if (this.g = new Map,
                e) {
                    e = Ze(e);
                    for (var t; !(t = e.next()).done; )
                        this.add(t.value)
                }
                this.size = this.g.size
            }
            return function() {
                if (a && "function" == typeof a && a.prototype.entries && "function" == typeof Object.seal)
                    try {
                        var e = Object.seal({
                            x: 4
                        })
                          , t = new a(Ze([e]));
                        if (!t.has(e) || 1 != t.size || t.add(e) != t || 1 != t.size || t.add({
                            x: 4
                        }) != t || 2 != t.size)
                            return;
                        var n = t.entries()
                          , i = n.next();
                        return i.done || i.value[0] != e || i.value[1] != e ? void 0 : !(i = n.next()).done && i.value[0] != e && 4 == i.value[0].x && i.value[1] == i.value[0] && n.next().done
                    } catch (e) {
                        return
                    }
            }() ? a : (e.prototype.add = function(e) {
                return this.g.set(e = 0 === e ? 0 : e, e),
                this.size = this.g.size,
                this
            }
            ,
            e.prototype.delete = function(e) {
                return e = this.g.delete(e),
                this.size = this.g.size,
                e
            }
            ,
            e.prototype.clear = function() {
                this.g.clear(),
                this.size = 0
            }
            ,
            e.prototype.has = function(e) {
                return this.g.has(e)
            }
            ,
            e.prototype.entries = function() {
                return this.g.entries()
            }
            ,
            e.prototype.keys = e.prototype.values = function() {
                return this.g.values()
            }
            ,
            e.prototype[Symbol.iterator] = e.prototype.values,
            e.prototype.forEach = function(t, n) {
                var i = this;
                this.g.forEach(function(e) {
                    return t.call(n, e, e, i)
                })
            }
            ,
            e)
        }),
        e("Array.from", function(e) {
            return e || function(e, t, n) {
                t = null != t ? t : function(e) {
                    return e
                }
                ;
                var i = []
                  , a = "undefined" != typeof Symbol && Symbol.iterator && e[Symbol.iterator];
                if ("function" == typeof a) {
                    e = a.call(e);
                    for (var r = 0; !(a = e.next()).done; )
                        i.push(t.call(n, a.value, r++))
                } else
                    for (a = e.length,
                    r = 0; r < a; r++)
                        i.push(t.call(n, e[r], r));
                return i
            }
        }),
        e("Array.prototype.values", function(e) {
            return e || function() {
                return N(this, function(e, t) {
                    return t
                })
            }
        }),
        e("Object.is", function(e) {
            return e || function(e, t) {
                return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t
            }
        }),
        e("Array.prototype.includes", function(e) {
            return e || function(e, t) {
                var n = this
                  , i = (n = n instanceof String ? String(n) : n).length;
                for ((t = t || 0) < 0 && (t = Math.max(t + i, 0)); t < i; t++) {
                    var a = n[t];
                    if (a === e || Object.is(a, e))
                        return !0
                }
                return !1
            }
        }),
        e("String.prototype.includes", function(e) {
            return e || function(e, t) {
                return -1 !== _(this, e, "includes").indexOf(e, t || 0)
            }
        }),
        e("String.fromCodePoint", function(e) {
            return e || function(e) {
                for (var t = "", n = 0; n < arguments.length; n++) {
                    var i = Number(arguments[n]);
                    if (i < 0 || 1114111 < i || i !== Math.floor(i))
                        throw new RangeError("invalid_code_point " + i);
                    i <= 65535 ? t += String.fromCharCode(i) : (i -= 65536,
                    t = (t += String.fromCharCode(i >>> 10 & 1023 | 55296)) + String.fromCharCode(1023 & i | 56320))
                }
                return t
            }
        }),
        e("Array.prototype.findIndex", function(e) {
            return e || function(e, t) {
                return O(this, e, t).Rh
            }
        }),
        e("WeakSet", function(i) {
            function e(e) {
                if (this.g = new WeakMap,
                e) {
                    e = Ze(e);
                    for (var t; !(t = e.next()).done; )
                        this.add(t.value)
                }
            }
            return function() {
                if (i && Object.seal)
                    try {
                        var e = Object.seal({})
                          , t = Object.seal({})
                          , n = new i([e]);
                        return !n.has(e) || n.has(t) ? void 0 : (n.delete(e),
                        n.add(t),
                        !n.has(e) && n.has(t))
                    } catch (e) {
                        return
                    }
            }() ? i : (e.prototype.add = function(e) {
                return this.g.set(e, !0),
                this
            }
            ,
            e.prototype.has = function(e) {
                return this.g.has(e)
            }
            ,
            e.prototype.delete = function(e) {
                return this.g.delete(e)
            }
            ,
            e)
        }),
        e("Array.prototype.find", function(e) {
            return e || function(e, t) {
                return O(this, e, t).v
            }
        }),
        e("String.prototype.startsWith", function(e) {
            return e || function(e, t) {
                var n = _(this, e, "startsWith")
                  , i = n.length
                  , a = e.length;
                t = Math.max(0, Math.min(0 | t, n.length));
                for (var r = 0; r < a && t < i; )
                    if (n[t++] != e[r++])
                        return !1;
                return a <= r
            }
        }),
        e("Object.entries", function(e) {
            return e || function(e) {
                var t, n = [];
                for (t in e)
                    D(e, t) && n.push([t, e[t]]);
                return n
            }
        });
        var j = "function" == typeof Object.assign ? Object.assign : function(e, t) {
            for (var n = 1; n < arguments.length; n++) {
                var i = arguments[n];
                if (i)
                    for (var a in i)
                        D(i, a) && (e[a] = i[a])
            }
            return e
        }
        ;
        function F(e) {
            if ((e = Math.trunc(e) || 0) < 0 && (e += this.length),
            !(e < 0 || e >= this.length))
                return this[e]
        }
        function B(e) {
            return e || F
        }
        e("Object.assign", function(e) {
            return e || j
        }),
        e("Promise.prototype.finally", function(e) {
            return e || function(t) {
                return this.then(function(e) {
                    return Promise.resolve(t()).then(function() {
                        return e
                    })
                }, function(e) {
                    return Promise.resolve(t()).then(function() {
                        throw e
                    })
                })
            }
        }),
        e("Array.prototype.entries", function(e) {
            return e || function() {
                return N(this, function(e, t) {
                    return [e, t]
                })
            }
        }),
        e("Number.isNaN", function(e) {
            return e || function(e) {
                return "number" == typeof e && isNaN(e)
            }
        }),
        e("String.prototype.repeat", function(e) {
            return e || function(e) {
                var t = _(this, null, "repeat");
                if (e < 0 || 1342177279 < e)
                    throw new RangeError("Invalid count value");
                e |= 0;
                for (var n = ""; e; )
                    1 & e && (n += t),
                    (e >>>= 1) && (t += t);
                return n
            }
        }),
        e("Number.EPSILON", function() {
            return Math.pow(2, -52)
        }),
        e("Number.MAX_SAFE_INTEGER", function() {
            return 9007199254740991
        }),
        e("Number.isFinite", function(e) {
            return e || function(e) {
                return "number" == typeof e && (!isNaN(e) && 1 / 0 !== e && -1 / 0 !== e)
            }
        }),
        e("Object.values", function(e) {
            return e || function(e) {
                var t, n = [];
                for (t in e)
                    D(e, t) && n.push(e[t]);
                return n
            }
        }),
        e("Math.log2", function(e) {
            return e || function(e) {
                return Math.log(e) / Math.LN2
            }
        }),
        e("String.prototype.endsWith", function(e) {
            return e || function(e, t) {
                var n = _(this, e, "endsWith");
                void 0 === t && (t = n.length),
                t = Math.max(0, Math.min(0 | t, n.length));
                for (var i = e.length; 0 < i && 0 < t; )
                    if (n[--t] != e[--i])
                        return !1;
                return i <= 0
            }
        }),
        e("Math.trunc", function(e) {
            return e || function(e) {
                if (e = Number(e),
                isNaN(e) || 1 / 0 === e || -1 / 0 === e || 0 === e)
                    return e;
                var t = Math.floor(Math.abs(e));
                return e < 0 ? -t : t
            }
        }),
        e("Array.prototype.at", function(e) {
            return e || F
        }),
        e("Int8Array.prototype.at", B),
        e("Uint8Array.prototype.at", B),
        e("Uint8ClampedArray.prototype.at", B),
        e("Int16Array.prototype.at", B),
        e("Uint16Array.prototype.at", B),
        e("Int32Array.prototype.at", B),
        e("Uint32Array.prototype.at", B),
        e("Float32Array.prototype.at", B),
        e("Float64Array.prototype.at", B),
        e("String.prototype.at", function(e) {
            return e || F
        });
        var V = this || self;
        function i(e, t) {
            e = e.split(".");
            var n, i = V;
            e[0]in i || void 0 === i.execScript || i.execScript("var " + e[0]);
            for (; e.length && (n = e.shift()); )
                e.length || void 0 === t ? i = i[n] && i[n] !== Object.prototype[n] ? i[n] : i[n] = {} : i[n] = t
        }
        function H() {}
        function K() {}
        function Xe(e, t) {
            if (t)
                if (t instanceof Map)
                    for (var n = Ze(t.keys()), i = n.next(); !i.done; i = n.next())
                        i = i.value,
                        Object.defineProperty(this, i, {
                            value: t.get(i),
                            writable: !0,
                            enumerable: !0
                        });
                else
                    for (n in t)
                        Object.defineProperty(this, n, {
                            value: t[n],
                            writable: !0,
                            enumerable: !0
                        });
            this.defaultPrevented = this.cancelable = this.bubbles = !1,
            this.timeStamp = (U.performance && U.performance.now ? U.performance : Date).now(),
            this.type = e,
            this.isTrusted = !1,
            this.target = this.currentTarget = null,
            this.g = !1
        }
        function z(e) {
            var t, n = new Xe(e.type);
            for (t in e)
                Object.defineProperty(n, t, {
                    value: e[t],
                    writable: !0,
                    enumerable: !0
                });
            return n
        }
        Xe.prototype.preventDefault = function() {
            this.cancelable && (this.defaultPrevented = !0)
        }
        ,
        Xe.prototype.stopImmediatePropagation = function() {
            this.g = !0
        }
        ,
        Xe.prototype.stopPropagation = function() {}
        ,
        i("shaka.util.FakeEvent", Xe);
        var X = {
            Yk: "abrstatuschanged",
            Zk: "adaptation",
            $k: "audiotrackchanged",
            al: "buffering",
            cl: "complete",
            fl: "downloadfailed",
            hl: "downloadheadersreceived",
            il: "drmsessionupdate",
            kl: "emsg",
            Jl: "prft",
            Error: "error",
            ll: "expirationupdated",
            ol: "firstquartile",
            ql: "gapjumped",
            vl: "keystatuschanged",
            zl: "loaded",
            Al: "loading",
            Cl: "manifestparsed",
            Dl: "manifestupdated",
            El: "mediaqualitychanged",
            Fl: "mediasourcerecovered",
            Metadata: "metadata",
            Gl: "midpoint",
            Hl: "nospatialvideoinfo",
            Il: "onstatechange",
            Kl: "ratechange",
            Ml: "segmentappended",
            Nl: "sessiondata",
            Ol: "spatialvideoinfo",
            Pl: "stalldetected",
            Ql: "started",
            Rl: "statechanged",
            Sl: "streaming",
            Tl: "textchanged",
            Ul: "texttrackvisibility",
            Vl: "thirdquartile",
            Wl: "timelineregionadded",
            Xl: "timelineregionenter",
            Yl: "timelineregionexit",
            Zl: "trackschanged",
            am: "unloading",
            cm: "variantchanged"
        };
        function W() {}
        function Y() {}
        function Q() {}
        function q(e) {
            var t = P.apply(1, arguments);
            Z.has(e) || (Z.add(e),
            Q.apply(W, et(t)))
        }
        function J() {}
        var Z = new Set;
        function ee() {
            this.g = {}
        }
        function h() {
            this.Ba = new ee,
            this.ke = this
        }
        function ft(e, t) {
            for (var n = [], i = (e = Ze(e)).next(); !i.done; i = e.next())
                n.push(t(i.value));
            return n
        }
        function te(e, t) {
            for (var n = (e = Ze(e)).next(); !n.done; n = e.next())
                if (t(n.value))
                    return 1
        }
        function ne(e, t) {
            for (var n = [], i = (e = Ze(e)).next(); !i.done; i = e.next())
                t(i = i.value) && n.push(i);
            return n
        }
        U.console && (Q = function() {
            return console.warn.apply(console, et(P.apply(0, arguments)))
        }
        ,
        Y = function() {
            console.error.apply(console, et(P.apply(0, arguments)))
        }
        ),
        (t = ee.prototype).push = function(e, t) {
            this.g.hasOwnProperty(e) ? this.g[e].push(t) : this.g[e] = [t]
        }
        ,
        t.get = function(e) {
            return (e = this.g[e]) ? e.slice() : null
        }
        ,
        t.remove = function(e, t) {
            e in this.g && (this.g[e] = this.g[e].filter(function(e) {
                return e != t
            }),
            0 == this.g[e].length && delete this.g[e])
        }
        ,
        t.forEach = function(e) {
            for (var t in this.g)
                e(t, this.g[t])
        }
        ,
        t.size = function() {
            return Object.keys(this.g).length
        }
        ,
        t.keys = function() {
            return Object.keys(this.g)
        }
        ,
        h.prototype.addEventListener = function(e, t) {
            this.Ba && this.Ba.push(e, t)
        }
        ,
        h.prototype.removeEventListener = function(e, t) {
            this.Ba && this.Ba.remove(e, t)
        }
        ,
        h.prototype.dispatchEvent = function(e) {
            if (!this.Ba)
                return !0;
            for (var t = this.Ba.get(e.type) || [], n = (t = Ze(t = (n = this.Ba.get("All")) ? t.concat(n) : t)).next(); !n.done; n = t.next()) {
                n = n.value,
                e.target = this.ke,
                e.currentTarget = this.ke;
                try {
                    n.handleEvent ? n.handleEvent(e) : n.call(this, e)
                } catch (e) {}
                if (e.g)
                    break
            }
            return e.defaultPrevented
        }
        ,
        h.prototype.release = function() {
            this.Ba = null
        }
        ;
        var ie = RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");
        function pt(e) {
            e instanceof pt ? (ae(this, e.Yb),
            this.Zc = e.Zc,
            re(this, e.bc),
            oe(this, e.wd),
            this.mb = e.mb,
            se(this, e.g.clone()),
            this.Ic = e.Ic) : e && (e = String(e).match(ie)) ? (ae(this, e[1] || "", !0),
            this.Zc = ue(e[2] || ""),
            re(this, e[3] || "", !0),
            oe(this, e[4]),
            this.mb = ue(e[5] || "", !0),
            se(this, e[6] || "", !0),
            this.Ic = ue(e[7] || "")) : this.g = new me(null)
        }
        function ae(e, t, n) {
            e.Yb = n ? ue(t, !0) : t,
            e.Yb && (e.Yb = e.Yb.replace(/:$/, ""))
        }
        function re(e, t, n) {
            e.bc = n ? ue(t, !0) : t
        }
        function oe(e, t) {
            if (t) {
                if (t = Number(t),
                isNaN(t) || t < 0)
                    throw Error("Bad port number " + t);
                e.wd = t
            } else
                e.wd = null
        }
        function se(e, t, n) {
            t instanceof me ? e.g = t : (n || (t = le(t, pe)),
            e.g = new me(t))
        }
        function ue(e, t) {
            return e ? (t ? decodeURI : decodeURIComponent)(e) : ""
        }
        function le(e, t, n) {
            return null != e ? (e = encodeURI(e).replace(t, ce),
            e = n ? e.replace(/%25([0-9a-fA-F]{2})/g, "%$1") : e) : null
        }
        function ce(e) {
            return "%" + ((e = e.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & e).toString(16)
        }
        (t = pt.prototype).Yb = "",
        t.Zc = "",
        t.bc = "",
        t.wd = null,
        t.mb = "",
        t.Ic = "",
        t.toString = function() {
            var e, t = [], n = this.Yb;
            return n && t.push(le(n, de, !0), ":"),
            (n = this.bc) && (t.push("//"),
            (e = this.Zc) && t.push(le(e, de, !0), "@"),
            t.push(encodeURIComponent(n).replace(/%25([0-9a-fA-F]{2})/g, "%$1")),
            null != (n = this.wd) && t.push(":", String(n))),
            (n = this.mb) && (this.bc && "/" != n.charAt(0) && t.push("/"),
            t.push(le(n, "/" == n.charAt(0) ? fe : he, !0))),
            (n = this.g.toString()) && t.push("?", n),
            (n = this.Ic) && t.push("#", le(n, ge)),
            t.join("")
        }
        ,
        t.resolve = function(e) {
            var t = this.clone()
              , n = ("data" === t.Yb && (t = new pt),
            !!e.Yb)
              , i = (n ? ae(t, e.Yb) : n = !!e.Zc,
            n ? t.Zc = e.Zc : n = !!e.bc,
            n ? re(t, e.bc) : n = null != e.wd,
            e.mb);
            if (n)
                oe(t, e.wd);
            else if (n = !!e.mb)
                if ("/" != i.charAt(0) && (this.bc && !this.mb ? i = "/" + i : -1 != (a = t.mb.lastIndexOf("/")) && (i = t.mb.substr(0, a + 1) + i)),
                ".." == i || "." == i)
                    i = "";
                else if (-1 != i.indexOf("./") || -1 != i.indexOf("/.")) {
                    for (var a = 0 == i.lastIndexOf("/", 0), i = i.split("/"), r = [], o = 0; o < i.length; ) {
                        var s = i[o++];
                        "." == s ? a && o == i.length && r.push("") : ".." == s ? ((1 < r.length || 1 == r.length && "" != r[0]) && r.pop(),
                        a && o == i.length && r.push("")) : (r.push(s),
                        a = !0)
                    }
                    i = r.join("/")
                }
            return n ? t.mb = i : n = "" !== e.g.toString(),
            n ? se(t, e.g.clone()) : n = !!e.Ic,
            n && (t.Ic = e.Ic),
            t
        }
        ,
        t.clone = function() {
            return new pt(this)
        }
        ;
        var de = /[#\/\?@]/g
          , he = /[#\?:]/g
          , fe = /[#\?]/g
          , pe = /[#\?@]/g
          , ge = /#/g;
        function me(e) {
            this.g = e || null
        }
        function ve(e) {
            if (!e.hb && (e.hb = {},
            e.Jd = 0,
            e.g))
                for (var t = e.g.split("&"), n = 0; n < t.length; n++) {
                    var i, a = t[n].indexOf("="), r = null;
                    0 <= a ? (i = t[n].substring(0, a),
                    r = t[n].substring(a + 1)) : i = t[n],
                    i = decodeURIComponent(i.replace(/\+/g, " ")),
                    r = r || "",
                    e.add(i, decodeURIComponent(r.replace(/\+/g, " ")))
                }
        }
        function ye(e) {
            return ve(e),
            e.Jd
        }
        function be() {}
        function Te(e, t) {
            if (!e && !t)
                return !0;
            if (!e || !t || e.byteLength != t.byteLength)
                return !1;
            if ((ArrayBuffer.isView(e) ? e.buffer : e) == (ArrayBuffer.isView(t) ? t.buffer : t) && (e.byteOffset || 0) == (t.byteOffset || 0))
                return !0;
            var n = tt(e);
            t = tt(t);
            for (var i = 0; i < e.byteLength; i++)
                if (n[i] != t[i])
                    return !1;
            return !0
        }
        function we(e) {
            return ArrayBuffer.isView(e) ? (0 == e.byteOffset && e.byteLength == e.buffer.byteLength ? e : new Uint8Array(e)).buffer : e
        }
        function tt(e, t, n) {
            return Ae(e, void 0 === t ? 0 : t, n = void 0 === n ? 1 / 0 : n, Uint8Array)
        }
        function Se(e, t, n) {
            return Ae(e, void 0 === t ? 0 : t, n = void 0 === n ? 1 / 0 : n, Uint16Array)
        }
        function Ee(e, t, n) {
            return Ae(e, void 0 === t ? 0 : t, n = void 0 === n ? 1 / 0 : n, DataView)
        }
        function Ae(e, t, n, i) {
            var a = ArrayBuffer.isView(e) ? e.buffer : e
              , r = 1
              , o = ("BYTES_PER_ELEMENT"in i && (r = i.BYTES_PER_ELEMENT),
            ((e.byteOffset || 0) + e.byteLength) / r);
            return new i(a,e = Math.floor(Math.max(0, Math.min(((e.byteOffset || 0) + t) / r, o))),Math.floor(Math.min(e + Math.max(n, 0), o)) - e)
        }
        function nt(e, t, n) {
            var i = P.apply(3, arguments);
            if (this.severity = e,
            this.category = t,
            this.code = n,
            this.data = i,
            this.handled = !1,
            this.message = "Shaka Error " + this.code,
            xe)
                try {
                    throw Error(this.message || "Shaka Error")
                } catch (e) {
                    this.stack = e.stack
                }
        }
        (t = me.prototype).hb = null,
        t.Jd = null,
        t.add = function(e, t) {
            ve(this),
            this.g = null;
            var n = this.hb.hasOwnProperty(e) ? this.hb[e] : null;
            return n || (this.hb[e] = n = []),
            n.push(t),
            this.Jd++,
            this
        }
        ,
        t.set = function(e, t) {
            return ve(this),
            this.g = null,
            this.hb.hasOwnProperty(e) ? this.hb[e] = [t] : this.add(e, t),
            this
        }
        ,
        t.get = function(e) {
            return ve(this),
            this.hb[e] || []
        }
        ,
        t.toString = function() {
            if (this.g)
                return this.g;
            if (!this.hb)
                return "";
            var e, t = [];
            for (e in this.hb)
                for (var n = encodeURIComponent(e), i = this.hb[e], a = 0; a < i.length; a++) {
                    var r = n;
                    "" !== i[a] && (r += "=" + encodeURIComponent(i[a])),
                    t.push(r)
                }
            return this.g = t.join("&")
        }
        ,
        t.clone = function() {
            var e = new me;
            if (e.g = this.g,
            this.hb) {
                var t, n = {};
                for (t in this.hb)
                    n[t] = this.hb[t].concat();
                e.hb = n,
                e.Jd = this.Jd
            }
            return e
        }
        ,
        i("shaka.util.BufferUtils", be),
        be.toDataView = Ee,
        be.toUint16 = Se,
        be.toUint8 = tt,
        be.toArrayBuffer = we,
        be.equal = Te,
        nt.prototype.toString = function() {
            return "shaka.util.Error " + JSON.stringify(this, null, "  ")
        }
        ,
        i("shaka.util.Error", nt);
        var xe = !0;
        function Ie(e) {
            this.h = e,
            this.g = void 0
        }
        function gt(e, t) {
            return !e.length || !t.length || e === t || 0 < ke(e, t).length
        }
        function ke(e, t) {
            if (!e.length)
                return t;
            if (!t.length)
                return e;
            for (var n = [], i = (e = Ze(e)).next(); !i.done; i = e.next())
                for (var i = i.value, a = (r = Ze(t)).next(); !a.done; a = r.next())
                    if (a = a.value,
                    i.keySystem == a.keySystem) {
                        for (var r = new Map, o = Ze((i.initData || []).concat(a.initData || [])), s = o.next(); !s.done; s = o.next())
                            s = s.value,
                            r.set(s.keyId, s);
                        r = Array.from(r.values()),
                        o = i.keyIds && a.keyIds ? new Set([].concat(et(i.keyIds), et(a.keyIds))) : i.keyIds || a.keyIds,
                        n.push({
                            keySystem: i.keySystem,
                            licenseServerUri: i.licenseServerUri || a.licenseServerUri,
                            distinctiveIdentifierRequired: i.distinctiveIdentifierRequired || a.distinctiveIdentifierRequired,
                            persistentStateRequired: i.persistentStateRequired || a.persistentStateRequired,
                            videoRobustness: i.videoRobustness || a.videoRobustness,
                            audioRobustness: i.audioRobustness || a.audioRobustness,
                            serverCertificate: i.serverCertificate || a.serverCertificate,
                            serverCertificateUri: i.serverCertificateUri || a.serverCertificateUri,
                            initData: r,
                            keyIds: o
                        });
                        break
                    }
            return n
        }
        function Ce(e) {
            return !!e && !!e.match(/^com\.(microsoft|chromecast)\.playready/)
        }
        nt.Severity = {
            RECOVERABLE: 1,
            CRITICAL: 2
        },
        nt.Category = {
            NETWORK: 1,
            TEXT: 2,
            MEDIA: 3,
            MANIFEST: 4,
            STREAMING: 5,
            DRM: 6,
            PLAYER: 7,
            CAST: 8,
            STORAGE: 9,
            ADS: 10
        },
        nt.Code = {
            UNSUPPORTED_SCHEME: 1e3,
            BAD_HTTP_STATUS: 1001,
            HTTP_ERROR: 1002,
            TIMEOUT: 1003,
            MALFORMED_DATA_URI: 1004,
            REQUEST_FILTER_ERROR: 1006,
            RESPONSE_FILTER_ERROR: 1007,
            MALFORMED_TEST_URI: 1008,
            UNEXPECTED_TEST_REQUEST: 1009,
            ATTEMPTS_EXHAUSTED: 1010,
            SEGMENT_MISSING: 1011,
            INVALID_TEXT_HEADER: 2e3,
            INVALID_TEXT_CUE: 2001,
            UNABLE_TO_DETECT_ENCODING: 2003,
            BAD_ENCODING: 2004,
            INVALID_XML: 2005,
            INVALID_MP4_TTML: 2007,
            INVALID_MP4_VTT: 2008,
            UNABLE_TO_EXTRACT_CUE_START_TIME: 2009,
            INVALID_MP4_CEA: 2010,
            TEXT_COULD_NOT_GUESS_MIME_TYPE: 2011,
            CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS: 2012,
            TEXT_ONLY_WEBVTT_SRC_EQUALS: 2013,
            MISSING_TEXT_PLUGIN: 2014,
            CHAPTERS_TRACK_FAILED: 2015,
            UNSUPPORTED_EXTERNAL_THUMBNAILS_URI: 2017,
            BUFFER_READ_OUT_OF_BOUNDS: 3e3,
            JS_INTEGER_OVERFLOW: 3001,
            EBML_OVERFLOW: 3002,
            EBML_BAD_FLOATING_POINT_SIZE: 3003,
            MP4_SIDX_WRONG_BOX_TYPE: 3004,
            MP4_SIDX_INVALID_TIMESCALE: 3005,
            MP4_SIDX_TYPE_NOT_SUPPORTED: 3006,
            WEBM_CUES_ELEMENT_MISSING: 3007,
            WEBM_EBML_HEADER_ELEMENT_MISSING: 3008,
            WEBM_SEGMENT_ELEMENT_MISSING: 3009,
            WEBM_INFO_ELEMENT_MISSING: 3010,
            WEBM_DURATION_ELEMENT_MISSING: 3011,
            WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING: 3012,
            WEBM_CUE_TIME_ELEMENT_MISSING: 3013,
            MEDIA_SOURCE_OPERATION_FAILED: 3014,
            MEDIA_SOURCE_OPERATION_THREW: 3015,
            VIDEO_ERROR: 3016,
            QUOTA_EXCEEDED_ERROR: 3017,
            TRANSMUXING_FAILED: 3018,
            CONTENT_TRANSFORMATION_FAILED: 3019,
            MSS_MISSING_DATA_FOR_TRANSMUXING: 3020,
            MSS_TRANSMUXING_FAILED: 3022,
            TRANSMUXING_NO_VIDEO_DATA: 3023,
            UNABLE_TO_GUESS_MANIFEST_TYPE: 4e3,
            DASH_INVALID_XML: 4001,
            DASH_NO_SEGMENT_INFO: 4002,
            DASH_EMPTY_ADAPTATION_SET: 4003,
            DASH_EMPTY_PERIOD: 4004,
            DASH_WEBM_MISSING_INIT: 4005,
            DASH_UNSUPPORTED_CONTAINER: 4006,
            DASH_PSSH_BAD_ENCODING: 4007,
            DASH_NO_COMMON_KEY_SYSTEM: 4008,
            DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED: 4009,
            DASH_CONFLICTING_KEY_IDS: 4010,
            RESTRICTIONS_CANNOT_BE_MET: 4012,
            HLS_PLAYLIST_HEADER_MISSING: 4015,
            INVALID_HLS_TAG: 4016,
            HLS_INVALID_PLAYLIST_HIERARCHY: 4017,
            DASH_DUPLICATE_REPRESENTATION_ID: 4018,
            HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND: 4020,
            HLS_REQUIRED_ATTRIBUTE_MISSING: 4023,
            HLS_REQUIRED_TAG_MISSING: 4024,
            HLS_COULD_NOT_GUESS_CODECS: 4025,
            HLS_KEYFORMATS_NOT_SUPPORTED: 4026,
            DASH_UNSUPPORTED_XLINK_ACTUATE: 4027,
            DASH_XLINK_DEPTH_LIMIT: 4028,
            CONTENT_UNSUPPORTED_BY_BROWSER: 4032,
            CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM: 4033,
            NO_VARIANTS: 4036,
            PERIOD_FLATTENING_FAILED: 4037,
            INCONSISTENT_DRM_ACROSS_PERIODS: 4038,
            HLS_VARIABLE_NOT_FOUND: 4039,
            HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED: 4040,
            HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED: 4041,
            NO_WEB_CRYPTO_API: 4042,
            CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM: 4045,
            MSS_INVALID_XML: 4046,
            MSS_LIVE_CONTENT_NOT_SUPPORTED: 4047,
            AES_128_INVALID_IV_LENGTH: 4048,
            AES_128_INVALID_KEY_LENGTH: 4049,
            DASH_CONFLICTING_AES_128: 4050,
            DASH_UNSUPPORTED_AES_128: 4051,
            DASH_INVALID_PATCH: 4052,
            HLS_EMPTY_MEDIA_PLAYLIST: 4053,
            DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED: 4054,
            STREAMING_ENGINE_STARTUP_INVALID_STATE: 5006,
            NO_RECOGNIZED_KEY_SYSTEMS: 6e3,
            REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE: 6001,
            FAILED_TO_CREATE_CDM: 6002,
            FAILED_TO_ATTACH_TO_VIDEO: 6003,
            INVALID_SERVER_CERTIFICATE: 6004,
            FAILED_TO_CREATE_SESSION: 6005,
            FAILED_TO_GENERATE_LICENSE_REQUEST: 6006,
            LICENSE_REQUEST_FAILED: 6007,
            LICENSE_RESPONSE_REJECTED: 6008,
            ENCRYPTED_CONTENT_WITHOUT_DRM_INFO: 6010,
            NO_LICENSE_SERVER_GIVEN: 6012,
            OFFLINE_SESSION_REMOVED: 6013,
            EXPIRED: 6014,
            SERVER_CERTIFICATE_REQUIRED: 6015,
            INIT_DATA_TRANSFORM_ERROR: 6016,
            SERVER_CERTIFICATE_REQUEST_FAILED: 6017,
            MIN_HDCP_VERSION_NOT_MATCH: 6018,
            ERROR_CHECKING_HDCP_VERSION: 6019,
            LOAD_INTERRUPTED: 7e3,
            OPERATION_ABORTED: 7001,
            NO_VIDEO_ELEMENT: 7002,
            OBJECT_DESTROYED: 7003,
            CONTENT_NOT_LOADED: 7004,
            SRC_EQUALS_PRELOAD_NOT_SUPPORTED: 7005,
            CAST_API_UNAVAILABLE: 8e3,
            NO_CAST_RECEIVERS: 8001,
            ALREADY_CASTING: 8002,
            UNEXPECTED_CAST_ERROR: 8003,
            CAST_CANCELED_BY_USER: 8004,
            CAST_CONNECTION_TIMED_OUT: 8005,
            CAST_RECEIVER_APP_UNAVAILABLE: 8006,
            STORAGE_NOT_SUPPORTED: 9e3,
            INDEXED_DB_ERROR: 9001,
            DEPRECATED_OPERATION_ABORTED: 9002,
            REQUESTED_ITEM_NOT_FOUND: 9003,
            MALFORMED_OFFLINE_URI: 9004,
            CANNOT_STORE_LIVE_OFFLINE: 9005,
            NO_INIT_DATA_FOR_OFFLINE: 9007,
            LOCAL_PLAYER_INSTANCE_REQUIRED: 9008,
            NEW_KEY_OPERATION_NOT_SUPPORTED: 9011,
            KEY_NOT_FOUND: 9012,
            MISSING_STORAGE_CELL: 9013,
            STORAGE_LIMIT_REACHED: 9014,
            DOWNLOAD_SIZE_CALLBACK_ERROR: 9015,
            MODIFY_OPERATION_NOT_SUPPORTED: 9016,
            INDEXED_DB_INIT_TIMED_OUT: 9017,
            CS_IMA_SDK_MISSING: 1e4,
            CS_AD_MANAGER_NOT_INITIALIZED: 10001,
            SS_IMA_SDK_MISSING: 10002,
            SS_AD_MANAGER_NOT_INITIALIZED: 10003,
            CURRENT_DAI_REQUEST_NOT_FINISHED: 10004,
            MT_AD_MANAGER_NOT_INITIALIZED: 10005,
            INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED: 10006,
            VAST_INVALID_XML: 10007
        },
        Ie.prototype.value = function() {
            return null == this.g && (this.g = this.h()),
            this.g
        }
        ;
        var Me = new Ie(function() {
            return we(new Uint8Array([0]))
        }
        )
          , Le = new Map;
        function Re(e) {
            this.h = e,
            this.g = null
        }
        function C(e) {
            this.h = e,
            this.g = null
        }
        function Pe() {
            var e = U.ManagedMediaSource || U.MediaSource;
            return !(!e || !e.isTypeSupported)
        }
        function De(e) {
            return "" != Tt().canPlayType(e)
        }
        function Ne() {
            return !!navigator.userAgent.match(/Edge?\//)
        }
        function _e() {
            return f("Xbox One")
        }
        function Oe() {
            return f("Tizen")
        }
        function Ue() {
            return f("Tizen 3")
        }
        function je() {
            return f("Web0S")
        }
        function Fe() {
            return f("CrKey")
        }
        function Be() {
            if (!f("Chrome") || navigator.userAgent.match(/Edge\//))
                return null;
            var e = navigator.userAgent.match(/Chrome\/(\d+)/);
            return e ? parseInt(e[1], 10) : null
        }
        function Ge() {
            return !!navigator.vendor && navigator.vendor.includes("Apple") && !Oe() && !f("PC=EOS") && !f("PC=APL") && !f("VirginMedia") && !ze() && !He() && !f("AFT") && !f("WPE") && !f("DT_STB_BCM") && !f("Sky_STB")
        }
        function Ve() {
            return f("PlayStation 5")
        }
        function He() {
            return f("PlayStation 4")
        }
        function Ke() {
            return f("Hisense") || f("VIDAA")
        }
        function ze() {
            return f("SOPOpenBrowser")
        }
        function mt() {
            if (!Ge())
                return null;
            var e = navigator.userAgent.match(/Version\/(\d+)/);
            return (e = e || navigator.userAgent.match(/OS (\d+)(?:_\d+)?/)) ? parseInt(e[1], 10) : null
        }
        function vt() {
            return navigator.userAgentData && navigator.userAgentData.platform ? "windows" == navigator.userAgentData.platform.toLowerCase() : !!navigator.platform && navigator.platform.toLowerCase().includes("win32")
        }
        function yt() {
            return f("Android")
        }
        function bt() {
            return !!(Oe() || je() || _e() || He() || Ve() || f("AFT") || f("PC=EOS") || f("PC=APL") || f("VirginMedia") || ze() || f("WPE") || Fe() || Ke() || f("DT_STB_BCM"))
        }
        function f(e) {
            return (navigator.userAgent || "").includes(e)
        }
        function Tt() {
            return At || (Et = Et || new C(function() {
                At = null
            }
            ),
            (At = document.getElementsByTagName("video")[0] || document.getElementsByTagName("audio")[0]) || (At = document.createElement("video")),
            Et.Y(1),
            At)
        }
        function wt(e) {
            return e ? e === U.shakaMediaKeysPolyfill : U.shakaMediaKeysPolyfill
        }
        function St() {
            var t, n, i, a, r, o, s, u, l, c, d, h;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (t = {
                        width: 1 / 0,
                        height: 1 / 0
                    },
                    Fe()) {
                        if (c = U.cast && cast.__platform__ && cast.__platform__.canDisplayType,
                        t.width = 1280,
                        t.height = 720,
                        qe(e, 14),
                        d = c)
                            return We(e, cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'), 17);
                        e.A(16);
                        break
                    }
                    if (Oe()) {
                        t.width = 1920,
                        t.height = 1080;
                        try {
                            webapis.systeminfo && webapis.systeminfo.getMaxVideoResolution ? (n = webapis.systeminfo.getMaxVideoResolution(),
                            t.width = n.width,
                            t.height = n.height) : webapis.productinfo.is8KPanelSupported && webapis.productinfo.is8KPanelSupported() ? (t.width = 7680,
                            t.height = 4320) : webapis.productinfo.isUdPanelSupported && webapis.productinfo.isUdPanelSupported() && (t.width = 3840,
                            t.height = 2160)
                        } catch (e) {
                            Q("Tizen: Error detecting screen size, default screen size 1920x1080.")
                        }
                        e.A(3);
                        break
                    }
                    if (je()) {
                        try {
                            i = JSON.parse(U.PalmSystem.deviceInfo),
                            t.width = Math.max(1920, i.screenWidth),
                            t.height = Math.max(1080, i.screenHeight)
                        } catch (e) {
                            Q("WebOS: Error detecting screen size, default screen size 1920x1080."),
                            t.width = 1920,
                            t.height = 1080
                        }
                        e.A(3);
                        break
                    }
                    if (Ke()) {
                        U.Hisense_Get4KSupportState && U.Hisense_Get4KSupportState() ? (t.width = 3840,
                        t.height = 2160) : (t.width = 1920,
                        t.height = 1080),
                        e.A(3);
                        break
                    }
                    if (He() || Ve())
                        return s = !1,
                        qe(e, 8),
                        We(e, U.msdk.device.getDisplayInfo(), 10);
                    u = void 0;
                    try {
                        u = "undefined" != typeof Windows ? Windows : chrome.webview.hostObjects.sync.Windows
                    } catch (e) {}
                    if (u) {
                        t.width = 1920,
                        t.height = 1080;
                        try {
                            for (a = new u.Media.Protection.ProtectionCapabilities,
                            r = u.Media.Protection.ProtectionCapabilityResult,
                            o = null; (o = a.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"', "com.microsoft.playready.recommendation")) === r.maybe; )
                                ;
                            o === r.probably && (t.width = 3840,
                            t.height = 2160)
                        } catch (e) {
                            Q("Xbox: Error detecting screen size, default screen size 1920x1080.")
                        }
                    } else
                        _e() && (t.width = 1920,
                        t.height = 1080,
                        Q("Xbox: Error detecting screen size, default screen size 1920x1080."));
                    e.A(3);
                    break;
                case 10:
                    u = e.h,
                    s = "4K" === u.resolution,
                    Je(e, 9);
                    break;
                case 8:
                    return Qe(e),
                    qe(e, 11),
                    We(e, U.msdk.device.getDisplayInfoImmediate(), 13);
                case 13:
                    l = e.h,
                    s = "4K" === l.resolution,
                    Je(e, 9);
                    break;
                case 11:
                    Q("PlayStation: Failed to get the display info:", Qe(e));
                case 9:
                    s ? (t.width = 3840,
                    t.height = 2160) : (t.width = 1920,
                    t.height = 1080),
                    e.A(3);
                    break;
                case 17:
                    d = e.h;
                case 16:
                    if (d) {
                        t.width = 3840,
                        t.height = 2160,
                        e.A(18);
                        break
                    }
                    if (h = c)
                        return We(e, cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'), 20);
                    e.A(19);
                    break;
                case 20:
                    h = e.h;
                case 19:
                    h && (t.width = 1920,
                    t.height = 1080);
                case 18:
                    Je(e, 3);
                    break;
                case 14:
                    Y("Failed to check canDisplayType:", Qe(e));
                case 3:
                    return e.return(t)
                }
            })
        }
        Re.prototype.Y = function(e) {
            var t = this
              , n = (this.stop(),
            !0)
              , i = null;
            return this.g = function() {
                U.clearTimeout(i),
                n = !1
            }
            ,
            i = U.setTimeout(function() {
                n && t.h()
            }, 1e3 * e),
            this
        }
        ,
        Re.prototype.stop = function() {
            this.g && (this.g(),
            this.g = null)
        }
        ,
        C.prototype.Ra = function() {
            return this.stop(),
            this.h(),
            this
        }
        ,
        C.prototype.Y = function(e) {
            var t = this;
            return this.stop(),
            this.g = new Re(function() {
                t.h()
            }
            ).Y(e),
            this
        }
        ,
        C.prototype.Aa = function(e) {
            var t = this;
            return this.stop(),
            this.g = new Re(function() {
                t.g.Y(e),
                t.h()
            }
            ).Y(e),
            this
        }
        ,
        C.prototype.stop = function() {
            this.g && (this.g.stop(),
            this.g = null)
        }
        ,
        i("shaka.util.Timer", C),
        C.prototype.tickEvery = C.prototype.Aa,
        C.prototype.tickAfter = C.prototype.Y,
        C.prototype.tickNow = C.prototype.Ra;
        var Et = null
          , At = null;
        function xt() {}
        function It(e) {
            if (!e)
                return "";
            if (239 == (e = tt(e))[0] && 187 == e[1] && 191 == e[2] && (e = e.subarray(3)),
            U.TextDecoder && !He())
                return (e = (new TextDecoder).decode(e)).includes("�") && Y('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),
                e;
            for (var t = "", n = 0; n < e.length; ++n) {
                var i, a = 65533;
                0 == (128 & e[n]) ? a = e[n] : e.length >= n + 2 && 192 == (224 & e[n]) && 128 == (192 & e[n + 1]) ? (a = (31 & e[n]) << 6 | 63 & e[n + 1],
                n += 1) : e.length >= n + 3 && 224 == (240 & e[n]) && 128 == (192 & e[n + 1]) && 128 == (192 & e[n + 2]) ? (a = (15 & e[n]) << 12 | (63 & e[n + 1]) << 6 | 63 & e[n + 2],
                n += 2) : e.length >= n + 4 && 240 == (241 & e[n]) && 128 == (192 & e[n + 1]) && 128 == (192 & e[n + 2]) && 128 == (192 & e[n + 3]) && (a = (7 & e[n]) << 18 | (63 & e[n + 1]) << 12 | (63 & e[n + 2]) << 6 | 63 & e[n + 3],
                n += 3),
                a <= 65535 ? t += String.fromCharCode(a) : (i = 1023 & (a -= 65536),
                t = (t += String.fromCharCode(55296 + (a >> 10))) + String.fromCharCode(56320 + i))
            }
            return t
        }
        function kt(e, t, n) {
            if (!e)
                return "";
            if (!n && 0 != e.byteLength % 2)
                throw new nt(2,2,2004);
            n = Math.floor(e.byteLength / 2);
            var i = new Uint16Array(n);
            e = Ee(e);
            for (var a = 0; a < n; a++)
                i[a] = e.getUint16(2 * a, t);
            return Rt(i)
        }
        function Ct(e) {
            function t(e) {
                return n.byteLength <= e || 32 <= n[e] && n[e] <= 126
            }
            if (!e)
                return "";
            var n = tt(e);
            if (239 == n[0] && 187 == n[1] && 191 == n[2])
                return It(n);
            if (254 == n[0] && 255 == n[1])
                return kt(n.subarray(2), !1);
            if (255 == n[0] && 254 == n[1])
                return kt(n.subarray(2), !0);
            if (0 == n[0] && 0 == n[2])
                return kt(e, !1);
            if (0 == n[1] && 0 == n[3])
                return kt(e, !0);
            if (t(0) && t(1) && t(2) && t(3))
                return It(e);
            throw new nt(2,2,2003)
        }
        function Mt(e) {
            if (U.TextEncoder && !He())
                return we((t = new TextEncoder).encode(e));
            e = encodeURIComponent(e),
            e = unescape(e);
            for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++)
                t[n] = e[n].charCodeAt(0);
            return we(t)
        }
        function Lt(e, t) {
            for (var n = new ArrayBuffer(2 * e.length), i = new DataView(n), a = 0; a < e.length; ++a)
                i.setUint16(2 * a, e.charCodeAt(a), t);
            return n
        }
        function Rt(e) {
            return Dt.value()(e)
        }
        function Pt(e) {
            var t = {
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&apos;": "'",
                "&nbsp;": " ",
                "&lrm;": "‎",
                "&rlm;": "‏"
            }
              , n = /&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g
              , i = RegExp(n.source);
            return e && i.test(e) ? e.replace(n, function(e) {
                return "#" == e[1] ? 0 <= (e = "x" == e[2] || "X" == e[2] ? parseInt(e.substring(3), 16) : parseInt(e.substring(2), 10)) && e <= 1114111 ? String.fromCodePoint(e) : "" : t[e] || "'"
            }) : e || ""
        }
        i("shaka.util.StringUtils", xt),
        xt.resetFromCharCode = function() {
            Dt.g = void 0
        }
        ,
        xt.toUTF16 = Lt,
        xt.toUTF8 = Mt,
        xt.fromBytesAutoDetect = Ct,
        xt.fromUTF16 = kt,
        xt.fromUTF8 = It;
        var Dt = new Ie(function() {
            for (var e = {
                Cc: 65536
            }; 0 < e.Cc; (e = {
                Cc: e.Cc
            }).Cc /= 2)
                if (function(e) {
                    try {
                        var t = new Uint8Array(e);
                        return 0 < String.fromCharCode.apply(null, t).length
                    } catch (e) {
                        return
                    }
                }(e.Cc)) {
                    var i = e;
                    return function(e) {
                        for (var t = "", n = 0; n < e.length; n += i.Cc)
                            t += String.fromCharCode.apply(null, e.subarray(n, n + i.Cc));
                        return t
                    }
                    ;
                    return
                }
            return null
        }
        );
        function Nt() {}
        function _t(e) {
            return e = Rt(tt(e)),
            btoa(e)
        }
        function Ot(e, t) {
            return t = null == t || t,
            e = _t(e).replace(/\+/g, "-").replace(/\//g, "_"),
            t ? e : e.replace(/[=]*$/, "")
        }
        function Ut(e) {
            e = U.atob(e.replace(/-/g, "+").replace(/_/g, "/"));
            for (var t = new Uint8Array(e.length), n = 0; n < e.length; ++n)
                t[n] = e.charCodeAt(n);
            return t
        }
        function jt(e) {
            for (var t = e.length / 2, n = new Uint8Array(t), i = 0; i < t; i++)
                n[i] = U.parseInt(e.substr(2 * i, 2), 16);
            return n
        }
        function Ft(e) {
            var t = tt(e);
            e = "";
            for (var n = (t = Ze(t)).next(); !n.done; n = t.next())
                e += n = 1 == (n = (n = n.value).toString(16)).length ? "0" + n : n;
            return e
        }
        function Bt() {
            for (var e = P.apply(0, arguments), t = 0, n = 0; n < e.length; ++n)
                t += e[n].byteLength;
            for (var t = new Uint8Array(t), i = n = 0; i < e.length; ++i) {
                var a = e[i];
                ArrayBuffer.isView(a) && 1 === a.BYTES_PER_ELEMENT ? t.set(a, n) : t.set(tt(a), n),
                n += a.byteLength
            }
            return t
        }
        function Gt(e, t, n) {
            if (n = void 0 === n ? "" : n,
            0 == t.length)
                return e;
            if (1 == e.length && 1 == t.length)
                return i = new pt(e[0]),
                t = new pt(t[0]),
                t = i.resolve(t),
                n && se(t, n),
                [t.toString()];
            t = t.map(function(e) {
                return new pt(e)
            });
            for (var i = [], a = (e = Ze(e)).next(); !a.done; a = e.next())
                for (var a = new pt(a.value), r = Ze(t), o = r.next(); !o.done; o = r.next())
                    o = a.resolve(o.value),
                    n && se(o, n),
                    i.push(o.toString());
            return i
        }
        function Vt(e, t, n, i) {
            return e = {
                keySystem: e,
                encryptionScheme: t,
                licenseServerUri: "",
                distinctiveIdentifierRequired: !1,
                persistentStateRequired: !1,
                audioRobustness: "",
                videoRobustness: "",
                serverCertificate: null,
                serverCertificateUri: "",
                sessionType: "",
                initData: n || [],
                keyIds: new Set
            },
            i && (e.keySystemUris = new Set([i])),
            e
        }
        function Ht(e, t) {
            t = void 0 === t ? "cenc" : t;
            var a = []
              , r = []
              , o = [];
            e.forEach(function(e, t) {
                var n = t
                  , i = (22 != n.length && (n = Ot(jt(t), !1)),
                e);
                22 != i.length && (i = Ot(jt(e), !1)),
                a.push(e = {
                    kty: "oct",
                    kid: n,
                    k: i
                }),
                r.push(e.kid),
                o.push(t)
            }),
            e = JSON.stringify({
                keys: a
            });
            var n = [{
                initData: tt(Mt(JSON.stringify({
                    kids: r
                }))),
                initDataType: "keyids"
            }];
            return {
                keySystem: "org.w3.clearkey",
                encryptionScheme: t,
                licenseServerUri: "data:application/json;base64," + U.btoa(e),
                distinctiveIdentifierRequired: !1,
                persistentStateRequired: !1,
                audioRobustness: "",
                videoRobustness: "",
                serverCertificate: null,
                serverCertificateUri: "",
                sessionType: "",
                initData: n,
                keyIds: new Set(o)
            }
        }
        function Kt(e, t) {
            if (1 == t.length)
                return t[0];
            if (null != (e = zt(e, t)))
                return e;
            throw new nt(2,4,4025,t)
        }
        function zt(e, t) {
            for (var n = Ze(qt[e]), i = n.next(); !i.done; i = n.next())
                for (var i = i.value, a = Ze(t), r = a.next(); !r.done; r = a.next())
                    if (r = r.value,
                    i.test(r.trim()))
                        return r.trim();
            return e == it ? "" : null
        }
        function Xt(e, t) {
            for (var n = [], i = (e = Ze(qt[e])).next(); !i.done; i = e.next())
                for (var i = i.value, a = Ze(t), r = a.next(); !r.done; r = a.next())
                    r = r.value,
                    i.test(r.trim()) && n.push(r.trim());
            return n
        }
        i("shaka.util.Uint8ArrayUtils", Nt),
        Nt.concat = Bt,
        Nt.toHex = Ft,
        Nt.fromHex = jt,
        Nt.fromBase64 = Ut,
        Nt.toBase64 = Ot,
        Nt.toStandardBase64 = _t;
        var it = "text"
          , Wt = {
            xa: "video",
            ba: "audio",
            Na: it,
            Ef: "image",
            Wk: "application"
        }
          , Yt = 1 / 15
          , qt = {
            audio: [/^vorbis$/, /^Opus$/, /^opus$/, /^fLaC$/, /^flac$/, /^mp4a/, /^[ae]c-3$/, /^ac-4/, /^dts[cex]$/, /^iamf/, /^mhm[12]/],
            video: [/^avc/, /^hev/, /^hvc/, /^vvc/, /^vvi/, /^vp0?[89]/, /^av01/, /^dvh/, /^dva/, /^dav/],
            text: [/^vtt$/, /^wvtt/, /^stpp/]
        };
        function Jt() {}
        function Qt(e, t) {
            return e = en(e),
            t = en(t),
            e.split("-")[0] == t.split("-")[0]
        }
        function $t(e, t) {
            return e = en(e),
            t = en(t),
            e = e.split("-"),
            t = t.split("-"),
            e[0] == t[0] && 1 == e.length && 2 == t.length
        }
        function Zt(e, t) {
            return e = en(e),
            t = en(t),
            e = e.split("-"),
            t = t.split("-"),
            2 == e.length && 2 == t.length && e[0] == t[0]
        }
        function en(e) {
            var t = void 0 === (t = (e = Ze(e.split("-x-"))).next().value) ? "" : t
              , n = (e = void 0 === (e = e.next().value) ? "" : e,
            Ze(t.split("-")));
            return t = void 0 === (t = n.next().value) ? "" : t,
            n = void 0 === (n = n.next().value) ? "" : n,
            e = e ? "x-" + e : "",
            t = t.toLowerCase(),
            t = sn.get(t) || t,
            ((n = n.toUpperCase()) ? t + "-" + n : t) + (e ? "-" + e : "")
        }
        function tn(e, t) {
            var n = an(e)
              , i = an(t);
            return e != n && t != i && n == i
        }
        function nn(e, t) {
            return e = en(e),
            (t = en(t)) == e ? 4 : $t(t, e) ? 3 : Zt(t, e) ? 2 : $t(e, t) ? 1 : 0
        }
        function an(e) {
            var t = e.indexOf("-");
            return e = (e = 0 <= t ? e.substring(0, t) : e).toLowerCase(),
            sn.get(e) || e
        }
        function rn(e) {
            return e.language ? en(e.language) : e.audio && e.audio.language ? en(e.audio.language) : e.video && e.video.language ? en(e.video.language) : "und"
        }
        function on(e, t) {
            e = en(e);
            for (var n = new Set, i = (t = Ze(t)).next(); !i.done; i = t.next())
                n.add(en(i.value));
            for (i = (t = Ze(n)).next(); !i.done; i = t.next())
                if ((i = i.value) == e)
                    return i;
            for (i = (t = Ze(n)).next(); !i.done; i = t.next())
                if ($t(i = i.value, e))
                    return i;
            for (i = (t = Ze(n)).next(); !i.done; i = t.next())
                if (Zt(i = i.value, e))
                    return i;
            for (t = (n = Ze(n)).next(); !t.done; t = n.next())
                if ($t(e, t = t.value))
                    return t;
            return null
        }
        i("shaka.util.LanguageUtils", Jt),
        Jt.findClosestLocale = on,
        Jt.getLocaleForVariant = rn,
        Jt.getLocaleForText = function(e) {
            return en(e.language || "und")
        }
        ,
        Jt.getBase = an,
        Jt.relatedness = nn,
        Jt.areSiblings = tn,
        Jt.normalize = en,
        Jt.isSiblingOf = Zt,
        Jt.isParentOf = $t,
        Jt.areLanguageCompatible = Qt,
        Jt.areLocaleCompatible = function(e, t) {
            return (e = en(e)) == (t = en(t))
        }
        ;
        var sn = new Map([["aar", "aa"], ["abk", "ab"], ["afr", "af"], ["aka", "ak"], ["alb", "sq"], ["amh", "am"], ["ara", "ar"], ["arg", "an"], ["arm", "hy"], ["asm", "as"], ["ava", "av"], ["ave", "ae"], ["aym", "ay"], ["aze", "az"], ["bak", "ba"], ["bam", "bm"], ["baq", "eu"], ["bel", "be"], ["ben", "bn"], ["bih", "bh"], ["bis", "bi"], ["bod", "bo"], ["bos", "bs"], ["bre", "br"], ["bul", "bg"], ["bur", "my"], ["cat", "ca"], ["ces", "cs"], ["cha", "ch"], ["che", "ce"], ["chi", "zh"], ["chu", "cu"], ["chv", "cv"], ["cor", "kw"], ["cos", "co"], ["cre", "cr"], ["cym", "cy"], ["cze", "cs"], ["dan", "da"], ["deu", "de"], ["div", "dv"], ["dut", "nl"], ["dzo", "dz"], ["ell", "el"], ["eng", "en"], ["epo", "eo"], ["est", "et"], ["eus", "eu"], ["ewe", "ee"], ["fao", "fo"], ["fas", "fa"], ["fij", "fj"], ["fin", "fi"], ["fra", "fr"], ["fre", "fr"], ["fry", "fy"], ["ful", "ff"], ["geo", "ka"], ["ger", "de"], ["gla", "gd"], ["gle", "ga"], ["glg", "gl"], ["glv", "gv"], ["gre", "el"], ["grn", "gn"], ["guj", "gu"], ["hat", "ht"], ["hau", "ha"], ["heb", "he"], ["her", "hz"], ["hin", "hi"], ["hmo", "ho"], ["hrv", "hr"], ["hun", "hu"], ["hye", "hy"], ["ibo", "ig"], ["ice", "is"], ["ido", "io"], ["iii", "ii"], ["iku", "iu"], ["ile", "ie"], ["ina", "ia"], ["ind", "id"], ["ipk", "ik"], ["isl", "is"], ["ita", "it"], ["jav", "jv"], ["jpn", "ja"], ["kal", "kl"], ["kan", "kn"], ["kas", "ks"], ["kat", "ka"], ["kau", "kr"], ["kaz", "kk"], ["khm", "km"], ["kik", "ki"], ["kin", "rw"], ["kir", "ky"], ["kom", "kv"], ["kon", "kg"], ["kor", "ko"], ["kua", "kj"], ["kur", "ku"], ["lao", "lo"], ["lat", "la"], ["lav", "lv"], ["lim", "li"], ["lin", "ln"], ["lit", "lt"], ["ltz", "lb"], ["lub", "lu"], ["lug", "lg"], ["mac", "mk"], ["mah", "mh"], ["mal", "ml"], ["mao", "mi"], ["mar", "mr"], ["may", "ms"], ["mkd", "mk"], ["mlg", "mg"], ["mlt", "mt"], ["mon", "mn"], ["mri", "mi"], ["msa", "ms"], ["mya", "my"], ["nau", "na"], ["nav", "nv"], ["nbl", "nr"], ["nde", "nd"], ["ndo", "ng"], ["nep", "ne"], ["nld", "nl"], ["nno", "nn"], ["nob", "nb"], ["nor", "no"], ["nya", "ny"], ["oci", "oc"], ["oji", "oj"], ["ori", "or"], ["orm", "om"], ["oss", "os"], ["pan", "pa"], ["per", "fa"], ["pli", "pi"], ["pol", "pl"], ["por", "pt"], ["pus", "ps"], ["que", "qu"], ["roh", "rm"], ["ron", "ro"], ["rum", "ro"], ["run", "rn"], ["rus", "ru"], ["sag", "sg"], ["san", "sa"], ["sin", "si"], ["slk", "sk"], ["slo", "sk"], ["slv", "sl"], ["sme", "se"], ["smo", "sm"], ["sna", "sn"], ["snd", "sd"], ["som", "so"], ["sot", "st"], ["spa", "es"], ["sqi", "sq"], ["srd", "sc"], ["srp", "sr"], ["ssw", "ss"], ["sun", "su"], ["swa", "sw"], ["swe", "sv"], ["tah", "ty"], ["tam", "ta"], ["tat", "tt"], ["tel", "te"], ["tgk", "tg"], ["tgl", "tl"], ["tha", "th"], ["tib", "bo"], ["tir", "ti"], ["ton", "to"], ["tsn", "tn"], ["tso", "ts"], ["tuk", "tk"], ["tur", "tr"], ["twi", "tw"], ["uig", "ug"], ["ukr", "uk"], ["urd", "ur"], ["uzb", "uz"], ["ven", "ve"], ["vie", "vi"], ["vol", "vo"], ["wel", "cy"], ["wln", "wa"], ["wol", "wo"], ["xho", "xh"], ["yid", "yi"], ["yor", "yo"], ["zha", "za"], ["zho", "zh"], ["zul", "zu"]]);
        function un(e) {
            h.call(this),
            this.j = en(e),
            this.i = new Map,
            this.g = new Set,
            this.h = new Map
        }
        function ln(n) {
            for (var e = n.h, t = n.j, i = n.g, a = new Set, r = Ze(i), o = r.next(), s = {}; !o.done; s = {
                Vd: void 0
            },
            o = r.next()) {
                s.Vd = o.value,
                a.add(s.Vd),
                a.add(an(s.Vd)),
                (o = ne(e.keys(), function(t) {
                    return function(e) {
                        return tn(e, t.Vd)
                    }
                }(s))).sort();
                for (var u = (o = Ze(o)).next(); !u.done; u = o.next())
                    a.add(u.value);
                for ((s = ne(e.keys(), function(t) {
                    return function(e) {
                        return an(e) == t.Vd
                    }
                }(s))).sort(),
                o = (s = Ze(s)).next(); !o.done; o = s.next())
                    a.add(o.value)
            }
            for (a.add(t),
            t = [],
            r = (a = Ze(a)).next(); !r.done; r = a.next())
                (r = e.get(r.value)) && t.push(r);
            for (t.reverse(),
            n.i.clear(),
            a = (e = Ze(t)).next(); !a.done; a = e.next())
                a.value.forEach(function(e, t) {
                    n.i.set(t, e)
                });
            for (e = n.i.keys(),
            a = new Set,
            r = (t = Ze(n.g)).next(); !r.done; r = t.next()) {
                r = n.h.get(r.value) || new Map;
                {
                    l = void 0;
                    c = void 0;
                    d = void 0;
                    h = void 0;
                    var l = r;
                    var c = e;
                    var d = a;
                    for (var h = (c = Ze(c)).next(); !h.done; h = c.next())
                        h = h.value,
                        l.get(h) || d.add(h)
                }
            }
            0 < a.size && (i = (new Map).set("locales", Array.from(i)).set("missing", Array.from(a)),
            n.dispatchEvent(new Xe("missing-localizations",i)))
        }
        n(un, h),
        (t = un.prototype).release = function() {
            h.prototype.release.call(this)
        }
        ,
        t.yh = function(e) {
            var t = this;
            this.g.clear();
            for (var n = (e = Ze(e)).next(); !n.done; n = e.next())
                this.g.add(en(n.value));
            ln(this),
            (e = ne(this.g, function(e) {
                return !t.h.has(e)
            })).length && this.dispatchEvent(new Xe("unknown-locales",(new Map).set("locales", e))),
            e = ne(this.g, function(e) {
                return t.h.has(e)
            }),
            e = (new Map).set("locales", e.length ? e : [this.j]),
            this.dispatchEvent(new Xe("locale-changed",e))
        }
        ,
        t.Qa = function(e, t, n) {
            e = en(e),
            void 0 === n && (n = cn);
            var i = this.h.get(e) || new Map;
            return t.forEach(function(e, t) {
                i.has(t) && n != cn || i.set(t, e)
            }),
            this.h.set(e, i),
            ln(this),
            this.dispatchEvent(new Xe("locale-updated")),
            this
        }
        ,
        t.Ak = function(e) {
            for (var t = Ze(e.keys()), n = t.next(); !n.done; n = t.next())
                n = n.value,
                e.set(n, this.resolve(n))
        }
        ,
        t.resolve = function(e) {
            var t = this.i.get(e);
            return t || (e = (new Map).set("locales", Array.from(this.g)).set("missing", e),
            this.dispatchEvent(new Xe("unknown-localization",e)),
            "")
        }
        ,
        t.lj = function() {
            return this.g
        }
        ,
        i("shaka.ui.Localization", un),
        un.prototype.getCurrentLocales = un.prototype.lj,
        un.prototype.resolveDictionary = un.prototype.Ak,
        un.prototype.insert = un.prototype.Qa,
        un.prototype.changeLocale = un.prototype.yh;
        var cn = 1;
        function dn(e) {
            this.g = Math.exp(Math.log(.5) / e),
            this.i = this.h = 0
        }
        function hn(e) {
            return e.h / (1 - Math.pow(e.g, e.i))
        }
        function fn() {
            this.h = new dn(2),
            this.j = new dn(5),
            this.g = 0,
            this.i = 128e3,
            this.l = 16e3
        }
        function pn() {
            this.g = new ee
        }
        function gn(e, t, n, i) {
            this.target = e,
            this.type = t,
            this.listener = n,
            this.g = function(e, t) {
                if (null == t)
                    return !1;
                if ("boolean" == typeof t)
                    return t;
                var n = new Set(["passive", "capture"]);
                return Object.keys(t).filter(function(e) {
                    return !n.has(e)
                }),
                function(e) {
                    var t = mn;
                    if (null == t) {
                        t = !1;
                        try {
                            var n = {}
                              , i = {
                                get: function() {
                                    return !(t = !0)
                                }
                            };
                            Object.defineProperty(n, "passive", i),
                            Object.defineProperty(n, "capture", i),
                            i = function() {}
                            ,
                            e.addEventListener("test", i, n),
                            e.removeEventListener("test", i, n)
                        } catch (e) {
                            t = !1
                        }
                        mn = t
                    }
                    return t
                }(e) ? t : t.capture || !1
            }(e, i),
            this.target.addEventListener(t, n, this.g)
        }
        un.ConflictResolution = {
            USE_OLD: 0,
            USE_NEW: cn
        },
        un.UNKNOWN_LOCALES = "unknown-locales",
        un.UNKNOWN_LOCALIZATION = "unknown-localization",
        un.MISSING_LOCALIZATIONS = "missing-localizations",
        un.LOCALE_CHANGED = "locale-changed",
        un.LOCALE_UPDATED = "locale-updated",
        dn.prototype.sample = function(e, t) {
            var n = Math.pow(this.g, e);
            t = t * (1 - n) + n * this.h,
            isNaN(t) || (this.h = t,
            this.i += e)
        }
        ,
        fn.prototype.configure = function(e) {
            this.i = e.minTotalBytes,
            this.l = e.minBytes,
            this.h.g = Math.exp(Math.log(.5) / e.fastHalfLife),
            this.j.g = Math.exp(Math.log(.5) / e.slowHalfLife)
        }
        ,
        fn.prototype.sample = function(e, t) {
            var n;
            t < this.l || (n = 8e3 * t / e,
            e /= 1e3,
            this.g += t,
            this.h.sample(e, n),
            this.j.sample(e, n))
        }
        ,
        fn.prototype.getBandwidthEstimate = function(e) {
            return this.g < this.i ? e : Math.min(hn(this.h), hn(this.j))
        }
        ,
        (t = pn.prototype).release = function() {
            this.cb(),
            this.g = null
        }
        ,
        t.o = function(e, t, n, i) {
            this.g && (e = new gn(e,t,n,i),
            this.g.push(t, e))
        }
        ,
        t.oa = function(n, i, a, e) {
            var r = this;
            this.o(n, i, function e(t) {
                r.Ma(n, i, e),
                a(t)
            }, e)
        }
        ,
        t.Ma = function(e, t, n) {
            if (this.g)
                for (var i = this.g.get(t) || [], a = (i = Ze(i)).next(); !a.done; a = i.next())
                    (a = a.value).target != e || n != a.listener && n || (a.Ma(),
                    this.g.remove(t, a))
        }
        ,
        t.cb = function() {
            if (this.g) {
                var e, t = this.g, n = [];
                for (e in t.g)
                    n.push.apply(n, et(t.g[e]));
                for (n = (t = Ze(n)).next(); !n.done; n = t.next())
                    n.value.Ma();
                this.g.g = {}
            }
        }
        ,
        i("shaka.util.EventManager", pn),
        pn.prototype.removeAll = pn.prototype.cb,
        pn.prototype.unlisten = pn.prototype.Ma,
        pn.prototype.listenOnce = pn.prototype.oa,
        pn.prototype.listen = pn.prototype.o,
        gn.prototype.Ma = function() {
            this.target.removeEventListener(this.type, this.listener, this.g),
            this.listener = this.target = null,
            this.g = !1
        }
        ;
        var mn = void 0;
        function vn(e) {
            if (bn.has(e))
                return bn.get(e);
            var t = U.ManagedMediaSource || U.MediaSource;
            return !!t && (t = t.isTypeSupported(e),
            bn.set(e, t),
            t)
        }
        function yn() {
            var e = U.ManagedSourceBuffer || U.SourceBuffer;
            return !!e && !!e.prototype && !!e.prototype.changeType
        }
        var bn = new Map;
        function Tn(e, t) {
            this.g = e,
            this.h = t
        }
        function wn(e, t) {
            var n = new Tn(5,0)
              , i = An
              , a = i.g
              , r = n.h - a.h;
            (0 < (n.g - a.g || r) ? i.i : i.h)(i.g, n, e, t)
        }
        function Sn(e, t, n, i) {
            Q([n, "has been deprecated and will be removed in", t, ". We are currently at version", e, ". Additional information:", i].join(" "))
        }
        function En(e, t, n, i) {
            Y([n, "has been deprecated and has been removed in", t, ". We are now at version", e, ". Additional information:", i].join(" "))
        }
        Tn.prototype.toString = function() {
            return "v" + this.g + "." + this.h
        }
        ;
        var An = null;
        function xn() {}
        function In() {}
        function kn() {}
        function Cn(e) {
            this.l = new In,
            (e = Mn[e.toLowerCase()]) && (this.l = e()),
            this.h = new xn,
            (e = Ln) && (this.h = e())
        }
        xn.prototype.extract = function() {}
        ,
        xn.prototype.decode = function() {
            return []
        }
        ,
        xn.prototype.clear = function() {}
        ,
        xn.prototype.getStreams = function() {
            return []
        }
        ,
        In.prototype.init = function() {}
        ,
        In.prototype.parse = function() {
            return []
        }
        ,
        kn.prototype.init = function() {}
        ,
        kn.prototype.i = function() {}
        ,
        kn.prototype.g = function() {}
        ,
        kn.prototype.j = function() {}
        ,
        i("shaka.media.IClosedCaptionParser", kn),
        Cn.prototype.init = function(e, t) {
            void 0 !== t && t || this.g(),
            this.l.init(e)
        }
        ,
        Cn.prototype.i = function(e) {
            for (var t = (e = Ze(e = this.l.parse(e))).next(); !t.done; t = e.next()) {
                var n = tt((t = t.value).packet);
                0 < n.length && this.h.extract(n, t.pts)
            }
            return this.h.decode()
        }
        ,
        Cn.prototype.g = function() {
            this.h.clear()
        }
        ,
        Cn.prototype.j = function() {
            return this.h.getStreams()
        }
        ,
        i("shaka.media.ClosedCaptionParser", Cn),
        Cn.findDecoder = function() {
            return Ln
        }
        ,
        Cn.unregisterDecoder = function() {
            Ln = null
        }
        ,
        Cn.registerDecoder = function(e) {
            Ln = e
        }
        ,
        Cn.findParser = function(e) {
            return Mn[e]
        }
        ,
        Cn.unregisterParser = function(e) {
            delete Mn[e]
        }
        ,
        Cn.registerParser = function(e, t) {
            Mn[e] = t
        }
        ;
        var Mn = {}
          , Ln = null;
        function Rn() {
            this.id = "",
            this.regionAnchorY = this.regionAnchorX = this.viewportAnchorY = this.viewportAnchorX = 0,
            this.height = this.width = 100,
            this.viewportAnchorUnits = this.widthUnits = this.heightUnits = Pn,
            this.scroll = Dn
        }
        i("shaka.text.CueRegion", Rn);
        var Pn = 1
          , Dn = (Rn.units = {
            PX: 0,
            PERCENTAGE: Pn,
            LINES: 2
        },
        "");
        function Nn(e, t) {
            return !("number" != typeof e || "number" != typeof t || !isNaN(e) || !isNaN(t)) || e === t
        }
        function _n(e, t) {
            -1 < (t = e.indexOf(t)) && e.splice(t, 1)
        }
        function On(e, t, n) {
            if (n = n || Nn,
            e.length != t.length)
                return !1;
            t = t.slice();
            for (var i = (e = Ze(e)).next(), a = {}; !i.done; a = {
                Vh: void 0
            },
            i = e.next()) {
                if (a.Vh = i.value,
                -1 == (i = t.findIndex(function(t) {
                    return function(e) {
                        return n(t.Vh, e)
                    }
                }(a))))
                    return !1;
                t[i] = t[t.length - 1],
                t.pop()
            }
            return 0 == t.length
        }
        function Un(e, t, n) {
            if (n = n || Nn,
            e.length != t.length)
                return !1;
            for (var i = 0; i < e.length; i++)
                if (!n(e[i], t[i]))
                    return !1;
            return !0
        }
        function jn(e) {
            this.h = e || "",
            this.g = 0
        }
        function Fn(e) {
            Bn(e, /[ \t]+/gm)
        }
        function Bn(e, t) {
            return t.lastIndex = e.g,
            t = null == (t = t.exec(e.h)) ? null : {
                position: t.index,
                length: t[0].length,
                results: t
            },
            e.g == e.h.length || null == t || t.position != e.g ? null : (e.g += t.length,
            t.results)
        }
        function Gn(e) {
            return e.g != e.h.length && (e = Bn(e, /[^ \t\n]*/gm)) ? e[0] : null
        }
        function Vn(e) {
            if (null == (e = Bn(e, Kn)))
                return null;
            var t = Number(e[2])
              , n = Number(e[3]);
            return 59 < t || 59 < n ? null : (Number(e[6]) || 0) / 1e3 + n + 60 * t + 3600 * (Number(e[1]) || 0)
        }
        function Hn(e) {
            return e ? Vn(new jn(e)) : null
        }
        Rn.scrollMode = {
            NONE: Dn,
            UP: "up"
        };
        var Kn = /(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;
        function zn(e) {
            var r = new WeakSet;
            return function e(t) {
                switch (typeof t) {
                case "undefined":
                case "boolean":
                case "number":
                case "string":
                case "symbol":
                case "function":
                    return t;
                default:
                    if (!t || ArrayBuffer.isView(t))
                        return t;
                    if (r.has(t))
                        return null;
                    var n = t.constructor == Array;
                    if (t.constructor != Object && !n)
                        return null;
                    r.add(t);
                    var i, a = n ? [] : {};
                    for (i in t)
                        a[i] = e(t[i]);
                    return n && (a.length = t.length),
                    a
                }
            }(e)
        }
        function Xn(e) {
            var t, n = {};
            for (t in e)
                n[t] = e[t];
            return n
        }
        function Wn(e, t) {
            var n = void 0 !== n && n;
            return Yn(e = Ct(e), t, n)
        }
        function Yn(e, t, n) {
            function h() {
                for (var e = g; -1 === "\r\n\t>/= ".indexOf(f[g]) && f[g]; )
                    g++;
                return f.slice(e, g)
            }
            var f, p, g;
            return f = e,
            p = void 0 !== n && n,
            g = 0,
            e = function e(t, n) {
                n = void 0 !== n && n;
                for (var i = []; f[g]; )
                    if (60 == f.charCodeAt(g)) {
                        if (47 === f.charCodeAt(g + 1)) {
                            var a;
                            if (n = g + 2,
                            g = f.indexOf(">", g),
                            -1 == (s = -1 == (s = (n = f.substring(n, g)).indexOf(t)) && 0 < (a = t.indexOf(".")) ? n.indexOf(t.substring(0, a)) : s))
                                throw t = f.substring(0, g).split("\n"),
                                Error("Unexpected close tag\nLine: " + (t.length - 1) + "\nColumn: " + (t[t.length - 1].length + 1) + "\nChar: " + f[g]);
                            g + 1 && (g += 1);
                            break
                        }
                        if (33 === f.charCodeAt(g + 1)) {
                            if (45 == f.charCodeAt(g + 2)) {
                                for (; -1 !== g && (62 !== f.charCodeAt(g) || 45 != f.charCodeAt(g - 1) || 45 != f.charCodeAt(g - 2) || -1 == g); )
                                    g = f.indexOf(">", g + 1);
                                -1 === g && (g = f.length)
                            } else if (91 === f.charCodeAt(g + 2) && 91 === f.charCodeAt(g + 8) && "cdata" === f.substr(g + 3, 5).toLowerCase()) {
                                s = f.indexOf("]]>", g),
                                g = -1 == s ? (i.push(f.substr(g + 9)),
                                f.length) : (i.push(f.substring(g + 9, s)),
                                s + 3);
                                continue
                            }
                            g++;
                            continue
                        }
                        e: {
                            a = n,
                            g++;
                            for (var r = h(), o = {}, s = []; 62 !== f.charCodeAt(g) && f[g]; ) {
                                if (64 < (u = f.charCodeAt(g)) && u < 91 || 96 < u && u < 123) {
                                    for (var u = h(), l = f.charCodeAt(g); l && 39 !== l && 34 !== l && !(64 < l && l < 91 || 96 < l && l < 123) && 62 !== l; )
                                        g++,
                                        l = f.charCodeAt(g);
                                    var c, d = g + 1;
                                    if (g = f.indexOf(f[g], d),
                                    d = f.slice(d, g),
                                    39 === l || 34 === l) {
                                        if (-1 === g) {
                                            if (a = {
                                                tagName: r,
                                                attributes: o,
                                                children: s,
                                                parent: null
                                            },
                                            p)
                                                for (r = 0; r < s.length; r++)
                                                    "string" != typeof s[r] && (s[r].parent = a);
                                            s = a;
                                            break e
                                        }
                                    } else
                                        d = null,
                                        g--;
                                    u.startsWith("xmlns:") && (l = d,
                                    c = u.split(":")[1],
                                    wi.set(l, c),
                                    Si.set(c, l)),
                                    "tt" === r && "xml:space" === u && "preserve" === d && (a = !0),
                                    o[u] = d
                                }
                                g++
                            }
                            for (47 !== f.charCodeAt(g - 1) ? (g++,
                            s = e(r, a)) : g++,
                            a = {
                                tagName: r,
                                attributes: o,
                                children: s,
                                parent: null
                            },
                            r = s.length,
                            o = 0; o < r; o++)
                                "string" != typeof (u = s[o]) ? p && (u.parent = a) : o == r - 1 && "\n" == u && s.pop();
                            s = a
                        }
                        if (i.push(s),
                        "string" == typeof s)
                            break;
                        "?" === s.tagName[0] && s.children && (i.push.apply(i, et(s.children)),
                        s.children = [])
                    } else
                        s = g,
                        -2 == (g = f.indexOf("<", g) - 1) && (g = f.length),
                        s = f.slice(s, g + 1),
                        n ? 0 < s.length && i.push(s) : (i.length && 1 == s.length && "\n" == s[0] || 0 < s.trim().length) && i.push(s),
                        g++;
                return i
            }(""),
            !t && e.length ? e[0] : (e = e.find(function(e) {
                return t.split(",").includes(e.tagName)
            })) ? e : null
        }
        function qn(e) {
            return wi.has(e) ? wi.get(e) : ""
        }
        function Jn(e) {
            return "string" == typeof e
        }
        function Qn(e) {
            var t = [];
            if (!e.children)
                return [];
            for (var n = (e = Ze(e.children)).next(); !n.done; n = e.next())
                "string" != typeof (n = n.value) && t.push(n);
            return t
        }
        function $n(e, t) {
            var n = [];
            if (!e.children)
                return [];
            for (var i = (e = Ze(e.children)).next(); !i.done; i = e.next())
                (i = i.value).tagName === t && n.push(i);
            return n
        }
        function Zn(e) {
            return "string" != typeof e && "" === (e = e.children.reduce(function(e, t) {
                return "string" == typeof t ? e + t : e
            }, "")) ? null : Pt(e)
        }
        function ei(e) {
            return Array.from(e.children).every(function(e) {
                return "string" == typeof e
            }) ? (e = Zn(e)) ? e.trim() : e : null
        }
        function ti(e, t, n) {
            if (n = void 0 === n ? [] : n,
            e.tagName === t && n.push(e),
            e.children)
                for (var i = (e = Ze(e.children)).next(); !i.done; i = e.next())
                    ti(i.value, t, n);
            return n
        }
        function ni(e, t) {
            return 1 != (e = $n(e, t)).length ? null : e[0]
        }
        function ii(e, t, n) {
            return 1 != (e = ri(e, t, n)).length ? null : e[0]
        }
        function $(e, t, n, i) {
            i = void 0 === i ? null : i;
            var a = null;
            return null == (a = null != (e = e.attributes[t]) ? n(e) : a) ? i : a
        }
        function ai(e, t, n) {
            return t = qn(t),
            e.attributes[t + ":" + n] || null
        }
        function ri(e, t, n) {
            t = qn(t);
            var i = [];
            if (e.children)
                for (var a = (e = Ze(e.children)).next(); !a.done; a = e.next())
                    (a = a.value) && a.tagName === t + ":" + n && i.push(a);
            return i
        }
        function oi(e, t, n) {
            for (var i = (t = Ze(t)).next(); !i.done; i = t.next())
                if (i = ai(e, i.value, n))
                    return i;
            return null
        }
        function si(e) {
            return e ? (/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e) && (e += "Z"),
            e = Date.parse(e),
            isNaN(e) ? null : e / 1e3) : null
        }
        function ui(e) {
            return (e = e && RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e)) ? (e = 31536e3 * Number(e[1] || null) + 2592e3 * Number(e[2] || null) + 86400 * Number(e[3] || null) + 3600 * Number(e[4] || null) + 60 * Number(e[5] || null) + Number(e[6] || null),
            isFinite(e) ? e : null) : null
        }
        function li(e) {
            var t = /([0-9]+)-([0-9]+)/.exec(e);
            return t ? (e = Number(t[1]),
            isFinite(e) ? (t = Number(t[2]),
            isFinite(t) ? {
                start: e,
                end: t
            } : null) : null) : null
        }
        function ci(e) {
            return 0 == (e = Number(e)) % 1 ? e : null
        }
        function di(e) {
            return 0 == (e = Number(e)) % 1 && 0 < e ? e : null
        }
        function hi(e) {
            return 0 == (e = Number(e)) % 1 && 0 <= e ? e : null
        }
        function fi(e) {
            return e = Number(e),
            isNaN(e) ? null : e
        }
        function pi(e) {
            return !!e && "true" === e.toLowerCase()
        }
        function gi(e) {
            var t = (t = e.match(/^(\d+)\/(\d+)$/)) ? Number(t[1]) / Number(t[2]) : Number(e);
            return isNaN(t) ? null : t
        }
        function mi(e) {
            for (var t = [], n = (e = Ze(e = Pt(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next(); !n.done; n = e.next()) {
                var i, a, r, o, s = (n = n.value).match(/^([\w]+)/);
                s ? (i = n.match(/(@id='(.*?)')/),
                a = n.match(/(@t='(\d+)')/),
                r = n.match(/(@n='(\d+)')/),
                o = n.match(/\[(\d+)\]/),
                t.push({
                    name: s[0],
                    id: i ? i[0].match(/'(.*?)'/)[0].replace(/'/gm, "") : null,
                    t: a ? Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm, "")) : null,
                    n: r ? Number(r[0].match(/'(.*?)'/)[0].replace(/'/gm, "")) : null,
                    position: o ? Number(o[1]) - 1 : null,
                    qc: n.split("/@")[1] || null
                })) : n.startsWith("@") && t.length && (t[t.length - 1].qc = n.slice(1))
            }
            return t
        }
        function vi(e, t) {
            var n, i, a = mi(t.attributes.sel || "");
            a.length && (n = a[a.length - 1],
            i = t.attributes.pos || null,
            null == (a = n.position) && (null !== n.t && (a = yi(e, "t", n.t)),
            null !== n.n && (a = yi(e, "n", n.n))),
            null === a ? a = "prepend" === i ? 0 : e.length : "prepend" === i ? --a : "after" === i && ++a,
            i = t.tagName,
            (n = n.qc) && e[a] ? bi(e[a], i, n, ei(t) || "") : ("remove" !== i && "replace" !== i || e.splice(a, 1),
            "add" !== i && "replace" !== i || e.splice.apply(e, [a, 0].concat(et(t.children)))))
        }
        function yi(e, t, n) {
            for (var i = 0, a = (e = Ze(e)).next(); !a.done; a = e.next()) {
                if (Number(a.value.attributes[t]) === n)
                    return i;
                i++
            }
            return null
        }
        function bi(e, t, n, i) {
            "remove" === t ? delete e.attributes[n] : "add" !== t && "replace" !== t || (e.attributes[n] = i)
        }
        function Ti(e) {
            if (!e)
                return null;
            for (var t = {
                tagName: e.tagName,
                attributes: Xn(e.attributes),
                children: [],
                parent: null
            }, n = (e = Ze(e.children)).next(); !n.done; n = e.next())
                "string" != typeof (n = n.value) && ((n = Ti(n)).parent = t),
                t.children.push(n);
            return t
        }
        var wi = new Map
          , Si = new Map;
        function Ei(e, t, n) {
            this.startTime = e,
            this.endTime = t,
            this.payload = n,
            this.region = new Rn,
            this.position = null,
            this.positionAlign = Mi,
            this.size = 0,
            this.textAlign = Li,
            this.direction = Ni,
            this.writingMode = _i,
            this.lineInterpretation = Oi,
            this.line = null,
            this.lineHeight = "",
            this.lineAlign = Ui,
            this.displayAlign = Pi,
            this.fontSize = this.border = this.backgroundImage = this.backgroundColor = this.color = "",
            this.fontWeight = Gi,
            this.fontStyle = Hi,
            this.linePadding = this.letterSpacing = this.fontFamily = "",
            this.opacity = 1,
            this.textCombineUpright = "",
            this.textDecoration = [],
            this.textStrokeWidth = this.textStrokeColor = this.textShadow = "",
            this.wrapLine = !0,
            this.id = "",
            this.nestedCues = [],
            this.lineBreak = this.isContainer = !1,
            this.rubyTag = null,
            this.cellResolution = {
                Hc: 32,
                rows: 15
            }
        }
        function Ai(e, t) {
            return (e = new Ei(e,t,"")).lineBreak = !0,
            e
        }
        function xi(e, t) {
            if (e.startTime != t.startTime || e.endTime != t.endTime || e.payload != t.payload)
                return !1;
            for (var n in e)
                if ("startTime" != n && "endTime" != n && "payload" != n)
                    if ("nestedCues" == n) {
                        if (!Un(e.nestedCues, t.nestedCues, xi))
                            return !1
                    } else if ("region" == n || "cellResolution" == n) {
                        for (var i in e[n])
                            if (e[n][i] != t[n][i])
                                return !1
                    } else if (Array.isArray(e[n])) {
                        if (!Un(e[n], t[n]))
                            return !1
                    } else if (e[n] != t[n])
                        return !1;
            return !0
        }
        function Ii(e, t) {
            var n, i, a, r;
            if (t = void 0 === t ? new Map : t,
            (c = e.payload).includes("<")) {
                0 === t.size && ki(t);
                var o = c;
                c = [];
                for (var s = -1, u = 0; u < o.length; u++)
                    "<" === o[u] ? s = u + 1 : ">" === o[u] && 0 < s && ((s = o.substr(s, u - s)).match(Wi) && c.push(s),
                    s = -1);
                for (u = (c = Ze(c)).next(); !u.done; u = c.next())
                    u = u.value,
                    o = o.replace("<" + u + ">", '<div time="' + u + '">'),
                    o += "</div>";
                e: {
                    var u = o
                      , s = []
                      , l = -1
                      , c = "";
                    o = !1;
                    for (var d = 0; d < u.length; d++)
                        if ("/" === u[d]) {
                            var h = u.indexOf(">", d);
                            if (-1 === h) {
                                c = u;
                                break e
                            }
                            if ((h = u.substring(d + 1, h)) && "v" == h) {
                                var o = !0
                                  , f = null;
                                if (f = s.length ? s[s.length - 1] : f) {
                                    if (f === h)
                                        c += "/" + h + ">";
                                    else {
                                        if (!f.startsWith("v")) {
                                            c += u[d];
                                            continue
                                        }
                                        c += "/" + f + ">"
                                    }
                                    d += h.length + 1
                                } else
                                    c += u[d]
                            } else
                                c += u[d]
                        } else
                            "<" === u[d] ? "v" != u[l = d + 1] && (l = -1) : ">" === u[d] && 0 < l && (s.push(u.substr(l, d - l)),
                            l = -1),
                            c += u[d];
                    for (s = (u = Ze(s)).next(); !s.done; s = u.next())
                        l = (s = s.value).replace(" ", ".voice-"),
                        c = (c = c.replace("<" + s + ">", "<" + l + ">")).replace("</" + s + ">", "</" + l + ">"),
                        o || (c += "</" + l + ">")
                }
                n = c,
                i = {
                    "< ": "",
                    " >": " &gt;"
                },
                a = /(< +>|<\s|\s>)/g,
                r = RegExp(a.source),
                c = n && r.test(n) ? n.replace(a, function(e) {
                    return i[e] || ""
                }) : n || "",
                e.payload = "";
                try {
                    var p = Yn("<span>" + c + "</span>", "span")
                } catch (e) {}
                if (p)
                    if (1 != (p = p.children).length || p[0].tagName)
                        for (c = (p = Ze(p)).next(); !c.done; c = p.next())
                            !function e(t, n, i) {
                                var a = n.clone();
                                a.nestedCues = [];
                                a.payload = "";
                                a.rubyTag = "";
                                a.line = null;
                                a.region = new Rn;
                                a.position = null;
                                a.size = 0;
                                a.textAlign = Li;
                                if (t.tagName)
                                    for (var r = Ze(t.tagName.split(/(?=[ .])+/g)), o = r.next(); !o.done; o = r.next()) {
                                        var s, u = o = o.value;
                                        switch (u.startsWith(".voice-") && (u = 'v[voice="' + (s = u.split("-").pop()) + '"]',
                                        i.has(u) || (u = "v[voice=" + s + "]")),
                                        i.has(u) && (s = a,
                                        u = i.get(u)) && (s.backgroundColor = Ci(u.backgroundColor, s.backgroundColor),
                                        s.color = Ci(u.color, s.color),
                                        s.fontFamily = Ci(u.fontFamily, s.fontFamily),
                                        s.fontSize = Ci(u.fontSize, s.fontSize),
                                        s.textShadow = Ci(u.textShadow, s.textShadow),
                                        s.fontWeight = u.fontWeight,
                                        s.fontStyle = u.fontStyle,
                                        s.opacity = u.opacity,
                                        s.rubyTag = u.rubyTag,
                                        s.textCombineUpright = u.textCombineUpright,
                                        s.wrapLine = u.wrapLine),
                                        o) {
                                        case "br":
                                            return a = Ai(a.startTime, a.endTime),
                                            void n.nestedCues.push(a);
                                        case "b":
                                            a.fontWeight = Vi;
                                            break;
                                        case "i":
                                            a.fontStyle = Ki;
                                            break;
                                        case "u":
                                            a.textDecoration.push(Xi);
                                            break;
                                        case "font":
                                            (o = t.attributes.color) && (a.color = o);
                                            break;
                                        case "div":
                                            if (!(o = t.attributes.time))
                                                break;
                                            (o = Hn(o)) && (a.startTime = o);
                                            break;
                                        case "ruby":
                                        case "rp":
                                        case "rt":
                                            a.rubyTag = o
                                        }
                                    }
                                r = t.children;
                                if (Jn(t) || 1 == r.length && Jn(r[0]))
                                    for (i = Zn(t).split("\n"),
                                    t = !0,
                                    i = Ze(i),
                                    r = i.next(); !r.done; r = i.next())
                                        r = r.value,
                                        t || (t = Ai(a.startTime, a.endTime),
                                        n.nestedCues.push(t)),
                                        0 < r.length && (t = a.clone(),
                                        t.payload = Pt(r),
                                        n.nestedCues.push(t)),
                                        t = !1;
                                else
                                    for (n.nestedCues.push(a),
                                    n = Ze(r),
                                    t = n.next(); !t.done; t = n.next())
                                        e(t.value, a, i)
                            }(c.value, e, t);
                    else
                        e.payload = Pt(c);
                else
                    e.payload = Pt(c)
            } else
                e.payload = Pt(c)
        }
        function ki(e) {
            for (var t = Ze(Object.entries(Fi)), n = t.next(); !n.done; n = t.next()) {
                var n = (i = Ze(n.value)).next().value
                  , i = i.next().value
                  , a = new Ei(0,0,"");
                a.color = i,
                e.set("." + n, a)
            }
            for (n = (t = Ze(Object.entries(Bi))).next(); !n.done; n = t.next())
                n = (i = Ze(n.value)).next().value,
                i = i.next().value,
                (a = new Ei(0,0,"")).backgroundColor = i,
                e.set("." + n, a)
        }
        function Ci(e, t) {
            return e && 0 < e.length ? e : t
        }
        Ei.prototype.clone = function() {
            var e, t = new Ei(0,0,"");
            for (e in this)
                t[e] = this[e],
                t[e] && t[e].constructor == Array && (t[e] = t[e].slice());
            return t
        }
        ,
        i("shaka.text.Cue", Ei),
        Ei.parseCuePayload = Ii,
        Ei.equal = xi;
        var Mi = "auto"
          , Li = (Ei.positionAlign = {
            LEFT: "line-left",
            RIGHT: "line-right",
            CENTER: "center",
            AUTO: Mi
        },
        "center")
          , Ri = {
            LEFT: "left",
            RIGHT: "right",
            CENTER: Li,
            START: "start",
            END: "end"
        }
          , Pi = (Ei.textAlign = Ri,
        "after")
          , Di = {
            BEFORE: "before",
            CENTER: "center",
            AFTER: Pi
        }
          , Ni = (Ei.displayAlign = Di,
        "ltr")
          , _i = (Ei.direction = {
            HORIZONTAL_LEFT_TO_RIGHT: Ni,
            HORIZONTAL_RIGHT_TO_LEFT: "rtl"
        },
        "horizontal-tb")
          , Oi = (Ei.writingMode = {
            HORIZONTAL_TOP_TO_BOTTOM: _i,
            VERTICAL_LEFT_TO_RIGHT: "vertical-lr",
            VERTICAL_RIGHT_TO_LEFT: "vertical-rl"
        },
        0)
          , Ui = (Ei.lineInterpretation = {
            LINE_NUMBER: Oi,
            PERCENTAGE: 1
        },
        "start")
          , ji = {
            CENTER: "center",
            START: Ui,
            END: "end"
        }
          , Fi = (Ei.lineAlign = ji,
        {
            white: "white",
            lime: "lime",
            cyan: "cyan",
            red: "red",
            yellow: "yellow",
            magenta: "magenta",
            blue: "blue",
            black: "black"
        })
          , Bi = (Ei.defaultTextColor = Fi,
        {
            bg_white: "white",
            bg_lime: "lime",
            bg_cyan: "cyan",
            bg_red: "red",
            bg_yellow: "yellow",
            bg_magenta: "magenta",
            bg_blue: "blue",
            bg_black: "black"
        })
          , Gi = (Ei.defaultTextBackgroundColor = Bi,
        400)
          , Vi = 700
          , Hi = (Ei.fontWeight = {
            NORMAL: Gi,
            BOLD: Vi
        },
        "normal")
          , Ki = "italic"
          , zi = {
            NORMAL: Hi,
            ITALIC: Ki,
            OBLIQUE: "oblique"
        }
          , Xi = (Ei.fontStyle = zi,
        "underline")
          , Wi = (Ei.textDecoration = {
            UNDERLINE: Xi,
            LINE_THROUGH: "lineThrough",
            OVERLINE: "overline"
        },
        /(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g);
        function Yi() {}
        function qi(e, t, n) {
            Qi[e.toLowerCase().split(";")[0] + "-" + n] = {
                priority: n,
                $e: t
            }
        }
        function Ji(e, t) {
            for (var n = e.toLowerCase().split(";")[0], i = Ze([ta, ea, Zi, $i]), a = i.next(); !a.done; a = i.next())
                if (a = Qi[n + "-" + a.value]) {
                    var r = a.$e()
                      , o = r.isSupported(e, t);
                    if (r.destroy(),
                    o)
                        return a.$e
                }
            return null
        }
        Yi.prototype.destroy = function() {}
        ,
        i("shaka.transmuxer.TransmuxerEngine", Yi),
        Yi.findTransmuxer = Ji,
        Yi.unregisterTransmuxer = function(e, t) {
            delete Qi[e.toLowerCase().split(";")[0] + "-" + t]
        }
        ,
        Yi.registerTransmuxer = qi;
        var Qi = {}
          , $i = 1
          , Zi = 2
          , ea = 3
          , ta = 4;
        function na() {}
        function ia(e, t) {
            var n = e;
            return t && !pa.includes(e) && (n += '; codecs="' + t + '"'),
            n
        }
        function aa(e, t) {
            return t && (e += '; codecs="' + t + '"'),
            e
        }
        function ra(e, t, n) {
            var i = ia(e, t);
            return Ji(t = aa(e, t)) ? (e = Ji(t)) ? (n = (e = e()).convertCodecs(n, t),
            e.destroy()) : n = t : n = "video/mp2t" != e && "audio" == n ? i.replace("video", "audio") : i,
            n
        }
        function oa(e) {
            return e.split(";")[0].split("/")[1]
        }
        function sa(e) {
            var t = ha(e);
            switch (e = t[0],
            t = t[1].toLowerCase(),
            !0) {
            case "mp4a" === e && "69" === t:
            case "mp4a" === e && "6b" === t:
            case "mp4a" === e && "40.34" === t:
                return "mp3";
            case "mp4a" === e && "66" === t:
            case "mp4a" === e && "67" === t:
            case "mp4a" === e && "68" === t:
            case "mp4a" === e && "40.2" === t:
            case "mp4a" === e && "40.02" === t:
            case "mp4a" === e && "40.5" === t:
            case "mp4a" === e && "40.05" === t:
            case "mp4a" === e && "40.29" === t:
            case "mp4a" === e && "40.42" === t:
                return "aac";
            case "mp4a" === e && "a5" === t:
                return "ac-3";
            case "mp4a" === e && "a6" === t:
                return "ec-3";
            case "mp4a" === e && "b2" === t:
                return "dtsx";
            case "mp4a" === e && "a9" === t:
                return "dtsc";
            case "vp09" === e:
                return "vp9";
            case "avc1" === e:
            case "avc3" === e:
                return "avc";
            case "hvc1" === e:
            case "hev1" === e:
                return "hevc";
            case "vvc1" === e:
            case "vvi1" === e:
                return "vvc";
            case "dvh1" === e:
            case "dvhe" === e:
                return t && t.startsWith("05") ? "dovi-p5" : "dovi-hevc";
            case "dvav" === e:
            case "dva1" === e:
                return "dovi-avc";
            case "dav1" === e:
                return "dovi-av1";
            case "dvc1" === e:
            case "dvi1" === e:
                return "dovi-vvc"
            }
            return e
        }
        function ua(e) {
            for (var t = [], n = (e = Ze(e.split(","))).next(); !n.done; n = e.next())
                n = ha(n.value),
                t.push(n[0]);
            return t.sort().join(",")
        }
        function la(e) {
            return e.split(";")[0]
        }
        function ca(e) {
            return (e = e.split(/ *; */)).shift(),
            (e = e.find(function(e) {
                return e.startsWith("codecs=")
            })) ? e.split("=")[1].replace(/^"|"$/g, "") : ""
        }
        function da(e) {
            return "application/x-mpegurl" === e || "application/vnd.apple.mpegurl" === e
        }
        function ha(e) {
            var t = (e = e.split("."))[0];
            return e.shift(),
            [t, e.join(".")]
        }
        Yi.PluginPriority = {
            FALLBACK: $i,
            PREFERRED_SECONDARY: Zi,
            PREFERRED: ea,
            APPLICATION: ta
        },
        i("shaka.util.MimeUtils", na),
        na.getFullTypeWithAllCodecs = aa,
        na.getFullType = ia;
        var fa = (new Map).set("codecs", "codecs").set("frameRate", "framerate").set("bandwidth", "bitrate").set("width", "width").set("height", "height").set("channelsCount", "channels")
          , pa = ["audio/aac", "audio/ac3", "audio/ec3", "audio/mpeg"];
        function ga(e) {
            this.i = null,
            this.j = e,
            this.C = !1,
            this.l = this.u = 0,
            this.m = 1 / 0,
            this.h = this.g = null,
            this.G = "",
            this.B = function() {}
            ,
            this.s = new Map
        }
        function ma(e) {
            return !!ba[e] || ("application/cea-608" == e || "application/cea-708" == e) && !!Ln
        }
        function va(e, t, n) {
            if (e.G = t,
            t = e.s.get(t))
                for (var i = Ze(t.keys()), a = i.next(); !a.done; a = i.next())
                    (a = t.get(a.value).filter(function(e) {
                        return e.endTime <= n
                    })) && e.j.append(a)
        }
        function ya(e, t, n, i, a) {
            for (var r = n + " " + i, o = new Map, s = (t = Ze(t)).next(); !s.done; s = t.next()) {
                var s = (u = s.value).stream
                  , u = u.cue;
                o.has(s) || o.set(s, new Map),
                o.get(s).has(r) || o.get(s).set(r, []),
                !function e(t, n, i) {
                    n.startTime += i,
                    n.endTime += i;
                    for (var a = (n = Ze(n.nestedCues)).next(); !a.done; a = n.next())
                        e(t, a.value, i)
                }(e, u, a),
                u.startTime >= e.l && u.startTime < e.m && (o.get(s).get(r).push(u),
                s == e.G && e.j.append([u]))
            }
            for (r = (a = Ze(o.keys())).next(); !r.done; r = a.next())
                for (r = r.value,
                e.s.has(r) || e.s.set(r, new Map),
                s = (t = Ze(o.get(r).keys())).next(); !s.done; s = t.next())
                    s = s.value,
                    u = o.get(r).get(s),
                    e.s.get(r).set(s, u);
            e.g = null == e.g ? Math.max(n, e.l) : Math.min(e.g, Math.max(n, e.l)),
            e.h = Math.max(e.h, Math.min(i, e.m))
        }
        ga.prototype.destroy = function() {
            return this.j = this.i = null,
            this.s.clear(),
            Promise.resolve()
        }
        ,
        ga.prototype.remove = function(t, n) {
            var i = this;
            return $e(function(e) {
                if (1 == e.g)
                    return We(e, Promise.resolve(), 2);
                !i.j || !i.j.remove(t, n) || null == i.g || n <= i.g || t >= i.h || (t <= i.g && n >= i.h ? i.g = i.h = null : t <= i.g && n < i.h ? i.g = n : t > i.g && n >= i.h && (i.h = t)),
                Ye(e)
            })
        }
        ,
        i("shaka.text.TextEngine", ga),
        ga.findParser = function(e) {
            return ba[e]
        }
        ,
        ga.unregisterParser = function(e) {
            delete ba[e]
        }
        ,
        ga.registerParser = function(e, t) {
            ba[e] = t
        }
        ;
        var ba = {};
        function Ta(e, t) {
            return e.concat(t)
        }
        function wa() {}
        function Sa(e) {
            return null != e
        }
        function Ea(n, e) {
            return Promise.race([e, new Promise(function(e, t) {
                new C(t).Y(n)
            }
            )])
        }
        function Aa() {}
        function xa(e, t, n, r, i) {
            if (i.length) {
                for (var a = e.textStreams, o = (i = Ze(i)).next(), s = {}; !o.done; s = {
                    jh: void 0
                },
                o = i.next())
                    if (s.jh = o.value,
                    (o = a.filter(function(t) {
                        return function(e) {
                            return !(!e.codecs.startsWith(t.jh) && !e.mimeType.startsWith(t.jh))
                        }
                    }(s))).length) {
                        a = o;
                        break
                    }
                e.textStreams = a
            }
            if (a = e.variants,
            (t.length || n.length) && (a = function(e, t, n) {
                for (var i = (t = Ze(t)).next(), a = {}; !i.done; a = {
                    Mi: void 0
                },
                i = t.next())
                    if (a.Mi = i.value,
                    (i = e.filter(function(t) {
                        return function(e) {
                            return e.video && e.video.codecs.startsWith(t.Mi)
                        }
                    }(a))).length) {
                        e = i;
                        break
                    }
                for (n = Ze(n),
                t = n.next(),
                i = {}; !t.done; i = {
                    uh: void 0
                },
                t = n.next())
                    if (i.uh = t.value,
                    (t = e.filter(function(t) {
                        return function(e) {
                            return e.audio && e.audio.codecs.startsWith(t.uh)
                        }
                    }(i))).length) {
                        e = t;
                        break
                    }
                return e
            }(a, t, n)),
            r.length) {
                for (t = new ee,
                a = (n = Ze(a)).next(); !a.done; a = n.next())
                    a = a.value,
                    t.push(String(a.video.width || 0), a);
                var u = [];
                t.forEach(function(e, t) {
                    e = 0;
                    for (var n = [], i = (t = Ze(t)).next(), a = {}; !i.done; a = {
                        wf: void 0
                    },
                    i = t.next())
                        a.wf = i.value,
                        e < (i = r.filter(function(t) {
                            return function(e) {
                                return t.wf.decodingInfos[0][e]
                            }
                        }(a)).length) ? (e = i,
                        n = [a.wf]) : i == e && n.push(a.wf);
                    u.push.apply(u, et(n))
                }),
                a = u
            }
            for (n = new Set,
            t = new Set,
            i = (a = Ze(a)).next(); !i.done; i = a.next())
                (i = i.value).audio && n.add(i.audio),
                i.video && t.add(i.video);
            var a = Array.from(n).sort(function(e, t) {
                return e.bandwidth - t.bandwidth
            })
              , l = [];
            for (n = new Map,
            i = (a = Ze(a)).next(); !i.done; i = a.next()) {
                var c, o = (i = i.value).language + (i.channelsCount || 0) + (i.audioSamplingRate || 0) + i.roles.join(",") + i.label + i.groupId + i.fastSwitching;
                (s = n.get(o) || []).length && (sa((c = s[s.length - 1]).codecs) != sa(i.codecs) || i.bandwidth && c.bandwidth && !(i.bandwidth > c.bandwidth)) || (s.push(i),
                l.push(i.id)),
                n.set(o, s)
            }
            var d = {
                vp8: 1,
                avc: 1,
                "dovi-avc": .95,
                vp9: .9,
                vp09: .9,
                hevc: .85,
                "dovi-hevc": .8,
                "dovi-p5": .75,
                av01: .7,
                "dovi-av1": .65,
                vvc: .6
            }
              , h = (a = Array.from(t).sort(function(e, t) {
                if (e.bandwidth && t.bandwidth && e.bandwidth != t.bandwidth)
                    return e.bandwidth - t.bandwidth;
                if (e.codecs && t.codecs && e.codecs != t.codecs && e.width == t.width) {
                    var n = sa(e.codecs)
                      , i = sa(t.codecs);
                    if (n != i)
                        return (d[n] || 1) - (d[i] || 1)
                }
                return e.width - t.width
            }),
            t = yn(),
            []);
            for (n = new Map,
            i = (a = Ze(a)).next(); !i.done; i = a.next()) {
                if (i = i.value,
                o = Math.round(i.frameRate || 0) + (i.hdr || "") + i.fastSwitching,
                (s = n.get(o) || []).length) {
                    if (c = s[s.length - 1],
                    !t && sa(c.codecs) !== sa(i.codecs))
                        continue;
                    i.width > c.width || i.height > c.height ? (s.push(i),
                    h.push(i.id)) : i.width == c.width && i.height == c.height && (sa(c.codecs) != sa(i.codecs) || i.bandwidth && c.bandwidth && !(i.bandwidth > c.bandwidth) || (s.push(i),
                    h.push(i.id)))
                } else
                    s.push(i),
                    h.push(i.id);
                n.set(o, s)
            }
            e.variants = e.variants.filter(function(e) {
                var t = e.audio;
                return e = e.video,
                !(t && !l.includes(t.id) || e && !h.includes(e.id))
            })
        }
        function Ia(e, t, n) {
            function i(e, t, n) {
                return t <= e && e <= n
            }
            var a = e.video;
            if (a && a.width && a.height) {
                var r = a.width
                  , o = a.height;
                if (r < o && (r = (o = Ze([o, r])).next().value,
                o = o.next().value),
                !i(r, t.minWidth, Math.min(t.maxWidth, n.width)) || !i(o, t.minHeight, Math.min(t.maxHeight, n.height)) || !i(a.width * a.height, t.minPixels, t.maxPixels))
                    return !1
            }
            return !(e && e.video && e.video.frameRate && !i(e.video.frameRate, t.minFrameRate, t.maxFrameRate) || e && e.audio && e.audio.channelsCount && !i(e.audio.channelsCount, t.minChannelsCount, t.maxChannelsCount) || !i(e.bandwidth, t.minBandwidth, t.maxBandwidth))
        }
        function ka(n, l, c, d) {
            return c = void 0 === c ? [] : c,
            d = void 0 === d ? {} : d,
            $e(function(e) {
                return 1 == e.g ? We(e, Ca(n, l, 0 < l.offlineSessionIds.length, c, d), 2) : (l.textStreams = l.textStreams.filter(function(e) {
                    return ma(e = ia(e.mimeType, e.codecs))
                }),
                We(e, (t = l,
                $e(function(e) {
                    switch (e.g) {
                    case 1:
                        i = [],
                        a = Ze(t.imageStreams),
                        r = a.next();
                    case 2:
                        if (r.done) {
                            e.A(4);
                            break
                        }
                        if (o = r.value,
                        "application/mp4" == (s = o.mimeType) && "mjpg" == o.codecs && (s = "image/jpg"),
                        qa.has(s)) {
                            e.A(5);
                            break
                        }
                        if (u = Ja.get(s))
                            return We(e, (n = u,
                            new Promise(function(e) {
                                var t = new Image;
                                t.src = n,
                                "decode"in t ? t.decode().then(function() {
                                    e(!0)
                                }).catch(function() {
                                    e(!1)
                                }) : t.onload = t.onerror = function() {
                                    e(2 === t.height)
                                }
                            }
                            )), 7);
                        qa.set(s, !1),
                        e.A(5);
                        break;
                    case 7:
                        u = e.h,
                        qa.set(s, u);
                    case 5:
                        qa.get(s) && i.push(o),
                        r = a.next(),
                        e.A(2);
                        break;
                    case 4:
                        t.imageStreams = i,
                        Ye(e)
                    }
                    var n
                })), 0));
                var t, i, a, r, o, s, u
            })
        }
        function Ca(o, s, u, l, c) {
            var d, h;
            return $e(function(e) {
                if (1 == e.g) {
                    if (_e()) {
                        var t = s.variants;
                        for (var n = {
                            dvav: "avc3",
                            dva1: "avc1",
                            dvhe: "hev1",
                            dvh1: "hvc1",
                            dvc1: "vvc1",
                            dvi1: "vvi1"
                        }, i = new Set, a = (t = Ze(t)).next(); !a.done; a = t.next())
                            (a = a.value).video && i.add(a.video);
                        for (i = Ze(i),
                        t = i.next(); !t.done; t = i.next()) {
                            t = t.value;
                            for (var r = (a = Ze(Object.keys(n))).next(); !r.done; r = a.next())
                                if (r = r.value,
                                t.codecs.includes(r)) {
                                    t.codecs = t.codecs.replace(r, n[r]);
                                    break
                                }
                        }
                    }
                    return We(e, La(s.variants, u, !1, l), 2)
                }
                d = null,
                o && (h = o.g) && (d = h.keySystem),
                s.variants = s.variants.filter(function(e) {
                    var t, n = function(e, t, n) {
                        if (!e.decodingInfos.some(function(e) {
                            return !(!e.supported || t && (e = e.keySystemAccess) && (n[e.keySystem] || e.keySystem) != t)
                        }))
                            return !1;
                        var i = _e()
                          , a = f("Firefox") && yt()
                          , r = e.video
                          , o = r && r.width || 0
                          , s = r && r.height || 0;
                        if (i && r && (1920 < o || 1080 < s) && (r.codecs.includes("avc1.") || r.codecs.includes("avc3.")))
                            return !1;
                        if (r) {
                            if (i = Da(r.codecs),
                            r.codecs.includes(",")) {
                                if (o = r.codecs.split(","),
                                i = Da(i = Kt("video", o)),
                                o = Pa(o = Kt("audio", o), r.mimeType),
                                !vn(s = ra(r.mimeType, o, "audio")))
                                    return !1;
                                i = [i, o].join()
                            }
                            if (r.codecs != i) {
                                if (!vn(o = ra(r.mimeType, i, "video")))
                                    return !1;
                                r.codecs = i
                            }
                        }
                        if (e = e.audio,
                        a && e && e.encrypted && e.codecs.toLowerCase().includes("opus"))
                            return !1;
                        if (e && (a = Pa(e.codecs, e.mimeType),
                        e.codecs != a)) {
                            if (!vn(r = ra(e.mimeType, a, "audio")))
                                return !1;
                            e.codecs = a
                        }
                        return !0
                    }(e, d, c);
                    return n || (t = [],
                    e.audio && t.push(Xa(e.audio)),
                    e.video && t.push(Xa(e.video))),
                    n
                }),
                Ye(e)
            })
        }
        function Ma(t, n) {
            var a, r, i, o, s, u, l;
            return $e(function(e) {
                if (1 == e.g) {
                    for (a = function(e, t) {
                        var n;
                        return e ? ((n = Xn(e)).supported = e.supported && t.supported,
                        n.powerEfficient = e.powerEfficient && t.powerEfficient,
                        n.smooth = e.smooth && t.smooth,
                        t.keySystemAccess && !n.keySystemAccess && (n.keySystemAccess = t.keySystemAccess),
                        n) : t
                    }
                    ,
                    r = null,
                    i = [],
                    o = Ze(n),
                    s = o.next(),
                    u = {}; !s.done; u = {
                        cache: void 0,
                        ue: void 0
                    },
                    s = o.next())
                        l = s.value,
                        u.ue = function e(t) {
                            if (Array.isArray(t)) {
                                for (var n = [], i = 0; i < t.length; i++) {
                                    var a = i.toString()
                                      , r = t[i];
                                    void 0 !== r && (r = e(r)) && n.push(a + ":" + r)
                                }
                                t = "[" + n.join(",") + "]"
                            } else if ("function" == typeof t)
                                t = "";
                            else if (t instanceof Object) {
                                for ((i = Object.keys(t)).sort(),
                                n = [],
                                a = (i = Ze(i)).next(); !a.done; a = i.next())
                                    r = a.value,
                                    a = JSON.stringify(r),
                                    void 0 !== (r = t[r]) && (r = e(r)) && n.push(a + ":" + r);
                                t = "{" + n.join(",") + "}"
                            } else
                                t = JSON.stringify(t);
                            return t
                        }(l),
                        u.cache = Wa,
                        u.cache[u.ue] ? r = a(r, u.cache[u.ue]) : i.push(function(e) {
                            for (var t = [""], n = (e.video && (t = ca(e.video.contentType).split(",")),
                            [""]), i = (e.audio && (n = ca(e.audio.contentType).split(",")),
                            []), a = (t = Ze(t)).next(); !a.done; a = t.next()) {
                                a = a.value;
                                for (var r = Ze(n), o = r.next(), s = {}; !o.done; s = {
                                    dd: void 0
                                },
                                o = r.next())
                                    o = o.value,
                                    s.dd = zn(e),
                                    e.video && (s.dd.video.contentType = ia(la(s.dd.video.contentType), a)),
                                    e.audio && (s.dd.audio.contentType = ia(la(s.dd.audio.contentType), o)),
                                    i.push(new Promise(function(n) {
                                        return function(t, e) {
                                            Ea(1, navigator.mediaCapabilities.decodingInfo(n.dd)).then(function(e) {
                                                t(e)
                                            }).catch(e)
                                        }
                                    }(s)))
                            }
                            return Promise.all(i).catch(function() {
                                return JSON.stringify(e),
                                null
                            })
                        }(l).then(function(i) {
                            return function(e) {
                                for (var t = null, n = (e = Ze(e || [])).next(); !n.done; n = e.next())
                                    t = a(t, n.value);
                                t && (i.cache[i.ue] = t,
                                r = a(r, t))
                            }
                        }(u)));
                    return We(e, Promise.all(i), 2)
                }
                r && t.decodingInfos.push(r),
                Ye(e)
            })
        }
        function La(n, i, a, r) {
            var o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (n.some(function(e) {
                        return e.decodingInfos.length
                    }))
                        return e.return();
                    o = Ze(r),
                    s = o.next(),
                    u = {};
                case 2:
                    if (s.done) {
                        e.A(4);
                        break
                    }
                    u.ii = s.value,
                    l = !1,
                    c = Ze(n),
                    d = c.next();
                case 5:
                    if (d.done) {
                        e.A(7);
                        break
                    }
                    h = d.value,
                    f = Ra(h, i, a).filter((t = u,
                    function(e) {
                        return ((e = e[0]).keySystemConfiguration && e.keySystemConfiguration.keySystem) === t.ii
                    }
                    )),
                    f = Ze(f),
                    p = f.next();
                case 8:
                    if (p.done) {
                        e.A(10);
                        break
                    }
                    return y = p.value,
                    We(e, Ma(h, y), 9);
                case 9:
                    p = f.next(),
                    e.A(8);
                    break;
                case 10:
                    h.decodingInfos.length && (l = !0),
                    d = c.next(),
                    e.A(5);
                    break;
                case 7:
                    if (l)
                        return e.return();
                    u = {
                        ii: void 0
                    },
                    s = o.next(),
                    e.A(2);
                    break;
                case 4:
                    g = Ze(n),
                    m = g.next();
                case 12:
                    if (m.done) {
                        e.A(0);
                        break
                    }
                    v = m.value,
                    y = Ra(v, i, a).filter(function(e) {
                        return !(e = (e = e[0]).keySystemConfiguration && e.keySystemConfiguration.keySystem) || !r.includes(e)
                    }),
                    b = Ze(y),
                    T = b.next();
                case 15:
                    if (T.done) {
                        m = g.next(),
                        e.A(12);
                        break
                    }
                    return w = T.value,
                    We(e, Ma(v, w), 16);
                case 16:
                    T = b.next(),
                    e.A(15)
                }
                var t
            })
        }
        function Ra(e, t, n) {
            var i = e.audio
              , a = e.video
              , r = []
              , o = [];
            if (a)
                for (var s = Ze(a.fullMimeTypes), u = s.next(); !u.done; u = s.next()) {
                    var l, c, d = ca(u = u.value);
                    if (d.includes(",") && !i && (l = d.split(","),
                    c = la(u),
                    d = Kt("video", l),
                    c = ra(c, l = Pa(l = Kt("audio", l), c), "audio"),
                    o.push({
                        contentType: c,
                        channels: 2,
                        bitrate: e.bandwidth || 1,
                        samplerate: 1,
                        spatialRendering: !1
                    })),
                    d = Da(d),
                    u = {
                        contentType: ra(la(u), d, "video"),
                        width: a.width || 64,
                        height: a.height || 64,
                        bitrate: a.bandwidth || e.bandwidth || 1,
                        framerate: a.frameRate || 1
                    },
                    a.hdr)
                        switch (a.hdr) {
                        case "SDR":
                            u.transferFunction = "srgb";
                            break;
                        case "PQ":
                            u.transferFunction = "pq";
                            break;
                        case "HLG":
                            u.transferFunction = "hlg"
                        }
                    a.colorGamut && (u.colorGamut = a.colorGamut),
                    r.push(u)
                }
            if (i)
                for (u = (s = Ze(i.fullMimeTypes)).next(); !u.done; u = s.next())
                    u = ra(u = la(d = u.value), d = Pa(ca(d), u), "audio"),
                    o.push({
                        contentType: u,
                        channels: i.channelsCount || 2,
                        bitrate: i.bandwidth || e.bandwidth || 1,
                        samplerate: i.audioSamplingRate || 1,
                        spatialRendering: i.spatialAudio
                    });
            for (s = [],
            0 == r.length && r.push(null),
            0 == o.length && o.push(null),
            u = (r = Ze(r)).next(); !u.done; u = r.next())
                for (u = u.value,
                c = (d = Ze(o)).next(); !c.done; c = d.next())
                    c = c.value,
                    l = {
                        type: n ? "file" : "media-source"
                    },
                    u && (l.video = u),
                    c && (l.audio = c),
                    s.push(l);
            if (!(o = (e.video ? e.video.drmInfos : []).concat(e.audio ? e.audio.drmInfos : [])).length)
                return [s];
            for (e = [],
            n = new Map,
            r = (o = Ze(o)).next(); !r.done; r = o.next())
                r = r.value,
                n.get(r.keySystem) || n.set(r.keySystem, []),
                n.get(r.keySystem).push(r);
            for (o = t ? "required" : "optional",
            t = t ? ["persistent-license"] : ["temporary"],
            u = (r = Ze(n.keys())).next(); !u.done; u = r.next()) {
                for (u = u.value,
                d = [],
                l = (c = Ze(s)).next(); !l.done; l = c.next()) {
                    l = Object.assign({}, l.value);
                    for (var h = n.get(u), f = {
                        keySystem: u,
                        initDataType: "cenc",
                        persistentState: o,
                        distinctiveIdentifier: "optional",
                        sessionTypes: t
                    }, p = (h = Ze(h)).next(); !p.done; p = h.next()) {
                        if ((p = p.value).initData && p.initData.length) {
                            for (var g = new Set, m = Ze(p.initData), v = m.next(); !v.done; v = m.next())
                                g.add(v.value.initDataType);
                            f.initDataType = p.initData[0].initDataType
                        }
                        p.distinctiveIdentifierRequired && (f.distinctiveIdentifier = "required"),
                        p.persistentStateRequired && (f.persistentState = "required"),
                        p.sessionType && (f.sessionTypes = [p.sessionType]),
                        i && (f.audio ? (p.encryptionScheme && (f.audio.encryptionScheme = f.audio.encryptionScheme || p.encryptionScheme),
                        f.audio.robustness = f.audio.robustness || p.audioRobustness) : (f.audio = {
                            robustness: p.audioRobustness
                        },
                        p.encryptionScheme && (f.audio.encryptionScheme = p.encryptionScheme)),
                        "" == f.audio.robustness && delete f.audio.robustness),
                        a && (f.video ? (p.encryptionScheme && (f.video.encryptionScheme = f.video.encryptionScheme || p.encryptionScheme),
                        f.video.robustness = f.video.robustness || p.videoRobustness) : (f.video = {
                            robustness: p.videoRobustness
                        },
                        p.encryptionScheme && (f.video.encryptionScheme = p.encryptionScheme)),
                        "" == f.video.robustness && delete f.video.robustness)
                    }
                    l.keySystemConfiguration = f,
                    d.push(l)
                }
                e.push(d)
            }
            return e
        }
        function Pa(e, t) {
            return "flac" == e.toLowerCase() ? mt() ? "fLaC" : "flac" : "opus" === e.toLowerCase() ? mt() && "mp4" == oa(t) ? "Opus" : "opus" : e
        }
        function Da(e) {
            if (e.includes("avc1")) {
                var t = e.split(".");
                if (3 == t.length)
                    return e = t.shift() + ".",
                    (e += parseInt(t.shift(), 10).toString(16)) + ("000" + parseInt(t.shift(), 10).toString(16)).slice(-4)
            } else if ("vp9" == e)
                return "vp09.00.41.08";
            return e
        }
        function Na(e) {
            var t = e.audio
              , n = e.video
              , i = t ? t.mimeType : null
              , a = n ? n.mimeType : null
              , r = t ? t.codecs : null
              , o = n ? n.codecs : null
              , s = []
              , u = (o && s.push(o),
            r && s.push(r),
            [])
              , l = (n && u.push(n.mimeType),
            t && u.push(t.mimeType),
            u = u[0] || null,
            [])
              , c = (t && l.push(t.kind),
            n && l.push(n.kind),
            l = l[0] || null,
            new Set);
            if (t)
                for (var d = Ze(t.roles), h = d.next(); !h.done; h = d.next())
                    c.add(h.value);
            if (n)
                for (h = (d = Ze(n.roles)).next(); !h.done; h = d.next())
                    c.add(h.value);
            return e = {
                id: e.id,
                active: !1,
                type: "variant",
                bandwidth: e.bandwidth,
                language: e.language,
                label: null,
                kind: l,
                width: null,
                height: null,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                colorGamut: null,
                videoLayout: null,
                mimeType: u,
                audioMimeType: i,
                videoMimeType: a,
                codecs: s.join(", "),
                audioCodec: r,
                videoCodec: o,
                primary: e.primary,
                roles: Array.from(c),
                audioRoles: null,
                forced: !1,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: null,
                originalImageId: null,
                accessibilityPurpose: null,
                originalLanguage: null
            },
            n && (e.videoId = n.id,
            e.originalVideoId = n.originalId,
            e.width = n.width || null,
            e.height = n.height || null,
            e.frameRate = n.frameRate || null,
            e.pixelAspectRatio = n.pixelAspectRatio || null,
            e.videoBandwidth = n.bandwidth || null,
            e.hdr = n.hdr || null,
            e.colorGamut = n.colorGamut || null,
            e.videoLayout = n.videoLayout || null,
            o.includes(",") && (e.channelsCount = n.channelsCount,
            e.audioSamplingRate = n.audioSamplingRate,
            e.spatialAudio = n.spatialAudio,
            e.originalLanguage = n.originalLanguage)),
            t && (e.audioId = t.id,
            e.originalAudioId = t.originalId,
            e.channelsCount = t.channelsCount,
            e.audioSamplingRate = t.audioSamplingRate,
            e.audioBandwidth = t.bandwidth || null,
            e.spatialAudio = t.spatialAudio,
            e.label = t.label,
            e.audioRoles = t.roles,
            e.accessibilityPurpose = t.accessibilityPurpose,
            e.originalLanguage = t.originalLanguage),
            e
        }
        function _a(e) {
            return {
                id: e.id,
                active: !1,
                type: it,
                bandwidth: 0,
                language: e.language,
                label: e.label,
                kind: e.kind || null,
                width: null,
                height: null,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                colorGamut: null,
                videoLayout: null,
                mimeType: e.mimeType,
                audioMimeType: null,
                videoMimeType: null,
                codecs: e.codecs || null,
                audioCodec: null,
                videoCodec: null,
                primary: e.primary,
                roles: e.roles,
                audioRoles: null,
                forced: e.forced,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: e.originalId,
                originalImageId: null,
                accessibilityPurpose: e.accessibilityPurpose,
                originalLanguage: e.originalLanguage
            }
        }
        function Oa(e) {
            var t = e.width || null
              , n = e.height || null
              , i = null
              , a = (e.segmentIndex && (i = cu(e.segmentIndex)),
            e.tilesLayout);
            return (a = i ? i.tilesLayout || a : a) && null != t && (t /= Number(a.split("x")[0])),
            a && null != n && (n /= Number(a.split("x")[1])),
            {
                id: e.id,
                active: !1,
                type: "image",
                bandwidth: e.bandwidth || 0,
                language: "",
                label: null,
                kind: null,
                width: t,
                height: n,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                colorGamut: null,
                videoLayout: null,
                mimeType: e.mimeType,
                audioMimeType: null,
                videoMimeType: null,
                codecs: e.codecs || null,
                audioCodec: null,
                videoCodec: null,
                primary: !1,
                roles: [],
                audioRoles: null,
                forced: !1,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: a || null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: null,
                originalImageId: e.originalId,
                accessibilityPurpose: null,
                originalLanguage: null
            }
        }
        function Ua(e) {
            return e.__shaka_id || (e.__shaka_id = Ya++),
            e.__shaka_id
        }
        function ja(e) {
            var t = Ba(e);
            return t.active = "disabled" != e.mode,
            t.type = "text",
            t.originalTextId = e.id,
            "captions" == e.kind && (t.mimeType = "unknown"),
            "subtitles" == e.kind && (t.mimeType = "text/vtt"),
            e.kind && (t.roles = [e.kind]),
            "forced" == e.kind && (t.forced = !0),
            t
        }
        function Fa(e) {
            var t = Ba(e);
            return t.active = e.enabled,
            t.type = "variant",
            t.originalAudioId = e.id,
            "main" == e.kind && (t.primary = !0),
            e.kind && (t.roles = [e.kind],
            t.audioRoles = [e.kind],
            t.label = e.label),
            t
        }
        function Ba(e) {
            var t = e.language;
            return {
                id: Ua(e),
                active: !1,
                type: "",
                bandwidth: 0,
                language: en(t || "und"),
                label: e.label,
                kind: e.kind,
                width: null,
                height: null,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                colorGamut: null,
                videoLayout: null,
                mimeType: null,
                audioMimeType: null,
                videoMimeType: null,
                codecs: null,
                audioCodec: null,
                videoCodec: null,
                primary: !1,
                roles: [],
                forced: !1,
                audioRoles: null,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: null,
                originalImageId: null,
                accessibilityPurpose: null,
                originalLanguage: t
            }
        }
        function Ga(e) {
            return e.allowedByApplication && e.allowedByKeySystem && 0 == e.disabledUntilTime
        }
        function Va(e) {
            return e.filter(Ga)
        }
        function Ha(e, t, n, i) {
            var a, r = e, o = e.filter(function(e) {
                return e.primary
            }), s = (r = o.length ? o : r).length ? r[0].language : "", r = r.filter(function(e) {
                return e.language == s
            });
            if (!t || (a = on(en(t), e.map(function(e) {
                return e.language
            }))) && (r = e.filter(function(e) {
                return en(e.language) == a
            })),
            r = r.filter(function(e) {
                return e.forced == i
            }),
            n) {
                if ((e = Ka(r, n)).length)
                    return e
            } else if ((e = r.filter(function(e) {
                return 0 == e.roles.length
            })).length)
                return e;
            return (e = r.map(function(e) {
                return e.roles
            }).reduce(Ta, [])).length ? Ka(r, e[0]) : r
        }
        function Ka(e, t) {
            return e.filter(function(e) {
                return e.roles.includes(t)
            })
        }
        function za(t, e) {
            e.length && (e = e.filter(function(e) {
                return sa(t.codecs) == sa(e.codecs)
            }).sort(function(e, t) {
                return e.bandwidth && t.bandwidth && e.bandwidth != t.bandwidth ? e.bandwidth - t.bandwidth : (e.width || 0) - (t.width || 0)
            }),
            t.trickModeVideo = e[0],
            1 < e.length && (e = e.find(function(e) {
                return t.width == e.width && t.height == e.height
            }))) && (t.trickModeVideo = e)
        }
        function Xa(e) {
            return "audio" == e.type ? "type=audio codecs=" + e.codecs + " bandwidth=" + e.bandwidth + " channelsCount=" + e.channelsCount + " audioSamplingRate=" + e.audioSamplingRate : "video" == e.type ? "type=video codecs=" + e.codecs + " bandwidth=" + e.bandwidth + " frameRate=" + e.frameRate + " width=" + e.width + " height=" + e.height : "unexpected stream type"
        }
        i("shaka.util.StreamUtils", Aa),
        Aa.meetsRestrictions = Ia;
        var Wa = {}
          , Ya = 0
          , qa = (new Map).set("image/svg+xml", !0).set("image/png", !0).set("image/jpeg", !0).set("image/jpg", !0)
          , Ja = (new Map).set("image/webp", "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif", "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");
        function Qa() {
            var t = this;
            this.B = null,
            this.i = !1,
            this.j = new fn,
            this.H = new pn,
            navigator.connection && navigator.connection.addEventListener && this.H.o(navigator.connection, "change", function() {
                var e;
                t.i && t.g.useNetworkInformation && (t.j = new fn,
                t.g && t.j.configure(t.g.advanced),
                (e = t.chooseVariant()) && navigator.onLine && t.B(e, t.g.clearBufferSwitch, t.g.safeMarginSwitch))
            }),
            this.u = [],
            this.C = 1,
            this.I = !1,
            this.h = this.s = this.g = this.l = null,
            this.G = new C(function() {
                var e;
                t.i && t.g.restrictToElementSize && ((e = t.chooseVariant()) && t.B(e, t.g.clearBufferSwitch, t.g.safeMarginSwitch))
            }
            ),
            this.m = null
        }
        function $a(e) {
            if (!e.I) {
                var t = e.j;
                if (!(t.g >= t.i))
                    return;
                e.I = !0,
                e.l -= 1e3 * (e.g.switchInterval - e.g.minTimeToSwitch)
            }
            Date.now() - e.l < 1e3 * e.g.switchInterval || (t = e.chooseVariant(),
            e.getBandwidthEstimate(),
            t && e.B(t, e.g.clearBufferSwitch, e.g.safeMarginSwitch))
        }
        function Za(e, t, n, i, a) {
            var r;
            return e.m && (r = e.m.Nh()) && (n = n.filter(function(e) {
                return !e.bandwidth || !r || e.bandwidth <= r
            })),
            (n = t ? n.filter(function(e) {
                return Ia(e, t, {
                    width: a,
                    height: i
                })
            }) : n).sort(function(e, t) {
                return e.bandwidth - t.bandwidth
            })
        }
        (t = Qa.prototype).stop = function() {
            this.B = null,
            this.i = !1,
            this.u = [],
            this.C = 1,
            this.s = this.l = null,
            this.h && (this.h.disconnect(),
            this.h = null),
            this.G.stop(),
            this.m = null
        }
        ,
        t.release = function() {
            this.H.release(),
            this.G = null
        }
        ,
        t.init = function(e) {
            this.B = e
        }
        ,
        t.chooseVariant = function() {
            var e = 1 / 0
              , t = 1 / 0
              , n = (this.g.restrictToScreenSize && (i = this.g.ignoreDevicePixelRatio ? 1 : U.devicePixelRatio,
            e = U.screen.height * i,
            t = U.screen.width * i),
            this.h && this.g.restrictToElementSize && (i = this.g.ignoreDevicePixelRatio ? 1 : U.devicePixelRatio,
            e = Math.min(e, this.s.clientHeight * i),
            t = Math.min(t, this.s.clientWidth * i)),
            i = (i = this.u.filter(function(e) {
                return e && !(e.audio && e.audio.fastSwitching || e.video && e.video.fastSwitching)
            })).length ? i : this.u);
            if (i.length != this.u.length && (n = this.u.filter(function(e) {
                return e && !!(e.audio && e.audio.fastSwitching || e.video && e.video.fastSwitching)
            })),
            i = Za(this, this.g.restrictions, n, 1 / 0, 1 / 0),
            1 / 0 != e || 1 / 0 != t) {
                i = function(e) {
                    for (var t = [], n = (e = Ze(e)).next(); !n.done; n = e.next())
                        (n = n.value.video) && n.height && n.width && t.push({
                            height: n.height,
                            width: n.width
                        });
                    return t.sort(function(e, t) {
                        return e.width - t.width
                    })
                }(i);
                for (var i, a = (i = Ze(i)).next(); !a.done; a = i.next())
                    if ((a = a.value).height >= e && a.width >= t) {
                        e = a.height,
                        t = a.width;
                        break
                    }
                i = Za(this, this.g.restrictions, n, e, t)
            }
            for (e = this.getBandwidthEstimate(),
            t = (i = n.length && !i.length ? [(i = Za(this, null, n, 1 / 0, 1 / 0))[0]] : i)[0] || null,
            n = 0; n < i.length; n++) {
                for (var a = i[n], r = isNaN(this.C) ? 1 : Math.abs(this.C), o = r * a.bandwidth / this.g.bandwidthDowngradeTarget, s = {
                    bandwidth: 1 / 0
                }, u = n + 1; u < i.length; u++)
                    if (a.bandwidth != i[u].bandwidth) {
                        s = i[u];
                        break
                    }
                r = r * s.bandwidth / this.g.bandwidthUpgradeTarget,
                o <= e && e <= r && (t.bandwidth != a.bandwidth || t.bandwidth == a.bandwidth && t.video && a.video && (t.video.width < a.video.width || t.video.height < a.video.height)) && (t = a)
            }
            return this.l = Date.now(),
            t
        }
        ,
        t.enable = function() {
            this.i = !0
        }
        ,
        t.disable = function() {
            this.i = !1
        }
        ,
        t.segmentDownloaded = function(e, t, n) {
            e < this.g.cacheLoadThreshold || (this.j.sample(e, t),
            n && null != this.l && this.i && $a(this))
        }
        ,
        t.trySuggestStreams = function() {
            null != this.l && this.i && $a(this)
        }
        ,
        t.getBandwidthEstimate = function() {
            var e = this.g.defaultBandwidthEstimate;
            return navigator.connection && navigator.connection.downlink && this.g.useNetworkInformation && (e = 1e6 * navigator.connection.downlink),
            navigator.connection && navigator.connection.downlink && this.g.useNetworkInformation && this.g.preferNetworkInformationBandwidth ? e : (e = this.j.getBandwidthEstimate(e),
            this.m ? this.m.getBandwidthEstimate(e) : e)
        }
        ,
        t.setVariants = function(e) {
            this.u = e
        }
        ,
        t.playbackRateChanged = function(e) {
            this.C = e
        }
        ,
        t.setMediaElement = function(e) {
            var t = this;
            this.s = e,
            this.h && (this.h.disconnect(),
            this.h = null),
            this.s && "ResizeObserver"in U && (this.h = new ResizeObserver(function() {
                t.G.Y(er)
            }
            ),
            this.h.observe(this.s))
        }
        ,
        t.setCmsdManager = function(e) {
            this.m = e
        }
        ,
        t.configure = function(e) {
            this.g = e,
            this.j && this.g && this.j.configure(this.g.advanced)
        }
        ,
        i("shaka.abr.SimpleAbrManager", Qa);
        var er = 1;
        function tr(e, t, n) {
            for (n = void 0 === n || n,
            this.h = e,
            this.g = new Set([e]),
            t = (e = Ze(t = t || [])).next(); !t.done; t = e.next())
                this.add(t.value, n)
        }
        function nr(e, t) {
            if (e.mimeType == t.mimeType && (e = e.codecs.split(",").map(ua),
            t = t.codecs.split(",").map(ua),
            e.length == t.length)) {
                e.sort(),
                t.sort();
                for (var n = 0; n < e.length; n++)
                    if (e[n] != t[n])
                        return;
                return 1
            }
        }
        function ir(e, t) {
            if (e = new Set(e),
            t = new Set(t),
            e.delete("main"),
            t.delete("main"),
            e.size == t.size) {
                for (var n = (e = Ze(e)).next(); !n.done; n = e.next())
                    if (!t.has(n.value))
                        return;
                return 1
            }
        }
        function ar(e, t) {
            this.g = new rr(e.language,"",e.audio && e.audio.channelsCount ? e.audio.channelsCount : 0,e.video && e.video.hdr ? e.video.hdr : "",!(!e.audio || !e.audio.spatialAudio) && e.audio.spatialAudio,e.video && e.video.videoLayout ? e.video.videoLayout : "","","",t,e.audio && e.audio.codecs ? e.audio.codecs : "")
        }
        function rr(e, t, n, i, a, r, o, s, u, l) {
            this.u = e,
            this.B = t,
            this.i = n,
            this.j = i,
            this.C = a,
            this.m = r,
            this.h = o,
            this.l = s,
            this.s = u,
            this.g = l
        }
        function or() {
            this.g = lr,
            this.i = (new Map).set(lr, 2).set(ur, 1),
            this.h = 0
        }
        function sr(e, t, n) {
            e.i.set(lr, n).set(ur, t)
        }
        i("shaka.config.AutoShowText", {
            NEVER: 0,
            ALWAYS: 1,
            IF_PREFERRED_TEXT_LANGUAGE: 2,
            IF_SUBTITLES_MAY_BE_NEEDED: 3
        }),
        i("shaka.config.CodecSwitchingStrategy", {
            RELOAD: "reload",
            SMOOTH: "smooth"
        }),
        tr.prototype.add = function(e, t) {
            var n, i, a = this.h;
            return t = void 0 === t || t,
            !(n = !!a.audio != !!e.audio || !!a.video != !!e.video || a.language != e.language) && (n = a.audio && e.audio) && (n = a.audio,
            i = e.audio,
            n = !(!((!n.channelsCount || !i.channelsCount || 2 < n.channelsCount || 2 < i.channelsCount) && n.channelsCount != i.channelsCount || n.spatialAudio !== i.spatialAudio || t && !nr(n, i)) && ir(n.roles, i.roles) && n.groupId === i.groupId)),
            !n && (n = a.video && e.video) && (a = a.video,
            n = e.video,
            n = !((!t || nr(a, n)) && ir(a.roles, n.roles))),
            !n && (this.g.add(e),
            !0)
        }
        ,
        tr.prototype.values = function() {
            return this.g.values()
        }
        ,
        ar.prototype.create = function(e) {
            return this.g.create(e)
        }
        ,
        rr.prototype.create = function(e) {
            var t, n, i, a, r, o, s, u, l, c, d = [], h = (u = e,
            h = this.u,
            d = (t = on(h = en(h), u.map(rn))) ? u.filter(function(e) {
                return t == rn(e)
            }) : [],
            e.filter(function(e) {
                return e.primary
            })), d = d.length ? d : h.length ? h : e;
            return u = d,
            n = this.B,
            (e = u.filter(function(e) {
                return !!e.audio && (n ? e.audio.roles.includes(n) : 0 == e.audio.roles.length)
            })).length && (d = e),
            this.m && (h = d,
            i = this.m,
            (e = h.filter(function(e) {
                return !e.video || !e.video.videoLayout || e.video.videoLayout == i
            })).length && (d = e)),
            this.j && (u = d,
            "AUTO" == (a = this.j) && (a = U.matchMedia("(color-gamut: p3)").matches ? u.some(function(e) {
                return !(!e.video || !e.video.hdr || "HLG" != e.video.hdr)
            }) ? "HLG" : "PQ" : "SDR"),
            (e = u.filter(function(e) {
                return !e.video || !e.video.hdr || e.video.hdr == a
            })).length && (d = e)),
            this.i && (h = d,
            r = this.i,
            (e = h.filter(function(e) {
                return !e.audio || !e.audio.channelsCount || e.audio.channelsCount == r
            })).length && (d = e)),
            this.h && (u = d,
            o = this.h,
            (e = u.filter(function(e) {
                return !(!e.audio || !e.audio.label) && e.audio.label.toLowerCase() == o.toLowerCase()
            })).length && (d = e)),
            this.l && (h = d,
            s = this.l,
            (e = h.filter(function(e) {
                return !(!e.video || !e.video.label) && e.video.label.toLowerCase() == s.toLowerCase()
            })).length && (d = e)),
            u = d,
            l = this.C,
            (e = u.filter(function(e) {
                return !e.audio || e.audio.spatialAudio == l
            })).length && (d = e),
            this.g && (h = d,
            c = this.g,
            (e = h.filter(function(e) {
                return !e.audio || e.audio.codecs == c
            })).length && (d = e)),
            new tr(d[0],d,!("smooth" == this.s && yn()))
        }
        ;
        var ur = 0
          , lr = 1;
        function cr(e, t) {
            var n = hr();
            this.l = (null == e.maxAttempts ? n : e).maxAttempts,
            this.j = (null == e.baseDelay ? n : e).baseDelay,
            this.s = (null == e.fuzzFactor ? n : e).fuzzFactor,
            this.m = (null == e.backoffFactor ? n : e).backoffFactor,
            this.g = 0,
            this.h = this.j,
            (this.i = void 0 !== t && t) && (this.g = 1)
        }
        function dr(t) {
            var n, i;
            return $e(function(e) {
                if (1 == e.g) {
                    if (t.g >= t.l) {
                        if (!t.i)
                            throw new nt(2,7,1010);
                        t.g = 1,
                        t.h = t.j
                    }
                    return (n = t.g,
                    t.g++,
                    0 == n) ? e.return() : (i = t.h * (1 + (2 * Math.random() - 1) * t.s),
                    We(e, new Promise(function(e) {
                        new C(e).Y(i / 1e3)
                    }
                    ), 2))
                }
                t.h *= t.m,
                Ye(e)
            })
        }
        function hr() {
            return {
                maxAttempts: 2,
                baseDelay: 1e3,
                backoffFactor: 2,
                fuzzFactor: .5,
                timeout: 3e4,
                stallTimeout: 5e3,
                connectionTimeout: 1e4
            }
        }
        function fr() {
            var n, i, e = new Promise(function(e, t) {
                n = e,
                i = t
            }
            );
            return e.resolve = n,
            e.reject = i,
            e
        }
        function pr(e, t) {
            this.promise = e,
            this.i = t,
            this.g = null
        }
        function gr(e) {
            return new pr(Promise.reject(e),function() {
                return Promise.resolve()
            }
            )
        }
        function mr() {
            var e = Promise.reject(new nt(2,7,7001));
            return e.catch(function() {}),
            new pr(e,function() {
                return Promise.resolve()
            }
            )
        }
        function vr(e) {
            return new pr(Promise.resolve(e),function() {
                return Promise.resolve()
            }
            )
        }
        function yr(e) {
            return new pr(e,function() {
                return e.catch(function() {})
            }
            )
        }
        function br(e) {
            return new pr(Promise.all(e.map(function(e) {
                return e.promise
            })),function() {
                return Promise.all(e.map(function(e) {
                    return e.abort()
                }))
            }
            )
        }
        function Tr() {
            this.g = []
        }
        function wr(e, t) {
            e.g.push(t.finally(function() {
                _n(e.g, t)
            }))
        }
        function Sr(e, t, n, i, a, r) {
            h.call(this),
            this.i = !1,
            this.s = new Tr,
            this.g = new Set,
            this.h = new Set,
            this.l = e || null,
            this.j = t || null,
            this.C = n || null,
            this.G = i || null,
            this.I = a || null,
            this.H = r || null,
            this.u = this.B = !1,
            this.m = 16e3
        }
        function Er(e, t, n, i) {
            n = n || Lr;
            var a = Rr[e];
            (!a || n >= a.priority) && (Rr[e] = {
                priority: n,
                $e: t,
                lk: void 0 !== i && i
            })
        }
        function Ar(e, t) {
            for (var n = Ze(e.g), i = n.next(); !i.done; i = n.next())
                t.g.add(i.value);
            for (n = (e = Ze(e.h)).next(); !n.done; n = e.next())
                t.h.add(n.value)
        }
        function xr(e, t, n) {
            return {
                uris: e,
                method: "GET",
                body: null,
                headers: {},
                allowCrossSiteCredentials: !1,
                retryParameters: t,
                licenseRequestType: null,
                sessionId: null,
                drmInfo: null,
                initData: null,
                initDataType: null,
                streamDataCallback: void 0 === n ? null : n
            }
        }
        function Ir(e) {
            if (e) {
                var t = e.segment;
                if (e = e.stream,
                t && e && e.fastSwitching && t.s)
                    return !1
            }
            return !0
        }
        function kr() {
            this.g = 0
        }
        function Cr(e, t, n) {
            pr.call(this, e, t),
            this.h = n
        }
        fr.prototype.resolve = function() {}
        ,
        fr.prototype.reject = function() {}
        ,
        pr.prototype.abort = function() {
            return this.g || (this.g = this.i()),
            this.g
        }
        ,
        pr.prototype.finally = function(e) {
            return this.promise.then(function() {
                return e(!0)
            }, function() {
                return e(!1)
            }),
            this
        }
        ,
        pr.prototype.Va = function(i, a) {
            function e(n) {
                return function(e) {
                    var t;
                    o.g && n ? s.reject(u) : (t = n ? i : a) ? r = function(e, t, n) {
                        try {
                            var i = e(t);
                            return i && i.promise && i.abort ? (n.resolve(i.promise),
                            function() {
                                return i.abort()
                            }
                            ) : (n.resolve(i),
                            function() {
                                return Promise.resolve(i).then(function() {}, function() {})
                            }
                            )
                        } catch (e) {
                            return n.reject(e),
                            function() {
                                return Promise.resolve()
                            }
                        }
                    }(t, e, s) : (n ? s.resolve : s.reject)(e)
                }
            }
            function r() {
                return s.reject(u),
                o.abort()
            }
            var o = this
              , s = new fr
              , u = (s.catch(function() {}),
            new nt(2,7,7001));
            return this.promise.then(e(!0), e(!1)),
            new pr(s,function() {
                return r()
            }
            )
        }
        ,
        l.Object.defineProperties(pr.prototype, {
            aborted: {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return null !== this.g
                }
            }
        }),
        i("shaka.util.AbortableOperation", pr),
        pr.prototype.chain = pr.prototype.Va,
        pr.all = br,
        pr.notAbortable = yr,
        pr.completed = vr,
        pr.aborted = mr,
        pr.failed = gr,
        Tr.prototype.destroy = function() {
            for (var e = [], t = Ze(this.g), n = t.next(); !n.done; n = t.next())
                (n = n.value).promise.catch(function() {}),
                e.push(n.abort());
            return this.g = [],
            Promise.all(e)
        }
        ,
        n(Sr, h),
        (t = Sr.prototype).$g = function(e) {
            this.B = e
        }
        ,
        t.ah = function(e) {
            this.u = e
        }
        ,
        t.qk = function(e) {
            this.g.add(e)
        }
        ,
        t.Rk = function(e) {
            this.g.delete(e)
        }
        ,
        t.Bh = function() {
            this.g.clear()
        }
        ,
        t.rk = function(e) {
            this.h.add(e)
        }
        ,
        t.Sk = function(e) {
            this.h.delete(e)
        }
        ,
        t.Ch = function() {
            this.h.clear()
        }
        ,
        t.destroy = function() {
            return this.i = !0,
            this.g.clear(),
            this.h.clear(),
            h.prototype.release.call(this),
            this.s.destroy()
        }
        ,
        t.request = function(u, i, l) {
            var c = this
              , e = new kr;
            if (this.i)
                return (t = Promise.reject(new nt(2,7,7001))).catch(function() {}),
                new Cr(t,function() {
                    return Promise.resolve()
                }
                ,e);
            i.method = i.method || "GET",
            i.headers = i.headers || {},
            i.retryParameters = i.retryParameters ? zn(i.retryParameters) : hr(),
            i.uris = zn(i.uris);
            var t, n = (t = function(e, t, n, i) {
                function a(e) {
                    r = r.Va(function() {
                        return n.body && (n.body = we(n.body)),
                        e(t, n, i)
                    })
                }
                var r = vr(void 0);
                e.G && a(e.G);
                for (var o = (e = Ze(e.g)).next(); !o.done; o = e.next())
                    a(o.value);
                return r.Va(void 0, function(e) {
                    if (e instanceof nt && 7001 == e.code)
                        throw e;
                    throw new nt(2,1,1006,e)
                })
            }(this, u, i, l)).Va(function() {
                return function i(r, o, s, u, a, l, c, d) {
                    r.B && (s.uris[l] = s.uris[l].replace("https://", "http://"));
                    r.u && (s.uris[l] = s.uris[l].replace("http://", "https://"));
                    0 < l && r.I && r.I(o, u, s.uris[l], s.uris[l - 1]);
                    var e = new pt(s.uris[l])
                      , t = e.Yb
                      , h = !1;
                    t || (t = location.protocol,
                    t = t.slice(0, -1),
                    ae(e, t),
                    s.uris[l] = e.toString());
                    t = t.toLowerCase();
                    var n = (t = Rr[t]) ? t.$e : null;
                    if (!n)
                        return gr(new nt(2,1,1e3,e));
                    var f, p = t.lk, g = null, m = null, v = !1, y = !1;
                    return yr(dr(a)).Va(function() {
                        if (r.i)
                            return mr();
                        f = Date.now();
                        var i = 0
                          , e = (s.requestStartTime = Date.now(),
                        n(s.uris[l], s, o, function(e, t, n) {
                            g && g.stop(),
                            m && m.Y(a / 1e3),
                            r.l && o == Mr && (i++,
                            s.packetNumber = i,
                            r.l(e, t, Ir(u), s),
                            h = !0,
                            d.g = n)
                        }, function(e) {
                            y = !0,
                            s.timeToFirstByte = Date.now() - s.requestStartTime,
                            r.j && r.j(e, s, o)
                        }, {
                            minBytesForProgressEvents: r.m
                        }));
                        if (!p)
                            return e;
                        var t = s.retryParameters.connectionTimeout
                          , a = (t && (g = new C(function() {
                            v = !0,
                            e.abort()
                        }
                        )).Y(t / 1e3),
                        s.retryParameters.stallTimeout);
                        return a && (m = new C(function() {
                            v = !0,
                            e.abort()
                        }
                        )),
                        e
                    }).Va(function(e) {
                        g && g.stop(),
                        m && m.stop(),
                        null == e.timeMs && (e.timeMs = Date.now() - f);
                        var t = {
                            response: e,
                            Pj: h
                        };
                        return !y && r.j && r.j(e.headers, s, o),
                        t
                    }, function(e) {
                        var t, n;
                        if (g && g.stop(),
                        m && m.stop(),
                        r.C && (t = null,
                        n = 0,
                        e instanceof nt && (1001 == (t = e).code && (n = e.data[1])),
                        r.C(s, t, n, v)),
                        r.i)
                            return mr();
                        if ((e = v ? new nt(1,1,1003,s.uris[l],o) : e)instanceof nt) {
                            if (7001 == e.code)
                                throw e;
                            if (1010 == e.code)
                                throw c;
                            if (1 == e.severity)
                                return t = new Xe("retry",t = (new Map).set("error", e)),
                                r.dispatchEvent(t),
                                l = (l + 1) % s.uris.length,
                                i(r, o, s, u, a, l, e, d)
                        }
                        throw e
                    })
                }(c, u, i, l, new cr(i.retryParameters,!1), 0, null, e)
            }), a = n.Va(function(e) {
                for (var t = c, n = u, i = e, a = l, r = vr(void 0), o = (t = Ze(t.h)).next(), s = {}; !o.done; s = {
                    ni: void 0
                },
                o = t.next())
                    s.ni = o.value,
                    r = r.Va(function(t) {
                        return function() {
                            var e = i.response;
                            return e.data && (e.data = we(e.data)),
                            (0,
                            t.ni)(n, e, a)
                        }
                    }(s));
                return r.Va(function() {
                    return i
                }, function(e) {
                    var t = 2;
                    if (e instanceof nt) {
                        if (7001 == e.code)
                            throw e;
                        t = e.severity
                    }
                    throw new nt(t,1,1007,e)
                })
            }), r = Date.now(), o = 0, s = (t.promise.then(function() {
                o = Date.now() - r
            }, function() {}),
            0), d = (n.promise.then(function() {
                s = Date.now()
            }, function() {}),
            a.Va(function(e) {
                var t = Date.now() - s
                  , n = e.response;
                return n.timeMs += o,
                n.timeMs += t,
                e.Pj || !c.l || n.fromCache || "HEAD" == i.method || u != Mr || c.l(n.timeMs, n.data.byteLength, Ir(l)),
                c.H && c.H(u, n, l),
                n
            }, function(e) {
                throw e && (e.severity = 2),
                e
            }));
            return t = new Cr(d.promise,function() {
                return d.abort()
            }
            ,e),
            wr(this.s, t),
            t
        }
        ,
        i("shaka.net.NetworkingEngine", Sr),
        Sr.makeRequest = xr,
        Sr.defaultRetryParameters = hr,
        Sr.prototype.clearAllResponseFilters = Sr.prototype.Ch,
        Sr.prototype.unregisterResponseFilter = Sr.prototype.Sk,
        Sr.prototype.registerResponseFilter = Sr.prototype.rk,
        Sr.prototype.clearAllRequestFilters = Sr.prototype.Bh,
        Sr.prototype.unregisterRequestFilter = Sr.prototype.Rk,
        Sr.prototype.registerRequestFilter = Sr.prototype.qk,
        Sr.unregisterScheme = function(e) {
            delete Rr[e]
        }
        ,
        Sr.registerScheme = Er,
        Sr.prototype.setForceHTTPS = Sr.prototype.ah,
        Sr.prototype.setForceHTTP = Sr.prototype.$g,
        Sr.NumBytesRemainingClass = kr,
        n(Cr, pr),
        Sr.PendingRequest = Cr;
        var Mr = 1
          , Lr = (Sr.RequestType = {
            MANIFEST: 0,
            SEGMENT: Mr,
            LICENSE: 2,
            APP: 3,
            TIMING: 4,
            SERVER_CERTIFICATE: 5,
            KEY: 6,
            ADS: 7,
            CONTENT_STEERING: 8
        },
        Sr.AdvancedRequestType = {
            INIT_SEGMENT: 0,
            MEDIA_SEGMENT: 1,
            MEDIA_PLAYLIST: 2,
            MASTER_PLAYLIST: 3,
            MPD: 4,
            MSS: 5,
            MPD_PATCH: 6,
            MEDIATAILOR_SESSION_INFO: 7,
            MEDIATAILOR_TRACKING_INFO: 8,
            MEDIATAILOR_STATIC_RESOURCE: 9,
            MEDIATAILOR_TRACKING_EVENT: 10,
            INTERSTITIAL_ASSET_LIST: 11,
            INTERSTITIAL_AD_URL: 12
        },
        3)
          , Rr = (Sr.PluginPriority = {
            FALLBACK: 1,
            PREFERRED: 2,
            APPLICATION: Lr
        },
        {});
        function Pr(e) {
            this.g = !1,
            this.h = new fr,
            this.i = e
        }
        function Dr(e, t) {
            if (e.g) {
                if (t instanceof nt && 7003 == t.code)
                    throw t;
                throw new nt(2,7,7003,t)
            }
        }
        function Nr(e) {
            for (var t = new Map, n = Ze(Object.keys(e)), i = n.next(); !i.done; i = n.next())
                i = i.value,
                t.set(i, e[i]);
            return t
        }
        function _r(e) {
            var n = {};
            return e.forEach(function(e, t) {
                n[t] = e
            }),
            n
        }
        function Or(e, t) {
            this.h = Ee(e),
            this.i = t == jr,
            this.g = 0
        }
        function Ur() {
            return new nt(2,3,3e3)
        }
        Pr.prototype.destroy = function() {
            var e = this;
            return this.g ? this.h : (this.g = !0,
            this.i().then(function() {
                e.h.resolve()
            }, function() {
                e.h.resolve()
            }))
        }
        ,
        (t = Or.prototype).Ha = function() {
            return this.g < this.h.byteLength
        }
        ,
        t.Pa = function() {
            return this.g
        }
        ,
        t.getLength = function() {
            return this.h.byteLength
        }
        ,
        t.$ = function() {
            try {
                var e = this.h.getUint8(this.g);
                return this.g += 1,
                e
            } catch (e) {
                throw Ur()
            }
        }
        ,
        t.za = function() {
            try {
                var e = this.h.getUint16(this.g, this.i);
                return this.g += 2,
                e
            } catch (e) {
                throw Ur()
            }
        }
        ,
        t.U = function() {
            try {
                var e = this.h.getUint32(this.g, this.i);
                return this.g += 4,
                e
            } catch (e) {
                throw Ur()
            }
        }
        ,
        t.ki = function() {
            try {
                var e = this.h.getInt32(this.g, this.i);
                return this.g += 4,
                e
            } catch (e) {
                throw Ur()
            }
        }
        ,
        t.xd = function() {
            try {
                var e, t;
                this.i ? (e = this.h.getUint32(this.g, !0),
                t = this.h.getUint32(this.g + 4, !0)) : (t = this.h.getUint32(this.g, !1),
                e = this.h.getUint32(this.g + 4, !1))
            } catch (e) {
                throw Ur()
            }
            if (2097151 < t)
                throw new nt(2,3,3001);
            return this.g += 8,
            t * Math.pow(2, 32) + e
        }
        ,
        t.Rb = function(e) {
            if (this.g + e > this.h.byteLength)
                throw Ur();
            var t = tt(this.h, this.g, e);
            return this.g += e,
            t
        }
        ,
        t.skip = function(e) {
            if (this.g + e > this.h.byteLength)
                throw Ur();
            this.g += e
        }
        ,
        t.Bk = function(e) {
            if (this.g < e)
                throw Ur();
            this.g -= e
        }
        ,
        t.seek = function(e) {
            if (e < 0 || e > this.h.byteLength)
                throw Ur();
            this.g = e
        }
        ,
        t.Vc = function() {
            for (var e = this.g; this.Ha() && 0 != this.h.getUint8(this.g); )
                this.g += 1;
            return e = tt(this.h, e, this.g - e),
            this.g += 1,
            It(e)
        }
        ,
        i("shaka.util.DataViewReader", Or),
        Or.prototype.readTerminatedString = Or.prototype.Vc,
        Or.prototype.rewind = Or.prototype.Bk,
        Or.prototype.readBytes = Or.prototype.Rb,
        Or.prototype.readUint64 = Or.prototype.xd,
        Or.prototype.readInt32 = Or.prototype.ki,
        Or.prototype.readUint32 = Or.prototype.U,
        Or.prototype.readUint16 = Or.prototype.za,
        Or.prototype.readUint8 = Or.prototype.$,
        Or.prototype.getPosition = Or.prototype.Pa,
        Or.prototype.hasMoreData = Or.prototype.Ha;
        var jr = 1;
        function Fr() {
            this.i = [],
            this.h = [],
            this.g = !1
        }
        function G(e) {
            for (var t = Xr(e); e.reader.Ha() && !e.parser.g; )
                e.parser.ud(e.start + t, e.reader, e.partialOkay)
        }
        function Br(e) {
            for (var t = Xr(e), n = e.reader.U(), i = 0; i < n && (e.parser.ud(e.start + t, e.reader, e.partialOkay),
            !e.parser.g); i++)
                ;
        }
        function Gr(e) {
            var t = Xr(e);
            for (e.reader.skip(78); e.reader.Ha() && !e.parser.g; )
                e.parser.ud(e.start + t, e.reader, e.partialOkay)
        }
        function Vr(e) {
            var t = Xr(e)
              , n = (e.reader.skip(8),
            e.reader.za());
            for (e.reader.skip(6),
            2 == n ? e.reader.skip(48) : e.reader.skip(12),
            1 == n && e.reader.skip(16); e.reader.Ha() && !e.parser.g; )
                e.parser.ud(e.start + t, e.reader, e.partialOkay)
        }
        function Hr(t) {
            return function(e) {
                t(e.reader.Rb(e.reader.getLength() - e.reader.Pa()))
            }
        }
        function Kr(e) {
            for (var t = 0, n = (e = Ze(e)).next(); !n.done; n = e.next())
                t = t << 8 | n.value.charCodeAt(0);
            return t
        }
        function zr(e) {
            return String.fromCharCode(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e)
        }
        function Xr(e) {
            return 8 + (e.has64BitSize ? 8 : 0) + (null != e.flags ? 4 : 0)
        }
        Or.Endianness = {
            BIG_ENDIAN: 0,
            LITTLE_ENDIAN: jr
        },
        (t = Fr.prototype).box = function(e, t) {
            return e = Kr(e),
            this.i[e] = Wr,
            this.h[e] = t,
            this
        }
        ,
        t.X = function(e, t) {
            return e = Kr(e),
            this.i[e] = Yr,
            this.h[e] = t,
            this
        }
        ,
        t.stop = function() {
            this.g = !0
        }
        ,
        t.parse = function(e, t, n) {
            for (e = new Or(e,0),
            this.g = !1; e.Ha() && !this.g; )
                this.ud(0, e, t, n)
        }
        ,
        t.ud = function(e, t, n, i) {
            var a = t.Pa();
            if (i && a + 8 > t.getLength())
                this.g = !0;
            else {
                var r = t.U()
                  , o = t.U()
                  , s = zr(o)
                  , u = !1;
                switch (r) {
                case 0:
                    r = t.getLength() - a;
                    break;
                case 1:
                    if (i && t.Pa() + 8 > t.getLength())
                        return void (this.g = !0);
                    r = t.xd(),
                    u = !0
                }
                var l = this.h[o];
                if (l) {
                    var c = null
                      , d = null;
                    if (this.i[o] == Yr) {
                        if (i && t.Pa() + 4 > t.getLength())
                            return void (this.g = !0);
                        c = (d = t.U()) >>> 24,
                        d &= 16777215
                    }
                    o = a + r,
                    n && o > t.getLength() && (o = t.getLength()),
                    i && o > t.getLength() ? this.g = !0 : l({
                        name: s,
                        parser: this,
                        partialOkay: n || !1,
                        version: c,
                        flags: d,
                        reader: t = new Or(t = 0 < (i = o - t.Pa()) ? t.Rb(i) : new Uint8Array(0),0),
                        size: r,
                        start: a + e,
                        has64BitSize: u
                    })
                } else
                    t.skip(Math.min(a + r - t.Pa(), t.getLength() - t.Pa()))
            }
        }
        ,
        i("shaka.util.Mp4Parser", Fr),
        Fr.headerSize = Xr,
        Fr.typeToString = zr,
        Fr.allData = Hr,
        Fr.audioSampleEntry = Vr,
        Fr.visualSampleEntry = Gr,
        Fr.sampleDescription = Br,
        Fr.children = G,
        Fr.prototype.parseNext = Fr.prototype.ud,
        Fr.prototype.fullBox = Fr.prototype.X;
        var Wr = 0
          , Yr = 1;
        function qr(e) {
            var a = this;
            this.g = [],
            this.h = [],
            this.data = [],
            (new Fr).box("moov", G).box("moof", G).X("pssh", function(e) {
                if (!(1 < e.version)) {
                    var t = tt(e.reader.h, -12, e.size);
                    if (a.data.push(t),
                    a.g.push(Ft(e.reader.Rb(16))),
                    0 < e.version)
                        for (var t = e.reader.U(), n = 0; n < t; n++) {
                            var i = Ft(e.reader.Rb(16));
                            a.h.push(i)
                        }
                }
            }).parse(e)
        }
        function Jr(e, t, n, i) {
            var a = e.length
              , r = t.length + 16 + a
              , o = (0 < i && (r += 4 + 16 * n.size),
            new Uint8Array(r))
              , s = Ee(o)
              , u = 0;
            if (s.setUint32(u, r),
            s.setUint32(u += 4, 1886614376),
            u += 4,
            i < 1 ? s.setUint32(u, 0) : s.setUint32(u, 16777216),
            o.set(t, u += 4),
            u += t.length,
            0 < i)
                for (s.setUint32(u, n.size),
                u += 4,
                n = (t = Ze(n)).next(); !n.done; n = t.next())
                    n = jt(n.value),
                    o.set(n, u),
                    u += n.length;
            return s.setUint32(u, a),
            o.set(e, u + 4),
            o
        }
        function Qr(t) {
            var i = this;
            this.G = t,
            this.l = this.B = null,
            this.ma = this.ea = !1,
            this.J = 0,
            this.g = null,
            this.s = new pn,
            this.i = new Map,
            this.V = [],
            this.C = new Map,
            this.L = !1,
            this.m = new fr,
            this.h = null,
            this.u = function(e) {
                2 == e.severity && i.m.reject(e),
                t.onError(e)
            }
            ,
            this.Z = new Map,
            this.ha = new Map,
            this.M = new C(function() {
                return t = (e = i).Z,
                (n = e.ha).clear(),
                t.forEach(function(e, t) {
                    return n.set(t, e)
                }),
                (t = Array.from(n.values())).length && t.every(function(e) {
                    return "expired" == e
                }) && e.u(new nt(2,6,6014)),
                void e.G.Ye(_r(n));
                var e, t, n
            }
            ),
            this.P = !1,
            this.O = [],
            this.W = !1,
            this.K = new C(function() {
                var a;
                (a = i).i.forEach(function(e, t) {
                    var n = e.Ig
                      , i = t.expiration;
                    (i = isNaN(i) ? 1 / 0 : i) != n && (a.G.onExpirationUpdated(t.sessionId, i),
                    e.Ig = i)
                })
            }
            ),
            this.m.catch(function() {}),
            this.j = new Pr(function() {
                return t = i,
                $e(function(e) {
                    switch (e.g) {
                    case 1:
                        return t.s.release(),
                        t.s = null,
                        t.m.reject(),
                        t.K.stop(),
                        t.K = null,
                        t.M.stop(),
                        t.M = null,
                        We(e, co(t), 2);
                    case 2:
                        if (t.l)
                            return qe(e, 4),
                            We(e, t.l.setMediaKeys(null), 6);
                        e.A(3);
                        break;
                    case 6:
                        Je(e, 5);
                        break;
                    case 4:
                        Qe(e);
                    case 5:
                        t.l = null;
                    case 3:
                        t.g = null,
                        t.B = null,
                        t.C = new Map,
                        t.h = null,
                        t.u = function() {}
                        ,
                        t.G = null,
                        t.aa = !1,
                        t.I = null,
                        Ye(e)
                    }
                });
                var t
            }
            ),
            this.aa = !1,
            this.H = this.I = null,
            this.S = function() {
                return !1
            }
        }
        function $r(e, t, n) {
            e.C = new Map;
            for (var i = (n = Ze(n)).next(); !i.done; i = n.next())
                e.C.set(i.value, {
                    initData: null,
                    initDataType: null
                });
            for (i = (n = Ze(e.h.persistentSessionsMetadata)).next(); !i.done; i = n.next())
                i = i.value,
                e.C.set(i.sessionId, {
                    initData: i.initData,
                    initDataType: i.initDataType
                });
            return e.P = 0 < e.C.size,
            Zr(e, t)
        }
        function Zr(c, d) {
            var h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k;
            return $e(function(e) {
                if (1 != e.g)
                    return Dr(c.j),
                    m || Object.keys(c.h.servers).length ? (k = ao(c, void 0, d),
                    e.return(m ? k : k.catch(function() {}))) : (c.ea = !0,
                    e.return(Promise.resolve()));
                var t, n, i, a, r, o;
                if (h = 0 == (o = Nr((o = c).h.clearKeys)).size ? null : Ht(o))
                    for (f = Ze(d),
                    p = f.next(); !p.done; p = f.next())
                        (g = p.value).video && (g.video.drmInfos = [h]),
                        g.audio && (g.audio.drmInfos = [h]);
                if (!(m = d.some(function(e) {
                    return !!(e.video && e.video.drmInfos.length || e.audio && e.audio.drmInfos.length)
                }))) {
                    k = Nr(c.h.servers);
                    var s = d
                      , u = k
                      , l = [];
                    for (u.forEach(function(e, t) {
                        l.push({
                            keySystem: t,
                            licenseServerUri: e,
                            distinctiveIdentifierRequired: !1,
                            persistentStateRequired: !1,
                            audioRobustness: "",
                            videoRobustness: "",
                            serverCertificate: null,
                            serverCertificateUri: "",
                            initData: [],
                            keyIds: new Set
                        })
                    }),
                    s = Ze(s),
                    u = s.next(); !u.done; u = s.next())
                        (u = u.value).video && (u.video.drmInfos = l),
                        u.audio && (u.audio.drmInfos = l)
                }
                for (v = new Set,
                y = Ze(d),
                b = y.next(); !b.done; b = y.next())
                    for (T = b.value,
                    T = ho(T),
                    w = Ze(T),
                    S = w.next(); !S.done; S = w.next())
                        E = S.value,
                        v.add(E);
                for (A = Ze(v),
                x = A.next(); !x.done; x = A.next())
                    I = x.value,
                    t = I,
                    n = Nr(c.h.servers),
                    i = Nr(c.h.advanced || {}),
                    a = c.h.keySystemsMapping,
                    r = void 0,
                    !(r = t.keySystem) || "org.w3.clearkey" == r && t.licenseServerUri || (n.size && (n = n.get(r) || "",
                    t.licenseServerUri = n),
                    t.keyIds || (t.keyIds = new Set),
                    (i = i.get(r)) && (t.distinctiveIdentifierRequired || (t.distinctiveIdentifierRequired = i.distinctiveIdentifierRequired),
                    t.persistentStateRequired || (t.persistentStateRequired = i.persistentStateRequired),
                    t.videoRobustness || (t.videoRobustness = i.videoRobustness),
                    t.audioRobustness || (t.audioRobustness = i.audioRobustness),
                    t.serverCertificate || (t.serverCertificate = i.serverCertificate),
                    i.sessionType && (t.sessionType = i.sessionType),
                    t.serverCertificateUri || (t.serverCertificateUri = i.serverCertificateUri)),
                    a[r] && (t.keySystem = a[r]),
                    U.cast && U.cast.__platform__ && "com.microsoft.playready" == r && (t.keySystem = "com.chromecast.playready"));
                return We(e, La(d, c.P, c.aa, c.h.preferredKeySystems), 2)
            })
        }
        function eo(t) {
            var n;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (t.l.mediaKeys)
                        return e.return();
                    if (t.I)
                        return We(e, t.I, 3);
                    e.A(2);
                    break;
                case 3:
                    return Dr(t.j),
                    e.return();
                case 2:
                    return qe(e, 4),
                    t.I = t.l.setMediaKeys(t.B),
                    We(e, t.I, 6);
                case 6:
                    Je(e, 5);
                    break;
                case 4:
                    n = Qe(e),
                    t.u(new nt(2,6,6003,n.message));
                case 5:
                    Dr(t.j),
                    Ye(e)
                }
            })
        }
        function to(n) {
            var t, i, a, r;
            return $e(function(e) {
                if (1 == e.g)
                    return n.C.size ? (n.C.forEach(function(e, t) {
                        so(n, t, e)
                    }),
                    We(e, n.m, 3)) : e.A(2);
                if (2 != e.g) {
                    if (0 < (n.g && n.g.keyIds || new Set([])).size && function(e) {
                        for (var t = Ze(e.g && e.g.keyIds || new Set([])), n = t.next(); !n.done; n = t.next())
                            if ("usable" !== e.Z.get(n.value))
                                return;
                        return 1
                    }(n))
                        return e.return(n.m);
                    n.L = !1,
                    n.m = new fr,
                    n.m.catch(function() {})
                }
                for (t = (n.g ? n.g.initData : []) || [],
                i = Ze(t),
                a = i.next(); !a.done; a = i.next())
                    r = a.value,
                    no(n, r.initDataType, r.initData);
                return fo(n) && n.m.resolve(),
                e.return(n.m)
            })
        }
        function no(e, t, n) {
            if (n.length) {
                if (e.h.ignoreDuplicateInitData) {
                    for (var i = e.i.values(), a = (i = Ze(i)).next(); !a.done; a = i.next())
                        if (Te(n, a.value.initData))
                            return;
                    var r = !1;
                    if (e.C.forEach(function(e) {
                        !r && Te(n, e.initData) && (r = !0)
                    }),
                    r)
                        return
                }
                e.L = !0,
                0 < e.i.size && fo(e) && (e.m.resolve(),
                e.L = !1,
                e.m = new fr,
                e.m.catch(function() {}));
                var o = e
                  , s = n
                  , e = e.g.sessionType;
                try {
                    var u = o.B.createSession(e)
                } catch (e) {
                    return void o.u(new nt(2,6,6005,e.message))
                }
                o.s.o(u, "message", function(e) {
                    o.l && o.h.delayLicenseRequestUntilPlayed && o.l.paused && !o.W ? o.O.push(e) : uo(o, e)
                }),
                o.s.o(u, "keystatuseschange", function(e) {
                    return lo(o, e)
                }),
                o.i.set(u, {
                    initData: s,
                    initDataType: t,
                    loaded: !1,
                    Ig: 1 / 0,
                    Db: null,
                    type: e
                });
                try {
                    s = o.h.initDataTransform(s, t, o.g)
                } catch (e) {
                    return void ((t = e)instanceof nt || (t = new nt(2,6,6016,e)),
                    o.u(t))
                }
                o.h.logLicenseExchange && Ot(s),
                u.generateRequest(t, s).catch(function(e) {
                    var t, n;
                    o.j.g || (o.i.delete(u),
                    (t = e.errorCode) && t.systemCode && ((n = t.systemCode) < 0 && (n += Math.pow(2, 32)),
                    n = "0x" + n.toString(16)),
                    o.u(new nt(2,6,6006,e.message,e,n)))
                })
            }
        }
        function io(e) {
            return e = ft(e = e.i.keys(), function(e) {
                return e.sessionId
            }),
            Array.from(e)
        }
        function ao(C, M, L) {
            var R, P, D, N, _;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (R = new Map,
                    L.length) {
                        P = function(e, t, n) {
                            for (var i = Ze(t), a = i.next(); !a.done; a = i.next())
                                for (var r = (a = Ze(ho(a.value))).next(); !r.done; r = a.next())
                                    r = r.value,
                                    n.has(r.keySystem) || n.set(r.keySystem, []),
                                    n.get(r.keySystem).push(r);
                            if (1 == n.size && n.has(""))
                                throw new nt(2,6,6e3);
                            for (i = Ze(e.h.preferredKeySystems),
                            r = i.next(),
                            a = {}; !r.done; a = {
                                ji: void 0
                            },
                            r = i.next()) {
                                a.ji = r.value;
                                for (var o = (r = Ze(t)).next(); !o.done; o = r.next())
                                    if (o = o.value.decodingInfos.find(function(t) {
                                        return function(e) {
                                            return e.supported && null != e.keySystemAccess && e.keySystemAccess.keySystem == t.ji
                                        }
                                    }(a)))
                                        return o.keySystemAccess
                            }
                            for (i = Ze([!0, !1]),
                            a = i.next(); !a.done; a = i.next())
                                for (a = a.value,
                                r = Ze(t),
                                o = r.next(); !o.done; o = r.next())
                                    for (var s = (o = Ze(o.value.decodingInfos)).next(); !s.done; s = o.next())
                                        if ((s = s.value).supported && s.keySystemAccess) {
                                            var u = s.keySystemAccess.keySystem
                                              , l = n.get(u);
                                            for (!l && e.h.keySystemsMapping[u] && (l = n.get(e.h.keySystemsMapping[u])),
                                            u = Ze(l),
                                            l = u.next(); !l.done; l = u.next())
                                                if (!!l.value.licenseServerUri == a)
                                                    return s.keySystemAccess
                                        }
                            return null
                        }(C, L, R),
                        e.A(2);
                        break
                    }
                    return We(e, (f = C,
                    p = M,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (1 == p.size && p.has(""))
                                throw new nt(2,6,6e3);
                            for (m = Ze(p.values()),
                            v = m.next(); !v.done; v = m.next())
                                0 == (y = v.value).audioCapabilities.length && delete y.audioCapabilities,
                                0 == y.videoCapabilities.length && delete y.videoCapabilities;
                            b = Ze(f.h.preferredKeySystems),
                            T = b.next();
                        case 2:
                            if (T.done) {
                                e.A(4);
                                break
                            }
                            if (I = T.value,
                            p.has(I))
                                return k = p.get(I),
                                qe(e, 6),
                                We(e, navigator.requestMediaKeySystemAccess(I, [k]), 8);
                            e.A(3);
                            break;
                        case 8:
                            return g = e.h,
                            e.return(g);
                        case 6:
                            Qe(e);
                        case 7:
                            Dr(f.j);
                        case 3:
                            T = b.next(),
                            e.A(2);
                            break;
                        case 4:
                            w = Ze([!0, !1]),
                            S = w.next();
                        case 9:
                            if (S.done) {
                                e.A(11);
                                break
                            }
                            E = S.value,
                            A = Ze(p.keys()),
                            x = A.next();
                        case 12:
                            if (x.done) {
                                S = w.next(),
                                e.A(9);
                                break
                            }
                            if (I = x.value,
                            k = p.get(I),
                            k.drmInfos.some(function(e) {
                                return !!e.licenseServerUri
                            }) == E)
                                return qe(e, 15),
                                We(e, navigator.requestMediaKeySystemAccess(I, [k]), 17);
                            e.A(13);
                            break;
                        case 17:
                            return g = e.h,
                            e.return(g);
                        case 15:
                            Qe(e);
                        case 16:
                            Dr(f.j);
                        case 13:
                            x = A.next(),
                            e.A(12);
                            break;
                        case 11:
                            return e.return(g)
                        }
                    })), 3);
                case 3:
                    P = e.h;
                case 2:
                    if (!(N = P))
                        throw new nt(2,6,6001);
                    if (Dr(C.j),
                    qe(e, 4),
                    N.getConfiguration(),
                    D = C.h.keySystemsMapping[N.keySystem] || N.keySystem,
                    L.length) {
                        var t = D
                          , n = R.get(D)
                          , i = []
                          , a = []
                          , r = []
                          , o = []
                          , s = []
                          , u = new Set
                          , l = new Set
                          , c = (po(n, i, a, o, r, s, u, l),
                        C.P ? "persistent-license" : "temporary")
                          , t = {
                            keySystem: t,
                            encryptionScheme: i[0],
                            licenseServerUri: a[0],
                            distinctiveIdentifierRequired: n[0].distinctiveIdentifierRequired,
                            persistentStateRequired: n[0].persistentStateRequired,
                            sessionType: n[0].sessionType || c,
                            audioRobustness: n[0].audioRobustness || "",
                            videoRobustness: n[0].videoRobustness || "",
                            serverCertificate: o[0],
                            serverCertificateUri: r[0],
                            initData: s,
                            keyIds: u
                        };
                        for (0 < l.size && (t.keySystemUris = l),
                        l = (n = Ze(n)).next(); !l.done; l = n.next())
                            (l = l.value).distinctiveIdentifierRequired && (t.distinctiveIdentifierRequired = l.distinctiveIdentifierRequired),
                            l.persistentStateRequired && (t.persistentStateRequired = l.persistentStateRequired);
                        n = t
                    } else
                        l = M.get(n = D),
                        t = [],
                        i = [],
                        a = [],
                        r = [],
                        o = [],
                        s = new Set,
                        po(l.drmInfos, t, i, r, a, o, s),
                        n = {
                            keySystem: n,
                            encryptionScheme: t[0],
                            licenseServerUri: i[0],
                            distinctiveIdentifierRequired: "required" == l.distinctiveIdentifier,
                            persistentStateRequired: "required" == l.persistentState,
                            sessionType: l.sessionTypes[0] || "temporary",
                            audioRobustness: (l.audioCapabilities ? l.audioCapabilities[0].robustness : "") || "",
                            videoRobustness: (l.videoCapabilities ? l.videoCapabilities[0].robustness : "") || "",
                            serverCertificate: r[0],
                            serverCertificateUri: a[0],
                            initData: o,
                            keyIds: s
                        };
                    if (C.g = n,
                    C.g.licenseServerUri)
                        return We(e, N.createMediaKeys(), 6);
                    throw new nt(2,6,6012,C.g.keySystem);
                case 6:
                    if (D = e.h,
                    Dr(C.j),
                    C.B = D,
                    "" != C.h.minHdcpVersion && "getStatusForPolicy"in C.B)
                        return qe(e, 8),
                        We(e, C.B.getStatusForPolicy({
                            minHdcpVersion: C.h.minHdcpVersion
                        }), 10);
                    e.A(7);
                    break;
                case 10:
                    if ("usable" != e.h)
                        throw new nt(2,6,6018);
                    Dr(C.j),
                    Je(e, 7, 4);
                    break;
                case 8:
                    if ((N = Qe(e, 4))instanceof nt)
                        throw N;
                    throw new nt(2,6,6019,N.message);
                case 7:
                    return C.ea = !0,
                    We(e, (d = C,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (!d.B || !d.g)
                                return e.return();
                            if (!d.g.serverCertificateUri || d.g.serverCertificate && d.g.serverCertificate.length) {
                                e.A(2);
                                break
                            }
                            return h = xr([d.g.serverCertificateUri], d.h.retryParameters),
                            qe(e, 3),
                            We(e, d.G.jc.request(5, h, {
                                isPreload: d.S()
                            }).promise, 5);
                        case 5:
                            h = e.h,
                            d.g.serverCertificate = tt(h.data),
                            Je(e, 4);
                            break;
                        case 3:
                            throw new nt(2,6,6017,Qe(e));
                        case 4:
                            if (d.j.g)
                                return e.return();
                        case 2:
                            return d.g.serverCertificate && d.g.serverCertificate.length ? (qe(e, 6),
                            We(e, d.B.setServerCertificate(d.g.serverCertificate), 8)) : e.return();
                        case 8:
                            Je(e, 0);
                            break;
                        case 6:
                            throw new nt(2,6,6004,Qe(e).message)
                        }
                    })), 11);
                case 11:
                    Dr(C.j),
                    Je(e, 0);
                    break;
                case 4:
                    if (_ = Qe(e),
                    Dr(C.j, _),
                    C.g = null,
                    _ instanceof nt)
                        throw _;
                    throw new nt(2,6,6002,_.message)
                }
                var d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k
            })
        }
        function ro(e) {
            fo(e) && e.m.resolve()
        }
        function oo(e, t) {
            new C(function() {
                t.loaded = !0,
                ro(e)
            }
            ).Y(mo)
        }
        function so(n, e, i) {
            var a, r, o, s;
            return $e(function(t) {
                switch (t.g) {
                case 1:
                    try {
                        a = n.B.createSession("persistent-license")
                    } catch (e) {
                        return r = new nt(2,6,6005,e.message),
                        n.u(r),
                        t.return(Promise.reject(r))
                    }
                    return n.s.o(a, "message", function(e) {
                        n.l && n.h.delayLicenseRequestUntilPlayed && n.l.paused && !n.W ? n.O.push(e) : uo(n, e)
                    }),
                    n.s.o(a, "keystatuseschange", function(e) {
                        return lo(n, e)
                    }),
                    r = {
                        initData: i.initData,
                        initDataType: i.initDataType,
                        loaded: !1,
                        Ig: 1 / 0,
                        Db: null,
                        type: "persistent-license"
                    },
                    n.i.set(a, r),
                    qe(t, 2),
                    We(t, a.load(e), 4);
                case 4:
                    return o = t.h,
                    Dr(n.j),
                    o || (n.i.delete(a),
                    o = n.h.persistentSessionOnlinePlayback ? 1 : 2,
                    n.u(new nt(o,6,6013)),
                    r.loaded = !0),
                    oo(n, r),
                    ro(n),
                    t.return(a);
                case 2:
                    o = Qe(t),
                    Dr(n.j, o),
                    n.i.delete(a),
                    s = n.h.persistentSessionOnlinePlayback ? 1 : 2,
                    n.u(new nt(s,6,6005,o.message)),
                    r.loaded = !0,
                    ro(n);
                case 3:
                    return t.return(Promise.resolve())
                }
            })
        }
        function uo(r, o) {
            var s, u, l, c, d, h, f, p, g, m;
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (s = o.target,
                    r.h.logLicenseExchange && Ot(o.message),
                    u = r.i.get(s),
                    h = r.g.licenseServerUri,
                    l = r.h.advanced[r.g.keySystem],
                    "individualization-request" == o.messageType && l && l.individualizationServer && (h = l.individualizationServer),
                    (c = xr([h], r.h.retryParameters)).body = o.message,
                    c.method = "POST",
                    c.licenseRequestType = o.messageType,
                    c.sessionId = s.sessionId,
                    c.drmInfo = r.g,
                    u && (c.initData = u.initData,
                    c.initDataType = u.initDataType),
                    l && l.headers)
                        for (d in l.headers)
                            c.headers[d] = l.headers[d];
                    if (Ce(r.g.keySystem))
                        if ((t = kt(c.body, !0, !0)).includes("PlayReadyKeyMessage")) {
                            for (var t, n = ti(t = Yn(t, "PlayReadyKeyMessage"), "HttpHeader"), i = (n = Ze(n)).next(); !i.done; i = n.next()) {
                                var i = ti(a = i.value, "name")[0]
                                  , a = ti(a, "value")[0];
                                c.headers[Zn(i)] = Zn(a)
                            }
                            t = ti(t, "Challenge")[0],
                            c.body = Ut(Zn(t))
                        } else
                            c.headers["Content-Type"] = "text/xml; charset=utf-8";
                    return h = Date.now(),
                    qe(e, 2),
                    p = r.G.jc.request(2, c, {
                        isPreload: r.S()
                    }),
                    r.V.push(p),
                    We(e, p.promise, 4);
                case 4:
                    f = e.h,
                    _n(r.V, p),
                    Je(e, 3);
                    break;
                case 2:
                    return (g = Qe(e),
                    r.j.g) ? e.return() : (g = new nt(2,6,6007,g),
                    1 == r.i.size ? (r.u(g),
                    u && u.Db && u.Db.reject(g)) : (u && u.Db && u.Db.reject(g),
                    r.i.delete(s),
                    fo(r) && (r.m.resolve(),
                    r.M.Y(.1))),
                    e.return());
                case 3:
                    return r.j.g ? e.return() : (r.J += (Date.now() - h) / 1e3,
                    r.h.logLicenseExchange && Ot(f.data),
                    qe(e, 5),
                    We(e, s.update(f.data), 7));
                case 7:
                    Je(e, 6);
                    break;
                case 5:
                    return g = Qe(e),
                    m = new nt(2,6,6008,g.message),
                    r.u(m),
                    u && u.Db && u.Db.reject(m),
                    e.return();
                case 6:
                    if (r.j.g)
                        return e.return();
                    m = new Xe("drmsessionupdate"),
                    r.G.onEvent(m),
                    u && (u.Db && u.Db.resolve(),
                    oo(r, u)),
                    Ye(e)
                }
            })
        }
        function lo(o, e) {
            e = e.target;
            var s = o.i.get(e)
              , u = !1
              , t = (e.keyStatuses.forEach(function(e, t) {
                var n, i, a, r;
                "string" == typeof t && (n = t,
                t = e,
                e = n),
                Ce(o.g.keySystem) && 16 == t.byteLength && (Ne() || He()) && (i = (n = Ee(t)).getUint32(0, !0),
                a = n.getUint16(4, !0),
                r = n.getUint16(6, !0),
                n.setUint32(0, i, !1),
                n.setUint16(4, a, !1),
                n.setUint16(6, r, !1)),
                "status-pending" != e && (s.loaded = !0),
                "expired" == e && (u = !0),
                t = Ft(t).slice(0, 32),
                o.Z.set(t, e)
            }),
            e.expiration - Date.now());
            (t < 0 || u && t < 1e3) && s && !s.Db && (o.i.delete(e),
            e.close().catch(function() {})),
            fo(o) && (o.m.resolve(),
            o.M.Y(vo))
        }
        function co(a) {
            var t;
            return $e(function(e) {
                return t = Array.from(a.i.entries()),
                a.i.clear(),
                We(e, Promise.all(t.map(function(e) {
                    var n = (e = Ze(e)).next().value
                      , i = e.next().value;
                    return $e(function(e) {
                        return 1 == e.g ? (qe(e, 2),
                        a.ma || a.C.has(n.sessionId) || "persistent-license" !== i.type || a.h.persistentSessionOnlinePlayback ? We(e, (t = n,
                        $e(function(e) {
                            return 1 == e.g ? (qe(e, 2),
                            We(e, Ea(go, Promise.all([t.close(), t.closed])), 4)) : 2 != e.g ? Je(e, 0) : (Qe(e),
                            void Ye(e))
                        })), 5) : We(e, n.remove(), 5)) : 2 != e.g ? Je(e, 0) : (Qe(e),
                        void Ye(e));
                        var t
                    })
                })), 0)
            })
        }
        function ho(e) {
            return (e.video ? e.video.drmInfos : []).concat(e.audio ? e.audio.drmInfos : [])
        }
        function fo(e) {
            for (var t = e = e.i.values(), n = function(e) {
                return e.loaded
            }, i = (t = Ze(t)).next(); !i.done; i = t.next())
                if (!n(i.value))
                    return;
            return 1
        }
        function po(e, t, n, i, a, r, o, s) {
            for (var u = [], l = (e = Ze(e)).next(), c = {}; !l.done; c = {
                Ka: void 0
            },
            l = e.next()) {
                if (c.Ka = l.value,
                t.includes(c.Ka.encryptionScheme) || t.push(c.Ka.encryptionScheme),
                "org.w3.clearkey" == c.Ka.keySystem && c.Ka.licenseServerUri.startsWith("data:application/json;base64,") ? u.includes(c.Ka.licenseServerUri) || u.push(c.Ka.licenseServerUri) : n.includes(c.Ka.licenseServerUri) || n.push(c.Ka.licenseServerUri),
                a.includes(c.Ka.serverCertificateUri) || a.push(c.Ka.serverCertificateUri),
                !c.Ka.serverCertificate || i.some(function(t) {
                    return function(e) {
                        return Te(e, t.Ka.serverCertificate)
                    }
                }(c)) || i.push(c.Ka.serverCertificate),
                c.Ka.initData)
                    for (var d = (l = Ze(c.Ka.initData)).next(), h = {}; !d.done; h = {
                        xg: void 0
                    },
                    d = l.next())
                        h.xg = d.value,
                        r.some(function(n) {
                            return function(e) {
                                var t = n.xg;
                                return !(!e.keyId || e.keyId != t.keyId) || e.initDataType == t.initDataType && Te(e.initData, t.initData)
                            }
                        }(h)) || r.push(h.xg);
                if (c.Ka.keyIds)
                    for (d = (l = Ze(c.Ka.keyIds)).next(); !d.done; d = l.next())
                        o.add(d.value);
                if (c.Ka.keySystemUris && s)
                    for (l = (c = Ze(c.Ka.keySystemUris)).next(); !l.done; l = c.next())
                        s.add(l.value)
            }
            if (1 == u.length)
                n.push(u[0]);
            else if (0 < u.length) {
                for (t = [],
                i = (u = Ze(u)).next(); !i.done; i = u.next())
                    i = U.atob(i.value.split("data:application/json;base64,").pop()),
                    i = JSON.parse(i),
                    t.push.apply(t, et(i.keys));
                u = JSON.stringify({
                    keys: t
                }),
                n.push("data:application/json;base64," + U.btoa(u))
            }
        }
        (t = Qr.prototype).destroy = function() {
            return this.j.destroy()
        }
        ,
        t.configure = function(e, t) {
            this.h = e,
            t && (this.S = t),
            this.K && this.K.Aa(this.h.updateExpirationTime)
        }
        ,
        t.$b = function(t) {
            var i = this;
            return $e(function(e) {
                if (1 == e.g)
                    return i.B ? (i.l = t,
                    i.s.oa(i.l, "play", function() {
                        for (var e = Ze(i.O), t = e.next(); !t.done; t = e.next())
                            uo(i, t.value);
                        i.W = !0,
                        i.O = []
                    }),
                    i.l.remote ? (i.s.o(i.l.remote, "connect", function() {
                        return co(i)
                    }),
                    i.s.o(i.l.remote, "connecting", function() {
                        return co(i)
                    }),
                    i.s.o(i.l.remote, "disconnect", function() {
                        return co(i)
                    })) : "webkitCurrentPlaybackTargetIsWireless"in i.l && i.s.o(i.l, "webkitcurrentplaybacktargetiswirelesschanged", function() {
                        return co(i)
                    }),
                    i.H = i.g && i.g.initData.find(function(e) {
                        return 0 < e.initData.length
                    }) || null,
                    i.H || "com.apple.fps" !== i.g.keySystem || i.C.size ? We(e, eo(i), 2) : e.A(2)) : (i.s.oa(t, "encrypted", function() {
                        i.u(new nt(2,6,6010))
                    }),
                    e.return());
                to(i).catch(function() {}),
                i.H || i.C.size || i.h.parseInbandPsshEnabled || i.s.o(i.l, "encrypted", function(e) {
                    return t = i,
                    n = e,
                    $e(function(e) {
                        if (1 == e.g)
                            return We(e, eo(t), 2);
                        no(t, n.initDataType, tt(n.initData)),
                        Ye(e)
                    });
                    var t, n
                }),
                Ye(e)
            })
        }
        ,
        t.lg = function() {
            var n = this
              , e = ft(this.i.keys(), function(e) {
                var t = n.i.get(e);
                return {
                    sessionId: e.sessionId,
                    sessionType: t.type,
                    initData: t.initData,
                    initDataType: t.initDataType
                }
            });
            return Array.from(e)
        }
        ,
        t.Md = function() {
            for (var e = 1 / 0, t = this.i.keys(), n = (t = Ze(t)).next(); !n.done; n = t.next())
                n = n.value,
                isNaN(n.expiration) || (e = Math.min(e, n.expiration));
            return e
        }
        ,
        t.Ee = function() {
            return _r(this.ha)
        }
        ;
        var go = 1
          , mo = 5
          , vo = .5;
        function yo(e, t, n) {
            this.g = e,
            this.i = t,
            this.h = n
        }
        function bo(t, n) {
            return $e(function(e) {
                if (1 == e.g)
                    return We(e, ka(t.h, n, t.g.drm.preferredKeySystems, t.g.drm.keySystemsMapping), 2);
                if (t.g.streaming.dontChooseCodecs || xa(n, t.g.preferredVideoCodecs, t.g.preferredAudioCodecs, t.g.preferredDecodingAttributes, t.g.preferredTextFormats),
                n.variants.some(Ga))
                    return e.return(wo(t, n));
                throw new nt(2,4,4032)
            })
        }
        function To(e, t) {
            for (var n = e.g.restrictions, i = (e = e.i,
            !1), a = (t = Ze(t.variants)).next(); !a.done; a = t.next()) {
                var r = (a = a.value).allowedByApplication;
                a.allowedByApplication = Ia(a, n, e),
                r != a.allowedByApplication && (i = !0)
            }
            return i
        }
        function wo(e, t) {
            var n = To(e, t);
            if (t) {
                var i = e.h ? e.h.g : null;
                if (i && e.h.B)
                    for (var a = Ze(t.variants), r = a.next(); !r.done; r = a.next())
                        r = r.value,
                        So(e, i.keySystem, r.video),
                        So(e, i.keySystem, r.audio);
                Eo(e, t)
            }
            return n
        }
        function So(e, t, n) {
            if (n)
                for (var i = (n = Ze(n.drmInfos)).next(); !i.done; i = n.next())
                    if ((i = i.value).keySystem == t)
                        for (var a = (i = Ze(i.initData || [])).next(); !a.done; a = i.next())
                            a = a.value,
                            no(e.h, a.initDataType, a.initData)
        }
        function Eo(e, t) {
            e = e.h ? e.h.Ee() : {};
            for (var n = (n = Object.keys(e)).length && "00" == n[0], i = !1, a = !1, r = new Set, o = new Set, s = (t = Ze(t.variants)).next(); !s.done; s = t.next()) {
                var u = [];
                (s = s.value).audio && u.push(s.audio),
                s.video && u.push(s.video);
                for (var l = (u = Ze(u)).next(); !l.done; l = u.next())
                    if ((l = l.value).keyIds.size)
                        for (var c = (l = Ze(l.keyIds)).next(); !c.done; c = l.next()) {
                            var c = c.value
                              , d = e[n ? "00" : c];
                            d ? Ao.includes(d) && o.add(d) : r.add(c)
                        }
                s.allowedByApplication ? s.allowedByKeySystem && (i = !0) : a = !0
            }
            if (!i)
                throw new nt(2,4,4012,e = {
                    hasAppRestrictions: a,
                    missingKeys: Array.from(r),
                    restrictedKeyStatuses: Array.from(o)
                })
        }
        var Ao = ["output-restricted", "internal-error"];
        function xo() {}
        function Io(e, t) {
            if (t) {
                var n = ko[t.toLowerCase()];
                if (n)
                    return n
            }
            throw new nt(2,4,4e3,e,t)
        }
        i("shaka.media.ManifestParser", xo),
        xo.unregisterParserByMime = function(e) {
            delete ko[e]
        }
        ,
        xo.registerParserByMime = function(e, t) {
            ko[e] = t
        }
        ,
        xo.registerParserByExtension = function() {
            wn("ManifestParser.registerParserByExtension", "Please use an ManifestParser with registerParserByMime function.")
        }
        ,
        xo.AccessibilityPurpose = {
            bm: "visually impaired",
            rl: "hard of hearing"
        };
        var ko = {};
        function Co(e, t) {
            function n() {
                o = !0
            }
            function i(e) {
                s.push(e),
                G(e)
            }
            var a, r = e = tt(e), o = !1, s = [], u = [];
            if ((new Fr).box("moov", i).box("trak", i).box("mdia", i).box("minf", i).box("stbl", i).X("stsd", function(e) {
                a = e,
                s.push(e),
                Br(e)
            }).X("encv", n).X("enca", n).X("dvav", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("dva1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("dvh1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("dvhe", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("dvc1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("dvi1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("hev1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("hvc1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("avc1", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("avc3", function(e) {
                u.push({
                    box: e,
                    kb: 1701733238
                })
            }).X("ac-3", function(e) {
                u.push({
                    box: e,
                    kb: 1701733217
                })
            }).X("ec-3", function(e) {
                u.push({
                    box: e,
                    kb: 1701733217
                })
            }).X("ac-4", function(e) {
                u.push({
                    box: e,
                    kb: 1701733217
                })
            }).X("mp4a", function(e) {
                u.push({
                    box: e,
                    kb: 1701733217
                })
            }).parse(e),
            o)
                return e;
            if (0 == u.length || !a)
                throw Ft(e),
                new nt(2,3,3019,t);
            u.reverse();
            for (var l = (t = Ze(u)).next(); !l.done; l = t.next())
                l = l.value,
                r = function(e, t, n, i, a) {
                    var r = Lo.value()
                      , o = e.subarray(n.start, n.start + n.size)
                      , s = Ee(o)
                      , u = new Uint8Array(n.size + r.byteLength);
                    for (u.set(o, 0),
                    (o = Ee(u)).setUint32(4, a),
                    u.set(r, n.size),
                    a = s.getUint32(4),
                    o.setUint32(n.size + 16, a),
                    Mo(u, 0, u.byteLength),
                    a = new Uint8Array(e.byteLength + u.byteLength),
                    n = _e() || Ne() ? n.start : n.start + n.size,
                    r = e.subarray(n),
                    a.set(e.subarray(0, n)),
                    a.set(u, n),
                    a.set(r, n + u.byteLength),
                    e = Ze(i),
                    i = e.next(); !i.done; i = e.next())
                        i = i.value,
                        Mo(a, i.start, i.size + u.byteLength);
                    return u = Ee(a, t.start),
                    t = Xr(t),
                    e = u.getUint32(t),
                    u.setUint32(t, e + 1),
                    a
                }(r, a, l.box, s, l.kb);
            return Ne() && vt() && !_e() ? ((t = new Uint8Array(e.byteLength + r.byteLength)).set(r),
            t.set(e, r.byteLength),
            t) : r
        }
        function Mo(e, t, n) {
            0 != (t = (e = Ee(e, t)).getUint32(0)) && (1 == t ? (e.setUint32(8, n >> 32),
            e.setUint32(12, 4294967295 & n)) : e.setUint32(0, n))
        }
        var Lo = new Ie(function() {
            return new Uint8Array([0, 0, 0, 80, 115, 105, 110, 102, 0, 0, 0, 12, 102, 114, 109, 97, 0, 0, 0, 0, 0, 0, 0, 20, 115, 99, 104, 109, 0, 0, 0, 0, 99, 101, 110, 99, 0, 1, 0, 0, 0, 0, 0, 40, 115, 99, 104, 105, 0, 0, 0, 32, 116, 101, 110, 99, 0, 0, 0, 0, 0, 0, 1, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
        }
        );
        function Ro(e, t, n, i, a, r, o) {
            this.R = e,
            this.eb = t,
            this.La = n,
            this.sd = void 0 === i ? null : i,
            this.timescale = void 0 === a ? null : a,
            this.g = void 0 === r ? null : r,
            this.aesKey = void 0 === o ? null : o,
            this.mimeType = this.codecs = null
        }
        function Po(e, t) {
            return e === t || (e && t ? e.Jb() == t.Jb() && e.Gb() == t.Gb() && Un(e.R().sort(), t.R().sort()) && Te(e.Lc(), t.Lc()) : e == t)
        }
        function at(e, t, n, i, a, r, o, s, u, l, c, d, h, f, p, g) {
            for (l = void 0 === l ? [] : l,
            f = void 0 === f ? Do : f,
            this.startTime = e,
            this.j = this.endTime = t,
            this.G = n,
            this.eb = i,
            this.La = a,
            this.na = r,
            this.timestampOffset = o,
            this.appendWindowStart = s,
            this.appendWindowEnd = u,
            this.g = l,
            this.tilesLayout = void 0 === c ? "" : c,
            this.B = void 0 === d ? null : d,
            this.h = void 0 === h ? null : h,
            this.status = f,
            this.preload = !1,
            this.l = !0,
            this.m = !1,
            this.aesKey = void 0 === p ? null : p,
            this.thumbnailSprite = null,
            this.i = -1,
            this.u = void 0 !== g && g,
            this.H = this.s = !1,
            t = (e = Ze(this.g)).next(); !t.done; t = e.next())
                t.value.$h();
            this.u && this.g.length && this.g[this.g.length - 1].Zh(),
            this.C = this.bandwidth = this.mimeType = this.codecs = null
        }
        Ro.prototype.Jb = function() {
            return this.eb
        }
        ,
        Ro.prototype.Gb = function() {
            return this.La
        }
        ,
        Ro.prototype.Lc = function() {
            return this.g
        }
        ,
        i("shaka.media.InitSegmentReference", Ro),
        Ro.prototype.getEndByte = Ro.prototype.Gb,
        Ro.prototype.getStartByte = Ro.prototype.Jb,
        (t = at.prototype).R = function() {
            return this.G()
        }
        ,
        t.getStartTime = function() {
            return this.startTime
        }
        ,
        t.nj = function() {
            return this.endTime
        }
        ,
        t.Jb = function() {
            return this.eb
        }
        ,
        t.Gb = function() {
            return this.La
        }
        ,
        t.Ij = function() {
            return this.tilesLayout
        }
        ,
        t.Hj = function() {
            return this.B
        }
        ,
        t.uc = function() {
            return this.status
        }
        ,
        t.ek = function() {
            this.status = No
        }
        ,
        t.Fg = function() {
            this.preload = !0
        }
        ,
        t.isPreload = function() {
            return this.preload
        }
        ,
        t.rd = function() {
            this.l = !1
        }
        ,
        t.Uj = function() {
            return this.l
        }
        ,
        t.$h = function() {
            this.s = !0
        }
        ,
        t.Wj = function() {
            return this.s
        }
        ,
        t.Zh = function() {
            this.H = !0
        }
        ,
        t.Vj = function() {
            return this.H
        }
        ,
        t.Yh = function() {
            this.m = !0
        }
        ,
        t.Qj = function() {
            return this.m
        }
        ,
        t.lf = function(e) {
            this.thumbnailSprite = e
        }
        ,
        t.Gj = function() {
            return this.thumbnailSprite
        }
        ,
        t.offset = function(e) {
            this.startTime += e,
            this.endTime += e,
            this.j += e;
            for (var t = Ze(this.g), n = t.next(); !n.done; n = t.next())
                (n = n.value).startTime += e,
                n.endTime += e,
                n.j += e
        }
        ,
        t.hh = function(e) {
            null == this.h ? Y("Sync attempted without sync time!") : (e = this.h - e - this.startTime,
            .001 <= Math.abs(e) && this.offset(e))
        }
        ,
        t.Nk = function(e) {
            this.C = e
        }
        ,
        t.Lc = function() {
            return this.C
        }
        ,
        i("shaka.media.SegmentReference", at),
        at.prototype.getSegmentData = at.prototype.Lc,
        at.prototype.setSegmentData = at.prototype.Nk,
        at.prototype.syncAgainst = at.prototype.hh,
        at.prototype.getThumbnailSprite = at.prototype.Gj,
        at.prototype.setThumbnailSprite = at.prototype.lf,
        at.prototype.hasByterangeOptimization = at.prototype.Qj,
        at.prototype.markAsByterangeOptimization = at.prototype.Yh,
        at.prototype.isLastPartial = at.prototype.Vj,
        at.prototype.markAsLastPartial = at.prototype.Zh,
        at.prototype.isPartial = at.prototype.Wj,
        at.prototype.markAsPartial = at.prototype.$h,
        at.prototype.isIndependent = at.prototype.Uj,
        at.prototype.markAsNonIndependent = at.prototype.rd,
        at.prototype.markAsPreload = at.prototype.Fg,
        at.prototype.markAsUnavailable = at.prototype.ek,
        at.prototype.getStatus = at.prototype.uc,
        at.prototype.getTileDuration = at.prototype.Hj,
        at.prototype.getTilesLayout = at.prototype.Ij,
        at.prototype.getEndByte = at.prototype.Gb,
        at.prototype.getStartByte = at.prototype.Jb,
        at.prototype.getEndTime = at.prototype.nj,
        at.prototype.getUris = at.prototype.R;
        var Do = 0
          , No = 1;
        function _o(e) {
            return 1 == e.length && e.end(0) - e.start(0) < 1e-4
        }
        function Oo(e) {
            return e && !_o(e) && e.length ? e.end(e.length - 1) : null
        }
        function Uo(e, t) {
            return !(!e || !e.length || _o(e) || t > e.end(e.length - 1)) && t >= e.start(0)
        }
        function jo(e, t) {
            if (!e || !e.length || _o(e))
                return 0;
            for (var n = 0, i = (e = Ze(Fo(e))).next(); !i.done; i = e.next()) {
                var a = i.value
                  , i = a.start;
                t < (a = a.end) && (n += a - Math.max(i, t))
            }
            return n
        }
        function Fo(e) {
            if (!e)
                return [];
            for (var t = [], n = 0; n < e.length; n++)
                t.push({
                    start: e.start(n),
                    end: e.end(n)
                });
            return t
        }
        function Bo() {}
        function k(e) {
            return document.createElement(e)
        }
        function Go() {
            var e = document.createElement("button");
            return e.setAttribute("type", "button"),
            e
        }
        function Vo(e, t) {
            var n = document.createElement("source");
            return n.src = e,
            n.type = void 0 === t ? "" : t,
            n
        }
        function Ho(e) {
            for (; e.firstChild; )
                e.removeChild(e.firstChild)
        }
        function Ko() {}
        function zo(e, t) {
            return t + 10 <= e.length && 73 === e[t] && 68 === e[t + 1] && 51 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
        }
        function Xo(e, t) {
            return t + 10 <= e.length && 51 === e[t] && 68 === e[t + 1] && 73 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
        }
        function Wo(e, t) {
            var n = (127 & e[t]) << 21;
            return (n = (n |= (127 & e[t + 1]) << 14) | (127 & e[t + 2]) << 7) | 127 & e[t + 3]
        }
        function Yo(e) {
            for (var t = 0, n = []; zo(e, t); ) {
                var i = Wo(e, t + 6);
                for (e[t + 5] >> 6 & 1 && (t += 10),
                i = (t += 10) + i; t + 10 < i; ) {
                    var a = e.subarray(t)
                      , r = Wo(a, 4);
                    (r = function(e) {
                        var t = {
                            key: e.type,
                            description: "",
                            data: "",
                            mimeType: null,
                            pictureType: null
                        };
                        if ("APIC" !== e.type)
                            return "TXXX" === e.type || "WXXX" === e.type ? e.size < 2 || 3 !== e.data[0] || -1 === (i = e.data.subarray(1).indexOf(0)) ? null : (n = It(tt(e.data, 1, i)),
                            e = It(tt(e.data, 2 + i)).replace(/\0*$/, ""),
                            t.description = n,
                            t.data = e,
                            t) : "PRIV" === e.type ? e.size < 2 || -1 === (n = e.data.indexOf(0)) ? null : (n = It(tt(e.data, 0, n)),
                            "com.apple.streaming.transportStreamTimestamp" == (t.description = n) ? (e = 1 & (n = e.data.subarray(n.length + 1))[3],
                            n = (n[4] << 23) + (n[5] << 15) + (n[6] << 7) + n[7],
                            n /= 45,
                            e && (n += 47721858.84),
                            t.data = n) : (e = we(e.data.subarray(n.length + 1)),
                            t.data = e),
                            t) : "T" === e.type[0] ? e.size < 2 || 3 !== e.data[0] ? null : (e = It(e.data.subarray(1)).replace(/\0*$/, ""),
                            t.data = e,
                            t) : "W" === e.type[0] ? (e = It(e.data).replace(/\0*$/, ""),
                            t.data = e,
                            t) : e.data ? (t.data = we(e.data),
                            t) : null;
                        if (e.size < 2 || 3 !== e.data[0])
                            return null;
                        var n = e.data.subarray(1).indexOf(0);
                        if (-1 === n)
                            return null;
                        var i = It(tt(e.data, 1, n))
                          , a = e.data[2 + n]
                          , r = e.data.subarray(3 + n).indexOf(0);
                        if (-1 === r)
                            return null;
                        var o = It(tt(e.data, 3 + n, r))
                          , e = "--\x3e" === i ? It(tt(e.data, 4 + n + r)) : we(e.data.subarray(4 + n + r));
                        return t.mimeType = i,
                        t.pictureType = a,
                        t.description = o,
                        t.data = e,
                        t
                    }(a = {
                        type: String.fromCharCode(a[0], a[1], a[2], a[3]),
                        size: r,
                        data: a.subarray(10, 10 + r)
                    })) && n.push(r),
                    t += a.size + 10
                }
                Xo(e, t) && (t += 10)
            }
            return n
        }
        function qo(e, t) {
            for (var n = t = void 0 === t ? 0 : t, i = 0; zo(e, t); )
                e[t + 5] >> 6 & 1 && (i += 10),
                i = i + 10 + Wo(e, t + 6),
                Xo(e, t + 10) && (i += 10),
                t += i;
            return 0 < i ? e.subarray(n, n + i) : new Uint8Array([])
        }
        function Jo(e, t) {
            var n = null
              , i = null
              , a = null
              , r = e.U();
            return 1 & t && (a = e.xd()),
            2 & t && e.skip(4),
            {
                trackId: r,
                Kd: n = 8 & t ? e.U() : n,
                ze: i = 16 & t ? e.U() : i,
                dm: a
            }
        }
        function Qo(e, t) {
            return 1 == t ? (t = e.U(),
            e = e.U(),
            {
                baseMediaDecodeTime: t * Math.pow(2, 32) + e
            }) : {
                baseMediaDecodeTime: e.U()
            }
        }
        function $o(e, t) {
            return 1 == t ? (e.skip(8),
            e.skip(8)) : (e.skip(4),
            e.skip(4)),
            t = e.U(),
            e.skip(4),
            e = e.za(),
            {
                timescale: t,
                language: String.fromCharCode(96 + (e >> 10)) + String.fromCharCode(96 + ((960 & e) >> 5)) + String.fromCharCode(96 + (31 & e))
            }
        }
        function Zo(e, t, n) {
            var i = e.U()
              , a = []
              , r = null;
            1 & n && (r = e.U()),
            4 & n && e.skip(4);
            for (var o = 0; o < i; o++) {
                var s = {
                    Tg: null,
                    sampleSize: null,
                    df: null
                };
                256 & n && (s.Tg = e.U()),
                512 & n && (s.sampleSize = e.U()),
                1024 & n && e.skip(4),
                2048 & n && (s.df = 0 == t ? e.U() : e.ki()),
                a.push(s)
            }
            return {
                hm: i,
                oi: a,
                bj: r
            }
        }
        function es(e) {
            e.skip(6),
            e.skip(2),
            e.skip(8);
            var t = e.za();
            return e.skip(2),
            e.skip(2),
            e.skip(2),
            {
                channelCount: t,
                sampleRate: e = e.za() + e.za() / 65536
            }
        }
        function ts(e) {
            return {
                codec: zr(e = e.U())
            }
        }
        function ns(e, t) {
            return t = void 0 !== t && t,
            e = e.toString(16).toUpperCase(),
            t ? e : ("0" + e).slice(-2)
        }
        function is(e) {
            return (e < 10 ? "0" : "") + e
        }
        function as(e, t) {
            if (this.j = e,
            void 0 !== t && t) {
                t = new Uint8Array(e.byteLength);
                for (var n = 0, i = 0; i < e.byteLength; i++)
                    2 <= i && 3 == e[i] && 0 == e[i - 1] && 0 == e[i - 2] || (t[n] = e[i],
                    n++);
                this.j = tt(t, 0, n)
            }
            this.i = this.j.byteLength,
            this.g = this.h = 0
        }
        function rs(e) {
            var t = e.j.byteLength - e.i
              , n = new Uint8Array(4)
              , i = Math.min(4, e.i);
            0 !== i && (n.set(e.j.subarray(t, t + i)),
            e.h = new Or(n,0).U(),
            e.g = 8 * i,
            e.i -= i)
        }
        function os(e, t) {
            var n;
            e.g <= t && (t = (t -= e.g) - 8 * (n = Math.floor(t / 8)),
            e.g -= n,
            rs(e)),
            e.h <<= t,
            e.g -= t
        }
        function rt(e, t) {
            var n = Math.min(e.g, t)
              , i = e.h >>> 32 - n;
            return e.g -= n,
            0 < e.g ? e.h <<= n : 0 < e.i && rs(e),
            0 < (n = t - n) ? i << n | rt(e, n) : i
        }
        function ss(e) {
            for (var t = 0; t < e.g; ++t)
                if (0 != (e.h & 2147483648 >>> t))
                    return e.h <<= t,
                    e.g -= t,
                    t;
            return rs(e),
            t + ss(e)
        }
        function us(e) {
            os(e, 1 + ss(e))
        }
        function ot(e) {
            return rt(e, ss(e) + 1) - 1
        }
        function ls(e) {
            return 1 & (e = ot(e)) ? 1 + e >>> 1 : -1 * (e >>> 1)
        }
        function st(e) {
            return 1 === rt(e, 1)
        }
        function ut(e) {
            return rt(e, 8)
        }
        function cs(e, t) {
            for (var n = 8, i = 8, a = 0; a < t; a++)
                n = 0 === (i = 0 !== i ? (n + (i = ls(e)) + 256) % 256 : i) ? n : i
        }
        function ds() {
            this.I = null,
            this.J = !1,
            this.m = this.K = null,
            this.j = [],
            this.g = [],
            this.B = this.C = null,
            this.i = [],
            this.h = [],
            this.G = null,
            this.l = [],
            this.H = this.s = this.u = null
        }
        function hs(e, t) {
            if (1 != (t[0] << 16 | t[1] << 8 | t[2]))
                return null;
            var n = {
                data: new Uint8Array(0),
                packetLength: t[4] << 8 | t[5],
                pts: null,
                dts: null,
                nalus: []
            };
            if (n.packetLength && n.packetLength > t.byteLength - 6)
                return null;
            var i, a = t[7];
            return 192 & a && (i = 536870912 * (14 & t[9]) + 4194304 * (255 & t[10]) + 16384 * (254 & t[11]) + 128 * (255 & t[12]) + (254 & t[13]) / 2,
            null == e.u && (e.u = i),
            n.pts = ps(i, e.u),
            e.u = n.pts,
            n.dts = n.pts,
            64 & a && (a = 536870912 * (14 & t[14]) + 4194304 * (255 & t[15]) + 16384 * (254 & t[16]) + 128 * (255 & t[17]) + (254 & t[18]) / 2,
            null == e.s && (e.s = a),
            n.dts = ps(a, e.s)),
            e.s = n.dts),
            e = t[8] + 9,
            t.byteLength <= e ? null : (n.data = t.subarray(e),
            n)
        }
        function fs(e) {
            var t = e.Mc();
            return 1 < t.length && (e = t[0].pts,
            t = t[1].pts,
            !isNaN(t - e)) ? String(1 / (t - e) * 9e4) : null
        }
        function ps(e, t) {
            var n = 1;
            for (t < e && (n = -1); 4294967296 < Math.abs(t - e); )
                e += 8589934592 * n;
            return e
        }
        function gs(e) {
            return !(ms(e) < 0)
        }
        function ms(e) {
            for (var t = Math.min(1e3, e.length - 564), n = 0; n < t; ) {
                if (71 == e[n] && 71 == e[n + 188] && 71 == e[n + 376])
                    return n;
                n++
            }
            return -1
        }
        at.Status = {
            Xk: Do,
            $l: No,
            Bl: 2
        },
        i("shaka.util.Dom", Bo),
        Bo.removeAllChildren = Ho,
        i("shaka.util.Id3Utils", Ko),
        Ko.getID3Data = qo,
        Ko.getID3Frames = Yo,
        i("shaka.util.ExpGolomb", as),
        (t = ds.prototype).clearData = function() {
            this.j = [],
            this.g = [],
            this.i = [],
            this.h = [],
            this.l = []
        }
        ,
        t.parse = function(e) {
            if (e.length < 564)
                return this;
            for (var t = Math.max(0, ms(e)), n = e.length - (e.length + t) % 188, i = !1, a = t; a < n; a += 188)
                if (71 == e[a]) {
                    var r = !!(64 & e[a + 1])
                      , o = ((31 & e[a + 1]) << 8) + e[a + 2];
                    if (1 < (48 & e[a + 3]) >> 4) {
                        var s = a + 5 + e[a + 4];
                        if (s == a + 188)
                            continue
                    } else
                        s = a + 4;
                    switch (o) {
                    case 0:
                        r && (s += e[s] + 1),
                        this.I = (31 & e[s + 10]) << 8 | e[s + 11];
                        break;
                    case 17:
                    case 8191:
                        break;
                    case this.I:
                        r && (s += e[s] + 1);
                        var o = {
                            audio: -1,
                            video: -1,
                            Ke: -1,
                            audioCodec: "",
                            videoCodec: ""
                        }
                          , u = s + 3 + ((15 & (r = e)[s + 1]) << 8 | r[s + 2]) - 4;
                        for (s += 12 + ((15 & r[s + 10]) << 8 | r[s + 11]); s < u; ) {
                            var l = (31 & r[s + 1]) << 8 | r[s + 2]
                              , c = (15 & r[s + 3]) << 8 | r[s + 4];
                            switch (r[s]) {
                            case 6:
                                if (0 < c)
                                    for (var d = s + 5, h = c; 2 < h; ) {
                                        var f = r[d + 1] + 2;
                                        switch (r[d]) {
                                        case 5:
                                            var p = Rt(r.subarray(d + 2, d + f));
                                            -1 == o.audio && "Opus" === p ? (o.audio = l,
                                            o.audioCodec = "opus") : -1 == o.video && "AV01" === p && (o.video = l,
                                            o.videoCodec = "av1");
                                            break;
                                        case 106:
                                            -1 == o.audio && (o.audio = l,
                                            o.audioCodec = "ac3");
                                            break;
                                        case 122:
                                            -1 == o.audio && (o.audio = l,
                                            o.audioCodec = "ec3");
                                            break;
                                        case 124:
                                            -1 == o.audio && (o.audio = l,
                                            o.audioCodec = "aac");
                                            break;
                                        case 127:
                                            "opus" == o.audioCodec && ((p = null) != (p = 128 === r[d + 2] ? r[d + 3] : p) && (this.H = {
                                                channelCount: 0 == (15 & p) ? 2 : 15 & p,
                                                Zi: p,
                                                sampleRate: 48e3
                                            }))
                                        }
                                        d += f,
                                        h -= f
                                    }
                                break;
                            case 15:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "aac");
                                break;
                            case 17:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "aac-loas");
                                break;
                            case 21:
                                -1 == o.Ke && (o.Ke = l);
                                break;
                            case 27:
                                -1 == o.video && (o.video = l,
                                o.videoCodec = "avc");
                                break;
                            case 3:
                            case 4:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "mp3");
                                break;
                            case 36:
                                -1 == o.video && (o.video = l,
                                o.videoCodec = "hvc");
                                break;
                            case 129:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "ac3");
                                break;
                            case 132:
                            case 135:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "ec3")
                            }
                            s += 5 + c
                        }
                        -1 != (r = o).video && (this.K = r.video,
                        this.m = r.videoCodec),
                        -1 != r.audio && (this.C = r.audio,
                        this.B = r.audioCodec),
                        -1 != r.Ke && (this.G = r.Ke),
                        i && !this.J && (i = !1,
                        a = t - 188),
                        this.J = !0;
                        break;
                    case this.K:
                        s = e.subarray(s, a + 188),
                        r ? this.j.push([s]) : this.j.length && this.j[this.j.length - 1] && this.j[this.j.length - 1].push(s);
                        break;
                    case this.C:
                        s = e.subarray(s, a + 188),
                        r ? this.i.push([s]) : this.i.length && this.i[this.i.length - 1] && this.i[this.i.length - 1].push(s);
                        break;
                    case this.G:
                        s = e.subarray(s, a + 188),
                        r ? this.l.push([s]) : this.l.length && this.l[this.l.length - 1] && this.l[this.l.length - 1].push(s);
                        break;
                    default:
                        i = !0
                    }
                }
            return this
        }
        ,
        t.kk = function(e) {
            return wn("TsParser.parseAvcNalus", "Please use parseNalus function instead."),
            this.Lg(e)
        }
        ,
        t.Lg = function(e, t, n) {
            var i = e.pts ? e.pts / 9e4 : null
              , a = (e = e.data).byteLength
              , r = 1;
            "hvc" == this.m && (r = 2);
            for (var o, s = n || 0, u = [], l = -1, c = 0, d = 0; d < a; ++d) {
                var h = e[d];
                if (h) {
                    if (2 <= s && 1 == h) {
                        if (t && !u.length && -1 == l && (h = d - (3 < s ? 3 : s),
                        n && 0 != h && (h = e.subarray(0, h),
                        t.data = Bt(t.data, h),
                        t.fullData = Bt(t.fullData, h))),
                        0 <= l ? u.push({
                            data: e.subarray(l + r, (s = d - ((3 < s ? 3 : s) + 1)) + 1),
                            fullData: e.subarray(l, s + 1),
                            type: c,
                            time: i
                        }) : t && !u.length && (0 < (l = d - s) && (l = e.subarray(0, l),
                        t.data = Bt(t.data, l),
                        t.fullData = Bt(t.fullData, l))),
                        a - r <= d)
                            return u;
                        l = ++d,
                        c = "hvc" == this.m ? e[d] >> 1 & 63 : 31 & e[d]
                    }
                    s = 0
                } else
                    s++;
                a - 1 <= d && 0 <= l && 0 <= s && (o = {
                    data: e.subarray(l + r, a),
                    fullData: e.subarray(l, a),
                    type: c,
                    time: i
                })
            }
            return o && u.push(o),
            !u.length && t && (t.data = Bt(t.data, e),
            t.fullData = Bt(t.fullData, e)),
            u
        }
        ,
        t.getMetadata = function() {
            for (var e = [], t = Ze(this.l), n = t.next(); !n.done; n = t.next())
                (n = hs(this, n = Bt.apply(Nt, et(n.value)))) && e.push({
                    cueTime: n.pts ? n.pts / 9e4 : null,
                    data: n.data,
                    frames: Yo(n.data),
                    dts: n.dts,
                    pts: n.pts
                });
            return e
        }
        ,
        t.sc = function() {
            if (this.i.length && !this.h.length) {
                for (var e = !1, t = Ze(this.i), n = t.next(); !n.done; n = t.next()) {
                    var i = Bt.apply(Nt, et(n.value))
                      , a = hs(this, i)
                      , n = this.h.length ? this.h[this.h.length - 1] : null;
                    a && null != a.pts && null != a.dts && (!n || n.pts != a.pts && n.dts != a.dts) ? (this.h.length && a.dts < (n.dts || 0) && (e = !0),
                    this.h.push(a)) : this.h.length && (i = a ? a.data : i) && ((n = this.h.pop()).data = Bt(n.data, i),
                    this.h.push(n))
                }
                e && (this.h = this.h.sort(function(e, t) {
                    var n = (e.pts || 0) - (t.pts || 0);
                    return (e.dts || 0) - (t.dts || 0) || n
                }))
            }
            return this.h
        }
        ,
        t.Mc = function(e) {
            if (e = void 0 === e || e,
            this.j.length && !this.g.length) {
                for (var t, n = !1, i = Ze(this.j), a = i.next(); !a.done; a = i.next()) {
                    var r = Bt.apply(Nt, et(a.value))
                      , o = hs(this, r)
                      , a = this.g.length ? this.g[this.g.length - 1] : null;
                    o && null != o.pts && null != o.dts && (!a || a.pts != o.pts && a.dts != o.dts) ? (this.g.length && o.dts < (a.dts || 0) && (n = !0),
                    this.g.push(o)) : this.g.length && (r = o ? o.data : r) && ((a = this.g.pop()).data = Bt(a.data, r),
                    this.g.push(a))
                }
                if (e) {
                    for (i = [],
                    r = (a = Ze(this.g)).next(); !r.done; r = a.next())
                        (r = r.value).nalus = this.Lg(r, t, void 0),
                        r.nalus.length && (i.push(r),
                        t = r.nalus[r.nalus.length - 1]);
                    this.g = i
                }
                n && (this.g = this.g.sort(function(e, t) {
                    var n = (e.pts || 0) - (t.pts || 0);
                    return (e.dts || 0) - (t.dts || 0) || n
                }))
            }
            return e ? this.g : (e = this.g,
            this.g = [],
            e)
        }
        ,
        t.getStartTime = function(e) {
            var t;
            return "audio" == e ? (e = null,
            (t = this.sc()).length && (e = t[0],
            e = Math.min(e.dts, e.pts) / 9e4),
            e) : "video" == e ? (e = null,
            (t = this.Mc(!1)).length && (e = t[0],
            e = Math.min(e.dts, e.pts) / 9e4),
            e) : null
        }
        ,
        t.Ld = function() {
            return {
                audio: this.B,
                video: this.m
            }
        }
        ,
        t.Ie = function() {
            for (var e = [], t = Ze(this.Mc()), n = t.next(); !n.done; n = t.next())
                e.push.apply(e, et(n.value.nalus));
            return e
        }
        ,
        t.Nj = function() {
            wn("TsParser.getVideoResolution", "Please use getVideoInfo function instead.");
            var e = this.rg();
            return {
                height: e.height,
                width: e.width
            }
        }
        ,
        t.rg = function() {
            return ("hvc" == this.m ? function(e) {
                var t = {
                    height: null,
                    width: null,
                    codec: null,
                    frameRate: null
                }
                  , n = e.Ie();
                if (!n.length)
                    return t;
                if (!(n = n.find(function(e) {
                    return 33 == e.type
                })))
                    return t;
                var i = new as(n.fullData,!0)
                  , a = (ut(i),
                ut(i),
                rt(i, 4),
                rt(i, 3))
                  , r = (st(i),
                rt(i, 2))
                  , o = rt(i, 1)
                  , s = rt(i, 5)
                  , u = rt(i, 32);
                n = ut(i);
                for (var l = ut(i), c = ut(i), d = ut(i), h = ut(i), f = ut(i), p = ut(i), g = [], m = [], v = 0; v < a; v++)
                    g.push(st(i)),
                    m.push(st(i));
                if (0 < a)
                    for (v = a; v < 8; v++)
                        rt(i, 2);
                for (v = 0; v < a; v++)
                    g[v] && rt(i, 88),
                    m[v] && ut(i);
                ot(i),
                3 == (a = ot(i)) && rt(i, 1),
                g = ot(i),
                m = ot(i);
                var y = v = 0
                  , b = 0
                  , T = 0;
                return st(i) && (v += ot(i),
                y += ot(i),
                b += ot(i),
                T += ot(i)),
                t.width = String(g - (v + y) * (1 === a || 2 === a ? 2 : 1)),
                t.height = String(m - (b + T) * (1 === a ? 2 : 1)),
                i = function(e) {
                    for (var t = 0, n = 0; n < 32; n++)
                        t |= (e >> n & 1) << 31 - n;
                    return t >>> 0
                }(u),
                o = 1 == o ? "H" : "L",
                r = "hvc1." + ["", "A", "B", "C"][r] + s,
                r = (r += "." + i.toString(16).toUpperCase()) + "." + o + p,
                f && (r += "." + f.toString(16).toUpperCase()),
                h && (r += "." + h.toString(16).toUpperCase()),
                d && (r += "." + d.toString(16).toUpperCase()),
                c && (r += "." + c.toString(16).toUpperCase()),
                l && (r += "." + l.toString(16).toUpperCase()),
                n && (r += "." + n.toString(16).toUpperCase()),
                t.codec = r,
                t.frameRate = fs(e),
                t
            }
            : function(e) {
                var t = {
                    height: null,
                    width: null,
                    codec: null,
                    frameRate: null
                }
                  , n = e.Ie();
                if (!n.length)
                    return t;
                if (!(n = n.find(function(e) {
                    return 7 == e.type
                })))
                    return t;
                var i = ut(n = new as(n.data))
                  , a = ut(n)
                  , r = ut(n);
                if (us(n),
                vs.includes(i)) {
                    var o = ot(n);
                    if (3 === o && os(n, 1),
                    us(n),
                    us(n),
                    os(n, 1),
                    st(n)) {
                        o = 3 !== o ? 8 : 12;
                        for (var s = 0; s < o; s++)
                            st(n) && cs(n, s < 6 ? 16 : 64)
                    }
                }
                if (us(n),
                0 === (o = ot(n)))
                    ot(n);
                else if (1 === o)
                    for (os(n, 1),
                    us(n),
                    us(n),
                    o = ot(n),
                    s = 0; s < o; s++)
                        us(n);
                us(n),
                os(n, 1),
                o = ot(n),
                s = ot(n);
                var u = rt(n, 1)
                  , l = (0 === u && os(n, 1),
                os(n, 1),
                0)
                  , c = 0
                  , d = 0
                  , h = 0;
                return st(n) && (l = ot(n),
                c = ot(n),
                d = ot(n),
                h = ot(n)),
                t.height = String((2 - u) * (s + 1) * 16 - 2 * d - 2 * h),
                t.width = String(16 * (o + 1) - 2 * l - 2 * c),
                t.codec = "avc1." + ("0" + i.toString(16).toUpperCase()).slice(-2) + ("0" + a.toString(16).toUpperCase()).slice(-2) + ("0" + r.toString(16).toUpperCase()).slice(-2),
                t.frameRate = fs(e),
                t
            }
            )(this)
        }
        ,
        i("shaka.util.TsParser", ds),
        ds.syncOffset = ms,
        ds.probe = gs,
        ds.prototype.getVideoInfo = ds.prototype.rg,
        ds.prototype.getVideoResolution = ds.prototype.Nj,
        ds.prototype.getVideoNalus = ds.prototype.Ie,
        ds.prototype.getCodecs = ds.prototype.Ld,
        ds.prototype.getVideoData = ds.prototype.Mc,
        ds.prototype.getAudioData = ds.prototype.sc,
        ds.prototype.parseNalus = ds.prototype.Lg,
        ds.prototype.parseAvcNalus = ds.prototype.kk,
        ds.Timescale = 9e4;
        var vs = [100, 110, 122, 244, 44, 83, 86, 118, 128, 138, 139, 134];
        function ys(e, t, n) {
            this.g = null,
            this.s = -1,
            this.l = e,
            this.i = t,
            this.m = n,
            this.j = !1;
            e: {
                if ("undefined" == typeof libDPIModule && Q("Could not find LCEVC Library dependencies on this page"),
                "undefined" != typeof LCEVCdec)
                    this.h = LCEVCdec;
                else {
                    if ("undefined" == typeof LcevcDil) {
                        Q("Could not find LCEVC Library on this page"),
                        e = !1;
                        break e
                    }
                    this.h = LcevcDil,
                    this.j = !0,
                    wn("LcevcDil", "lcevc_dil.js is deprecated, please use lcevc_dec.js instead")
                }
                e = void 0 === this.h.SupportObject ? (Q("Could not find LCEVC Library on this page"),
                !1) : (this.h.SupportObject.SupportStatus || Q(this.h.SupportObject.SupportError),
                void 0 !== this.h && "undefined" != typeof libDPIModule && this.i instanceof HTMLCanvasElement && this.h.SupportObject.SupportStatus)
            }
            e && !this.g && this.h.SupportObject.webGLSupport(this.i) && (this.i.classList.remove("shaka-hidden"),
            this.g = new (this.j ? this.h.LcevcDil : this.h.LCEVCdec)(this.l,this.i,this.m))
        }
        function bs(e) {
            e.g && e.i.classList.add("shaka-hidden")
        }
        function Ts(e, t, n) {
            var i = 0
              , a = -1;
            switch (t.mimeType) {
            case "video/webm":
                i = 1;
                break;
            case "video/mp4":
                i = 2
            }
            switch (n) {
            case "DASH":
                a = 1;
                break;
            case "HLS":
                a = 0
            }
            e.g && (e.s = t.id,
            e.g.setLevelSwitching(t.id, !0),
            e.g.setContainerFormat(i),
            e.j || e.g.setStreamingFormat(a))
        }
        function ws(e, t, n, i) {
            var c = this;
            this.g = e,
            this.H = n,
            this.B = null,
            this.ea = t,
            this.i = {},
            this.I = {},
            this.Oa = {},
            this.h = null,
            this.Ca = !1,
            this.aa = i || null,
            this.s = {},
            this.u = new pn,
            this.j = {},
            this.J = null,
            this.S = new fr,
            this.Fa = "",
            this.Ya = !1,
            this.ya = !0,
            this.W = !1,
            this.C = this.L = null,
            this.l = Ss(this, this.S),
            this.K = !1,
            this.M = new Pr(function() {
                return t = c,
                $e(function(e) {
                    if (1 == e.g) {
                        for (i in n = [],
                        t.s)
                            for (a = t.s[i],
                            r = a[0],
                            t.s[i] = a.slice(0, 1),
                            r && n.push(r.p.catch(wa)),
                            o = Ze(a.slice(1)),
                            s = o.next(); !s.done; s = o.next())
                                u = s.value,
                                u.p.reject(new nt(2,7,7003,void 0));
                        return t.h && n.push(t.h.destroy()),
                        We(e, Promise.all(n), 2)
                    }
                    for (l in t.j)
                        t.j[l].destroy();
                    t.u && (t.u.release(),
                    t.u = null),
                    t.g && t.C && t.g.removeChild(t.C),
                    t.g && t.L && (t.g.removeChild(t.L),
                    t.g.load(),
                    t.g.disableRemotePlayback = !1),
                    t.g = null,
                    t.L = null,
                    t.C = null,
                    t.B = null,
                    t.l = null,
                    t.h = null,
                    t.ea = null,
                    t.i = {},
                    t.j = {},
                    t.J = null,
                    t.s = {},
                    t.aa = null,
                    t.V = {},
                    t.H = null,
                    Ye(e)
                });
                var t, n, i, a, r, o, s, u, l
            }
            ),
            this.G = !1,
            this.Z = "UNKNOWN",
            this.Ja = this.Ta = !1,
            this.Ga = new fr,
            this.m = !1,
            this.ra = null,
            this.V = {},
            this.ma = this.O = this.Ba = this.P = null,
            this.ha = new fr,
            this.g.remote && (this.W = "disconnected" != this.g.remote.state,
            this.u.o(this.g.remote, "connect", function() {
                c.W = "disconnected" != c.g.remote.state
            }),
            this.u.o(this.g.remote, "connecting", function() {
                c.W = "disconnected" != c.g.remote.state
            }),
            this.u.o(this.g.remote, "disconnect", function() {
                c.W = "disconnected" != c.g.remote.state
            }))
        }
        function Ss(e, t) {
            var n;
            return e.ya = !0,
            U.ManagedMediaSource ? (e.C || (e.g.disableRemotePlayback = !0),
            n = new ManagedMediaSource,
            e.u.o(n, "startstreaming", function() {
                e.ya = !0
            }),
            e.u.o(n, "endstreaming", function() {
                e.ya = !1
            })) : n = new MediaSource,
            e.u.oa(n, "sourceopen", function() {
                URL.revokeObjectURL(e.Fa),
                t.resolve()
            }),
            e.u.oa(e.g, "playing", function() {
                e.Ya = !0
            }),
            e.Fa = Vs(n),
            e.g.removeAttribute("src"),
            e.L && e.g.removeChild(e.L),
            e.C && e.g.removeChild(e.C),
            e.L = Vo(e.Fa),
            e.g.appendChild(e.L),
            e.C && e.g.appendChild(e.C),
            e.g.load(),
            n
        }
        function Es(t, n) {
            var i, a, r, o, s, u, l;
            return $e(function(e) {
                if (1 == e.g)
                    return t.createSegmentIndex ? We(e, t.createSegmentIndex(), 2) : e.A(2);
                if (!t.segmentIndex)
                    return e.return(!1);
                if (0 == t.segmentIndex.getNumReferences())
                    return e.return(!0);
                for (i = Wt,
                a = new Set,
                r = Ze(t.segmentIndex),
                o = r.next(); !o.done; o = r.next())
                    if (s = o.value,
                    l = s.mimeType || t.mimeType || "",
                    s = s.codecs || t.codecs || "",
                    u = l + ":" + s,
                    !a.has(u))
                        if (a.add(u),
                        n == i.Na) {
                            if (!ma(ia(l, s)))
                                return e.return(!1)
                        } else if (n == i.xa ? s = Da(s) : n == i.ba && (s = Pa(s, l)),
                        u = function(i, e, a) {
                            var r = [e];
                            return fa.forEach(function(e, t) {
                                var n = i[t];
                                "codecs" == t ? pa.includes(i.mimeType) || r.push('codecs="' + a + '"') : n && r.push(e + '="' + n + '"')
                            }),
                            "PQ" == i.hdr && r.push('eotf="smpte2084"'),
                            r.join(";")
                        }(t, l, s),
                        l = aa(l, s),
                        !vn(u) && !Ji(l))
                            return e.return(!1);
                return e.return(!0)
            })
        }
        function As(t, n, i, a) {
            var r, o, s, u, l, c, d, h, f;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return r = Wt,
                    o = H,
                    s = K,
                    We(e, Es(i, n), 2);
                case 2:
                    if (s.call(o, e.h, "Type negotiation should happen before MediaSourceEngine.init!"),
                    u = ia(i.mimeType, a),
                    n == r.Na) {
                        xs(t, u, t.G, i.external),
                        e.A(0);
                        break
                    }
                    if (d = t.B.forceTransmux,
                    vn(u) && (t.G || !pa.includes(u)) || (d = !0),
                    l = aa(i.mimeType, a),
                    !d) {
                        e.A(4);
                        break
                    }
                    if (d = zt(r.ba, (a || "").split(",")),
                    c = zt(r.xa, (a || "").split(",")),
                    d && c)
                        return t.m = !0,
                        We(e, As(t, r.ba, i, d), 6);
                    e.A(5);
                    break;
                case 6:
                    return We(e, As(t, r.xa, i, c), 7);
                case 7:
                    return e.return();
                case 5:
                    (d = Ji(l)) && (h = d(),
                    t.j[n] = h,
                    u = h.convertCodecs(n, l));
                case 4:
                    h = u + t.B.addExtraFeaturesToSourceBuffer(u),
                    Dr(t.M);
                    try {
                        f = t.l.addSourceBuffer(h)
                    } catch (e) {
                        throw new nt(2,3,3015,e,"The mediaSource_ status was " + t.l.readyState + " expected 'open'",null)
                    }
                    t.G && (f.mode = Hs),
                    t.u.o(f, "error", function() {
                        var e = t.s[n][0];
                        e.p.reject(new nt(2,3,3014,t.g.error ? t.g.error.code : 0,e.uri))
                    }),
                    t.u.o(f, "updateend", function() {
                        return Os(t, n)
                    }),
                    t.i[n] = f,
                    t.I[n] = u,
                    t.Oa[n] = !!i.drmInfos.length,
                    Ye(e)
                }
            })
        }
        function xs(e, t, n, i) {
            e.h || (e.h = new ga(e.ea),
            e.h && (e.h.B = e.B.modifyCueCallback));
            var a = e.h;
            i = i || e.Ca,
            e = e.Z,
            "application/cea-608" == t || "application/cea-708" == t ? a.i = null : (a.i = (0,
            ba[t])(),
            a.i.setSequenceMode ? a.i.setSequenceMode(n) : wn("Text parsers w/ setSequenceMode", 'Text parsers should have a "setSequenceMode" method!'),
            a.i.setManifestType ? a.i.setManifestType(e) : wn("Text parsers w/ setManifestType", 'Text parsers should have a "setManifestType" method!'),
            a.C = i)
        }
        function Is(e) {
            return !e.K && (!e.l || "ended" == e.l.readyState)
        }
        function ks(e, t) {
            return e = Object.keys(e.i).length ? t == it ? e.h.g : !(e = Ms(e, t)) || _o(e) ? null : 1 == e.length && e.start(0) < 0 ? 0 : e.length ? e.start(0) : null : null
        }
        function Cs(e, t) {
            return Object.keys(e.i).length ? t == it ? e.h.h : Oo(Ms(e, t)) : null
        }
        function Ms(e, t) {
            if (e.K || e.W)
                return null;
            try {
                return e.i[t].buffered
            } catch (e) {
                return null
            }
        }
        function Ls(E, A, x, I, k, C, M, L, R, P) {
            var D, N, _, O, U, j, F, B;
            return M = void 0 !== M && M,
            L = void 0 !== L && L,
            R = void 0 !== R && R,
            P = void 0 !== P && P,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (A != (D = Wt).Na) {
                        e.A(2);
                        break
                    }
                    if ("HLS" == E.Z)
                        return We(e, E.Ga, 4);
                    e.A(3);
                    break;
                case 4:
                    _ = e.h,
                    E.h.u = _;
                case 3:
                    return We(e, (f = E.h,
                    p = x,
                    g = I ? I.startTime : null,
                    m = I ? I.endTime : null,
                    v = I ? I.R()[0] : null,
                    $e(function(e) {
                        if (1 == e.g)
                            return We(e, Promise.resolve(), 2);
                        if (!f.i || !f.j)
                            return e.return();
                        if (null == g || null == m)
                            return f.i.parseInit(tt(p)),
                            e.return();
                        for (S = f.C ? g : f.u,
                        y = {
                            periodStart: f.u,
                            segmentStart: g,
                            segmentEnd: m,
                            vttOffset: S
                        },
                        S = f.i.parseMedia(tt(p), y, v, []),
                        b = Ze(S),
                        T = b.next(); !T.done; T = b.next())
                            w = T.value,
                            f.B(w, v || null, y);
                        S = S.filter(function(e) {
                            return e.startTime >= f.l && e.startTime < f.m
                        }),
                        f.j.append(S),
                        null == f.g && (f.g = Math.max(g, f.l)),
                        f.h = Math.min(m, f.m),
                        Ye(e)
                    })), 5);
                case 5:
                    return e.return();
                case 2:
                    if (!P && E.m)
                        return We(e, Ls(E, D.ba, x, I, k, C, M, L, R, !0), 7);
                    e.A(6);
                    break;
                case 7:
                    return We(e, Ls(E, D.xa, x, I, k, C, M, L, R, !0), 8);
                case 8:
                    return e.return();
                case 6:
                    if (!E.i[A])
                        return e.return();
                    if (N = E.i[A].timestampOffset,
                    _ = E.I[A],
                    E.j[A] && (_ = E.j[A].getOriginalMimeType()),
                    I && (l = E,
                    t = A,
                    c = I,
                    d = k,
                    i = _,
                    s = null,
                    u = [],
                    h = tt(n = x),
                    pa.includes(i) ? (t = Yo(h)).length && c && ((n = t.find(function(e) {
                        return "com.apple.streaming.transportStreamTimestamp" === e.description
                    })) && (s = Math.round(n.data) / 1e3),
                    l.H.onMetadata([{
                        cueTime: c.startTime,
                        data: h,
                        frames: t,
                        dts: c.startTime,
                        pts: c.startTime
                    }], 0, c.endTime)) : i.includes("/mp4") && c && c.na && c.na.timescale ? (a = c.na.timescale,
                    isNaN(a) || (r = 0,
                    o = !1,
                    h = new Fr,
                    (null != d.emsgSchemeIdUris && 0 < d.emsgSchemeIdUris.length || l.B.dispatchAllEmsgBoxes) && h.X("emsg", function(e) {
                        var t, n, i, a, r, o, s, u = d.emsgSchemeIdUris;
                        0 === e.version ? (t = e.reader.Vc(),
                        n = e.reader.Vc(),
                        i = e.reader.U(),
                        a = e.reader.U(),
                        r = e.reader.U(),
                        o = e.reader.U(),
                        s = c.startTime + a / i) : (i = e.reader.U(),
                        a = (s = e.reader.xd() / i + c.timestampOffset) - c.startTime,
                        r = e.reader.U(),
                        o = e.reader.U(),
                        t = e.reader.Vc(),
                        n = e.reader.Vc()),
                        e = e.reader.Rb(e.reader.getLength() - e.reader.Pa()),
                        (u && u.includes(t) || l.B.dispatchAllEmsgBoxes) && ("urn:mpeg:dash:event:2012" == t ? l.H.jk() : (u = s + r / i,
                        (i = new Xe("emsg",i = (new Map).set("detail", {
                            startTime: s,
                            endTime: u,
                            schemeIdUri: t,
                            value: n,
                            timescale: i,
                            presentationTimeDelta: a,
                            eventDuration: r,
                            id: o,
                            messageData: e
                        }))).cancelable = !0,
                        l.H.onEvent(i),
                        i.defaultPrevented || "https://aomedia.org/emsg/ID3" != t && "https://developer.apple.com/streaming/emsg-id3" != t || !(t = Yo(e)).length || l.H.onMetadata([{
                            cueTime: s,
                            data: e,
                            frames: t,
                            dts: s,
                            pts: s
                        }], 0, u)))
                    }),
                    h.X("prft", function(e) {
                        var t = e.reader
                          , n = e.version
                          , i = (t.U(),
                        e = t.U(),
                        t.U());
                        e = 1e3 * e + i / Math.pow(2, 32) * 1e3,
                        t = 0 === n ? t.U() : (n = t.U(),
                        t = t.U(),
                        n * Math.pow(2, 32) + t),
                        e = new Date(new Date(Date.UTC(1900, 0, 1, 0, 0, 0)).getTime() + e).getTime(),
                        t = new Xe("prft",t = (new Map).set("detail", {
                            wallClockTime: e,
                            programStartDate: new Date(e - t / a * 1e3)
                        })),
                        l.H.onEvent(t)
                    }).box("moof", G).box("traf", G).X("tfdt", function(e) {
                        r = Qo(e.reader, e.version).baseMediaDecodeTime / a,
                        o = !0,
                        e.parser.stop()
                    }).parse(n, !0),
                    o && 0 == c.timestampOffset && (s = r))) : i.includes("/mp4") || i.includes("/webm") || !gs(h) || (l.V[t] ? l.V[t].clearData() : l.V[t] = new ds,
                    null != (h = (u = l.V[t].parse(h)).getStartTime(t)) && (s = h),
                    u = u.getMetadata()),
                    j = (U = {
                        timestamp: s,
                        metadata: u
                    }).metadata,
                    null != (U = U.timestamp) && (null == E.P && A == D.xa && (E.P = U,
                    E.Ba = I.startTime,
                    null != E.O && (O = 0,
                    E.Ba == E.ma && (O = E.P - E.O),
                    E.ha.resolve(O))),
                    null == E.O && A == D.ba && (E.O = U,
                    E.ma = I.startTime,
                    null != E.P && (O = 0,
                    E.Ba == E.ma && (O = E.P - E.O),
                    E.ha.resolve(O))),
                    U = I.startTime - U,
                    (.001 <= Math.abs(N - U) || M || L) && (!R || 0 < U || !N) && (N = U,
                    E.Ja && (Us(E, A, function() {
                        return Ns(E, A)
                    }, null),
                    Us(E, A, function() {
                        return _s(E, A, N)
                    }, null))),
                    (A == D.xa || !(D.xa in E.i)) && E.Ga.resolve(N)),
                    j.length) && E.H.onMetadata(j, N, I ? I.endTime : null),
                    C && A == D.xa && (E.h || xs(E, "application/cea-608", E.G, !1),
                    E.J || (U = _.split(";", 1)[0],
                    E.J = new Cn(U)),
                    I ? (j = E.J.i(x)).length && ya(E.h, j, I.startTime, I.endTime, N) : E.J.init(x, L)),
                    E.j[A])
                        return We(e, E.j[A].transmux(x, k, I, E.l.duration, A), 10);
                    e.A(9);
                    break;
                case 10:
                    x = e.h;
                case 9:
                    if (x = function(e, t, n, i, a) {
                        var r = null == n
                          , o = e.Oa[i];
                        n = e.H.rj(),
                        (r = e.B.insertFakeEncryptionInInit && r && o) && (n = Ce(n),
                        r = Oe() || _e() || ze() || Ne() && vt() && n);
                        return t = r && "mp4" == oa(e.I[i]) ? Co(t, a) : t
                    }(E, x, I ? I.startTime : null, A, I ? I.R()[0] : null),
                    !I || !E.G || A == D.Na) {
                        e.A(11);
                        break
                    }
                    if (!M && !L) {
                        e.A(11);
                        break
                    }
                    if (F = I.startTime,
                    "HLS" == E.Z && !E.m && A == D.ba && E.i[D.xa])
                        return We(e, E.ha, 14);
                    e.A(13);
                    break;
                case 14:
                    B = e.h,
                    .1 < Math.abs(B) && (F -= B);
                case 13:
                    Us(E, A, function() {
                        return Ns(E, A)
                    }, null),
                    Us(E, A, function() {
                        return _s(E, A, F)
                    }, null);
                case 11:
                    return We(e, Us(E, A, function() {
                        var e, t = x;
                        "video" == A && E.aa && (e = E.aa).g && e.g.appendBuffer(t, "video", e.s, -N),
                        E.i[A].appendBuffer(t)
                    }, I ? I.R()[0] : null), 15);
                case 15:
                    Ye(e)
                }
                var l, t, n, c, d, i, a, r, o, s, u, h, f, p, g, m, v, y, b, T, w, S
            })
        }
        function Rs(t, n) {
            var i;
            return $e(function(e) {
                return 1 == e.g ? n == (i = Wt).Na ? t.h ? We(e, t.h.remove(0, 1 / 0), 0) : e.return() : We(e, Us(t, n, function() {
                    return Ds(t, n, 0, t.l.duration)
                }, null), 4) : t.m ? We(e, Us(t, i.ba, function() {
                    return Ds(t, i.ba, 0, t.l.duration)
                }, null), 0) : e.A(0)
            })
        }
        function Ps(i, a, b, T, w, S, E, A, x) {
            var I, k;
            return $e(function(e) {
                return 1 == e.g ? a == (I = Wt).Na ? (S || (i.h.u = b),
                t = i.h,
                n = w,
                t.l = T,
                t.m = n,
                e.return()) : (k = [],
                We(e, (r = i,
                o = a,
                s = E,
                u = A,
                l = x,
                $e(function(e) {
                    return 1 == e.g ? o == (m = Wt).Na ? e.return(!1) : (c = sa(ca(r.I[o])),
                    d = la(r.I[o]),
                    f = !1,
                    p = ia(s, u),
                    g = r.B.forceTransmux,
                    (g = vn(p) && (r.G || !pa.includes(p)) ? g : !0) && (g = aa(s, u),
                    v = Ji(g)) && (h = v(),
                    v = zt(m.ba, (u || "").split(",")),
                    y = zt(m.xa, (u || "").split(",")),
                    p = v && y ? (f = !0,
                    y = y,
                    o == m.ba && (y = v),
                    h.convertCodecs(o, aa(s, y))) : h.convertCodecs(o, g)),
                    m = sa(ca(p)),
                    v = la(p),
                    c === m && d === v ? (r.j[o] && !h ? (r.j[o].destroy(),
                    delete r.j[o]) : !r.j[o] && h ? r.j[o] = h : h && (r.j[o] && r.j[o].transmux != h.transmux ? (r.j[o].destroy(),
                    delete r.j[o],
                    r.j[o] = h) : h.destroy()),
                    e.return(!1)) : (y = !0,
                    (y = r.m || f && h && !r.j[o] ? !1 : y) && "smooth" === r.B.codecSwitchingStrategy && yn() ? We(e, (i = p,
                    a = h,
                    Us(t = r, n = o, function() {
                        n !== it && (yn() && (t.j[n] && (t.j[n].destroy(),
                        delete t.j[n]),
                        a && (t.j[n] = a),
                        t.i[n].changeType(i + t.B.addExtraFeaturesToSourceBuffer(i)),
                        t.I[n] = i),
                        Os(t, n))
                    }, null)), 3) : (h && h.destroy(),
                    We(e, Gs(r, l), 3)))) : e.return(!0);
                    var t, n, i, a
                })), 2)) : (e.h || (k.push(Us(i, a, function() {
                    return Ns(i, a)
                }, null)),
                i.m && k.push(Us(i, I.ba, function() {
                    return Ns(i, I.ba)
                }, null))),
                S || (k.push(Us(i, a, function() {
                    return _s(i, a, b)
                }, null)),
                i.m && k.push(Us(i, I.ba, function() {
                    return _s(i, I.ba, b)
                }, null))),
                k.push(Us(i, a, function() {
                    i.i[a].appendWindowStart = 0,
                    i.i[a].appendWindowEnd = w,
                    i.i[a].appendWindowStart = T,
                    Os(i, a)
                }, null)),
                i.m && k.push(Us(i, I.ba, function() {
                    var e = I.ba;
                    i.i[e].appendWindowStart = 0,
                    i.i[e].appendWindowEnd = w,
                    i.i[e].appendWindowStart = T,
                    Os(i, e)
                }, null)),
                We(e, Promise.all(k), 0));
                var r, o, s, u, l, c, d, h, f, p, g, m, v, y, t, n
            })
        }
        function Ds(e, t, n, i) {
            i <= n ? Os(e, t) : e.i[t].remove(n, i)
        }
        function Ns(e, t) {
            var n = e.i[t].appendWindowStart
              , i = e.i[t].appendWindowEnd;
            e.i[t].abort(),
            e.i[t].appendWindowStart = n,
            e.i[t].appendWindowEnd = i,
            Os(e, t)
        }
        function _s(e, t, n) {
            n < 0 && (n += .001),
            e.i[t].timestampOffset = n,
            Os(e, t)
        }
        function Os(e, t) {
            var n;
            e.K || (n = e.s[t][0]) && (n.p.resolve(),
            Fs(e, t))
        }
        function Us(e, t, n, i) {
            return Dr(e.M),
            n = {
                start: n,
                p: new fr,
                uri: i
            },
            e.s[t].push(n),
            1 == e.s[t].length && Bs(e, t),
            n.p
        }
        function js(t, n) {
            var i, a, r, o, s, u, l, c, d, h;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    for (Dr(t.M),
                    i = [],
                    a = Object.keys(t.i),
                    r = Ze(a),
                    o = r.next(),
                    s = {}; !o.done; s = {
                        ready: void 0
                    },
                    o = r.next())
                        u = o.value,
                        s.ready = new fr,
                        l = {
                            start: function(e) {
                                return function() {
                                    return e.ready.resolve()
                                }
                            }(s),
                            p: s.ready,
                            uri: null
                        },
                        t.s[u].push(l),
                        i.push(s.ready),
                        1 == t.s[u].length && l.start();
                    return qe(e, 2),
                    We(e, Promise.all(i), 4);
                case 4:
                    Je(e, 3);
                    break;
                case 2:
                    throw Qe(e);
                case 3:
                    return qe(e, 5, 6),
                    We(e, n(), 6);
                case 6:
                    for (dt(e),
                    c = Ze(a),
                    d = c.next(); !d.done; d = c.next())
                        h = d.value,
                        Fs(t, h);
                    ht(e, 0);
                    break;
                case 5:
                    throw new nt(2,3,3015,Qe(e),t.g.error || "No error in the media element",null)
                }
            })
        }
        function Fs(e, t) {
            e.s[t].shift(),
            Bs(e, t)
        }
        function Bs(t, n) {
            var i = t.s[n][0];
            if (i)
                try {
                    i.start()
                } catch (e) {
                    "QuotaExceededError" == e.name ? i.p.reject(new nt(2,3,3017,n)) : i.p.reject(new nt(2,3,3015,e,t.g.error || "No error in the media element",i.uri)),
                    Fs(t, n)
                }
        }
        function Gs(e, T) {
            return js(e, function() {
                return t = e,
                n = T,
                $e(function(e) {
                    switch (e.g) {
                    case 1:
                        for (s in i = Wt,
                        t.K = !0,
                        t.m = !1,
                        a = t.g.currentTime,
                        r = t.g.autoplay,
                        o = t.g.paused,
                        t.Ya && (t.g.autoplay = !1),
                        A(e, 2),
                        t.u.cb(),
                        t.j)
                            t.j[s].destroy();
                        for (u in t.i) {
                            l = t.i[u];
                            try {
                                t.l.removeSourceBuffer(l)
                            } catch (e) {}
                        }
                        return t.j = {},
                        t.i = {},
                        c = t.l.duration,
                        t.S = new fr,
                        t.l = Ss(t, t.S),
                        We(e, t.S, 4);
                    case 4:
                        !isNaN(c) && c ? t.l.duration = c : !isNaN(t.ra) && t.ra && (t.l.duration = t.ra),
                        d = new fr,
                        h = t.l.sourceBuffers,
                        f = n.size,
                        p = 0,
                        g = function() {
                            ++p === f && (d.resolve(),
                            t.u.Ma(h, "addsourcebuffer", g))
                        }
                        ,
                        t.u.o(h, "addsourcebuffer", g),
                        m = Ze(n.keys()),
                        v = m.next();
                    case 5:
                        return v.done ? ((b = n.get(i.ba)) && b.isAudioMuxedInVideo && (t.m = !0),
                        t.m && !t.s[i.ba] && (t.s[i.ba] = []),
                        t.g.currentTime = a,
                        We(e, d, 2)) : (b = v.value,
                        y = n.get(b),
                        We(e, As(t, b, y, y.codecs), 6));
                    case 6:
                        v = m.next(),
                        e.A(5);
                        break;
                    case 2:
                        dt(e),
                        t.K = !1,
                        Dr(t.M),
                        t.u.oa(t.g, "canplaythrough", function() {
                            t.M.g || (t.g.autoplay = r,
                            o || t.g.play())
                        }),
                        ht(e, 0)
                    }
                });
                var t, n, i, a, r, o, s, u, l, c, d, h, f, p, g, m, v, y, b
            })
        }
        ys.prototype.release = function() {
            this.g && (this.g.close(),
            this.g = null)
        }
        ,
        i("shaka.lcevc.Dec", ys),
        (t = ws.prototype).destroy = function() {
            return this.M.destroy()
        }
        ,
        t.init = function(t, n, i, a) {
            n = void 0 !== n && n,
            i = void 0 === i ? "UNKNOWN" : i,
            a = void 0 !== a && a;
            var r, o, s, u, l, c = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return r = Wt,
                    We(e, c.S, 2);
                case 2:
                    c.G = n,
                    c.Z = i,
                    c.Ta = a,
                    c.Ja = !c.G && "HLS" == c.Z && !c.Ta,
                    c.V = {},
                    c.P = null,
                    c.Ba = null,
                    c.O = null,
                    c.ma = null,
                    c.ha = new fr,
                    o = Ze(t.keys()),
                    s = o.next();
                case 3:
                    if (s.done) {
                        e.A(5);
                        break
                    }
                    return u = s.value,
                    l = t.get(u),
                    We(e, As(c, u, l, l.codecs), 6);
                case 6:
                    c.m ? (c.s[r.ba] = [],
                    c.s[r.xa] = []) : c.s[u] = [],
                    s = o.next(),
                    e.A(3);
                    break;
                case 5:
                    (l = t.get(r.ba)) && l.isAudioMuxedInVideo && (c.m = !0),
                    Ye(e)
                }
            })
        }
        ,
        t.configure = function(e) {
            this.B = e,
            this.h && (this.h.B = e.modifyCueCallback)
        }
        ,
        t.Vb = function() {
            var e, t, n = {
                total: this.K ? [] : Fo(this.g.buffered),
                audio: Fo(Ms(this, "audio")),
                video: Fo(Ms(this, "video")),
                text: []
            };
            return this.h && (e = this.h.g,
            t = this.h.h,
            null != e && null != t && n.text.push({
                start: e,
                end: t
            })),
            n
        }
        ,
        t.remove = function(t, n, i) {
            var a, r = this;
            return $e(function(e) {
                return 1 == e.g ? t == (a = Wt).Na ? We(e, r.h.remove(n, i), 0) : We(e, Us(r, t, function() {
                    return Ds(r, t, n, i)
                }, null), 4) : r.m ? We(e, Us(r, a.ba, function() {
                    return Ds(r, a.ba, n, i)
                }, null), 0) : e.A(0)
            })
        }
        ,
        t.flush = function(t) {
            var n, i = this;
            return $e(function(e) {
                return 1 == e.g ? t == (n = Wt).Na ? e.return() : We(e, Us(i, t, function() {
                    i.g.currentTime -= .001,
                    Os(i, t)
                }, null), 2) : i.m ? We(e, Us(i, n.ba, function() {
                    var e = n.ba;
                    i.g.currentTime -= .001,
                    Os(i, e)
                }, null), 0) : e.A(0)
            })
        }
        ,
        t.endOfStream = function(t) {
            var n = this;
            return $e(function(e) {
                return We(e, js(n, function() {
                    Is(n) || "closed" === n.l.readyState || (t ? n.l.endOfStream(t) : n.l.endOfStream())
                }), 0)
            })
        }
        ,
        t.vb = function(n) {
            var i = this;
            return $e(function(e) {
                return We(e, js(i, function() {
                    if (n < i.l.duration)
                        for (var e in i.i) {
                            var t = {
                                start: function() {},
                                p: new fr,
                                uri: null
                            };
                            i.s[e].unshift(t)
                        }
                    i.l.duration = n,
                    i.ra = n
                }), 0)
            })
        }
        ,
        t.getDuration = function() {
            return this.l.duration
        }
        ;
        var Vs = U.URL.createObjectURL
          , Hs = "sequence";
        function lt(e, t, n) {
            this.i = e,
            this.G = t,
            this.s = this.l = 1 / 0,
            this.h = 1,
            this.g = this.j = null,
            this.B = 0,
            this.C = !0,
            this.K = !1,
            this.J = 0,
            this.H = void 0 === n || n,
            this.I = 0,
            this.u = !1,
            this.m = e
        }
        function Ks(e, t, n) {
            this.j = n,
            this.l = e,
            this.u = Xs(e),
            this.g = e.g.currentTime,
            this.m = Date.now() / 1e3,
            this.h = !1,
            this.s = 0,
            this.B = t,
            this.i = function() {}
        }
        function zs(e) {
            this.g = e
        }
        function Xs(e) {
            if (e.g.paused || 0 == e.g.playbackRate || 0 == e.g.buffered.length)
                var t = !1;
            else
                e: {
                    for (var t = e.g.currentTime, n = (e = Ze(Fo(e.g.buffered))).next(); !n.done; n = e.next())
                        if (!(t < (n = n.value).start - .1 || t > n.end - .5)) {
                            t = !0;
                            break e
                        }
                    t = !1
                }
            return t
        }
        function Ws(e, t, n, i, a) {
            var r = this;
            this.B = a,
            this.g = e,
            this.C = t,
            this.m = n,
            this.l = new pn,
            this.j = !1,
            this.H = e.readyState,
            this.G = this.i = 0,
            this.h = i,
            this.u = !1,
            this.l.o(e, "waiting", function() {
                return Ys(r)
            }),
            this.s = new C(function() {
                Ys(r)
            }
            ).Aa(this.m.gapJumpTimerTime)
        }
        function Ys(e) {
            if (0 != e.g.readyState) {
                if (e.g.seeking) {
                    if (!e.j)
                        return
                } else
                    e.j = !1;
                var t, n, i, a;
                e.g.paused && (e.g.currentTime != e.i || !e.g.autoplay && e.g.currentTime == e.i) || (e.g.readyState != e.H && (e.H = e.g.readyState),
                (t = !e.h) || (i = Xs(n = (t = e.h).l),
                a = n.g.currentTime,
                r = Date.now() / 1e3,
                t.g == a && t.u == i || (t.m = r,
                t.g = a,
                t.u = i,
                t.h = !1),
                (i = (a = r - t.m) >= t.B && i && !t.h) && (t.i(t.g, a),
                t.h = !0,
                t.g = n.g.currentTime,
                t.s++,
                t.j(new Xe("stalldetected"))),
                t = !i),
                t && (t = e.g.currentTime,
                n = e.g.buffered,
                r = n,
                o = t,
                s = e.m.gapDetectionThreshold,
                null != (i = r && r.length && !_o(r) && 0 <= (r = Fo(r).findIndex(function(e, t, n) {
                    return e.start > o && (0 == t || n[t - 1].end - o <= s)
                })) ? r : null) && (0 != i || e.u)) && (a = n.start(i),
                (a = navigator.userAgent.match(/Edge\//) || _e() || Oe() ? Math.ceil(100 * (a + e.m.gapPadding)) / 100 : a) >= e.C.Wb() || a - t < .001 || (0 != i && n.end(i - 1),
                e.g.currentTime = a,
                t == e.i && (e.i = a),
                e.G++,
                e.B(new Xe("gapjumped")))))
            }
            var r, o, s
        }
        function qs(e, t, n, i) {
            t == HTMLMediaElement.HAVE_NOTHING || e.readyState >= t ? i() : (t = Js.value().get(t),
            n.oa(e, t, i))
        }
        (t = lt.prototype).getDuration = function() {
            return this.l
        }
        ,
        t.wj = function() {
            return this.h
        }
        ,
        t.zi = function(e) {
            this.i = e
        }
        ,
        t.vb = function(e) {
            this.l = e
        }
        ,
        t.Aj = function() {
            return this.i
        }
        ,
        t.si = function(e) {
            this.B = e
        }
        ,
        t.Yc = function(e) {
            e && !this.C && (this.K = !0),
            this.C = e
        }
        ,
        t.jf = function(e) {
            this.s = e
        }
        ,
        t.He = function() {
            return this.s
        }
        ,
        t.Yg = function(e) {
            this.G = e
        }
        ,
        t.mj = function() {
            return this.G
        }
        ,
        t.ei = function(e, t) {
            var n, i;
            0 != e.length && (n = (Date.now() + this.B) / 1e3,
            0 != (e = e.filter(function(e) {
                return e.start + t < n
            })).length && (i = e[e.length - 1].end + t,
            this.We(e[0].start + t),
            this.h = e.reduce(function(e, t) {
                return Math.max(e, t.end - t.start)
            }, this.h),
            this.g = Math.max(this.g, i),
            null != this.i && this.H && !this.u && (this.i = n - this.g - this.h)))
        }
        ,
        t.Xd = function(e) {
            if (0 != e.length) {
                for (var t = e[0].startTime, n = e[0].endTime, i = (Date.now() + this.B) / 1e3, a = (e = Ze(e)).next(); !a.done; a = e.next())
                    i < (a = a.value).startTime || (t = Math.min(t, a.startTime),
                    n = Math.max(n, a.endTime),
                    this.h = Math.max(this.h, a.endTime - a.startTime));
                this.We(t),
                this.g = Math.max(this.g, n),
                null != this.i && this.H && !this.u && (this.i = i - this.g - this.h)
            }
        }
        ,
        t.di = function(e, t) {
            this.We(e),
            1 / 0 == t || this.T() || (this.g = Math.max(this.g, t))
        }
        ,
        t.xj = function() {
            return this.g
        }
        ,
        t.Re = function() {
            this.u = !0
        }
        ,
        t.Yj = function() {
            return this.u
        }
        ,
        t.wi = function(e) {
            this.m = e
        }
        ,
        t.qj = function() {
            return this.m
        }
        ,
        t.We = function(e) {
            null == this.j ? this.j = e : this.K || (this.j = Math.min(this.j, e))
        }
        ,
        t.Gg = function(e) {
            this.h = Math.max(this.h, e)
        }
        ,
        t.offset = function(e) {
            null != this.j && (this.j += e),
            null != this.g && (this.g += e)
        }
        ,
        t.T = function() {
            return 1 / 0 == this.l && !this.C
        }
        ,
        t.Qc = function() {
            return 1 / 0 != this.l && !this.C
        }
        ,
        t.Ib = function() {
            return Math.max(this.J, this.tc() - this.s)
        }
        ,
        t.Bi = function(e) {
            this.J = e
        }
        ,
        t.tc = function() {
            return this.T() || this.Qc() ? Math.min(Math.max(0, (Date.now() + this.B) / 1e3 - this.h - this.i) + this.I, this.l) : this.g ? Math.min(this.g, this.l) : this.l
        }
        ,
        t.Od = function(e) {
            var t = Math.max(this.j, this.J);
            return 1 / 0 == this.s ? Math.ceil(1e3 * t) / 1e3 : Math.max(t, Math.min(this.tc() - this.s + e, this.Wb()))
        }
        ,
        t.dc = function() {
            return this.Od(0)
        }
        ,
        t.Wb = function() {
            return Math.max(0, this.tc() - (this.T() || this.Qc() ? this.G : 0))
        }
        ,
        t.Ki = function() {
            return !(null == this.i || null != this.g && this.H)
        }
        ,
        t.ri = function(e) {
            this.I = e
        }
        ,
        t.fj = function() {
            return this.I
        }
        ,
        i("shaka.media.PresentationTimeline", lt),
        lt.prototype.getAvailabilityTimeOffset = lt.prototype.fj,
        lt.prototype.setAvailabilityTimeOffset = lt.prototype.ri,
        lt.prototype.usingPresentationStartTime = lt.prototype.Ki,
        lt.prototype.getSeekRangeEnd = lt.prototype.Wb,
        lt.prototype.getSeekRangeStart = lt.prototype.dc,
        lt.prototype.getSafeSeekRangeStart = lt.prototype.Od,
        lt.prototype.getSegmentAvailabilityEnd = lt.prototype.tc,
        lt.prototype.setUserSeekStart = lt.prototype.Bi,
        lt.prototype.getSegmentAvailabilityStart = lt.prototype.Ib,
        lt.prototype.isInProgress = lt.prototype.Qc,
        lt.prototype.isLive = lt.prototype.T,
        lt.prototype.notifyMaxSegmentDuration = lt.prototype.Gg,
        lt.prototype.notifyMinSegmentStartTime = lt.prototype.We,
        lt.prototype.getInitialProgramDateTime = lt.prototype.qj,
        lt.prototype.setInitialProgramDateTime = lt.prototype.wi,
        lt.prototype.isStartTimeLocked = lt.prototype.Yj,
        lt.prototype.lockStartTime = lt.prototype.Re,
        lt.prototype.getMaxSegmentEndTime = lt.prototype.xj,
        lt.prototype.notifyPeriodDuration = lt.prototype.di,
        lt.prototype.notifySegments = lt.prototype.Xd,
        lt.prototype.notifyTimeRange = lt.prototype.ei,
        lt.prototype.getDelay = lt.prototype.mj,
        lt.prototype.setDelay = lt.prototype.Yg,
        lt.prototype.getSegmentAvailabilityDuration = lt.prototype.He,
        lt.prototype.setSegmentAvailabilityDuration = lt.prototype.jf,
        lt.prototype.setStatic = lt.prototype.Yc,
        lt.prototype.setClockOffset = lt.prototype.si,
        lt.prototype.getPresentationStartTime = lt.prototype.Aj,
        lt.prototype.setDuration = lt.prototype.vb,
        lt.prototype.setPresentationStartTime = lt.prototype.zi,
        lt.prototype.getMaxSegmentDuration = lt.prototype.wj,
        Ks.prototype.release = function() {
            this.j = this.l = null,
            this.i = function() {}
        }
        ,
        Ws.prototype.release = function() {
            this.l && (this.l.release(),
            this.l = null),
            null != this.s && (this.s.stop(),
            this.s = null),
            this.h && (this.h.release(),
            this.h = null),
            this.g = this.C = this.B = null
        }
        ,
        Ws.prototype.Jg = function() {
            this.u = !0,
            Ys(this)
        }
        ;
        var Js = new Ie(function() {
            return new Map([[HTMLMediaElement.HAVE_METADATA, "loadedmetadata"], [HTMLMediaElement.HAVE_CURRENT_DATA, "loadeddata"], [HTMLMediaElement.HAVE_FUTURE_DATA, "canplay"], [HTMLMediaElement.HAVE_ENOUGH_DATA, "canplaythrough"]])
        }
        );
        function Qs(e, t, n, i) {
            var a = this;
            this.g = e,
            this.m = t,
            this.u = n,
            this.l = null,
            this.j = function() {
                return null == a.l && (a.l = i()),
                a.l
            }
            ,
            this.s = !1,
            this.h = new pn,
            this.i = new nu(e),
            qs(this.g, HTMLMediaElement.HAVE_METADATA, this.h, function() {
                eu(a, a.j())
            })
        }
        function $s(e) {
            return e.s ? e.g.currentTime : e.j()
        }
        function Zs(e, t) {
            0 < e.g.readyState ? iu(e.i, t) : qs(e.g, HTMLMediaElement.HAVE_METADATA, e.h, function() {
                eu(e, e.j())
            })
        }
        function eu(e, t) {
            Math.abs(e.g.currentTime - t) < .001 ? tu(e) : (e.h.oa(e.g, "seeking", function() {
                tu(e)
            }),
            iu(e.i, e.g.currentTime && 0 != e.g.currentTime ? e.g.currentTime : t))
        }
        function tu(e) {
            e.s = !0,
            e.h.o(e.g, "seeking", function() {
                return e.m()
            }),
            e.u(e.g.currentTime)
        }
        function nu(e) {
            var t = this;
            this.g = e,
            this.m = 10,
            this.j = this.l = this.i = 0,
            this.h = new C(function() {
                t.i <= 0 || t.g.currentTime != t.l || t.g.currentTime === t.j ? t.h.stop() : (t.g.currentTime = t.j,
                t.i--)
            }
            )
        }
        function iu(e, t) {
            e.l = e.g.currentTime,
            e.j = t,
            e.i = e.m,
            e.g.currentTime = t,
            e.h.Aa(.1)
        }
        function au(e) {
            this.h = e,
            this.j = !1,
            this.g = null,
            this.i = new pn
        }
        function ru(e, t, n, i, a, r) {
            var o = this;
            this.i = e,
            this.g = t.presentationTimeline,
            this.C = t.minBufferTime || 0,
            this.l = n,
            this.B = a,
            this.u = null,
            this.s = function(e, t, n) {
                if (!t.stallEnabled)
                    return null;
                var i = t.stallSkip;
                return function(e, t) {
                    e.i = t
                }(t = new Ks(new zs(e),t.stallThreshold,n), function() {
                    i ? e.currentTime += i : (e.pause(),
                    e.play())
                }),
                t
            }(e, n, r),
            this.j = new Ws(e,t.presentationTimeline,n,this.s,r),
            this.h = new Qs(e,function() {
                e: {
                    (t = o.j).j = !0,
                    t.u = !1;
                    var e = $s(o.h)
                      , t = su(o, e);
                    if (.001 < Math.abs(t - e)) {
                        var n, i, e = !1;
                        if (!Fe() || Fe() && yt() ? e = !0 : (n = Date.now() / 1e3,
                        i = Fe() && f("Fuchsia") ? 3 : 1,
                        (!o.u || o.u < n - i) && (o.u = n,
                        e = !0)),
                        e) {
                            Zs(o.h, t),
                            t = void 0;
                            break e
                        }
                    }
                    o.B(),
                    t = void 0
                }
                return t
            }
            ,function(e) {
                var t = o.j;
                t.g.seeking && !t.j && (t.j = !0,
                t.i = e)
            }
            ,function() {
                var e = i;
                return null == e ? e = 1 / 0 > o.g.getDuration() ? o.g.dc() : o.g.Wb() : e < 0 && (e = o.g.Wb() + e),
                ou(o, uu(o, e))
            }
            ),
            this.m = new C(function() {
                var e, t, n;
                0 == o.i.readyState || o.i.paused || (e = $s(o.h),
                t = o.g.dc(),
                e < (t = (n = o.g.Wb()) - t < 3 ? n - 3 : t) && (e = su(o, e),
                o.i.currentTime = e))
            }
            )
        }
        function ou(e, t) {
            var n = e.g.getDuration();
            return n <= t ? n - e.l.durationBackoff : t
        }
        function su(e, t) {
            var n = Math.max(e.C, e.l.rebufferingGoal)
              , i = e.l.safeSeekOffset
              , a = e.g.dc()
              , r = e.g.Wb()
              , o = e.g.getDuration()
              , s = (r - a < 3 && (a = r - 3),
            e.g.Od(n))
              , u = e.g.Od(i)
              , n = e.g.Od(n + i);
            return o <= t ? ou(e, t) : r < t ? r - e.l.safeSeekEndOffset : t < a ? Uo(e.i.buffered, u) ? u : n : s <= t || Uo(e.i.buffered, t) ? t : n
        }
        function uu(e, t) {
            var n = e.g.dc();
            return t < n ? n : (e = e.g.Wb()) < t ? e : t
        }
        function lu(e) {
            this.g = e,
            this.m = null,
            this.i = 0,
            this.s = !1
        }
        function cu(e) {
            return e.g[0] || null
        }
        function du(e, t, n) {
            return new lu([e = new at(e,e + t,function() {
                return n
            }
            ,0,null,null,e,e,e + t)])
        }
        function hu(e, t, n, i) {
            this.i = e,
            this.h = t,
            this.g = n,
            this.reverse = i
        }
        function fu() {
            lu.call(this, []),
            this.h = []
        }
        function pu(e) {
            var t = this;
            this.g = e,
            this.j = !1,
            this.i = this.g.Ge(),
            this.h = new C(function() {
                t.g.bi(.25 * t.i)
            }
            )
        }
        function gu(e) {
            e.h.stop();
            var t = e.j ? 0 : e.i;
            if (0 <= t)
                try {
                    return void (e.g.Ge() != t && e.g.bh(t))
                } catch (e) {}
            e.h.Aa(.25),
            0 != e.g.Ge() && e.g.bh(0)
        }
        function mu(e) {
            var t = this;
            this.h = e,
            this.g = new Set,
            this.i = new C(function() {
                vu(t, !1)
            }
            ).Aa(.25)
        }
        function vu(e, t) {
            for (var n = Ze(e.g), i = n.next(); !i.done; i = n.next())
                i.value.j(e.h.currentTime, t)
        }
        function yu() {
            this.g = null,
            this.h = []
        }
        function bu(e, t) {
            var n = 0;
            e.g && e.g.state == t && (n += e.g.duration);
            for (var i = (e = Ze(e.h)).next(); !i.done; i = e.next())
                n += (i = i.value).state == t ? i.duration : 0;
            return n
        }
        function Tu() {
            this.i = this.h = null,
            this.g = []
        }
        function wu(e, t, n) {
            e.i != t && (e.i = t,
            e.g.push({
                timestamp: Date.now() / 1e3,
                id: t.id,
                type: "text",
                fromAdaptation: n,
                bandwidth: null
            }))
        }
        function Su() {
            this.Gc = this.Xh = this.u = this.B = this.K = this.C = this.s = this.j = this.J = this.G = this.i = this.S = this.V = this.M = this.O = this.P = this.l = this.m = NaN,
            this.L = 0,
            this.H = this.I = NaN,
            this.g = new yu,
            this.h = new Tu
        }
        function Eu(e, t, n, i) {
            this.m = e,
            this.i = t,
            this.l = n,
            this.h = new Map,
            this.j = new Map,
            this.g = null,
            this.s = i
        }
        function Au(e, t, n) {
            if (n = void 0 !== n && n,
            !e.i.segmentIndex)
                return Promise.resolve();
            if (e.g || (e.g = e.i.segmentIndex.cc(t, !0, e.s)),
            !e.g)
                return Promise.resolve();
            for (n && e.g.next(),
            t = []; e.h.size < e.m && (n = e.g.next().value); ) {
                var i = !0;
                n.isPreload() && null != n.La && (i = !1),
                2 == n.uc() && (i = !1),
                (i = n.Lc() ? !1 : i) && n.na && t.push(xu(e, n.na)),
                i && !e.h.has(n) && (i = new Ru(e.l),
                t.push(Pu(i, n, e.i)),
                e.h.set(n, i))
            }
            return Cu(e),
            Promise.all(t)
        }
        function xu(e, t) {
            if (!e.i.segmentIndex || t.Lc() || Array.from(e.j.keys()).some(function(e) {
                return Po(e, t)
            }))
                return Promise.resolve();
            var n = new Ru(e.l)
              , i = Pu(n, t, e.i);
            return e.j.set(t, n),
            i
        }
        function Iu(e, t) {
            for (var n = (t = Ze(t.keys())).next(); !n.done; n = t.next())
                (n = n.value) && Lu(e, n)
        }
        function ku(e) {
            Iu(e, e.h),
            Iu(e, e.j),
            e.g = null
        }
        function Cu(e) {
            for (var t = Array.from(e.h.keys()), n = Ze(e.j.keys()), i = n.next(), a = {}; !i.done; a = {
                yg: void 0
            },
            i = n.next())
                a.yg = i.value,
                t.some(function(t) {
                    return function(e) {
                        return Po(e.na, t.yg)
                    }
                }(a)) || Lu(e, a.yg)
        }
        function Mu(e, t) {
            e.m = t;
            for (var n = Array.from(e.h.keys()); n.length > t; ) {
                var i = n.pop();
                i && Lu(e, i)
            }
            Cu(e)
        }
        function Lu(e, t) {
            var n = e.h;
            e = (n = t instanceof Ro ? e.j : n).get(t),
            n.delete(t),
            e && e.abort()
        }
        function Ru(e) {
            this.g = e,
            this.Yd = this.gh = null
        }
        function Pu(n, e, t) {
            var i = new Uint8Array(0);
            return n.Yd = n.g(e, t, function(t) {
                return $e(function(e) {
                    if (1 == e.g)
                        return i = 0 < i.byteLength ? Bt(i, t) : t,
                        n.gh ? We(e, n.gh(i), 3) : e.A(0);
                    i = new Uint8Array(0),
                    Ye(e)
                })
            }),
            n.Yd.promise.catch(function(e) {
                return e instanceof nt && 7001 == e.code ? Promise.resolve() : Promise.reject(e)
            })
        }
        function Du(e) {
            h.call(this);
            var i = this;
            this.g = new Set,
            this.i = e,
            this.h = new C(function() {
                for (var e = i.i(), t = Ze(i.g), n = t.next(); !n.done; n = t.next())
                    (n = n.value).endTime < e.start && (i.g.delete(n),
                    n = new Xe("regionremove",new Map([["region", n]])),
                    i.dispatchEvent(n))
            }
            ).Aa(2)
        }
        function Nu(e) {
            h.call(this),
            this.g = new Map,
            this.h = e
        }
        function _u(e, t, n) {
            return !!((e = e.h()[n]) && 0 < e.length && (n = e[e.length - 1].end,
            t >= e[0].start && t < n))
        }
        function Ou(e) {
            var t = {
                bandwidth: e.bandwidth || 0,
                audioSamplingRate: null,
                codecs: e.codecs,
                contentType: e.type,
                frameRate: null,
                height: null,
                mimeType: e.mimeType,
                channelsCount: null,
                pixelAspectRatio: null,
                width: null,
                label: null,
                roles: e.roles,
                language: null
            };
            return "video" == e.type && (t.frameRate = e.frameRate || null,
            t.height = e.height || null,
            t.pixelAspectRatio = e.pixelAspectRatio || null,
            t.width = e.width || null),
            "audio" == e.type && (t.audioSamplingRate = e.audioSamplingRate,
            t.channelsCount = e.channelsCount,
            t.label = e.label || null,
            t.language = e.language),
            t
        }
        function Uu(e) {
            var t = la(e);
            return {
                type: t.split("/")[0],
                mimeType: t,
                codecs: e = ca(e),
                language: null,
                height: null,
                width: null,
                channelCount: null,
                sampleRate: null,
                closedCaptions: new Map,
                ie: null,
                colorGamut: null,
                frameRate: null
            }
        }
        function ju(e, t) {
            function n(e) {
                l = e.name;
                var t = e.reader
                  , n = (t.skip(24),
                t.za())
                  , i = t.za();
                t.skip(50),
                h = String(n),
                u = String(i),
                e.reader.Ha() && G(e)
            }
            function i(e) {
                var t = es(e.reader);
                f = t.channelCount,
                p = t.sampleRate,
                a(e.name)
            }
            function a(e) {
                switch (e = e.toLowerCase()) {
                case "avc1":
                case "avc3":
                    c.push(e + ".42E01E"),
                    d = !0;
                    break;
                case "hev1":
                case "hvc1":
                    c.push(e + ".1.6.L93.90"),
                    d = !0;
                    break;
                case "dvh1":
                case "dvhe":
                    c.push(e + ".05.04"),
                    d = !0;
                    break;
                case "vp09":
                    c.push(e + ".00.10.08"),
                    d = !0;
                    break;
                case "av01":
                    c.push(e + ".0.01M.08"),
                    d = !0;
                    break;
                case "mp4a":
                    r.push("mp4a.40.2"),
                    o = !0;
                    break;
                case "ac-3":
                case "ec-3":
                case "ac-4":
                case "opus":
                case "flac":
                    r.push(e),
                    o = !0
                }
            }
            var l, r = [], c = [], o = !1, d = !1, s = null, u = null, h = null, f = null, p = null, g = null, m = null;
            if ((new Fr).box("moov", G).box("trak", G).box("mdia", G).X("mdhd", function(e) {
                s = $o(e.reader, e.version).language
            }).box("minf", G).box("stbl", G).X("stsd", Br).box("mp4a", function(e) {
                var t = es(e.reader);
                f = t.channelCount,
                p = t.sampleRate,
                e.reader.Ha() ? G(e) : a(e.name)
            }).box("esds", function(e) {
                e = e.reader;
                for (var t, n = "mp4a"; e.Ha(); ) {
                    for (var i = e.$(), a = e.$(); 128 & a; )
                        a = e.$();
                    if (3 == i)
                        e.za(),
                        128 & (a = e.$()) && e.za(),
                        64 & a && e.skip(e.$()),
                        32 & a && e.za();
                    else if (4 == i)
                        t = e.$(),
                        e.skip(12);
                    else if (5 == i)
                        break
                }
                t && (n += "." + ns(t),
                5 == i && e.Ha() && (n += "." + (t = 31 === (t = (248 & (i = e.$())) >> 3) && e.Ha() ? 32 + ((7 & i) << 3) + ((224 & e.$()) >> 5) : t))),
                r.push(n),
                o = !0
            }).box("ac-3", i).box("ec-3", i).box("ac-4", i).box("Opus", i).box("fLaC", i).box("avc1", n).box("avc3", n).box("hev1", n).box("hvc1", n).box("dva1", n).box("dvav", n).box("dvh1", n).box("dvhe", n).box("vp09", n).box("av01", n).box("avcC", function(e) {
                var t = l || "";
                switch (l) {
                case "dvav":
                    t = "avc3";
                    break;
                case "dva1":
                    t = "avc1"
                }
                (e = e.reader).skip(1),
                e = t + "." + ns(e.$()) + ns(e.$()) + ns(e.$()),
                c.push(e),
                d = !0
            }).box("hvcC", function(e) {
                var t = l || "";
                switch (l) {
                case "dvh1":
                    t = "hvc1";
                    break;
                case "dvhe":
                    t = "hev1"
                }
                (o = e.reader).skip(1);
                var n = ["", "A", "B", "C"][(e = o.$()) >> 6]
                  , i = 31 & e
                  , a = o.U()
                  , r = (32 & e) >> 5 ? "H" : "L";
                e = [o.$(), o.$(), o.$(), o.$(), o.$(), o.$()];
                for (var o = o.$(), s = 0, u = 0; u < 32 && (s |= 1 & a,
                31 != u); u++)
                    s <<= 1,
                    a >>= 1;
                for (t = t + "." + n + i + "." + ns(s, !0),
                t += "." + r + o,
                n = "",
                i = e.length; i--; )
                    ((r = e[i]) || n) && (n = "." + r.toString(16).toUpperCase() + n);
                c.push(t += n),
                d = !0
            }).box("dvcC", function(e) {
                var t = l || "";
                switch (l) {
                case "hvc1":
                    t = "dvh1";
                    break;
                case "hev1":
                    t = "dvhe";
                    break;
                case "avc1":
                    t = "dva1";
                    break;
                case "avc3":
                    t = "dvav";
                    break;
                case "av01":
                    t = "dav1"
                }
                var n = e.reader;
                n.skip(2),
                e = n.$(),
                n = n.$(),
                c.push(t + "." + is(e >> 1 & 127) + "." + is(e << 5 & 32 | n >> 3 & 31)),
                d = !0
            }).box("dvvC", function(e) {
                var t = l || "";
                switch (l) {
                case "hvc1":
                    t = "dvh1";
                    break;
                case "hev1":
                    t = "dvhe";
                    break;
                case "avc1":
                    t = "dva1";
                    break;
                case "avc3":
                    t = "dvav";
                    break;
                case "av01":
                    t = "dav1"
                }
                var n = e.reader;
                n.skip(2),
                e = n.$(),
                n = n.$(),
                c.push(t + "." + is(e >> 1 & 127) + "." + is(e << 5 & 32 | n >> 3 & 31)),
                d = !0
            }).X("vpcC", function(e) {
                var t = l || ""
                  , n = (e = (i = e.reader).$(),
                i.$())
                  , i = i.$() >> 4 & 15;
                c.push(t + "." + is(e) + "." + is(n) + "." + is(i)),
                d = !0
            }).box("av1C", function(e) {
                var t = l || ""
                  , n = ("dav1" === l && (t = "av01"),
                e.reader)
                  , i = (n.skip(1),
                (e = n.$()) >>> 5)
                  , a = (64 & (n = n.$())) >> 6;
                c.push(t + "." + i + "." + is(31 & e) + (n >>> 7 ? "H" : "M") + "." + is(2 == i && a ? (32 & n) >> 5 ? 12 : 10 : a ? 10 : 8) + "." + ((16 & n) >> 4) + "." + ((8 & n) >> 3) + ((4 & n) >> 2) + (3 & n) + ".01.01.01.0"),
                d = !0
            }).box("enca", Vr).box("encv", Gr).box("sinf", G).box("frma", function(e) {
                a(e = ts(e.reader).codec)
            }).box("colr", function(u) {
                c = c.map(function(e) {
                    var t, n, i, a, r, o, s;
                    return e.startsWith("av01.") && (n = (t = u.reader).Pa(),
                    i = t.Rb(4),
                    a = String.fromCharCode(i[0]),
                    "nclx" === (a = (a = (a += String.fromCharCode(i[1])) + String.fromCharCode(i[2])) + String.fromCharCode(i[3])) && (i = t.za(),
                    a = t.za(),
                    r = t.za(),
                    o = t.$() >> 7,
                    10 == (s = e.split(".")).length && (s[6] = is(i),
                    s[7] = is(a),
                    s[8] = is(r),
                    s[9] = String(o),
                    e = s.join("."))),
                    t.seek(n)),
                    e
                });
                var e = function(e) {
                    var t = null
                      , n = null
                      , i = e.Rb(4)
                      , a = String.fromCharCode(i[0]);
                    if ("nclx" === (a += String.fromCharCode(i[1])) + String.fromCharCode(i[2]) + String.fromCharCode(i[3])) {
                        switch (e.za()) {
                        case 1:
                        case 5:
                        case 6:
                        case 7:
                            t = "srgb";
                            break;
                        case 9:
                            t = "rec2020";
                            break;
                        case 11:
                        case 12:
                            t = "p3"
                        }
                        switch (i = e.za(),
                        e.za(),
                        i) {
                        case 1:
                        case 6:
                        case 13:
                        case 14:
                        case 15:
                            n = "SDR";
                            break;
                        case 16:
                            n = "PQ";
                            break;
                        case 18:
                            n = "HLG"
                        }
                    }
                    return {
                        colorGamut: t,
                        ie: n
                    }
                }(u.reader)
                  , t = e.colorGamut;
                g = e.ie,
                m = t
            }).parse(e || t, !0),
            !r.length && !c.length)
                return null;
            var v = o && !d
              , y = new Map;
            if (d) {
                var b = new Cn("video/mp4");
                e && b.init(e);
                try {
                    b.i(t);
                    for (var T = Ze(b.j()), w = T.next(); !w.done; w = T.next()) {
                        var S = w.value;
                        y.set(S, S)
                    }
                } catch (e) {}
                b.g()
            }
            return {
                type: v ? "audio" : "video",
                mimeType: v ? "audio/mp4" : "video/mp4",
                codecs: Fu(r.concat(c)).join(", "),
                language: s,
                height: u,
                width: h,
                channelCount: f,
                sampleRate: p,
                closedCaptions: y,
                ie: g,
                colorGamut: m,
                frameRate: null
            }
        }
        function Fu(e) {
            for (var t = new Set, n = [], i = (e = Ze(e)).next(); !i.done; i = e.next()) {
                var a = ua(i = i.value);
                t.has(a) || (n.push(i),
                t.add(a))
            }
            return t = Xt("audio", n),
            i = Xt("video", n),
            e = Xt(it, n),
            i = function(e) {
                if (e.length <= 1)
                    return e;
                var t = e.find(function(e) {
                    return e.startsWith("dvav.") || e.startsWith("dva1.") || e.startsWith("dvh1.") || e.startsWith("dvhe.") || e.startsWith("dav1.") || e.startsWith("dvc1.") || e.startsWith("dvi1.")
                });
                return t ? vn('video/mp4; codecs="' + t + '"') ? [t] : e.filter(function(e) {
                    return e != t
                }) : e
            }(i),
            t = t.concat(i).concat(e),
            n.length && !t.length ? n : t
        }
        function Bu(t, n, i) {
            var a, r, o, s, u;
            return $e(function(e) {
                if (1 == e.g)
                    return (a = n).cryptoKey ? e.A(2) : We(e, a.fetchKey(), 3);
                if (!(r = a.iv))
                    for (r = tt(new ArrayBuffer(16)),
                    o = a.firstMediaSequenceNumber + i,
                    s = r.byteLength - 1; 0 <= s; s--)
                        r[s] = 255 & o,
                        o >>= 8;
                return u = "CBC" == n.blockCipherMode ? {
                    name: "AES-CBC",
                    iv: r
                } : {
                    name: "AES-CTR",
                    counter: r,
                    length: 64
                },
                e.return(U.crypto.subtle.decrypt(u, a.cryptoKey, t))
            })
        }
        function Gu(e, t, n, i, a) {
            return e = xr(e, i, a),
            0 == t && null == n || (e.headers.Range = n ? "bytes=" + t + "-" + n : "bytes=" + t + "-"),
            e
        }
        function Vu(e, t) {
            var u = this;
            this.g = t,
            this.l = e,
            this.h = null,
            this.I = new Map,
            this.C = 1,
            this.u = this.j = null,
            this.K = 0,
            this.i = new Map,
            this.H = !1,
            this.L = null,
            this.B = !1,
            this.m = new Pr(function() {
                return t = u,
                $e(function(e) {
                    if (1 == e.g) {
                        for (n = [],
                        i = Ze(t.i.values()),
                        a = i.next(); !a.done; a = i.next())
                            rl(r = a.value),
                            n.push(ol(r)),
                            r.ia && (ku(r.ia),
                            r.ia = null);
                        for (o = Ze(t.s.values()),
                        s = o.next(); !s.done; s = o.next())
                            ku(s.value);
                        return We(e, Promise.all(n), 2)
                    }
                    t.i.clear(),
                    t.s.clear(),
                    t.g = null,
                    t.l = null,
                    t.h = null,
                    Ye(e)
                });
                var t, n, i, a, r, o, s
            }
            ),
            this.M = Date.now() / 1e3,
            this.s = new Map,
            this.J = {
                projection: null,
                hfov: null
            },
            this.P = 0,
            this.O = 1 / 0,
            this.G = null
        }
        function Hu(e, t) {
            for (var n = e.g.Wa() < 0, i = Ze(e.i.values()), a = i.next(); !a.done; a = i.next())
                (a = a.value).va && a.va.Cd(n),
                a.ia && a.ia.Cd(n);
            for (a = (i = Ze(e.s.values())).next(); !a.done; a = i.next())
                a.value.Cd(n);
            (n = e.i.get("video")) && (i = n.stream) && (t ? (t = i.trickModeVideo) && !n.Ac && (Xu(e, t, !1, 0, !1),
            n.Ac = i) : (t = n.Ac) && Xu(e, t, !(n.Ac = null), 0, !1))
        }
        function Ku(e, t, n, i, a, r) {
            n = void 0 !== n && n,
            i = void 0 === i ? 0 : i,
            a = void 0 !== a && a,
            r = void 0 !== r && r,
            e.j = t,
            e.H && (t.video && Xu(e, t.video, n, i, a, r),
            t.audio && Xu(e, t.audio, n, i, a, r))
        }
        function zu(t, n) {
            $e(function(e) {
                if (1 == e.g)
                    return t.G = null,
                    t.u = n,
                    t.H ? n.segmentIndex ? e.A(2) : We(e, n.createSegmentIndex(), 2) : e.return();
                Xu(t, n, !0, 0, !1),
                Ye(e)
            })
        }
        function Xu(t, e, n, i, a, r) {
            var o, s, u, l, c, d, h, f, p, g, m, v, y = t.i.get(e.type);
            y || e.type != it ? y && (y.Ac && (e.trickModeVideo ? e = (y.Ac = e).trickModeVideo : y.Ac = null),
            y.stream != e || a) && (t.s.has(e) ? y.ia = t.s.get(e) : y.ia && (m = y.ia,
            (v = e) && v !== m.i && (ku(m),
            m.i = v)),
            e.type == it && (a = ia(e.mimeType, e.codecs),
            xs(t.g.qa, a, t.l.sequenceMode, e.external)),
            !t.s.has(y.stream) && y.stream.closeSegmentIndex && (y.Za ? (a = "(" + y.type + ":" + y.stream.id + ")",
            t.I.has(a) || t.I.set(a, y.stream.closeSegmentIndex)) : y.stream.closeSegmentIndex()),
            a = y.stream.isAudioMuxedInVideo != e.isAudioMuxedInVideo,
            y.stream = e,
            y.va = null,
            y.rh = !!r,
            a ? ul(t, !0, !1) : (n ? y.Hd ? y.yf = !0 : y.Za ? (y.Fc = !0,
            y.ye = i,
            y.yf = !0) : (rl(y),
            il(t, y, !0, i).catch(function(e) {
                t.g && t.g.onError(e)
            })) : y.Za || y.wb || al(t, y, 0),
            h = t,
            f = y,
            $e(function(e) {
                if (1 == e.g)
                    return f.Cb ? (p = f.stream,
                    g = f.Cb,
                    p.segmentIndex ? e.A(2) : We(e, p.createSegmentIndex(), 2)) : e.return();
                if (f.Cb != g || f.stream != p)
                    return e.return();
                var t = h.g.Nd()
                  , n = Cs(h.g.qa, f.type)
                  , i = null == (a = f.stream.segmentIndex.find(f.jb ? f.jb.endTime : t)) ? null : f.stream.segmentIndex.get(a)
                  , a = i && i.La ? i.La - i.eb : null;
                (t = !!(a = i && !a ? (i.endTime - i.getStartTime()) * (f.stream.bandwidth || 0) / 8 : a) && ((i = i.na) && (a += (i.La ? i.La - i.eb : null) || 0),
                8 * a / (i = h.g.getBandwidthEstimate()) < (n || 0) - t - Math.max(h.l.minBufferTime || 0, h.h.rebufferingGoal) || f.Cb.h.g > a)) && f.Cb.abort(),
                Ye(e)
            }).catch(function(e) {
                t.g && t.g.onError(e)
            }))) : (o = t,
            s = e,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    return u = Wt,
                    o.K++,
                    l = o.K,
                    qe(e, 2),
                    We(e, Rs(o.g.qa, u.Na), 4);
                case 4:
                    Je(e, 3);
                    break;
                case 2:
                    c = Qe(e),
                    o.g && o.g.onError(c);
                case 3:
                    c = ia(s.mimeType, s.codecs),
                    xs(o.g.qa, c, o.l.sequenceMode, s.external),
                    d = o.g.qa.ea,
                    (d.isTextVisible() || o.h.alwaysStreamText) && o.K == l && (d = Yu(o, s),
                    o.i.set(u.Na, d),
                    al(o, d, 0)),
                    Ye(e)
                }
            }))
        }
        function Wu(t, e) {
            e.Hd || e.Fc || (e.Za ? (e.Fc = !0,
            e.ye = 0) : null == ks(t.g.qa, e.type) ? null == e.wb && al(t, e, 0) : (rl(e),
            il(t, e, !1, 0).catch(function(e) {
                t.g && t.g.onError(e)
            })))
        }
        function Yu(e, t) {
            return {
                stream: t,
                type: t.type,
                va: null,
                ia: qu(e, t),
                jb: null,
                qd: null,
                Qe: null,
                Tc: null,
                Sc: null,
                Ac: null,
                endOfStream: !1,
                Za: !1,
                wb: null,
                Fc: !1,
                ye: 0,
                yf: !1,
                Hd: !1,
                zd: !0,
                Pg: !1,
                Qd: !1,
                Cb: null
            }
        }
        function qu(i, e) {
            if ("video" === e.type && i.h.disableVideoPrefetch || "audio" === e.type && i.h.disableAudioPrefetch || e.type === it && ("application/cea-608" == e.mimeType || "application/cea-708" == e.mimeType) || e.type === it && i.h.disableTextPrefetch)
                return null;
            if (i.s.has(e))
                return i.s.get(e);
            var t = i.i.get(e.type);
            return (t = t && t.ia) && e === t.i ? t : 0 < i.h.segmentPrefetchLimit ? new Eu(i.h.segmentPrefetchLimit,e,function(e, t, n) {
                return nl(e, t, n || null, i.h.retryParameters, i.g.jc)
            }
            ,i.g.Wa() < 0) : null
        }
        function Ju(o, s) {
            var u, l, c, d;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (Dr(o.m),
                    s.Za || null == s.wb || s.Hd)
                        return e.return();
                    if (s.wb = null,
                    s.Fc)
                        return We(e, il(o, s, s.yf, s.ye), 3);
                    e.A(2);
                    break;
                case 3:
                    return e.return();
                case 2:
                    for (var t = o, n = s, i = Ze(t.I.entries()), a = i.next(); !a.done; a = i.next()) {
                        var a = (r = Ze(a.value)).next().value
                          , r = r.next().value;
                        a.includes(n.type) && (r(),
                        t.I.delete(a))
                    }
                    if (s.stream.segmentIndex) {
                        e.A(4);
                        break
                    }
                    return u = s.stream,
                    qe(e, 5),
                    We(e, s.stream.createSegmentIndex(), 7);
                case 7:
                    Je(e, 6);
                    break;
                case 5:
                    return l = Qe(e),
                    We(e, sl(o, s, l), 8);
                case 8:
                    return e.return();
                case 6:
                    if (u != s.stream)
                        return u.closeSegmentIndex && u.closeSegmentIndex(),
                        s.Za || s.wb || al(o, s, 0),
                        e.return();
                case 4:
                    qe(e, 9),
                    null != (l = function(e, t) {
                        if (el(t))
                            return function(e, t) {
                                var n = Cs(e, "video") || 0;
                                va(e.h, t, n)
                            }(e.g.qa, t.stream.originalId || ""),
                            null;
                        if (t.type == it && function(e) {
                            e.h && va(e.h, "", 0)
                        }(e.g.qa),
                        t.stream.isAudioMuxedInVideo)
                            return null;
                        if (!function(e) {
                            return e.ya && !e.W && !e.K
                        }(e.g.qa) && t.type != it)
                            return e.h.updateIntervalSeconds / 2;
                        var n = e.g.Nd();
                        if ("audio" === t.type)
                            for (var i = Ze(e.s.keys()), a = i.next(); !a.done; a = i.next())
                                (a = e.s.get(a.value)).ab(n, !0),
                                Au(a, n);
                        i = t.jb ? t.jb.endTime : n;
                        var r = function(e, t, n) {
                            return t == it ? null == (e = e.h).h || e.h < n ? 0 : e.h - Math.max(n, e.g) : jo(e = Ms(e, t), n)
                        }(e.g.qa, t.type, n)
                          , o = Math.max(1, Math.max(e.l.minBufferTime || 0, e.h.rebufferingGoal, e.h.bufferingGoal) * e.C)
                          , s = e.l.presentationTimeline.getDuration() - i;
                        if (a = Cs(e.g.qa, t.type),
                        s < 1e-6 && a)
                            return t.endOfStream = !0,
                            "video" == t.type && (e = e.i.get(it)) && el(e) && (e.endOfStream = !0),
                            null;
                        if (t.endOfStream = !1,
                        o <= r)
                            return e.h.updateIntervalSeconds / 2;
                        if (o = !t.va,
                        !(a = function(e, t, n, i) {
                            if (t.va)
                                return t.va.current();
                            if (t.jb || i)
                                return n = t.jb ? t.jb.endTime : i,
                                e = e.g.Wa() < 0,
                                t.stream.segmentIndex && (t.va = t.stream.segmentIndex.cc(n, !1, e)),
                                t.va && t.va.next().value;
                            i = e.l.sequenceMode ? 0 : e.h.inaccurateManifestTolerance;
                            var a = Math.max(n - i, 0)
                              , r = (e = e.g.Wa() < 0,
                            null);
                            return i && (t.stream.segmentIndex && (t.va = t.stream.segmentIndex.cc(a, !1, e)),
                            r = t.va && t.va.next().value),
                            r || (t.stream.segmentIndex && (t.va = t.stream.segmentIndex.cc(n, !1, e)),
                            r = t.va && t.va.next().value),
                            r
                        }(e, t, n, a)))
                            return e.h.updateIntervalSeconds;
                        r = !1,
                        o && t.rh && (r = !0,
                        t.rh = !1),
                        o = 1 / 0;
                        for (var u = (s = Ze(s = Array.from(e.i.values()))).next(); !u.done; u = s.next())
                            el(u = u.value) || u.va && !u.va.current() || (o = Math.min(o, u.jb ? u.jb.endTime : n));
                        return i >= o + e.l.presentationTimeline.h ? e.h.updateIntervalSeconds : (t.ia && t.va && !e.s.has(t.stream) && (t.ia.ab(a.startTime),
                        Au(t.ia, a.startTime)),
                        function(u, l, c, d, h) {
                            var r, L, o, s, R, P, D, N, _, O;
                            return $e(function(e) {
                                switch (e.g) {
                                case 1:
                                    if (r = Wt,
                                    L = l.stream,
                                    o = l.va,
                                    l.Za = !0,
                                    qe(e, 2),
                                    2 == d.uc())
                                        throw new nt(1,1,1011);
                                    return We(e, (f = u,
                                    p = l,
                                    g = d,
                                    m = h,
                                    $e(function(e) {
                                        switch (e.g) {
                                        case 1:
                                            if (v = Wt,
                                            y = null == p.jb,
                                            b = [],
                                            T = Math.max(0, Math.max(g.appendWindowStart, f.P) - .1),
                                            w = Math.min(g.appendWindowEnd, f.O) + .01,
                                            x = g.codecs || p.stream.codecs,
                                            S = ua(x),
                                            E = la(g.mimeType || p.stream.mimeType),
                                            (A = g.timestampOffset) == p.Qe && T == p.Tc && w == p.Sc && S == p.Cg && E == p.Dg) {
                                                e.A(2);
                                                break
                                            }
                                            if (!(p.Cg && p.Dg && (r = f.g.qa,
                                            o = p.type,
                                            s = E,
                                            u = x,
                                            !!(l = o != it && (l = sa(ca(r.I[o])),
                                            c = la(r.I[o]),
                                            d = ia(s, u),
                                            h = r.B.forceTransmux,
                                            vn(d) && (r.G || !pa.includes(d)) || (h = !0),
                                            s = aa(s, u),
                                            (h = h && Ji(s)) && (d = (h = h()).convertCodecs(o, s),
                                            h.destroy()),
                                            o = sa(ca(d)),
                                            d = la(d),
                                            l !== o || c !== d)) && ("smooth" !== r.B.codecSwitchingStrategy || !yn() || r.m)))) {
                                                e.A(3);
                                                break
                                            }
                                            if (x = null,
                                            p.type === v.xa ? x = f.i.get(v.ba) : p.type === v.ba && (x = f.i.get(v.xa)),
                                            x)
                                                return We(e, ol(x).catch(function() {}), 5);
                                            e.A(3);
                                            break;
                                        case 5:
                                            x.qd = null,
                                            x.Tc = null,
                                            x.Sc = null,
                                            Wu(f, x);
                                        case 3:
                                            return We(e, Qu(f, p, A, T, w, g, S, E), 2);
                                        case 2:
                                            return Po(g.na, p.qd) || (p.qd = g.na,
                                            g.l && g.na && (I = tl(f, p, g.na),
                                            k = function() {
                                                var a, r, o, s, u, l;
                                                return $e(function(e) {
                                                    switch (e.g) {
                                                    case 1:
                                                        return qe(e, 2),
                                                        We(e, I, 4);
                                                    case 4:
                                                        a = e.h,
                                                        Dr(f.m),
                                                        r = null,
                                                        o = new Map,
                                                        s = {
                                                            projection: null,
                                                            hfov: null
                                                        },
                                                        (new Fr).box("moov", G).box("trak", G).box("mdia", G).X("mdhd", function(e) {
                                                            r = $o(e.reader, e.version).timescale
                                                        }).box("hdlr", function(e) {
                                                            switch ((e = e.reader).skip(8),
                                                            e.Vc()) {
                                                            case "soun":
                                                                o.set(v.ba, r);
                                                                break;
                                                            case "vide":
                                                                o.set(v.xa, r)
                                                            }
                                                            r = null
                                                        }).box("minf", G).box("stbl", G).X("stsd", Br).box("encv", Gr).box("avc1", Gr).box("avc3", Gr).box("hev1", Gr).box("hvc1", Gr).box("dvav", Gr).box("dva1", Gr).box("dvh1", Gr).box("dvhe", Gr).box("dvc1", Gr).box("dvi1", Gr).box("vexu", G).box("proj", G).X("prji", function(e) {
                                                            e = e.reader.Vc(),
                                                            s.projection = e
                                                        }).box("hfov", function(e) {
                                                            e = e.reader.U() / 1e3,
                                                            s.hfov = e
                                                        }).parse(a);
                                                        var t, n = f, i = s;
                                                        return n.J.projection == i.projection && n.J.hfov == i.hfov || ((t = null != i.projection || null != i.hfov ? new Xe("spatialvideoinfo",t = (new Map).set("detail", i)) : new Xe("nospatialvideoinfo")).cancelable = !0,
                                                        n.g.onEvent(t),
                                                        n.J = i),
                                                        o.has(p.type) ? g.na.timescale = o.get(p.type) : null != r && (g.na.timescale = r),
                                                        u = p.stream.closedCaptions && 0 < p.stream.closedCaptions.size,
                                                        We(e, f.g.wh(p.type, a), 5);
                                                    case 5:
                                                        return We(e, Ls(f.g.qa, p.type, a, null, p.stream, u, p.zd, m), 6);
                                                    case 6:
                                                        Je(e, 0);
                                                        break;
                                                    case 2:
                                                        throw l = Qe(e),
                                                        p.qd = null,
                                                        l
                                                    }
                                                })
                                            }
                                            ,
                                            C = g.startTime,
                                            y && (null != (M = Cs(f.g.qa, p.type)) && (C = M)),
                                            f.g.ik(C, g.na),
                                            b.push(k()))),
                                            M = p.jb ? p.jb.i : null,
                                            g.i != M && b.push((t = f.g.qa,
                                            n = p.type,
                                            i = g.startTime,
                                            $e(function(e) {
                                                return 1 == e.g ? n == (a = Wt).Na ? e.return() : (n == a.xa && (t.Ga = new fr),
                                                t.G ? (Us(t, n, function() {
                                                    return Ns(t, n)
                                                }, null),
                                                t.m && Us(t, a.ba, function() {
                                                    return Ns(t, a.ba)
                                                }, null),
                                                We(e, Us(t, n, function() {
                                                    return _s(t, n, i)
                                                }, null), 2)) : e.return()) : t.m ? We(e, Us(t, a.ba, function() {
                                                    return _s(t, a.ba, i)
                                                }, null), 0) : e.A(0)
                                            }))),
                                            We(e, Promise.all(b), 0)
                                        }
                                        var t, n, i, a, r, o, s, u, l, c, d, h
                                    })), 4);
                                case 4:
                                    return (Dr(u.m),
                                    u.B) ? e.return() : (_ = "video/mp4" == L.mimeType || "audio/mp4" == L.mimeType,
                                    s = U.ReadableStream,
                                    u.h.lowLatencyMode && u.l.isLowLatency && s && _ && ("HLS" != u.l.type || d.m) ? (R = new Uint8Array(0),
                                    D = P = !1,
                                    We(e, tl(u, l, d, function(a) {
                                        var r, o, s;
                                        return $e(function(e) {
                                            switch (e.g) {
                                            case 1:
                                                if (P)
                                                    return e.return();
                                                if (D = !0,
                                                Dr(u.m),
                                                u.B)
                                                    return e.return();
                                                if (qe(e, 2),
                                                t = R,
                                                n = a,
                                                (i = new Uint8Array(t.length + n.length)).set(t),
                                                i.set(n, t.length),
                                                R = i,
                                                r = !1,
                                                o = 0,
                                                (new Fr).box("mdat", function(e) {
                                                    o = e.size + e.start,
                                                    r = !0
                                                }).parse(R, !1, !0),
                                                r)
                                                    return s = R.subarray(0, o),
                                                    R = R.subarray(o),
                                                    We(e, $u(u, l, c, L, d, s, !0, h), 5);
                                                e.A(4);
                                                break;
                                            case 5:
                                                l.ia && l.va && Au(l.ia, d.startTime, !0);
                                            case 4:
                                                Je(e, 0);
                                                break;
                                            case 2:
                                                N = Qe(e),
                                                Ye(e)
                                            }
                                            var t, n, i
                                        })
                                    }), 9)) : We(e, tl(u, l, d), 7));
                                case 7:
                                    return (s = e.h,
                                    Dr(u.m),
                                    u.B) ? e.return() : (Dr(u.m),
                                    l.Fc ? (l.Za = !1,
                                    al(u, l, 0),
                                    e.return()) : We(e, $u(u, l, c, L, d, s, !1, h), 6));
                                case 9:
                                    if (_ = e.h,
                                    N)
                                        throw N;
                                    if (D) {
                                        e.A(10);
                                        break
                                    }
                                    return P = !0,
                                    Dr(u.m),
                                    u.B ? e.return() : l.Fc ? (l.Za = !1,
                                    al(u, l, 0),
                                    e.return()) : We(e, $u(u, l, c, L, d, _, !1, h), 10);
                                case 10:
                                    l.ia && l.va && Au(l.ia, d.startTime, !0);
                                case 6:
                                    if (Dr(u.m),
                                    u.B)
                                        return e.return();
                                    l.jb = d,
                                    o.next(),
                                    l.Za = !1,
                                    l.Pg = !1,
                                    O = u.g.qa.Vb(),
                                    O = O[l.type],
                                    JSON.stringify(O),
                                    l.Fc || u.g.Jg(d, l.stream),
                                    al(u, l, 0),
                                    Je(e, 0);
                                    break;
                                case 2:
                                    if (O = Qe(e),
                                    Dr(u.m, O),
                                    u.B)
                                        return e.return();
                                    if (l.Za = !1,
                                    7001 == O.code)
                                        l.Za = !1,
                                        rl(l),
                                        al(u, l, 0),
                                        e.A(0);
                                    else {
                                        if (l.type != r.Na || !u.h.ignoreTextStreamFailures)
                                            return 3017 == O.code ? We(e, (t = u,
                                            n = l,
                                            i = O,
                                            $e(function(e) {
                                                if (1 == e.g) {
                                                    if (a = Array.from(t.i.values()),
                                                    a.some(function(e) {
                                                        return e != n && e.Pg
                                                    }))
                                                        return e.A(2);
                                                    if (a = 0 === t.h.maxDisabledTime && 1011 == i.code ? 1 : t.h.maxDisabledTime,
                                                    t.g.disableStream(n.stream, a))
                                                        return e.return();
                                                    if (20 < (a = Math.round(100 * t.C)))
                                                        t.C -= .2;
                                                    else {
                                                        if (!(4 < a))
                                                            return n.Qd = !0,
                                                            t.B = !0,
                                                            t.g.onError(i),
                                                            e.return();
                                                        t.C -= .04
                                                    }
                                                    return n.Pg = !0,
                                                    a = t.g.Nd(),
                                                    We(e, Zu(t, n, a), 2)
                                                }
                                                al(t, n, 4),
                                                Ye(e)
                                            })), 0) : (l.Qd = !0,
                                            1 == O.category && l.ia && Lu(l.ia, d),
                                            O.severity = 2,
                                            We(e, sl(u, l, O), 0));
                                        u.i.delete(r.Na),
                                        e.A(0)
                                    }
                                }
                                var t, n, i, a, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C, M
                            })
                        }(e, t, n, a, r).catch(function() {}),
                        null)
                    }(o, s)) && (al(o, s, l),
                    s.Qd = !1),
                    Je(e, 10);
                    break;
                case 9:
                    return c = Qe(e),
                    We(e, sl(o, s, c), 11);
                case 11:
                    return e.return();
                case 10:
                    if (c = Array.from(o.i.values()),
                    o.H && c.every(function(e) {
                        return e.endOfStream
                    }))
                        return We(e, o.g.qa.endOfStream(), 13);
                    e.A(0);
                    break;
                case 13:
                    Dr(o.m),
                    0 != (d = o.g.qa.getDuration()) && d < o.l.presentationTimeline.getDuration() && o.l.presentationTimeline.vb(d),
                    Ye(e)
                }
            })
        }
        function Qu(t, n, i, a, r, o, s, u) {
            var l, c;
            return $e(function(e) {
                if (1 == e.g)
                    return c = Wt,
                    l = new Map,
                    t.j.audio && l.set(c.ba, t.j.audio),
                    t.j.video && l.set(c.xa, t.j.video),
                    qe(e, 2),
                    n.Tc = a,
                    n.Sc = r,
                    s && (n.Cg = s),
                    u && (n.Dg = u),
                    n.Qe = i,
                    c = t.l.sequenceMode || "HLS" == t.l.type,
                    We(e, Ps(t.g.qa, n.type, i, a, r, c, o.mimeType || n.stream.mimeType, o.codecs || n.stream.codecs, l), 4);
                if (2 != e.g)
                    return Je(e, 0);
                throw c = Qe(e),
                n.Tc = null,
                n.Sc = null,
                n.Cg = null,
                n.Dg = null,
                n.Qe = null,
                c
            })
        }
        function $u(r, o, t, n, s, i, a, u) {
            var l, c, d, h, f;
            return a = void 0 !== a && a,
            u = void 0 !== u && u,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    return l = n.closedCaptions && 0 < n.closedCaptions.size,
                    r.h.shouldFixTimestampOffset && (h = "video/mp4" == n.mimeType || "audio/mp4" == n.mimeType,
                    d = null,
                    s.na && (d = s.na.timescale),
                    (h = h && d && "video" === n.type && "DASH" == r.l.type) && (c = new Fr),
                    h && c.box("moof", G).box("traf", G).X("tfdt", function(t) {
                        var n, i, a;
                        return $e(function(e) {
                            return n = Qo(t.reader, t.version),
                            (n = n.baseMediaDecodeTime) ? (n = -n / d,
                            (Number(o.Qe) || 0) < n ? (i = o.Tc,
                            a = o.Sc,
                            We(e, Qu(r, o, n, i, a, s), 0)) : e.A(0)) : e.return()
                        })
                    }),
                    h && c.parse(i, !1, a)),
                    We(e, Zu(r, o, t), 2);
                case 2:
                    return Dr(r.m),
                    f = o.zd,
                    o.zd = !1,
                    We(e, r.g.wh(o.type, i), 3);
                case 3:
                    return We(e, Ls(r.g.qa, o.type, i, s, n, l, f, u, a), 4);
                case 4:
                    Dr(r.m),
                    Ye(e)
                }
            })
        }
        function Zu(t, n, i) {
            var a, r;
            return $e(function(e) {
                return 1 == e.g ? ((r = n.stream.segmentIndex)instanceof fu && r.ab(t.l.presentationTimeline.dc()),
                r = Math.max(t.h.bufferBehind * t.C, t.l.presentationTimeline.h),
                null == (a = ks(t.g.qa, n.type)) ? (t.G == n && (t.G = null),
                e.return()) : (r = i - a - r) <= t.h.evictionGoal ? e.return() : We(e, t.g.qa.remove(n.type, a, a + r), 2)) : 4 != e.g ? (Dr(t.m),
                t.G ? We(e, Zu(t, t.G, i), 4) : e.A(0)) : (Dr(t.m),
                void Ye(e))
            })
        }
        function el(e) {
            return e && e.type == it && ("application/cea-608" == e.stream.mimeType || "application/cea-708" == e.stream.mimeType)
        }
        function tl(i, a, r, o) {
            var s, u, l;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return (u = r.Lc()) ? e.return(u) : (u = null,
                    a.ia && (n = (t = a.ia).h,
                    r instanceof Ro && (n = t.j),
                    u = n.has(r) ? (t = n.get(r),
                    o && (t.gh = o),
                    t.Yd) : null),
                    u = u || nl(r, a.stream, o || null, i.h.retryParameters, i.g.jc),
                    s = 0,
                    a.va && (s = a.va.h),
                    We(e, (a.Cb = u).promise, 2));
                    var t, n;
                case 2:
                    if (u = e.h,
                    a.Cb = null,
                    l = u.data,
                    r.aesKey)
                        return We(e, Bu(l, r.aesKey, s), 4);
                    e.A(3);
                    break;
                case 4:
                    l = e.h;
                case 3:
                    return e.return(l)
                }
            })
        }
        function nl(e, t, n, i, a, r) {
            r = void 0 !== r && r;
            var o = e instanceof at ? e : void 0
              , s = o ? 1 : 0;
            return (e = Gu(e.R(), e.eb, e.La, i, n)).contentType = t.type,
            a.request(Mr, e, {
                type: s,
                stream: t,
                segment: o,
                isPreload: r
            })
        }
        function il(t, n, i, a) {
            var r, o;
            return $e(function(e) {
                return 1 == e.g ? (n.Fc = !1,
                n.yf = !1,
                n.ye = 0,
                n.Hd = !0,
                n.jb = null,
                n.va = null,
                n.ia && !t.s.has(n.stream) && ku(n.ia),
                a ? (r = t.g.Nd(),
                o = t.g.qa.getDuration(),
                We(e, t.g.qa.remove(n.type, r + a, o), 3)) : We(e, Rs(t.g.qa, n.type), 4)) : 3 != e.g ? (Dr(t.m),
                i ? We(e, t.g.qa.flush(n.type), 3) : e.A(3)) : (Dr(t.m),
                n.Hd = !1,
                n.endOfStream = !1,
                n.Za || n.wb || al(t, n, 0),
                void Ye(e))
            })
        }
        function al(n, i, e) {
            var t = i.type;
            t == it && !n.i.has(t) || (i.wb = new Re(function() {
                var t;
                return $e(function(e) {
                    return 1 == e.g ? (qe(e, 2),
                    We(e, Ju(n, i), 4)) : 2 != e.g ? Je(e, 0) : (t = Qe(e),
                    n.g && n.g.onError(t),
                    void Ye(e))
                })
            }
            ).Y(e))
        }
        function rl(e) {
            null != e.wb && (e.wb.stop(),
            e.wb = null)
        }
        function ol(t) {
            return $e(function(e) {
                return t.Cb ? We(e, t.Cb.abort(), 0) : e.A(0)
            })
        }
        function sl(t, n, i) {
            var a;
            return $e(function(e) {
                if (1 == e.g)
                    return We(e, dr(t.L), 2);
                if (Dr(t.m),
                1 === i.category && 1003 != i.code) {
                    if (n.Ac)
                        return Hu(t, !1),
                        e.return();
                    a = 0 === t.h.maxDisabledTime && 1011 == i.code ? 1 : t.h.maxDisabledTime,
                    i.handled = t.g.disableStream(n.stream, a),
                    i.handled && (i.severity = 1)
                }
                i.handled && 1011 == i.code || t.g.onError(i),
                i.handled || t.h.failureCallback(i),
                Ye(e)
            })
        }
        function ul(t, n, i) {
            var a, r, o, s;
            return n = void 0 !== n && n,
            i = void 0 === i || i,
            $e(function(e) {
                if (1 != e.g)
                    return !o || o.Za || o.wb || al(t, o, 0),
                    !r || r.Za || r.wb || al(t, r, 0),
                    e.return(!0);
                if (s = Date.now() / 1e3,
                a = t.h.minTimeBetweenRecoveries,
                !n) {
                    if (!t.h.allowMediaSourceRecoveries || s - t.M < a)
                        return e.return(!1);
                    t.M = s
                }
                return a = Wt,
                (r = t.i.get(a.ba)) && (r.qd = null,
                r.Tc = null,
                r.Sc = null,
                i && Wu(t, r),
                ol(r).catch(function() {}),
                r.va && r.va.Rg()),
                (o = t.i.get(a.xa)) && (o.qd = null,
                o.Tc = null,
                o.Sc = null,
                i && Wu(t, o),
                ol(o).catch(function() {}),
                o.va && o.va.Rg()),
                s = new Map,
                t.j.audio && s.set(a.ba, t.j.audio),
                t.j.video && s.set(a.xa, t.j.video),
                We(e, Gs(t.g.qa, s), 2)
            })
        }
        function ll() {}
        function cl(e, t, n, i, a) {
            var r, o = a in i, s = o ? n.constructor == Object && 0 == Object.keys(i).length : n.constructor == Object && 0 == Object.keys(n).length, u = o || s, l = !0;
            for (r in t) {
                var c = a + "." + r
                  , d = o ? i[a] : n[r];
                u || r in n ? void 0 === t[r] ? void 0 === d || u ? delete e[r] : e[r] = zn(d) : s ? e[r] = t[r] : d.constructor == Object && t[r] && t[r].constructor == Object ? (e[r] || (e[r] = zn(d)),
                c = cl(e[r], t[r], d, i, c),
                l = l && c) : typeof t[r] != typeof d || null == t[r] || "function" != typeof t[r] && t[r].constructor != d.constructor ? (Y("Invalid config, wrong type for " + c),
                l = !1) : ("function" == typeof n[r] && n[r].length != t[r].length && Q("Unexpected number of arguments for " + c),
                e[r] = t[r]) : (Y("Invalid config, unrecognized key " + c),
                l = !1)
            }
            return l
        }
        function dl(e, t) {
            for (var n = {}, i = n, a = 0, r = 0; !((a = e.indexOf(".", a)) < 0); )
                0 != a && "\\" == e[a - 1] || (i[r = e.substring(r, a).replace(/\\\./g, ".")] = {},
                i = i[r],
                r = a + 1),
                a += 1;
            return i[e.substring(r).replace(/\\\./g, ".")] = t,
            n
        }
        function hl(e, t) {
            function o(e) {
                return Array.isArray(e) && 0 === e.length
            }
            function s(e) {
                return e && "object" == typeof e && !Array.isArray(e)
            }
            return function e(t) {
                for (var n = Ze(Object.keys(t)), i = n.next(); !i.done; i = n.next())
                    s(t[i = i.value]) && 0 === Object.keys(t[i]).length || o(t[i]) || "function" == typeof t[i] ? delete t[i] : s(t[i]) && (e(t[i]),
                    0 === Object.keys(t[i]).length && delete t[i])
            }(e = function i(a, r) {
                return Object.keys(a).reduce(function(e, t) {
                    var n = a[t];
                    return r.hasOwnProperty(t) ? s(n) && s(r[t]) ? (n = i(n, r[t]),
                    (0 < Object.keys(n).length || !s(n)) && (e[t] = n)) : o(n) && o(r[t]) || Number.isNaN(n) && Number.isNaN(r[t]) || n !== r[t] && (e[t] = n) : e[t] = n,
                    e
                }, {})
            }(e, t)),
            e
        }
        function fl() {}
        function pl(e) {
            return new pt(e = Ct(e)).bc
        }
        function gl(e, t, n) {
            function i(e) {
                Ee(a).setUint32(r, e.byteLength, !0),
                r += 4,
                a.set(tt(e), r),
                r += e.byteLength
            }
            if (!n || !n.byteLength)
                throw new nt(2,6,6015);
            var t = "string" == typeof t ? Lt(t, !0) : t
              , a = (e = Lt(e = Ct(e), !0),
            new Uint8Array(12 + e.byteLength + t.byteLength + n.byteLength))
              , r = 0;
            return i(e),
            i(t),
            i(n),
            a
        }
        function ml(e, t, n) {
            return "skd" !== t ? e : (t = n.serverCertificate,
            gl(e, n = Ct(e).split("skd://").pop(), t))
        }
        function vl(e, t) {
            2 === e && (t.headers["Content-Type"] = "application/octet-stream")
        }
        function yl() {}
        function bl() {
            var e = 1 / 0
              , t = (navigator.connection && navigator.connection.saveData && (e = 360),
            {
                retryParameters: hr(),
                servers: {},
                clearKeys: {},
                advanced: {},
                delayLicenseRequestUntilPlayed: !1,
                persistentSessionOnlinePlayback: !1,
                persistentSessionsMetadata: [],
                initDataTransform: function(e, t, n) {
                    return wt() && "skd" == t && (t = n.serverCertificate,
                    e = gl(e, n = pl(e), t)),
                    e
                },
                logLicenseExchange: !1,
                updateExpirationTime: 1,
                preferredKeySystems: [],
                keySystemsMapping: {},
                parseInbandPsshEnabled: _e(),
                minHdcpVersion: "",
                ignoreDuplicateInitData: !f("Tizen 2")
            })
              , n = ((_e() || He()) && t.preferredKeySystems.push("com.microsoft.playready"),
            "reload")
              , i = !1
              , a = (!yn() || Oe() || He() || Ve() || je() && 79 === Be() || !(!Fe() || Fe() && yt() || Fe() && f("Fuchsia")) || vt() && Ne() || (n = "smooth",
            i = !0),
            i = {
                retryParameters: hr(),
                availabilityWindowOverride: NaN,
                disableAudio: !1,
                disableVideo: !1,
                disableText: !1,
                disableThumbnails: !1,
                disableIFrames: !1,
                defaultPresentationDelay: 0,
                segmentRelativeVttTiming: !1,
                raiseFatalErrorOnManifestUpdateRequestFailure: !1,
                continueLoadingWhenPaused: !0,
                dash: {
                    clockSyncUri: "",
                    ignoreDrmInfo: !1,
                    disableXlinkProcessing: !0,
                    xlinkFailGracefully: !1,
                    ignoreMinBufferTime: !1,
                    autoCorrectDrift: !0,
                    initialSegmentLimit: 1e3,
                    ignoreSuggestedPresentationDelay: !1,
                    ignoreEmptyAdaptationSet: !1,
                    ignoreMaxSegmentDuration: !1,
                    keySystemsByURI: {
                        "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
                        "urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e": "org.w3.clearkey",
                        "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
                        "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                        "urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95": "com.microsoft.playready",
                        "urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2": "com.apple.fps"
                    },
                    manifestPreprocessor: wl,
                    manifestPreprocessorTXml: Sl,
                    sequenceMode: !1,
                    multiTypeVariantsAllowed: i,
                    useStreamOnceInPeriodFlattening: !1,
                    updatePeriod: -1,
                    enableFastSwitching: !0
                },
                hls: {
                    ignoreTextStreamFailures: !1,
                    ignoreImageStreamFailures: !1,
                    defaultAudioCodec: "mp4a.40.2",
                    defaultVideoCodec: "avc1.42E01E",
                    ignoreManifestProgramDateTime: !1,
                    ignoreManifestProgramDateTimeForTypes: [],
                    mediaPlaylistFullMimeType: 'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',
                    liveSegmentsDelay: 3,
                    sequenceMode: !(Ue() || f("Tizen 2") || je() && 38 === Be() || He()),
                    ignoreManifestTimestampsInSegmentsMode: !1,
                    disableCodecGuessing: !1,
                    disableClosedCaptionsDetection: !1,
                    updatePeriod: -1,
                    allowLowLatencyByteRangeOptimization: !0
                },
                mss: {
                    manifestPreprocessor: wl,
                    manifestPreprocessorTXml: Sl,
                    sequenceMode: !1,
                    keySystemsBySystemId: {
                        "9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                        "79f0049a-4098-8642-ab92-e65be0885f95": "com.microsoft.playready"
                    }
                }
            },
            {
                retryParameters: hr(),
                failureCallback: function(e) {},
                rebufferingGoal: 2,
                bufferingGoal: 10,
                bufferBehind: 30,
                evictionGoal: 1,
                ignoreTextStreamFailures: !1,
                alwaysStreamText: !1,
                startAtSegmentBoundary: !1,
                gapDetectionThreshold: .5,
                gapPadding: .01,
                gapJumpTimerTime: .25,
                durationBackoff: 1,
                safeSeekOffset: 5,
                safeSeekEndOffset: 0,
                stallEnabled: !0,
                stallThreshold: 1,
                stallSkip: .1,
                useNativeHlsForFairPlay: !0,
                inaccurateManifestTolerance: 2,
                lowLatencyMode: !1,
                autoLowLatencyMode: !1,
                forceHTTP: !1,
                forceHTTPS: !1,
                minBytesForProgressEvents: 16e3,
                preferNativeHls: !1,
                updateIntervalSeconds: 1,
                observeQualityChanges: !1,
                maxDisabledTime: 30,
                segmentPrefetchLimit: 0,
                prefetchAudioLanguages: [],
                disableAudioPrefetch: !1,
                disableTextPrefetch: !1,
                disableVideoPrefetch: !1,
                liveSync: {
                    enabled: !1,
                    targetLatency: .5,
                    targetLatencyTolerance: .5,
                    maxPlaybackRate: 1.1,
                    minPlaybackRate: .95,
                    panicMode: !1,
                    panicThreshold: 60,
                    dynamicTargetLatency: {
                        enabled: !1,
                        stabilityThreshold: 60,
                        rebufferIncrement: .5,
                        maxAttempts: 10,
                        maxLatency: 4,
                        minLatency: 1
                    }
                },
                allowMediaSourceRecoveries: !0,
                minTimeBetweenRecoveries: 5,
                vodDynamicPlaybackRate: !1,
                vodDynamicPlaybackRateLowBufferRate: .95,
                vodDynamicPlaybackRateBufferRatio: .5,
                infiniteLiveStreamDuration: !1,
                preloadNextUrlWindow: 30,
                loadTimeout: 30,
                clearDecodingCache: He() || Ve(),
                dontChooseCodecs: !1,
                shouldFixTimestampOffset: je() || Oe()
            })
              , r = ((je() || Oe() || Fe() || Ke()) && (a.stallSkip = 0),
            Oe() && (a.gapPadding = 2),
            {
                trackSelectionCallback: function(t) {
                    return $e(function(e) {
                        return e.return(t)
                    })
                },
                downloadSizeCallback: function(t) {
                    var n;
                    return $e(function(e) {
                        return 1 == e.g ? navigator.storage && navigator.storage.estimate ? We(e, navigator.storage.estimate(), 3) : e.return(!0) : (n = e.h,
                        e.return(n.usage + t < .95 * n.quota))
                    })
                },
                progressCallback: function(e, t) {},
                usePersistentLicense: !0,
                numberOfParallelDownloads: 5
            })
              , e = {
                enabled: !0,
                useNetworkInformation: !0,
                defaultBandwidthEstimate: 1e6,
                switchInterval: 8,
                bandwidthUpgradeTarget: .85,
                bandwidthDowngradeTarget: .95,
                restrictions: {
                    minWidth: 0,
                    maxWidth: 1 / 0,
                    minHeight: 0,
                    maxHeight: e,
                    minPixels: 0,
                    maxPixels: 1 / 0,
                    minFrameRate: 0,
                    maxFrameRate: 1 / 0,
                    minBandwidth: 0,
                    maxBandwidth: 1 / 0,
                    minChannelsCount: 0,
                    maxChannelsCount: 1 / 0
                },
                advanced: {
                    minTotalBytes: 128e3,
                    minBytes: 16e3,
                    fastHalfLife: 2,
                    slowHalfLife: 5
                },
                restrictToElementSize: !1,
                restrictToScreenSize: !1,
                ignoreDevicePixelRatio: !1,
                clearBufferSwitch: !1,
                safeMarginSwitch: 0,
                cacheLoadThreshold: 20,
                minTimeToSwitch: Ge() ? .5 : 0,
                preferNetworkInformationBandwidth: !1
            }
              , n = {
                codecSwitchingStrategy: n,
                addExtraFeaturesToSourceBuffer: function(e) {
                    return ""
                },
                forceTransmux: !1,
                insertFakeEncryptionInInit: !0,
                modifyCueCallback: function(e, t) {},
                dispatchAllEmsgBoxes: !1
            }
              , o = !1
              , s = !1
              , u = !0
              , l = (bt() && (u = !(s = o = !0)),
            {
                drm: t,
                manifest: i,
                streaming: a,
                mediaSource: n,
                offline: r,
                abrFactory: function() {
                    return new Qa
                },
                abr: e,
                autoShowText: 3,
                preferredAudioLanguage: "",
                preferredAudioLabel: "",
                preferredTextLanguage: "",
                preferredVariantRole: "",
                preferredTextRole: "",
                preferredAudioChannelCount: 2,
                preferredVideoHdrLevel: "AUTO",
                preferredVideoLayout: "",
                preferredVideoLabel: "",
                preferredVideoCodecs: [],
                preferredAudioCodecs: [],
                preferredTextFormats: [],
                preferForcedSubs: !1,
                preferSpatialAudio: !1,
                preferredDecodingAttributes: [],
                restrictions: {
                    minWidth: 0,
                    maxWidth: 1 / 0,
                    minHeight: 0,
                    maxHeight: 1 / 0,
                    minPixels: 0,
                    maxPixels: 1 / 0,
                    minFrameRate: 0,
                    maxFrameRate: 1 / 0,
                    minBandwidth: 0,
                    maxBandwidth: 1 / 0,
                    minChannelsCount: 0,
                    maxChannelsCount: 1 / 0
                },
                playRangeStart: 0,
                playRangeEnd: 1 / 0,
                textDisplayer: {
                    captionsUpdatePeriod: .25
                },
                textDisplayFactory: function() {
                    return null
                },
                cmcd: {
                    enabled: !1,
                    sessionId: "",
                    contentId: "",
                    rtpSafetyFactor: 5,
                    useHeaders: !1,
                    includeKeys: []
                },
                cmsd: {
                    enabled: !0,
                    applyMaximumSuggestedBitrate: !0,
                    estimatedThroughputWeightRatio: .5
                },
                lcevc: {
                    enabled: !1,
                    dynamicPerformanceScaling: !0,
                    logLevel: 0,
                    drawLogo: !1
                },
                ads: {
                    customPlayheadTracker: o,
                    skipPlayDetection: s,
                    supportsMultipleMediaElements: u,
                    disableHLSInterstitial: !1,
                    disableDASHInterstitial: !1
                },
                ignoreHardwareResolution: !1
            });
            return r.trackSelectionCallback = function(t) {
                return $e(function(e) {
                    return e.return(function(e, t, n) {
                        var i = n
                          , a = ("AUTO" == i && (i = U.matchMedia("(color-gamut: p3)").matches ? "PQ" : "SDR"),
                        e.filter(function(e) {
                            return !("variant" != e.type || e.hdr && e.hdr != i)
                        }))
                          , r = (n = [],
                        on(t, a.map(function(e) {
                            return e.language
                        })))
                          , o = (0 == (n = 0 == (n = r ? a.filter(function(e) {
                            return en(e.language) == r
                        }) : n).length ? a.filter(function(e) {
                            return e.primary
                        }) : n).length && (a.map(function(e) {
                            return e.language
                        }),
                        n = a),
                        n.filter(function(e) {
                            return e.height && e.height <= 480
                        }));
                        for (o.length && (o.sort(function(e, t) {
                            return t.height - e.height
                        }),
                        n = o.filter(function(e) {
                            return e.height == o[0].height
                        })),
                        t = [],
                        n.length && (a = Math.floor(n.length / 2),
                        n.sort(function(e, t) {
                            return e.bandwidth - t.bandwidth
                        }),
                        t.push(n[a])),
                        e = Ze(e),
                        n = e.next(); !n.done; n = e.next())
                            (n = n.value).type != it && "image" != n.type || t.push(n);
                        return t
                    }(t, l.preferredAudioLanguage, l.preferredVideoHdrLevel))
                })
            }
            ,
            l
        }
        function Tl(e, t, n) {
            var i = {
                ".drm.keySystemsMapping": "",
                ".drm.servers": "",
                ".drm.clearKeys": "",
                ".drm.advanced": {
                    distinctiveIdentifierRequired: !1,
                    persistentStateRequired: !1,
                    videoRobustness: "",
                    audioRobustness: "",
                    sessionType: "",
                    serverCertificate: new Uint8Array(0),
                    serverCertificateUri: "",
                    individualizationServer: "",
                    headers: {}
                }
            };
            return cl(e, t, n || bl(), i, "")
        }
        function wl(e) {
            return e
        }
        function Sl(e) {
            return e
        }
        function El(e, t, n, i) {
            h.call(this),
            this.O = e,
            this.V = t,
            this.Ga = i.networkingEngine,
            this.C = n,
            this.s = null,
            this.Ca = 0,
            this.Ta = i.ed,
            this.H = i.ck,
            this.Ya = i.dk,
            this.g = i.config,
            this.j = this.I = this.h = null,
            this.ha = !1,
            this.J = i.pk,
            this.ra = !1,
            this.l = null,
            this.aa = !1,
            this.i = this.G = null,
            this.Z = !1,
            this.M = new Map,
            this.ya = !1,
            this.Fa = i.nk,
            this.W = new Su,
            this.ea = new fr,
            this.m = new fr,
            this.P = null,
            this.u = !1,
            this.Oa = i.Yi,
            this.ma = null,
            this.Ja = i.Xi,
            this.S = !1,
            this.L = [],
            this.K = [],
            this.B = !0
        }
        function Al(e, t, n) {
            (e = t ? e.K : e.L) ? e.push(n) : n()
        }
        function xl(e, t) {
            if (e.P = t,
            e.S = !0,
            e.L)
                for (var n = (t = Ze(e.L)).next(); !n.done; n = t.next())
                    (n = n.value)();
            e.L = null
        }
        function Il(e) {
            if (e.u)
                throw new nt(2,7,7003)
        }
        function kl(e, t) {
            e.dispatchEvent(new Xe("onstatechange",(new Map).set("state", t)))
        }
        function Cl(i, t, n) {
            var a, r;
            return $e(function(e) {
                return 1 == e.g ? (a = i.g.streaming.segmentPrefetchLimit || 2,
                a = new Eu(a,t,function(e, t, n) {
                    return nl(e, t, n || null, i.g.streaming.retryParameters, i.Ga, i.B)
                }
                ,!1),
                i.M.set(t.id, a),
                We(e, t.createSegmentIndex(), 2)) : (r = i.C || 0,
                (r = (r = (r = t.segmentIndex.cc(r)) ? r.current() : null) ? r : cu(t.segmentIndex)) ? n ? r.na ? We(e, xu(a, r.na), 0) : e.A(0) : We(e, Au(a, r.startTime), 0) : e.A(0))
            })
        }
        function Ml(e, t) {
            h.call(this);
            var n = this;
            this.i = e,
            this.l = t,
            this.g = new Map,
            this.m = [{
                bd: null,
                $c: Pl,
                Oc: function(e, t) {
                    return Ll(n, "enter", e, t)
                }
            }, {
                bd: Rl,
                $c: Pl,
                Oc: function(e, t) {
                    return Ll(n, "enter", e, t)
                }
            }, {
                bd: Dl,
                $c: Pl,
                Oc: function(e, t) {
                    return Ll(n, "enter", e, t)
                }
            }, {
                bd: Pl,
                $c: Rl,
                Oc: function(e, t) {
                    return Ll(n, "exit", e, t)
                }
            }, {
                bd: Pl,
                $c: Dl,
                Oc: function(e, t) {
                    return Ll(n, "exit", e, t)
                }
            }, {
                bd: Rl,
                $c: Dl,
                Oc: function(e, t) {
                    return Ll(n, "skip", e, t)
                }
            }, {
                bd: Dl,
                $c: Rl,
                Oc: function(e, t) {
                    return Ll(n, "skip", e, t)
                }
            }],
            this.h = new pn,
            this.h.o(this.i, "regionremove", function(e) {
                n.g.delete(e.region)
            })
        }
        function Ll(e, t, n, i) {
            t = new Xe(t,new Map([["region", n], ["seeking", i]])),
            e.dispatchEvent(t)
        }
        Qs.prototype.release = function() {
            this.h && (this.h.release(),
            this.h = null),
            null != this.i && (this.i.release(),
            this.i = null),
            this.m = function() {}
            ,
            this.g = null
        }
        ,
        nu.prototype.release = function() {
            this.h && (this.h.stop(),
            this.h = null),
            this.g = null
        }
        ,
        (t = au.prototype).ready = function() {
            var n = this;
            qs(this.h, HTMLMediaElement.HAVE_CURRENT_DATA, this.i, function() {
                var e, t;
                null == n.g || 0 == n.g && 1 / 0 != n.h.duration ? n.j = !0 : (e = n.h.currentTime,
                t = n.g,
                e != (t = n.g < 0 ? Math.max(0, e + n.g) : t) ? (n.i.oa(n.h, "seeking", function() {
                    n.j = !0
                }),
                n.h.currentTime = t) : n.j = !0)
            })
        }
        ,
        t.release = function() {
            this.i && (this.i.release(),
            this.i = null),
            this.h = null
        }
        ,
        t.Gf = function(e) {
            this.g = this.j ? this.g : e
        }
        ,
        t.qe = function() {
            return (this.j ? this.h.currentTime : this.g) || 0
        }
        ,
        t.ph = function() {
            return 0
        }
        ,
        t.oh = function() {
            return 0
        }
        ,
        t.ci = function() {}
        ,
        (t = ru.prototype).ready = function() {
            this.m.Aa(.25)
        }
        ,
        t.release = function() {
            this.h && (this.h.release(),
            this.h = null),
            this.j && (this.j.release(),
            this.j = null),
            this.m && (this.m.stop(),
            this.m = null),
            this.i = this.h = this.g = this.l = null,
            this.B = function() {}
        }
        ,
        t.Gf = function(e) {
            Zs(this.h, e)
        }
        ,
        t.qe = function() {
            var e = $s(this.h);
            return 0 < this.i.readyState && !this.i.paused ? uu(this, e) : e
        }
        ,
        t.ph = function() {
            return this.s ? this.s.s : 0
        }
        ,
        t.oh = function() {
            return this.j.G
        }
        ,
        t.ci = function() {
            this.j.Jg()
        }
        ,
        (t = lu.prototype).getNumReferences = function() {
            return this.g.length
        }
        ,
        t.getNumEvicted = function() {
            return this.i
        }
        ,
        t.release = function() {
            this.s || (this.g = [],
            this.m && this.m.stop(),
            this.m = null)
        }
        ,
        t.fk = function() {
            this.s = !0
        }
        ,
        t.Ub = function(e) {
            for (var t = Ze(this.g), n = t.next(); !n.done; n = t.next())
                e(n.value)
        }
        ,
        t.find = function(e) {
            for (var t = this.g.length - 1, n = t; 0 <= n; --n) {
                var i = this.g[n]
                  , a = n < t ? this.g[n + 1].startTime : i.endTime;
                if (e >= i.startTime && e < a)
                    return n + this.i
            }
            return this.g.length && e < this.g[0].startTime ? this.i : null
        }
        ,
        t.get = function(e) {
            return 0 == this.g.length || (e -= this.i) < 0 || e >= this.g.length ? null : this.g[e]
        }
        ,
        t.offset = function(e) {
            if (!this.s)
                for (var t = Ze(this.g), n = t.next(); !n.done; n = t.next())
                    n.value.offset(e)
        }
        ,
        t.Te = function(e) {
            var t;
            !this.s && e.length && (t = Math.round(1e3 * e[0].startTime) / 1e3,
            this.g = this.g.filter(function(e) {
                return Math.round(1e3 * e.startTime) / 1e3 < t
            }),
            this.g.push.apply(this.g, et(e)))
        }
        ,
        t.Wd = function(e, t) {
            var n = this;
            e = e.filter(function(e) {
                return e.endTime > t && (0 == n.g.length || e.endTime > n.g[0].startTime)
            }),
            this.Te(e),
            this.ab(t)
        }
        ,
        t.ab = function(t) {
            var e;
            this.s || (e = this.g.length,
            this.g = this.g.filter(function(e) {
                return e.endTime > t
            }),
            this.i += e - this.g.length)
        }
        ,
        t.jd = function(e, t, n) {
            if (n = void 0 !== n && n,
            !this.s) {
                for (; this.g.length && this.g[this.g.length - 1].startTime >= t; )
                    this.g.pop();
                for (; this.g.length && this.g[0].endTime <= e; )
                    this.g.shift(),
                    n || this.i++;
                0 != this.g.length && ((t = new at((e = this.g[this.g.length - 1]).startTime,t,e.G,e.eb,e.La,e.na,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey)).mimeType = e.mimeType,
                t.codecs = e.codecs,
                t.i = e.i,
                this.g[this.g.length - 1] = t)
            }
        }
        ,
        t.pf = function(e, t) {
            var n = this;
            this.s || (this.m && this.m.stop(),
            this.m = new C(function() {
                var e = t();
                e ? n.g.push.apply(n.g, et(e)) : (n.m.stop(),
                n.m = null)
            }
            ),
            this.m.Aa(e))
        }
        ,
        lu.prototype[Symbol.iterator] = function() {
            return this.cc(0)
        }
        ,
        lu.prototype.cc = function(e, t, n) {
            t = void 0 !== t && t,
            n = void 0 !== n && n;
            var i = this.find(e);
            if (null == i)
                return null;
            var a = this.get(i)
              , r = (n ? i++ : i--,
            -1);
            if (a && 0 < a.g.length)
                for (var o = a.g.length - 1; 0 <= o; --o) {
                    var s = a.g[o];
                    if (e >= s.startTime && e < s.endTime) {
                        if (!t) {
                            for (; o && !s.l; )
                                o--,
                                s = a.g[o];
                            if (!s.l)
                                return Y("No independent partial segment found!"),
                                null
                        }
                        n ? i-- : i++,
                        r = o - 1;
                        break
                    }
                }
            return new hu(this,i,r,n)
        }
        ,
        i("shaka.media.SegmentIndex", lu),
        lu.forSingleSegment = du,
        lu.prototype.getIteratorForTime = lu.prototype.cc,
        lu.prototype.updateEvery = lu.prototype.pf,
        lu.prototype.fit = lu.prototype.jd,
        lu.prototype.evict = lu.prototype.ab,
        lu.prototype.mergeAndEvict = lu.prototype.Wd,
        lu.prototype.markImmutable = lu.prototype.fk,
        (t = hu.prototype).Cd = function(e) {
            this.reverse = e
        }
        ,
        t.aj = function() {
            return this.h
        }
        ,
        t.current = function() {
            var e = this.i.get(this.h);
            return e && 0 < e.g.length && e.u && this.g >= e.g.length && (this.h++,
            this.g = 0,
            e = this.i.get(this.h)),
            e && 0 < e.g.length ? e.g[this.g] : e
        }
        ,
        t.next = function() {
            var e = this.i.get(this.h);
            return this.reverse ? e && 0 < e.g.length ? (this.g--,
            this.g < 0 && (this.h--,
            this.g = (e = this.i.get(this.h)) && 0 < e.g.length ? e.g.length - 1 : 0)) : (this.h--,
            this.g = 0) : e && 0 < e.g.length ? (this.g++,
            e.u && this.g == e.g.length && (this.h++,
            this.g = 0)) : (this.h++,
            this.g = 0),
            {
                value: e = this.current(),
                done: !e
            }
        }
        ,
        t.Rg = function() {
            var e = this.current();
            if (e.s && !e.l && (e = this.i.get(this.h)) && 0 < e.g.length)
                for (var t = e.g[this.g]; t.l && !(this.g <= 0); )
                    this.g--,
                    t = e.g[this.g]
        }
        ,
        i("shaka.media.SegmentIterator", hu),
        hu.prototype.resetToLastIndependent = hu.prototype.Rg,
        hu.prototype.currentPosition = hu.prototype.aj,
        hu.prototype.setReverse = hu.prototype.Cd,
        n(fu, lu),
        (t = fu.prototype).clone = function() {
            var e = new fu;
            return e.h = this.h.slice(),
            e.i = this.i,
            e
        }
        ,
        t.release = function() {
            for (var e = Ze(this.h), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.h = []
        }
        ,
        t.Ub = function(e) {
            for (var t = Ze(this.h), n = t.next(); !n.done; n = t.next())
                n.value.Ub(e)
        }
        ,
        t.find = function(e) {
            for (var t = this.i, n = Ze(this.h), i = n.next(); !i.done; i = n.next()) {
                var a = (i = i.value).find(e);
                if (null != a)
                    return a + t;
                t += i.getNumEvicted() + i.getNumReferences()
            }
            return null
        }
        ,
        t.get = function(e) {
            for (var t = this.i, n = Ze(this.h), i = n.next(); !i.done; i = n.next()) {
                var a = (i = i.value).get(e - t);
                if (a)
                    return a;
                a = i.getNumReferences(),
                t += i.getNumEvicted() + a
            }
            return null
        }
        ,
        t.offset = function() {}
        ,
        t.Te = function() {}
        ,
        t.ab = function(e) {
            for (var t = Ze(this.h), n = t.next(); !n.done; n = t.next())
                n.value.ab(e);
            for (; 1 < this.h.length && 0 == this.h[0].getNumReferences(); )
                e = this.h.shift(),
                this.i += e.getNumEvicted(),
                e.release()
        }
        ,
        t.Wd = function() {}
        ,
        t.jd = function() {}
        ,
        t.pf = function() {}
        ,
        i("shaka.media.MetaSegmentIndex", fu),
        fu.prototype.updateEvery = fu.prototype.pf,
        fu.prototype.fit = fu.prototype.jd,
        fu.prototype.mergeAndEvict = fu.prototype.Wd,
        fu.prototype.evict = fu.prototype.ab,
        fu.prototype.merge = fu.prototype.Te,
        fu.prototype.forEachTopLevelReference = fu.prototype.Ub,
        pu.prototype.release = function() {
            this.set(this.Kc()),
            this.h && (this.h.stop(),
            this.h = null),
            this.g = null
        }
        ,
        pu.prototype.set = function(e) {
            this.i = e,
            gu(this)
        }
        ,
        pu.prototype.Kc = function() {
            return this.g.Kc()
        }
        ,
        mu.prototype.release = function() {
            this.i.stop();
            for (var e = Ze(this.g), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.g.clear()
        }
        ,
        Eu.prototype.ab = function(e, t) {
            t = void 0 !== t && t;
            for (var n = Ze(this.h.keys()), i = n.next(); !i.done; i = n.next())
                e > (i = i.value).endTime && Lu(this, i);
            t && Cu(this)
        }
        ,
        Eu.prototype.Cd = function(e) {
            this.s = e,
            this.g && this.g.Cd(e)
        }
        ,
        Ru.prototype.abort = function() {
            this.Yd && this.Yd.abort()
        }
        ,
        n(Du, h),
        Du.prototype.release = function() {
            this.g.clear(),
            this.h.stop(),
            h.prototype.release.call(this)
        }
        ,
        n(Nu, h),
        Nu.prototype.release = function() {
            this.g.clear(),
            h.prototype.release.call(this)
        }
        ,
        Nu.prototype.j = function(e) {
            for (var t = Ze(this.g.values()), n = t.next(); !n.done; n = t.next()) {
                var i = (n = n.value).Uf;
                e: {
                    for (var a = n.ae, r = a.length - 1; 0 <= r; r--) {
                        var o = a[r];
                        if (o.position <= e) {
                            a = o.sd;
                            break e
                        }
                    }
                    a = null
                }
                var r = a && !(i === a || i && a && i.bandwidth == a.bandwidth && i.audioSamplingRate == a.audioSamplingRate && i.codecs == a.codecs && i.contentType == a.contentType && i.frameRate == a.frameRate && i.height == a.height && i.mimeType == a.mimeType && i.channelsCount == a.channelsCount && i.pixelAspectRatio == a.pixelAspectRatio && i.width == a.width)
                  , o = a && i && a.label && i.label && i.label !== a.label
                  , s = a && i && a.language && i.language && i.language !== a.language
                  , i = a && i && a.roles && i.roles && !Un(i.roles, a.roles);
                (o || s || i) && _u(this, e, a.contentType) && (n.Uf = a,
                i = new Xe("audiotrackchange",new Map([["quality", a], ["position", e]])),
                this.dispatchEvent(i)),
                r && _u(this, e, a.contentType) && (n.Uf = a,
                JSON.stringify(a),
                n = new Xe("qualitychange",new Map([["quality", a], ["position", e]])),
                this.dispatchEvent(n))
            }
        }
        ,
        (t = Vu.prototype).destroy = function() {
            return this.m.destroy()
        }
        ,
        t.configure = function(e) {
            if (this.h = e,
            this.L = new cr({
                maxAttempts: Math.max(e.retryParameters.maxAttempts, 2),
                baseDelay: e.retryParameters.baseDelay,
                backoffFactor: e.retryParameters.backoffFactor,
                fuzzFactor: e.retryParameters.fuzzFactor,
                timeout: 0,
                stallTimeout: 0,
                connectionTimeout: 0
            },!0),
            e.disableAudioPrefetch) {
                var t = this.i.get("audio");
                t && t.ia && (ku(t.ia),
                t.ia = null);
                for (var n = (t = Ze(this.s.keys())).next(); !n.done; n = t.next())
                    n = n.value,
                    ku(this.s.get(n)),
                    this.s.delete(n)
            }
            for (e.disableTextPrefetch && (t = this.i.get(it)) && t.ia && (ku(t.ia),
            t.ia = null),
            e.disableVideoPrefetch && (t = this.i.get("video")) && t.ia && (ku(t.ia),
            t.ia = null),
            n = (t = Ze(this.i.keys())).next(); !n.done; n = t.next())
                (n = this.i.get(n.value)).ia ? (Mu(n.ia, e.segmentPrefetchLimit),
                0 < e.segmentPrefetchLimit || (ku(n.ia),
                n.ia = null)) : 0 < e.segmentPrefetchLimit && (n.ia = qu(this, n.stream));
            if (!e.disableAudioPrefetch)
                for (var i, a = this, r = a.h.segmentPrefetchLimit, o = a.h.prefetchAudioLanguages, s = Ze(a.l.variants), u = s.next(), l = {}; !u.done; l = {
                    Fb: void 0
                },
                u = s.next())
                    l.Fb = u.value,
                    l.Fb.audio && (a.s.has(l.Fb.audio) ? (Mu(u = a.s.get(l.Fb.audio), r),
                    0 < r && o.some(function(t) {
                        return function(e) {
                            return Qt(t.Fb.audio.language, e)
                        }
                    }(l)) || (i = a.i.get(l.Fb.audio.type),
                    u !== (i && i.ia) && ku(u),
                    a.s.delete(l.Fb.audio))) : r <= 0 || !o.some(function(t) {
                        return function(e) {
                            return Qt(t.Fb.audio.language, e)
                        }
                    }(l)) || !(u = qu(a, l.Fb.audio)) || (l.Fb.audio.segmentIndex || l.Fb.audio.createSegmentIndex(),
                    a.s.set(l.Fb.audio, u)))
        }
        ,
        t.start = function(t) {
            var n = this;
            return $e(function(e) {
                if (1 == e.g)
                    return We(e, (a = n,
                    r = t || new Map,
                    $e(function(e) {
                        if (1 == e.g) {
                            if (o = Wt,
                            a.j)
                                return s = new Map,
                                u = new Set,
                                a.j.audio && (s.set(o.ba, a.j.audio),
                                u.add(a.j.audio)),
                                a.j.video && (s.set(o.xa, a.j.video),
                                u.add(a.j.video)),
                                a.u && (s.set(o.Na, a.u),
                                u.add(a.u)),
                                We(e, a.g.qa.init(s, a.l.sequenceMode, a.l.type, a.l.ignoreManifestTimestampsInSegmentsMode), 2);
                            throw new nt(2,5,5006)
                        }
                        for (Dr(a.m),
                        a.updateDuration(),
                        l = Ze(s.keys()),
                        c = l.next(); !c.done; c = l.next()) {
                            d = c.value,
                            f = s.get(d);
                            if (!a.i.has(d)) {
                                h = Yu(a, f);
                                if (r.has(f.id)) {
                                    f = r.get(f.id);
                                    {
                                        t = void 0;
                                        n = void 0;
                                        i = void 0;
                                        var t = f;
                                        var n = function(e, t, n) {
                                            return nl(e, t, n || null, a.h.retryParameters, a.g.jc)
                                        };
                                        t.l = n;
                                        for (var i = (t = Ze(t.h.values())).next(); !i.done; i = t.next())
                                            i.value.g = n
                                    }
                                    h.ia = f
                                }
                                a.i.set(d, h),
                                al(a, h, 0)
                            }
                        }
                        Ye(e)
                    })), 2);
                var a, r, o, s, u, l, c, d, h, f;
                Dr(n.m),
                n.H = !0,
                Ye(e)
            })
        }
        ,
        t.zd = function() {
            if (this.g)
                for (var e = this.g.Nd(), t = Ze(this.i.keys()), n = t.next(); !n.done; n = t.next()) {
                    var i = n.value
                      , n = this.i.get(i)
                      , a = this.g.qa;
                    if (!(a = i == it ? null != (a = a.h).g && null != a.h && (e >= a.g && e < a.h) : Uo(a = Ms(a, i), e))) {
                        if (n.ia && (n.ia.g = null),
                        "audio" === n.type)
                            for (var r = (a = Ze(this.s.values())).next(); !r.done; r = a.next())
                                r.value.g = null;
                        (n.va = null) == Cs(this.g.qa, i) && !n.Za || Wu(this, n),
                        n.Cb && (n.Cb.abort(),
                        n.Cb = null),
                        i === it && ((i = this.g.qa).J && i.J.g()),
                        n.zd = !0
                    }
                }
        }
        ,
        t.updateDuration = function() {
            var e = this.l.presentationTimeline.getDuration();
            e < 1 / 0 ? this.g.qa.vb(e) : this.g.qa.vb(this.h.infiniteLiveStreamDuration ? 1 / 0 : Math.pow(2, 32))
        }
        ,
        i("shaka.util.ConfigUtils", ll),
        ll.getDifferenceFromConfigObjects = hl,
        ll.convertToConfigObject = dl,
        ll.mergeConfigObjects = cl,
        i("shaka.util.FairPlayUtils", fl),
        fl.commonFairPlayResponse = function(e, t) {
            if (2 === e) {
                try {
                    var n = It(t.data)
                } catch (e) {
                    return
                }
                e = !1,
                "<ckc>" === (n = n.trim()).substr(0, 5) && "</ckc>" === n.substr(-6) && (n = n.slice(5, -6),
                e = !0);
                try {
                    var i = JSON.parse(n);
                    i.ckc && (n = i.ckc,
                    e = !0),
                    i.CkcMessage && (n = i.CkcMessage,
                    e = !0),
                    i.License && (n = i.License,
                    e = !0)
                } catch (e) {}
                e && (t.data = we(Ut(n)))
            }
        }
        ,
        fl.expressplayFairPlayRequest = function(e, t) {
            vl(e, t)
        }
        ,
        fl.conaxFairPlayRequest = function(e, t) {
            vl(e, t)
        }
        ,
        fl.ezdrmFairPlayRequest = function(e, t) {
            vl(e, t)
        }
        ,
        fl.verimatrixFairPlayRequest = function(e, t) {
            2 === e && (e = Ot(e = tt(t.body)),
            t.headers["Content-Type"] = "application/x-www-form-urlencoded",
            t.body = Mt("spc=" + e))
        }
        ,
        fl.expressplayInitDataTransform = ml,
        fl.conaxInitDataTransform = function(e, t, n) {
            if ("skd" !== t)
                return e;
            t = n.serverCertificate,
            n = Ct(e).split("skd://").pop().split("?").shift(),
            n = U.atob(n);
            for (var i = Se(i = new ArrayBuffer(2 * n.length)), a = 0, r = n.length; a < r; a++)
                i[a] = n.charCodeAt(a);
            return gl(e, i, t)
        }
        ,
        fl.ezdrmInitDataTransform = function(e, t, n) {
            return "skd" !== t ? e : (t = n.serverCertificate,
            gl(e, n = Ct(e).split(";").pop(), t))
        }
        ,
        fl.verimatrixInitDataTransform = ml,
        fl.initDataTransform = gl,
        fl.defaultGetContentId = pl,
        fl.isFairPlaySupported = function() {
            var t;
            return $e(function(e) {
                return 1 == e.g ? (t = {
                    initDataTypes: ["cenc", "sinf", "skd"],
                    videoCapabilities: [{
                        contentType: 'video/mp4; codecs="avc1.42E01E"'
                    }]
                },
                qe(e, 2),
                We(e, navigator.requestMediaKeySystemAccess("com.apple.fps", [t]), 4)) : 2 != e.g ? e.return(!0) : (Qe(e),
                e.return(!1))
            })
        }
        ,
        i("shaka.util.PlayerConfiguration", yl),
        yl.mergeConfigObjects = Tl,
        yl.createDefault = bl,
        n(El, h),
        (t = El.prototype).getStartTime = function() {
            return this.C
        }
        ,
        t.ld = function() {
            return this.O
        }
        ,
        t.og = function() {
            return this.h
        }
        ,
        t.getStats = function() {
            return this.W
        }
        ,
        t.start = function() {
            var p, g = this;
            $e(function(e) {
                switch (e.g) {
                case 1:
                    return We(e, Promise.resolve(), 2);
                case 2:
                    return qe(e, 3),
                    We(e, (c = g,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (kl(c, "manifest-parser"),
                            c.j || (c.I = Io(c.O, c.V),
                            c.j = c.I(),
                            c.j.configure(c.g.manifest, function() {
                                return c.B
                            })),
                            d = Date.now() / 1e3,
                            kl(c, "manifest"),
                            c.h) {
                                e.A(2);
                                break
                            }
                            return We(e, c.j.start(c.O, c.Ya), 3);
                        case 3:
                            c.h = e.h;
                        case 2:
                            return c.ea.resolve(),
                            h = new Xe("manifestparsed",void 0),
                            We(e, Promise.resolve(), 4);
                        case 4:
                            if (c.dispatchEvent(h),
                            0 == c.h.variants.length)
                                throw new nt(2,4,4036);
                            (n = c.h).variants.some(t) && (n.variants = n.variants.filter(t)),
                            f = Date.now() / 1e3,
                            f = f - d,
                            c.W.J = f,
                            Ye(e)
                        }
                        function t(e) {
                            return e.video && e.audio || e.video && e.video.codecs.includes(",")
                        }
                        var n
                    })), 5);
                case 5:
                    return Il(g),
                    We(e, (o = g,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (kl(o, "drm-engine"),
                            o.Ca = Date.now() / 1e3,
                            o.l = o.Ta(),
                            o.H.h = o.l,
                            o.l.configure(o.g.drm, function() {
                                return o.B
                            }),
                            To(o.H, o.h))
                                return s = new Xe("trackschanged",void 0),
                                We(e, Promise.resolve(), 3);
                            e.A(2);
                            break;
                        case 3:
                            Il(o),
                            o.dispatchEvent(s);
                        case 2:
                            return u = Va(o.h.variants),
                            We(e, $r(o.l, u, o.h.offlineSessionIds), 4);
                        case 4:
                            return Il(o),
                            We(e, bo(o.H, o.h), 5);
                        case 5:
                            if (e.h)
                                return l = new Xe("trackschanged",void 0),
                                We(e, Promise.resolve(), 7);
                            e.A(0);
                            break;
                        case 7:
                            o.dispatchEvent(l),
                            Ye(e)
                        }
                    })), 6);
                case 6:
                    return Il(g),
                    We(e, (n = g,
                    $e(function(e) {
                        return n.s || (n.s = new rr(n.g.preferredAudioLanguage,n.g.preferredVariantRole,n.g.preferredAudioChannelCount,n.g.preferredVideoHdrLevel,n.g.preferSpatialAudio,n.g.preferredVideoLayout,n.g.preferredAudioLabel,n.g.preferredVideoLabel,n.g.mediaSource.codecSwitchingStrategy,"")),
                        n.Ja && (i = n.g.abrFactory,
                        n.G = i,
                        n.i = i(),
                        n.i.configure(n.g.abr)),
                        n.Oa ? (i = n.h.presentationTimeline.T(),
                        a = Va(n.h.variants),
                        a = n.s.create(a),
                        n.i.configure(n.g.abr),
                        n.i.setVariants(Array.from(a.values())),
                        (a = n.i.chooseVariant()) ? (r = [],
                        (n.ma = a).video && r.push(Cl(n, a.video, i)),
                        a.audio && r.push(Cl(n, a.audio, i)),
                        We(e, Promise.all(r), 0)) : e.A(0)) : e.A(0)
                    })), 7);
                case 7:
                    return Il(g),
                    We(e, (t = g.l,
                    $e(function(e) {
                        return 1 == e.g ? t.L ? We(e, t.m, 3) : e.A(0) : We(e, Promise.all(t.V.map(function(e) {
                            return e.promise
                        })), 0)
                    })), 8);
                case 8:
                    Il(g),
                    g.m.resolve(),
                    Je(e, 0);
                    break;
                case 3:
                    (p = Qe(e))instanceof nt && (7001 == p.code || 7003 == p.code) || g.m.reject(p),
                    Ye(e)
                }
                var t, n, i, a, r, o, s, u, l, c, d, h, f
            })
        }
        ,
        t.dispatchEvent = function(e) {
            return this.P ? this.P.dispatchEvent(e) : h.prototype.dispatchEvent.call(this, e)
        }
        ,
        t.onError = function(e) {
            2 === e.severity && (this.m.reject(e),
            this.destroy());
            var t = new Xe("error",(new Map).set("detail", e));
            this.dispatchEvent(t),
            t.defaultPrevented && (e.handled = !0)
        }
        ,
        t.configure = function(e, t) {
            e = dl(e, t),
            Tl(this.g, e)
        }
        ,
        t.getConfiguration = function() {
            return zn(this.g)
        }
        ,
        t.Vk = function() {
            return this.m
        }
        ,
        t.destroy = function() {
            var t, n, i = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (i.u = !0,
                    i.j && !i.ha)
                        return We(e, i.j.stop(), 2);
                    e.A(2);
                    break;
                case 2:
                    if (i.i && !i.Z)
                        return We(e, i.i.stop(), 4);
                    e.A(4);
                    break;
                case 4:
                    if (i.J && !i.ra && i.J.release(),
                    i.l && !i.aa)
                        return We(e, i.l.destroy(), 6);
                    e.A(6);
                    break;
                case 6:
                    if (0 < i.M.size && !i.ya)
                        for (t = Ze(i.M.values()),
                        n = t.next(); !n.done; n = t.next())
                            ku(n.value);
                    Ye(e)
                }
            })
        }
        ,
        i("shaka.media.PreloadManager", El),
        El.prototype.waitForFinish = El.prototype.Vk,
        n(Ml, h),
        Ml.prototype.release = function() {
            this.i = null,
            this.g.clear(),
            this.h.release(),
            this.h = null,
            h.prototype.release.call(this)
        }
        ,
        Ml.prototype.j = function(e, t) {
            if (!this.l || 0 != e) {
                this.l = !1;
                for (var n = Ze(this.i.g), i = n.next(); !i.done; i = n.next()) {
                    var i = i.value
                      , a = this.g.get(i)
                      , r = e < i.startTime ? Rl : e > i.endTime ? Dl : Pl;
                    this.g.set(i, r);
                    for (var o = Ze(this.m), s = o.next(); !s.done; s = o.next())
                        (s = s.value).bd == a && s.$c == r && s.Oc(i, t)
                }
            }
        }
        ;
        var Rl = 1
          , Pl = 2
          , Dl = 3;
        function Nl(n, i, a) {
            var r, o, s, u, l;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    var t = new pt(n).mb.split("/").pop().split(".");
                    return (r = 1 == t.length ? "" : t.pop().toLowerCase(),
                    r = _l[r]) ? e.return(r) : (o = 0,
                    s = xr([n], a),
                    qe(e, 2),
                    s.method = "HEAD",
                    We(e, i.request(o, s).promise, 4));
                case 4:
                    u = e.h,
                    r = u.headers["content-type"],
                    Je(e, 3);
                    break;
                case 2:
                    if (!(u = Qe(e)) || 1002 != u.code && 1001 != u.code) {
                        e.A(3);
                        break
                    }
                    return s.method = "GET",
                    We(e, i.request(o, s).promise, 6);
                case 6:
                    l = e.h,
                    r = l.headers["content-type"];
                case 3:
                    return e.return(r ? r.toLowerCase().split(";").shift() : "")
                }
            })
        }
        var _l = {
            mp4: "video/mp4",
            m4v: "video/mp4",
            m4a: "audio/mp4",
            webm: "video/webm",
            weba: "audio/webm",
            mkv: "video/webm",
            ts: "video/mp2t",
            ogv: "video/ogg",
            ogg: "audio/ogg",
            mpg: "video/mpeg",
            mpeg: "video/mpeg",
            m3u8: "application/x-mpegurl",
            mpd: "application/dash+xml",
            ism: "application/vnd.ms-sstr+xml",
            mp3: "audio/mpeg",
            aac: "audio/aac",
            flac: "audio/flac",
            wav: "audio/wav",
            sbv: "text/x-subviewer",
            srt: "text/srt",
            vtt: "text/vtt",
            webvtt: "text/vtt",
            ttml: "application/ttml+xml",
            lrc: "application/x-subtitle-lrc",
            ssa: "text/x-ssa",
            ass: "text/x-ssa",
            jpg: "image/jpeg",
            png: "image/png",
            svg: "image/svg+xml",
            webp: "image/webp",
            avif: "image/avif"
        };
        function Ol(e) {
            var t = (e = e.toLowerCase()).replace(/\s/g, "").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);
            switch (t ? e = "#" + (256 | parseInt(t[1], 10)).toString(16).slice(1) + (256 | parseInt(t[2], 10)).toString(16).slice(1) + (256 | parseInt(t[3], 10)).toString(16).slice(1) : e.startsWith("#") && 7 < e.length && (e = e.slice(0, 7)),
            e) {
            case "white":
            case "#fff":
            case "#ffffff":
                return "white";
            case "lime":
            case "#0f0":
            case "#00ff00":
                return "lime";
            case "cyan":
            case "#0ff":
            case "#00ffff":
                return "cyan";
            case "red":
            case "#f00":
            case "#ff0000":
                return "red";
            case "yellow":
            case "#ff0":
            case "#ffff00":
                return "yellow";
            case "magenta":
            case "#f0f":
            case "#ff00ff":
                return "magenta";
            case "blue":
            case "#00f":
            case "#0000ff":
                return "blue";
            case "black":
            case "#000":
            case "#000000":
                return "black"
            }
            return null
        }
        function Ul(e, t) {
            for (var n, i = [], a = (e = Ze(jl(e))).next(); !a.done; a = e.next())
                (a = a.value).isContainer ? i.push.apply(i, et(Ul(a.nestedCues, a))) : ((n = a.clone()).nestedCues = [],
                n.payload = function t(n, e) {
                    if (n.lineBreak)
                        return "\n";
                    if (n.nestedCues.length)
                        return n.nestedCues.map(function(e) {
                            return t(e, n)
                        }).join("");
                    if (!n.payload)
                        return n.payload;
                    var i = []
                      , a = n.fontWeight >= Vi
                      , r = n.fontStyle == Ki
                      , o = n.textDecoration.includes(Xi);
                    return a && i.push(["b"]),
                    r && i.push(["i"]),
                    o && i.push(["u"]),
                    (r = Ol(r = (a = "") == (r = n.color) && e ? e.color : r)) && (a += "." + r),
                    (e = Ol(r = "" == (r = n.backgroundColor) && e ? e.backgroundColor : r)) && (a += ".bg_" + e),
                    a && i.push(["c", a]),
                    i.reduceRight(function(e, t) {
                        var n = Ze(t);
                        return "<" + (t = n.next().value) + (void 0 === (n = n.next().value) ? "" : n) + ">" + e + "</" + t + ">"
                    }, n.payload)
                }(a, t),
                i.push(n));
            return i
        }
        function jl(e) {
            for (var t = [], n = (e = Ze(e)).next(), i = {}; !n.done; i = {
                Rf: void 0
            },
            n = e.next())
                i.Rf = n.value,
                t.some(function(t) {
                    return function(e) {
                        return xi(t.Rf, e)
                    }
                }(i)) || t.push(i.Rf);
            return t
        }
        function Fl(e) {
            if (1 / 0 === e.endTime || e.endTime < e.startTime)
                return null;
            var t = new Ei(e.startTime,e.endTime,e.text);
            return t.line = "number" == typeof e.line ? e.line : null,
            e.lineAlign && (t.lineAlign = e.lineAlign),
            t.lineInterpretation = e.snapToLines ? Oi : 1,
            t.position = "number" == typeof e.position ? e.position : null,
            e.positionAlign && (t.positionAlign = e.positionAlign),
            t.size = e.size,
            t.textAlign = e.align,
            "lr" === e.vertical ? t.writingMode = "vertical-lr" : "rl" === e.vertical && (t.writingMode = "vertical-rl"),
            e.region && (t.region.id = e.region.id,
            t.region.height = e.region.lines,
            t.region.heightUnits = 2,
            t.region.regionAnchorX = e.region.regionAnchorX,
            t.region.regionAnchorY = e.region.regionAnchorY,
            t.region.scroll = e.region.scroll,
            t.region.viewportAnchorX = e.region.viewportAnchorX,
            t.region.viewportAnchorY = e.region.viewportAnchorY,
            t.region.viewportAnchorUnits = Pn,
            t.region.width = e.region.width,
            t.region.widthUnits = Pn),
            Ii(t),
            t
        }
        function Bl(e, t) {
            this.g = null;
            for (var n = Ze(Array.from(e.textTracks)), i = n.next(); !i.done; i = n.next())
                "metadata" !== (i = i.value).kind && "chapters" !== i.kind && (i.mode = "disabled",
                i.label == t && (this.g = i));
            this.g || (this.g = e.addTextTrack("subtitles", t)),
            this.g.mode = "hidden"
        }
        function Gl(e, t) {
            var n = e.mode;
            e.mode = "showing" == n ? "showing" : "hidden";
            for (var i = Ze(Array.from(e.cues)), a = i.next(); !a.done; a = i.next())
                (a = a.value) && t(a) && e.removeCue(a);
            e.mode = n
        }
        function Vl() {}
        function Hl(e, t, n) {
            var i = this;
            document.fullscreenEnabled || Q("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),
            this.m = !1,
            this.h = [],
            this.B = e,
            this.u = t,
            this.l = null,
            this.g = k("div"),
            this.g.classList.add("shaka-text-container"),
            this.g.style.textAlign = "center",
            this.g.style.display = "flex",
            this.g.style.flexDirection = "column",
            this.g.style.alignItems = "center",
            this.g.style.justifyContent = "flex-end",
            this.u.appendChild(this.g),
            n && n.captionsUpdatePeriod || wn("UITextDisplayer w/ config", "Please migrate to initializing UITextDisplayer with a config."),
            this.G = new C(function() {
                i.B.paused || zl(i)
            }
            ).Aa(n && n.captionsUpdatePeriod ? n.captionsUpdatePeriod : .25),
            this.i = new Map,
            this.j = new pn,
            this.j.o(document, "fullscreenchange", function() {
                zl(i, !0)
            }),
            this.j.o(this.B, "seeking", function() {
                zl(i, !0)
            }),
            this.j.o(this.B, "resize", function() {
                var e = (t = i.B).videoWidth
                  , t = t.videoHeight;
                i.l = e && t ? e / t : null
            }),
            this.s = null,
            "ResizeObserver"in U && (this.s = new ResizeObserver(function() {
                zl(i, !0)
            }
            ),
            this.s.observe(this.g)),
            this.C = new Map
        }
        function Kl(e, t, n, i, a) {
            for (var r = !1, o = [], s = [], u = (t = Ze(t)).next(); !u.done; u = t.next()) {
                u = u.value,
                a.push(u);
                var l, c, d, h, f, p, g, m = e.i.get(u), v = u.startTime <= i && u.endTime > i, y = m ? m.Pi : null;
                if (m && (o.push(m.Tf),
                m.Xc && o.push(m.Xc),
                v || (r = !0,
                e.i.delete(u),
                m = null)),
                v) {
                    s.push(u);
                    if (m)
                        (function(e, t) {
                            for (; null != t; ) {
                                if (t == e.g)
                                    return 1;
                                t = t.parentElement
                            }
                        }
                        )(e, y) || (r = !0);
                    else {
                        {
                            v = void 0;
                            b = void 0;
                            T = void 0;
                            w = void 0;
                            S = void 0;
                            E = void 0;
                            l = void 0;
                            c = void 0;
                            d = void 0;
                            h = void 0;
                            f = void 0;
                            p = void 0;
                            g = void 0;
                            v = e;
                            var b = u;
                            var T = a;
                            var w = 1 < T.length
                              , S = w ? "span" : "div"
                              , E = (b.lineBreak && (S = "br"),
                            b.rubyTag && (S = b.rubyTag),
                            w = !w && 0 < b.nestedCues.length,
                            k(S));
                            "br" != S && function(e, t, n, i, a) {
                                var r = t.style
                                  , o = 0 == n.nestedCues.length
                                  , s = 1 < i.length
                                  , u = (r.whiteSpace = "pre-wrap",
                                n.payload.replace(/\s+$/g, function(e) {
                                    return " ".repeat(e.length)
                                }));
                                {
                                    var l;
                                    r.webkitTextStrokeColor = n.textStrokeColor,
                                    r.webkitTextStrokeWidth = n.textStrokeWidth,
                                    r.color = n.color,
                                    r.direction = n.direction,
                                    r.opacity = n.opacity,
                                    r.paddingLeft = Xl(n.linePadding, n, e.u),
                                    r.paddingRight = Xl(n.linePadding, n, e.u),
                                    r.textCombineUpright = n.textCombineUpright,
                                    r.textShadow = n.textShadow,
                                    n.backgroundImage ? (r.backgroundImage = "url('" + n.backgroundImage + "')",
                                    r.backgroundRepeat = "no-repeat",
                                    r.backgroundSize = "contain",
                                    r.backgroundPosition = "center",
                                    n.backgroundColor && (r.backgroundColor = n.backgroundColor),
                                    r.width = "100%",
                                    r.height = "100%") : (n.nestedCues.length ? l = t : (l = k("span"),
                                    t.appendChild(l)),
                                    n.border && (l.style.border = n.border),
                                    a || ((t = function(e, t) {
                                        for (var n = e.length - 1; 0 <= n; n--) {
                                            var i = t(e[n]);
                                            if (i || 0 === i)
                                                return i
                                        }
                                        return null
                                    }(i, function(e) {
                                        return e.backgroundColor
                                    })) ? l.style.backgroundColor = t : u && (l.style.backgroundColor = "rgba(0, 0, 0, 0.8)")),
                                    u && (l.textContent = u))
                                }
                                s && !i[i.length - 1].isContainer ? r.display = "inline" : (r.display = "flex",
                                r.flexDirection = "column",
                                r.alignItems = "center",
                                "left" == n.textAlign || "start" == n.textAlign ? (r.width = "100%",
                                r.alignItems = "start") : "right" != n.textAlign && "end" != n.textAlign || (r.width = "100%",
                                r.alignItems = "end"),
                                r.justifyContent = "before" == n.displayAlign ? "flex-start" : "center" == n.displayAlign ? "center" : "flex-end");
                                o || (r.margin = "0"),
                                r.fontFamily = n.fontFamily,
                                r.fontWeight = n.fontWeight.toString(),
                                r.fontStyle = n.fontStyle,
                                r.letterSpacing = n.letterSpacing,
                                r.fontSize = Xl(n.fontSize, n, e.u),
                                null != (i = n.line) && ((o = n.lineInterpretation) == Oi && (o = 1,
                                s = 16,
                                e.l && e.l < 1 && (s = 32),
                                i = i < 0 ? 100 + i / s * 100 : i / s * 100),
                                1 == o && (r.position = "absolute",
                                n.writingMode == _i ? (r.width = "100%",
                                n.lineAlign == Ui ? r.top = i + "%" : "end" == n.lineAlign && (r.bottom = 100 - i + "%")) : "vertical-lr" == n.writingMode ? (r.height = "100%",
                                n.lineAlign == Ui ? r.left = i + "%" : "end" == n.lineAlign && (r.right = 100 - i + "%")) : (r.height = "100%",
                                n.lineAlign == Ui ? r.right = i + "%" : "end" == n.lineAlign && (r.left = 100 - i + "%")))),
                                r.lineHeight = n.lineHeight,
                                "line-left" == (e = function(e) {
                                    var t = e.direction
                                      , n = e.positionAlign;
                                    return e = e.textAlign,
                                    n !== Mi ? n : "left" === e || "start" === e && t === Ni || "end" === e && "rtl" === t ? "line-left" : "right" === e || "start" === e && "rtl" === t || "end" === e && t === Ni ? "line-right" : "center"
                                }(n)) ? (r.cssFloat = "left",
                                null !== n.position && (r.position = "absolute",
                                n.writingMode == _i ? (r.left = n.position + "%",
                                r.width = "auto") : r.top = n.position + "%")) : "line-right" == e ? (r.cssFloat = "right",
                                null !== n.position && (r.position = "absolute",
                                n.writingMode == _i ? (r.right = 100 - n.position + "%",
                                r.width = "auto") : r.bottom = n.position + "%")) : null !== n.position && 50 != n.position && (r.position = "absolute",
                                n.writingMode == _i ? (r.left = n.position + "%",
                                r.width = "auto") : r.top = n.position + "%"),
                                r.textAlign = n.textAlign,
                                r.textDecoration = n.textDecoration.join(" "),
                                r.writingMode = n.writingMode,
                                "writingMode"in document.documentElement.style && r.writingMode == n.writingMode || (r.webkitWritingMode = n.writingMode),
                                n.size && (n.writingMode == _i ? r.width = n.size + "%" : r.height = n.size + "%")
                            }(v, E, b, T, w),
                            T = null,
                            b.region && b.region.id && (l = b.region,
                            c = v.l === 4 / 3 ? 2.5 : 1.9,
                            T = l.id + "_" + l.width + "x" + l.height + (l.heightUnits == Pn ? "%" : "px") + "-" + l.viewportAnchorX + "x" + l.viewportAnchorY + (l.viewportAnchorUnits == Pn ? "%" : "px"),
                            T = v.C.has(T) ? v.C.get(T) : (S = k("span"),
                            d = l.heightUnits == Pn ? "%" : "px",
                            h = l.widthUnits == Pn ? "%" : "px",
                            f = l.viewportAnchorUnits == Pn ? "%" : "px",
                            S.id = "shaka-text-region---" + T,
                            S.classList.add("shaka-text-region"),
                            S.style.position = "absolute",
                            p = l.height,
                            g = l.width,
                            2 === l.heightUnits && (p = 5.33 * l.height,
                            d = "%"),
                            2 === l.widthUnits && (g = l.width * c,
                            h = "%"),
                            S.style.height = p + d,
                            S.style.width = g + h,
                            2 === l.viewportAnchorUnits ? (c = l.viewportAnchorY / 75 * 100,
                            d = l.viewportAnchorX / (v.l === 4 / 3 ? 160 : 210) * 100,
                            c -= l.regionAnchorY * p / 100,
                            d -= l.regionAnchorX * g / 100,
                            S.style.top = c + "%",
                            S.style.left = d + "%") : (S.style.top = l.viewportAnchorY - l.regionAnchorY * p / 100 + f,
                            S.style.left = l.viewportAnchorX - l.regionAnchorX * g / 100 + f),
                            0 !== l.heightUnits && 0 !== l.widthUnits && 0 !== l.viewportAnchorUnits && (l = Math.max(0, Math.min(100 - (parseInt(S.style.width.slice(0, -1), 10) || 0), parseInt(S.style.left.slice(0, -1), 10) || 0)),
                            S.style.top = Math.max(0, Math.min(100 - (parseInt(S.style.height.slice(0, -1), 10) || 0), parseInt(S.style.top.slice(0, -1), 10) || 0)) + "%",
                            S.style.left = l + "%"),
                            S.style.display = "flex",
                            S.style.flexDirection = "column",
                            S.style.alignItems = "center",
                            S.style.justifyContent = "before" == b.displayAlign ? "flex-start" : "center" == b.displayAlign ? "center" : "flex-end",
                            v.C.set(T, S),
                            S));
                            S = E,
                            w && ((S = k("span")).classList.add("shaka-text-wrapper"),
                            S.style.backgroundColor = b.backgroundColor,
                            S.style.lineHeight = "normal",
                            E.appendChild(S)),
                            v.i.set(b, {
                                Tf: E,
                                Pi: S,
                                Xc: T
                            })
                        }
                        m = e.i.get(u),
                        y = m.Pi,
                        r = !0
                    }
                }
                0 < u.nestedCues.length && y && Kl(e, u.nestedCues, y, i, a),
                a.pop()
            }
            if (r) {
                for (a = (i = Ze(o)).next(); !a.done; a = i.next())
                    (a = a.value).parentElement && a.parentElement.removeChild(a);
                for (s.sort(function(e, t) {
                    return e.startTime != t.startTime ? e.startTime - t.startTime : e.endTime - t.endTime
                }),
                i = (s = Ze(s)).next(); !i.done; i = s.next())
                    (i = e.i.get(i.value)).Xc ? (i.Xc.contains(n) && i.Xc.removeChild(n),
                    n.appendChild(i.Xc),
                    i.Xc.appendChild(i.Tf)) : n.appendChild(i.Tf)
            }
        }
        function zl(e, t) {
            if (e.g) {
                var n = e.B.currentTime;
                if (!e.m || void 0 !== t && t) {
                    for (var i = (t = Ze(e.C.values())).next(); !i.done; i = t.next())
                        Ho(i.value);
                    Ho(e.g),
                    e.i.clear(),
                    e.C.clear()
                }
                e.m && Kl(e, e.h, e.g, n, [])
            }
        }
        function Xl(e, t, n) {
            var i = (i = new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e)) ? {
                value: Number(i[1]),
                unit: i[2]
            } : null;
            if (!i)
                return e;
            var a = i.value;
            switch (i.unit) {
            case "%":
                return a / 100 * n.clientHeight / t.cellResolution.rows + "px";
            case "c":
                return n.clientHeight * a / t.cellResolution.rows + "px";
            default:
                return e
            }
        }
        function Wl(e, t) {
            this.h = e,
            this.g = t,
            this.i = void 0,
            this.l = !1,
            this.s = !0,
            this.j = this.m = !1
        }
        function Yl(e) {
            return e.g.sessionId || (e.g.sessionId = U.crypto.randomUUID()),
            {
                v: 1,
                sf: e.i,
                sid: e.g.sessionId,
                cid: e.g.contentId,
                mtp: e.h.getBandwidthEstimate() / 1e3
            }
        }
        function ql(e, t, n) {
            n = void 0 === n ? {} : n;
            var i, a, r, o, s = void 0 === s ? e.g.useHeaders : s;
            e.g.enabled && (Object.assign(n, Yl(e)),
            n.pr = e.h.Wa(),
            i = n.ot === tc || n.ot === nc,
            e.m && i && (n.bs = !0,
            n.su = !0,
            e.m = !1),
            null == n.su && (n.su = e.s),
            r = n,
            e = (o = e.g.includeKeys).length ? Object.keys(r).reduce(function(e, t) {
                return o.includes(t) && (e[t] = r[t]),
                e
            }, {}) : r,
            s ? (s = function(e) {
                for (var t = Object.keys(e), n = {}, i = ["Object", "Request", "Session", "Status"], a = [{}, {}, {}, {}], r = {
                    br: 0,
                    d: 0,
                    ot: 0,
                    tb: 0,
                    bl: 1,
                    dl: 1,
                    mtp: 1,
                    nor: 1,
                    nrr: 1,
                    su: 1,
                    cid: 2,
                    pr: 2,
                    sf: 2,
                    sid: 2,
                    st: 2,
                    v: 2,
                    bs: 3,
                    rtp: 3
                }, o = (t = Ze(t)).next(); !o.done; o = t.next())
                    o = o.value,
                    a[null != r[o] ? r[o] : 1][o] = e[o];
                for (e = 0; e < a.length; e++)
                    (r = Ql(a[e])) && (n["CMCD-" + i[e]] = r);
                return n
            }(e),
            Object.keys(s).length && Object.assign(t.headers, s)) : (a = Ql(e)) && (t.uris = t.uris.map(function(e) {
                return $l(e, a)
            })))
        }
        function Jl(e, t) {
            if (!(t = e.h.Vb()[t]).length)
                return 0;
            var n = e.h.getCurrentTime();
            return (e = t.find(function(e) {
                return e.start <= n && e.end >= n
            })) ? 1e3 * (e.end - n) : 0
        }
        function Ql(e) {
            function t(e) {
                return 100 * n(e / 100)
            }
            function n(e) {
                return Math.round(e)
            }
            for (var i = [], a = {
                br: n,
                d: n,
                bl: t,
                dl: t,
                mtp: t,
                nor: function(e) {
                    return encodeURIComponent(e)
                },
                rtp: t,
                tb: n
            }, r = Object.keys(e || {}).sort(), o = (r = Ze(r)).next(); !o.done; o = r.next()) {
                var s, u, l = e[o = o.value];
                u = l,
                Number.isNaN(u) || null == u || "" === u || !1 === u || "v" === o && 1 === l || "pr" == o && 1 === l || (u = void 0,
                u = "string" === (s = typeof (l = (s = a[o]) ? s(l) : l)) && "ot" !== o && "sf" !== o && "st" !== o ? o + "=" + JSON.stringify(l) : "boolean" === s ? o : "symbol" === s ? o + "=" + l.description : o + "=" + l,
                i.push(u))
            }
            return i.join(",")
        }
        function $l(e, t) {
            return !t || e.includes("offline:") ? e : ((e = new pt(e)).g.set("CMCD", t),
            e.toString())
        }
        (t = Bl.prototype).configure = function() {}
        ,
        t.remove = function(t, n) {
            return !!this.g && (Gl(this.g, function(e) {
                return e.startTime < n && e.endTime > t
            }),
            !0)
        }
        ,
        t.append = function(e) {
            var t = Ul(e)
              , n = [];
            e = this.g.cues ? Array.from(this.g.cues) : [];
            for (var i = (t = Ze(t)).next(), a = {}; !i.done; a = {
                od: void 0
            },
            i = t.next())
                a.od = i.value,
                !e.some(function(t) {
                    return function(e) {
                        return e.startTime == t.od.startTime && e.endTime == t.od.endTime && e.text == t.od.payload
                    }
                }(a)) && a.od.payload && (i = function(e) {
                    function t(e) {
                        for (var t = 5381, n = e.length; n; )
                            t = 33 * t ^ e.charCodeAt(--n);
                        return (t >>> 0).toString()
                    }
                    if (e.startTime >= e.endTime)
                        return null;
                    var n = new VTTCue(e.startTime,e.endTime,e.payload);
                    n.id = t(e.startTime.toString()) + t(e.endTime.toString()) + t(e.payload),
                    n.lineAlign = e.lineAlign,
                    n.positionAlign = e.positionAlign,
                    e.size && (n.size = e.size);
                    try {
                        n.align = e.textAlign
                    } catch (e) {}
                    return "center" == e.textAlign && "center" != n.align && (n.align = "middle"),
                    "vertical-lr" == e.writingMode ? n.vertical = "lr" : "vertical-rl" == e.writingMode && (n.vertical = "rl"),
                    1 == e.lineInterpretation && (n.snapToLines = !1),
                    null != e.line && (n.line = e.line),
                    null != e.position && (n.position = e.position),
                    n
                }(a.od)) && n.push(i);
            for (t = (e = Ze(e = n.slice().sort(function(e, t) {
                return e.startTime != t.startTime ? e.startTime - t.startTime : e.endTime != t.endTime ? e.endTime - t.startTime : "line"in VTTCue.prototype ? n.indexOf(t) - n.indexOf(e) : n.indexOf(e) - n.indexOf(t)
            }))).next(); !t.done; t = e.next())
                this.g.addCue(t.value)
        }
        ,
        t.destroy = function() {
            return this.g && (Gl(this.g, function() {
                return 1
            }),
            this.g.mode = "disabled"),
            this.g = null,
            Promise.resolve()
        }
        ,
        t.isTextVisible = function() {
            return "showing" == this.g.mode
        }
        ,
        t.setTextVisibility = function(e) {
            this.g.mode = e ? "showing" : "hidden"
        }
        ,
        t.setTextLanguage = function() {}
        ,
        i("shaka.text.SimpleTextDisplayer", Bl),
        (t = Vl.prototype).configure = function() {}
        ,
        t.remove = function() {}
        ,
        t.append = function() {}
        ,
        t.destroy = function() {}
        ,
        t.isTextVisible = function() {
            return !1
        }
        ,
        t.setTextVisibility = function() {}
        ,
        t.setTextLanguage = function() {}
        ,
        i("shaka.text.StubTextDisplayer", Vl),
        (t = Hl.prototype).configure = function(e) {
            this.G && this.G.Aa(e.captionsUpdatePeriod)
        }
        ,
        t.append = function(e) {
            for (var t = [].concat(et(this.h)), n = (e = Ze(jl(e))).next(), i = {}; !n.done; i = {
                Sf: void 0
            },
            n = e.next())
                i.Sf = n.value,
                t.some(function(t) {
                    return function(e) {
                        return xi(e, t.Sf)
                    }
                }(i)) || this.h.push(i.Sf);
            zl(this)
        }
        ,
        t.destroy = function() {
            return this.g && (this.u.removeChild(this.g),
            this.g = null,
            this.m = !1,
            this.h = [],
            this.G && this.G.stop(),
            this.i.clear(),
            this.j && (this.j.release(),
            this.j = null),
            this.s && (this.s.disconnect(),
            this.s = null)),
            Promise.resolve()
        }
        ,
        t.remove = function(t, n) {
            if (!this.g)
                return !1;
            var e = this.h.length;
            return this.h = this.h.filter(function(e) {
                return e.startTime < t || e.endTime >= n
            }),
            zl(this, e > this.h.length),
            !0
        }
        ,
        t.isTextVisible = function() {
            return this.m
        }
        ,
        t.setTextVisibility = function(e) {
            this.m = e,
            zl(this, !0)
        }
        ,
        t.setTextLanguage = function(e) {
            e && "und" != e ? this.g.setAttribute("lang", e) : this.g.setAttribute("lang", "")
        }
        ,
        i("shaka.text.UITextDisplayer", Hl),
        i("shaka.text.WebVttGenerator", function() {}),
        Wl.prototype.configure = function(e) {
            this.g = e
        }
        ;
        var Zl = "m"
          , ec = "a"
          , tc = "v"
          , nc = "av"
          , ic = "i"
          , ac = "c"
          , rc = "tt"
          , oc = "d"
          , sc = "ld"
          , uc = "h"
          , lc = "lh";
        function cc(e) {
            this.h = e,
            this.g = null
        }
        function dc(e) {
            return !e || "false" !== e.toLowerCase() && (/^[-0-9]/.test(e) ? parseInt(e, 10) : e.replace(/["]+/g, ""))
        }
        i("shaka.util.CmcdManager.StreamingFormat", {
            DASH: oc,
            xl: sc,
            HLS: uc,
            yl: lc,
            Ll: "s",
            OTHER: "o"
        }),
        (t = cc.prototype).configure = function(e) {
            this.h = e
        }
        ,
        t.Nh = function() {
            return this.h.enabled && this.h.applyMaximumSuggestedBitrate && this.g && this.g.has(fc) ? 1e3 * this.g.get(fc) : null
        }
        ,
        t.Mh = function() {
            return this.h.enabled && this.g && this.g.has(hc) ? 1e3 * this.g.get(hc) : null
        }
        ,
        t.Bj = function() {
            return this.h.enabled && this.g && this.g.has(pc) ? this.g.get(pc) : null
        }
        ,
        t.Cj = function() {
            return this.h.enabled && this.g && this.g.has(gc) ? this.g.get(gc) : null
        }
        ,
        t.getBandwidthEstimate = function(e) {
            var t = this.Mh();
            if (!t)
                return e;
            var n = this.h.estimatedThroughputWeightRatio;
            return 0 < n && n <= 1 ? e * (1 - n) + t * n : e
        }
        ,
        i("shaka.util.CmsdManager", cc),
        cc.prototype.getRoundTripTime = cc.prototype.Cj,
        cc.prototype.getResponseDelay = cc.prototype.Bj,
        cc.prototype.getEstimatedThroughput = cc.prototype.Mh,
        cc.prototype.getMaxBitrate = cc.prototype.Nh;
        var hc = "etp"
          , fc = "mb"
          , pc = "rd"
          , gc = "rtt";
        function mc() {
            this.g = null,
            this.h = []
        }
        function vc(t, n) {
            return $e(function(e) {
                if (1 == e.g)
                    return t.g ? We(e, new Promise(function(e) {
                        return t.h.push(e)
                    }
                    ), 2) : e.A(2);
                t.g = n,
                Ye(e)
            })
        }
        function g(e, t, n) {
            t = void 0 === t ? null : t,
            h.call(this);
            var i, r = this;
            this.m = pd,
            this.h = null,
            this.zf = t,
            this.ma = !1,
            this.le = new pn,
            this.$d = new pn,
            this.l = new pn,
            this.Ja = new pn,
            this.Ya = new pn,
            this.H = this.K = this.G = this.I = null,
            this.oe = 0,
            this.W = new mc,
            this.ha = this.Oa = this.V = this.i = this.Ta = this.J = this.j = this.yc = this.M = this.qh = this.aa = this.P = this.zc = this.O = this.Af = this.L = this.Nb = null,
            this.Ga = !1,
            this.ya = this.s = null,
            this.Df = 1e9,
            this.ge = [],
            this.Cf = -1,
            this.g = Hc(this),
            this.S = null,
            this.pe = -1,
            this.Fa = null,
            this.ea = {
                width: 1 / 0,
                height: 1 / 0
            },
            this.xf = new yo(this.g,this.ea,null),
            this.je = [],
            this.B = null,
            this.Ca = new rr(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,""),
            this.Lb = this.g.preferredTextLanguage,
            this.fe = this.g.preferredTextRole,
            this.ce = this.g.preferForcedSubs,
            this.be = [],
            n && n(this),
            this.P = new Wl({
                getBandwidthEstimate: function() {
                    return i.s ? i.s.getBandwidthEstimate() : NaN
                },
                Vb: function() {
                    return i.Vb()
                },
                getCurrentTime: function() {
                    return i.h ? i.h.currentTime : 0
                },
                Wa: function() {
                    return i.Wa()
                },
                Hb: function() {
                    return i.Hb()
                },
                Kb: function() {
                    return i.Kb()
                },
                T: function() {
                    return i.T()
                }
            },(i = this).g.cmcd),
            this.aa = new cc(this.g.cmsd),
            this.I = Rc(this),
            this.I.$g(this.g.streaming.forceHTTP),
            this.I.ah(this.g.streaming.forceHTTPS),
            this.I.m = this.g.streaming.minBytesForProgressEvents,
            this.fc = this.Z = this.u = null,
            this.Hf = !1,
            this.Ff = new C(function() {
                return $e(function(e) {
                    return 1 == e.g ? r.Z ? We(e, r.$b(r.fc, !0), 3) : e.A(0) : 4 != e.g ? We(e, r.load(r.Z), 4) : (r.Hf ? r.fc.pause() : r.fc.play(),
                    r.Z = null,
                    r.Hf = !1,
                    void Ye(e))
                })
            }
            ),
            bd && (this.u = bd(),
            this.u.configure(this.g.ads),
            this.Ya.o(this.u, "ad-content-pause-requested", function(t) {
                var n;
                return $e(function(e) {
                    if (1 == e.g)
                        return r.Ff.stop(),
                        r.Z ? e.A(0) : (r.fc = r.h,
                        r.Hf = r.h.ended,
                        n = t.saveLivePosition || !1,
                        We(e, r.Gh(!0, n), 3));
                    r.Z = e.h,
                    Ye(e)
                })
            }),
            this.Ya.o(this.u, "ad-content-resume-requested", function(e) {
                var t;
                e = e.offset || 0,
                r.Z && (t = r.Z).C && e && (t.C += e),
                r.Ff.Y(.1)
            }),
            this.Ya.o(this.u, "ad-content-attach-requested", function() {
                return $e(function(e) {
                    return r.h || !r.fc ? e.A(0) : We(e, r.$b(r.fc, !0), 0)
                })
            })),
            this.le.o(U, "online", function() {
                ad(r),
                r.Sg()
            }),
            this.Bf = new C(function() {
                for (var e = Date.now() / 1e3, t = !1, n = !0, i = Ze(r.i.variants), a = i.next(); !a.done; a = i.next())
                    0 < (a = a.value).disabledUntilTime && a.disabledUntilTime <= e && (t = !(a.disabledUntilTime = 0)),
                    0 < a.disabledUntilTime && (n = !1);
                n && r.Bf.stop(),
                t && qc(r, !1, void 0, !1, !1)
            }
            ),
            this.ra = null,
            e && (wn("Player w/ mediaElement", "Please migrate from initializing Player with a mediaElement; use the attach method instead."),
            this.$b(e, !0)),
            this.C = null
        }
        function yc(e) {
            null != e.M && (bs(e.M),
            e.M.release(),
            e.M = null)
        }
        function bc(e, t) {
            return new Xe(e,t)
        }
        function Tc() {
            if (U.Promise || Q("A Promise implementation or polyfill is required"),
            !(U.Promise && U.Uint8Array && Array.prototype.forEach) || f("Trident/"))
                return !1;
            var e = mt();
            return !(e && e < 9 || !(U.MediaKeys && U.navigator && U.navigator.requestMediaKeySystemAccess && U.MediaKeySystemAccess && U.MediaKeySystemAccess.prototype.getConfiguration)) && (!!Pe() || De("application/x-mpegurl"))
        }
        function wc(e, t) {
            e.dispatchEvent(bc("onstatechange", (new Map).set("state", t)))
        }
        function Sc(t, n) {
            var i;
            return $e(function(e) {
                return 1 == e.g ? (i = ++t.oe,
                We(e, vc(t.W, n), 2)) : i != t.oe ? (t.W.release(),
                e.return(!0)) : e.return(!1)
            })
        }
        function Ec(a, r) {
            var o, s;
            return r = void 0 !== r && r,
            $e(function(e) {
                return 1 == e.g ? (o = null,
                a.i && a.J && a.Ta && a.V ? (s = a.h.currentTime,
                a.T() && !r && (s = null),
                We(e, xc(a, a.V, s, a.Oa, !0, !1, !1), 3)) : e.A(2)) : (2 != e.g && (o = e.h,
                a.je.push(o),
                a.J && a.J.setMediaElement && a.J.setMediaElement(null),
                t = o,
                n = a.J,
                i = a.Ta,
                t.h = a.i,
                t.j = n,
                t.I = i,
                t = o,
                n = a.ya,
                t.i = a.s,
                t.G = n,
                o.s = a.Ca,
                o.start(),
                a.i = null,
                a.J = null,
                a.Ta = null,
                a.s = null,
                a.ya = null),
                e.return(o));
                var t, n, i
            })
        }
        function Ac(t, n, i, a, r) {
            var o, s;
            return r = void 0 !== r && r,
            $e(function(e) {
                return 1 == e.g ? a ? e.A(2) : We(e, Ic(t, n), 3) : (2 != e.g && (a = e.h),
                function(e, t) {
                    if (!Pe())
                        return !0;
                    if (t) {
                        if ("" == (e.h || Tt()).canPlayType(t))
                            return !1;
                        if (!(Pe() && t in ko))
                            return !0;
                        if (da(t))
                            return Ge() && (e.g.drm.servers["com.apple.fps"] || e.g.drm.servers["com.apple.fps.1_0"]) ? e.g.streaming.useNativeHlsForFairPlay : e.g.streaming.preferNativeHls
                    }
                    return !1
                }(t, a) ? e.return(null) : (o = !(s = !1),
                r && (t.s && t.ya == t.g.abrFactory && (o = !1),
                t.h && "AUDIO" === t.h.nodeName && (s = !0)),
                s = xc(t, n, i, a || null, !r, s, o),
                s = r ? s.then(function(e) {
                    return e.B = !1,
                    e
                }) : s.then(function(e) {
                    return t.je.push(e),
                    e
                }),
                e.return(s)))
            })
        }
        function xc(d, t, n, i, a, r, o) {
            var s, u, l, c, h, f, p, g, m, v, y, b;
            return a = void 0 === a || a,
            r = void 0 !== r && r,
            o = void 0 === o || o,
            $e(function(e) {
                return 1 == e.g ? (s = null,
                u = zn(d.g),
                r && (u.manifest.disableVideo = !0),
                l = function() {
                    return s.S && s.u ? null : s
                }
                ,
                c = function() {
                    return l() ? l().getConfiguration() : d.g
                }
                ,
                h = function(e, t) {
                    (l() ? s : d).configure(e, t)
                }
                ,
                1 / 0 != d.ea.width || 1 / 0 != d.ea.height || d.g.ignoreHardwareResolution ? e.A(2) : We(e, St(), 3)) : (2 != e.g && (p = e.h,
                d.ea.width = p.width,
                d.ea.height = p.height),
                f = new yo(u,d.ea,null),
                p = {
                    networkingEngine: d.I,
                    filter: function(t) {
                        var n;
                        return $e(function(e) {
                            return 1 == e.g ? We(e, bo(f, t), 2) : 4 != e.g ? e.h ? (n = bc("trackschanged"),
                            We(e, Promise.resolve(), 4)) : e.A(0) : (s.dispatchEvent(n),
                            void Ye(e))
                        })
                    },
                    makeTextStreamsForClosedCaptions: function(e) {
                        for (var t, n, i, a = d, r = e, o = new Set, s = Ze(r.textStreams), u = s.next(); !u.done; u = s.next())
                            "application/cea-608" != (u = u.value).mimeType && "application/cea-708" != u.mimeType || o.add(u.originalId);
                        for (s = Ze(r.variants),
                        u = s.next(); !u.done; u = s.next())
                            if ((u = u.value.video) && u.closedCaptions)
                                for (var l = Ze(u.closedCaptions.keys()), c = l.next(); !c.done; c = l.next())
                                    c = c.value,
                                    o.has(c) || (t = c.startsWith("CC") ? "application/cea-608" : "application/cea-708",
                                    n = new fu,
                                    i = u.closedCaptions.get(c),
                                    t = {
                                        id: a.Df++,
                                        originalId: c,
                                        groupId: null,
                                        createSegmentIndex: function() {
                                            return Promise.resolve()
                                        },
                                        segmentIndex: n,
                                        mimeType: t,
                                        codecs: "",
                                        kind: "caption",
                                        encrypted: !1,
                                        drmInfos: [],
                                        keyIds: new Set,
                                        language: i,
                                        originalLanguage: i,
                                        label: null,
                                        type: it,
                                        primary: !1,
                                        trickModeVideo: null,
                                        emsgSchemeIdUris: null,
                                        roles: u.roles,
                                        forced: !1,
                                        channelsCount: null,
                                        audioSamplingRate: null,
                                        spatialAudio: !1,
                                        closedCaptions: null,
                                        accessibilityPurpose: null,
                                        external: !1,
                                        fastSwitching: !1,
                                        fullMimeTypes: new Set([ia(t, "")]),
                                        isAudioMuxedInVideo: !1
                                    },
                                    r.textStreams.push(t),
                                    o.add(c))
                    },
                    onTimelineRegionAdded: function(e) {
                        var t = s.J;
                        e: {
                            for (var n = Ze(t.g), i = n.next(); !i.done; i = n.next())
                                if ((i = i.value).schemeIdUri == e.schemeIdUri && i.id == e.id && i.startTime == e.startTime && i.endTime == e.endTime) {
                                    n = i;
                                    break e
                                }
                            n = null
                        }
                        null == n && (t.g.add(e),
                        e = new Xe("regionadd",new Map([["region", e]])),
                        t.dispatchEvent(e))
                    },
                    onEvent: function(e) {
                        return s.dispatchEvent(e)
                    },
                    onError: function(e) {
                        return s.onError(e)
                    },
                    isLowLatencyMode: function() {
                        return c().streaming.lowLatencyMode
                    },
                    isAutoLowLatencyMode: function() {
                        return c().streaming.autoLowLatencyMode
                    },
                    enableLowLatencyMode: function() {
                        h("streaming.lowLatencyMode", !0)
                    },
                    updateDuration: function() {
                        d.j && s.S && d.j.updateDuration()
                    },
                    newDrmInfo: function(e) {
                        var t = s.l
                          , n = t ? t.g : null;
                        n && t.B && So(f, n.keySystem, e)
                    },
                    onManifestUpdated: function() {
                        var e = (new Map).set("isLive", d.T());
                        s.dispatchEvent(bc("manifestupdated", e)),
                        Al(s, !1, function() {
                            d.u && d.u.onManifestUpdated(d.T())
                        })
                    },
                    getBandwidthEstimate: function() {
                        return d.s.getBandwidthEstimate()
                    },
                    onMetadata: function(e, t, n, i) {
                        var a = e;
                        "com.apple.hls.interstitial" == e && (a = "com.apple.quicktime.HLS",
                        e = {
                            startTime: t,
                            endTime: n,
                            values: i
                        },
                        d.u) && d.u.onHLSInterstitialMetadata(d, d.h, e),
                        e = (i = Ze(i)).next();
                        for (var r = {}; !e.done; r = {
                            Ng: void 0
                        },
                        e = i.next())
                            r.Ng = e.value,
                            "ID" != r.Ng.name && Al(s, !1, function(e) {
                                return function() {
                                    Lc(d, t, n, a, e.Ng)
                                }
                            }(r))
                    },
                    disableStream: function(e) {
                        return d.disableStream(e, d.g.streaming.maxDisabledTime)
                    },
                    addFont: function(e, t) {
                        return d.addFont(e, t)
                    }
                },
                (g = new Du(function() {
                    return d.Ia()
                }
                )).addEventListener("regionadd", function(e) {
                    var t = e.region;
                    od(d, "timelineregionadded", t, s),
                    Al(s, !1, function() {
                        d.u && (d.u.onDashTimedMetadata(t),
                        d.u.onDASHInterstitialMetadata(d, d.h, t))
                    })
                }),
                m = null,
                u.streaming.observeQualityChanges && ((m = new Nu(function() {
                    return d.Vb()
                }
                )).addEventListener("qualitychange", function(e) {
                    sd(d, e.quality, e.position)
                }),
                m.addEventListener("audiotrackchange", function(e) {
                    sd(d, e.quality, e.position, !0)
                })),
                v = !0,
                y = {
                    jc: d.I,
                    onError: function(e) {
                        return s.onError(e)
                    },
                    Ye: function(l) {
                        Al(s, !0, function() {
                            var e = l
                              , t = bc("keystatuschanged")
                              , n = (d.dispatchEvent(t),
                            Object.keys(e))
                              , i = (1 == n.length && "" == n[0] && (n = ["00"],
                            e = {
                                "00": e[""]
                            }),
                            t = 1 == n.length && "00" == n[0],
                            !1);
                            if (n.length)
                                for (var a = (n = Ze(d.i.variants)).next(); !a.done; a = n.next()) {
                                    var r = [];
                                    (a = a.value).audio && r.push(a.audio),
                                    a.video && r.push(a.video);
                                    for (var o = (r = Ze(r)).next(); !o.done; o = r.next()) {
                                        var s = o.value
                                          , o = a.allowedByKeySystem;
                                        if (s.keyIds.size) {
                                            a.allowedByKeySystem = !0;
                                            for (var u = (s = Ze(s.keyIds)).next(); !u.done; u = s.next())
                                                u = u.value,
                                                ((u = e[t ? "00" : u]) || d.G.H) && (a.allowedByKeySystem = a.allowedByKeySystem && !!u && !Ao.includes(u))
                                        }
                                        o != a.allowedByKeySystem && (i = !0)
                                    }
                                }
                            i && ($c(d),
                            !Yc(d)) || (e = d.j.j) && !e.allowedByKeySystem && qc(d)
                        })
                    },
                    onExpirationUpdated: function(e, t) {
                        var n = bc("expirationupdated");
                        s.dispatchEvent(n),
                        (n = s.j) && n.onExpirationUpdated && n.onExpirationUpdated(e, t)
                    },
                    onEvent: function(e) {
                        s.dispatchEvent(e),
                        "drmsessionupdate" == e.type && v && (v = !1,
                        e = Date.now() / 1e3 - s.Ca,
                        (d.B || s.getStats()).j = e,
                        d.M && bs(d.M))
                    }
                },
                b = Rc(d, l),
                Ar(d.I, b),
                s = new El(t,i,n,{
                    config: u,
                    dk: p,
                    pk: g,
                    nk: m,
                    ed: function() {
                        return d.ed(y)
                    },
                    ck: f,
                    networkingEngine: b,
                    Yi: a,
                    Xi: o
                }),
                e.return(s))
            })
        }
        function Ic(t, n) {
            var i;
            return $e(function(e) {
                return 1 == e.g ? (i = t.g.manifest.retryParameters,
                We(e, Nl(n, t.I, i), 2)) : ("application/x-mpegurl" == (i = e.h) && Ge() && (i = "application/vnd.apple.mpegurl"),
                e.return(i))
            })
        }
        function kc(e) {
            var t = e.g.textDisplayFactory;
            t !== e.me && (e.C = t(),
            e.C.configure ? e.C.configure(e.g.textDisplayer) : wn("Text displayer w/ configure", 'Text displayer should have a "configure" method!'),
            e.me = t,
            e.C.setTextVisibility(e.ma))
        }
        function Cc(u) {
            var r, o;
            return $e(function(e) {
                if (1 == e.g)
                    return wc(u, "media-source"),
                    u.h.removeAttribute("src"),
                    Ho(u.h),
                    kc(u),
                    t = u.h,
                    n = u.C,
                    i = {
                        rj: function() {
                            return u.keySystem()
                        },
                        onMetadata: function(e, t, n) {
                            for (var i = (e = Ze(e)).next(); !i.done; i = e.next())
                                if ((i = i.value).data && "number" == typeof i.cueTime && i.frames) {
                                    var a = i.cueTime + t
                                      , r = n;
                                    n && n < a && (r = a);
                                    for (var o = Ze(i.frames), s = o.next(); !s.done; s = o.next())
                                        Lc(u, a, r, "org.id3", s.value);
                                    u.u && u.u.onHlsTimedMetadata(i, a)
                                }
                        },
                        onEvent: function(e) {
                            return u.dispatchEvent(e)
                        },
                        jk: function() {
                            u.J && u.J.update && u.J.update()
                        }
                    },
                    a = u.M,
                    (r = new ws(t,n,i,a)).configure(u.g.mediaSource),
                    o = u.g.manifest,
                    o = o.segmentRelativeVttTiming,
                    r.Ca = o,
                    We(e, r.S, 2);
                var t, n, i, a;
                u.K = r,
                Ye(e)
            })
        }
        function Mc(s, t, e) {
            function n() {
                return zc(s)
            }
            s.l.o(t, "playing", n),
            s.l.o(t, "pause", n),
            s.l.o(t, "ended", n),
            s.l.o(t, "ratechange", function() {
                var e = s.h.playbackRate;
                0 != e && (s.L && s.L.set(e),
                e = bc("ratechange"),
                s.dispatchEvent(e))
            }),
            t.remote && (s.l.o(t.remote, "connect", function() {
                return $c(s)
            }),
            s.l.o(t.remote, "connecting", function() {
                return $c(s)
            }),
            s.l.o(t.remote, "disconnect", function() {
                return $e(function(e) {
                    if (1 == e.g)
                        return s.j && "disconnected" == t.remote.state ? We(e, ul(s.j), 2) : e.A(2);
                    $c(s),
                    Ye(e)
                })
            })),
            t.audioTracks && (s.l.o(t.audioTracks, "addtrack", function() {
                return $c(s)
            }),
            s.l.o(t.audioTracks, "removetrack", function() {
                return $c(s)
            }),
            s.l.o(t.audioTracks, "change", function() {
                return $c(s)
            })),
            t.textTracks && (s.l.o(t.textTracks, "addtrack", function(e) {
                if (e.track)
                    switch (e = e.track,
                    e.kind) {
                    case "metadata":
                        var t, a = s, r = e;
                        "metadata" == r.kind && (r.mode = "hidden",
                        a.l.o(r, "cuechange", function() {
                            if (r.activeCues)
                                for (var e = (t = Ze(r.activeCues)).next(); !e.done; e = t.next())
                                    e = e.value,
                                    Lc(a, e.startTime, e.endTime, e.type, e.value),
                                    a.u && a.u.onCueMetadataChange(e.value);
                            if (r.cues) {
                                for (var t = [], n = (e = Ze(r.cues)).next(), i = {}; !n.done; i = {
                                    rc: void 0
                                },
                                n = e.next())
                                    i.rc = n.value,
                                    "com.apple.quicktime.HLS" == i.rc.type && null != i.rc.startTime && ((n = t.find(function(t) {
                                        return function(e) {
                                            return e.startTime == t.rc.startTime && e.endTime == t.rc.endTime
                                        }
                                    }(i))) || (n = {
                                        startTime: i.rc.startTime,
                                        endTime: i.rc.endTime,
                                        values: []
                                    },
                                    t.push(n)),
                                    n.values.push(i.rc.value));
                                for (e = (t = Ze(t)).next(); !e.done; e = t.next())
                                    (e = e.value).values.some(function(e) {
                                        return "X-ASSET-URI" == e.key || "X-ASSET-LIST" == e.key
                                    }) && a.u && (e.values.push({
                                        key: "CUE",
                                        description: "",
                                        data: 0 != e.startTime || a.T() ? "ONCE" : "ONCE,PRE",
                                        mimeType: null,
                                        pictureType: null
                                    }),
                                    a.u.onHLSInterstitialMetadata(a, a.h, e))
                            }
                        }),
                        t = new C(function() {
                            for (var e = Array.from(a.h.textTracks).filter(function(e) {
                                return "metadata" == e.kind
                            }), t = (e = Ze(e)).next(); !t.done; t = e.next())
                                t.value.mode = "hidden"
                        }
                        ).Ra().Y(.5),
                        a.be.push(function() {
                            t.stop()
                        }));
                        break;
                    case "chapters":
                        var n, i = s, o = e;
                        o && "chapters" == o.kind && (o.mode = "hidden",
                        n = new C(function() {
                            o.mode = "hidden"
                        }
                        ).Ra().Y(.5),
                        i.be.push(function() {
                            n.stop()
                        }));
                        break;
                    default:
                        $c(s)
                    }
            }),
            s.l.o(t.textTracks, "removetrack", function() {
                return $c(s)
            }),
            s.l.o(t.textTracks, "change", function() {
                return $c(s)
            })),
            "none" != t.preload && s.l.oa(t, "loadedmetadata", function() {
                s.B.G = Date.now() / 1e3 - e
            })
        }
        function Lc(e, t, n, i, a) {
            t = (new Map).set("startTime", t).set("endTime", n).set("metadataType", i).set("payload", a),
            e.dispatchEvent(bc("metadata", t))
        }
        function Rc(C, r) {
            function a(e) {
                (r() ? r() : C).dispatchEvent(e)
            }
            function n(e) {
                r() ? Al(r(), !0, e) : e()
            }
            return r = r || function() {
                return null
            }
            ,
            new Sr(function(e, t, n, i) {
                var a = r() ? r().i : C.s;
                a && a.segmentDownloaded(e, t, n, i)
            }
            ,function(l, e, t) {
                a(bc("downloadheadersreceived", e = (new Map).set("headers", l).set("request", e).set("requestType", t))),
                n(function() {
                    if (C.aa) {
                        var e = C.aa;
                        if (e.h.enabled) {
                            if (i = l["cmsd-static"])
                                try {
                                    for (var t = new Map, n = i.split(","), i = 0; i < n.length; i++) {
                                        var a = n[i].split("=");
                                        t.set(a[0], dc(a[1]))
                                    }
                                } catch (e) {}
                            if (t = l["cmsd-dynamic"]) {
                                try {
                                    for (var r = new Map, o = t.split(";"), t = 1; t < o.length; t++) {
                                        var s = o[t].split("=");
                                        r.set(s[0], dc(s[1]))
                                    }
                                    var u = r
                                } catch (e) {
                                    u = null
                                }
                                u && (e.g = u)
                            }
                        }
                    }
                })
            }
            ,function(e, t, n, i) {
                a(bc("downloadfailed", e = (new Map).set("request", e).set("error", t).set("httpResponseCode", n).set("aborted", i)))
            }
            ,function(x, I, k) {
                n(function() {
                    var e, t, n = C.P, i = void 0 === (i = k) ? {} : i;
                    if (n.g.enabled)
                        if ("HEAD" === I.method)
                            ql(n, I);
                        else
                            switch (x) {
                            case 0:
                                try {
                                    if (n.g.enabled) {
                                        if (i.type) {
                                            e: {
                                                switch (i.type) {
                                                case 4:
                                                    var a = n.j ? sc : oc;
                                                    break e;
                                                case 3:
                                                case 2:
                                                    a = n.j ? lc : uc;
                                                    break e;
                                                case 5:
                                                    a = "s";
                                                    break e
                                                }
                                                a = void 0
                                            }
                                            n.i = a
                                        }
                                        ql(n, I, {
                                            ot: Zl,
                                            su: !n.l
                                        })
                                    }
                                } catch (e) {
                                    q("CMCD_MANIFEST_ERROR", "Could not generate manifest CMCD data.", e)
                                }
                                break;
                            case Mr:
                                try {
                                    if (n.g.enabled) {
                                        var r = i.segment
                                          , a = 0
                                          , o = {
                                            d: 1e3 * (a = r ? r.endTime - r.startTime : a),
                                            st: n.h.T() ? "l" : "v"
                                        }
                                          , s = (o.ot = 0 === (e = i).type ? ic : (e = e.stream) ? "video" == (t = e.type) ? e.codecs && e.codecs.includes(",") ? nc : tc : "audio" == t ? ec : "text" == t ? "application/mp4" === e.mimeType ? rc : ac : void 0 : void 0,
                                        o.ot === tc || o.ot === ec || o.ot === nc || o.ot === rc)
                                          , u = i.stream;
                                        if (u) {
                                            var l, c = n.h.Wa();
                                            if (s && (o.bl = function(e, t) {
                                                if (!(t = e.h.Vb()[t]).length)
                                                    return NaN;
                                                var n = e.h.getCurrentTime();
                                                return (e = t.find(function(e) {
                                                    return e.start <= n && e.end >= n
                                                })) ? 1e3 * (e.end - n) : NaN
                                            }(n, u.type),
                                            o.ot !== rc) && (l = Jl(n, u.type),
                                            o.dl = c ? l / Math.abs(c) : l),
                                            u.bandwidth && (o.br = u.bandwidth / 1e3),
                                            u.segmentIndex && r) {
                                                var d = u.segmentIndex.cc(r.endTime, !0, c < 0);
                                                if (d) {
                                                    var h, f = d.next().value;
                                                    if (f && f != r) {
                                                        if (!Un(r.R(), f.R())) {
                                                            var p = f.R()[0]
                                                              , g = I.uris[0]
                                                              , m = new URL(p)
                                                              , v = new URL(g);
                                                            if (m.origin !== v.origin)
                                                                var y = p;
                                                            else {
                                                                for (var b = m.pathname.split("/").slice(1), T = v.pathname.split("/").slice(1, -1); b[0] === T[0]; )
                                                                    b.shift(),
                                                                    T.shift();
                                                                for (; T.length; )
                                                                    T.shift(),
                                                                    b.unshift("..");
                                                                y = b.join("/")
                                                            }
                                                            o.nor = y
                                                        }
                                                        !f.eb && !f.La || r.eb == f.eb && r.La == f.La || (h = f.eb + "-",
                                                        f.La && (h += f.La),
                                                        o.nrr = h)
                                                    }
                                                }
                                                var w = n.h.Wa() || 1
                                                  , S = Jl(n, u.type) || 500
                                                  , E = u.bandwidth
                                                  , A = E ? E * (r.endTime - r.startTime) / 1e3 / (S / w / 1e3) * n.g.rtpSafetyFactor : NaN;
                                                isNaN(A) || (o.rtp = A)
                                            }
                                        }
                                        s && o.ot !== rc && (o.tb = function(e, t) {
                                            var n = e.h.Kb();
                                            if (!n.length)
                                                return NaN;
                                            e = n[0];
                                            for (var i = (n = Ze(n)).next(); !i.done; i = n.next())
                                                "variant" === (i = i.value).type && i.bandwidth > e.bandwidth && (e = i);
                                            switch (t) {
                                            case tc:
                                                return e.videoBandwidth || NaN;
                                            case ec:
                                                return e.audioBandwidth || NaN;
                                            default:
                                                return e.bandwidth
                                            }
                                        }(n, o.ot) / 1e3),
                                        ql(n, I, o)
                                    }
                                } catch (e) {
                                    q("CMCD_SEGMENT_ERROR", "Could not generate segment CMCD data.", e)
                                }
                                break;
                            case 2:
                            case 5:
                            case 6:
                                ql(n, I, {
                                    ot: "k"
                                });
                                break;
                            case 4:
                                ql(n, I, {
                                    ot: "o"
                                })
                            }
                })
            }
            ,function(e, t, n, i) {
                (e = r() ? r().j : C.J) && e.banLocation && e.banLocation(i)
            }
            ,function(e, t) {
                var n;
                t.data && (t = t.data.byteLength,
                (n = r() ? r().getStats() : C.B) && (n.Gc = isNaN(n.Gc) ? t : n.Gc + t,
                0 === e && (n.Xh = t)))
            }
            )
        }
        function Pc(e, t, n) {
            e.O = new or,
            e.O.g = ur,
            sr(e.O, n, Math.min(.5, n / 2)),
            Kc(e),
            e.Af = new C(function() {
                Dc(e)
            }
            ).Aa(.25),
            e.l.o(t, "waiting", function() {
                return Dc(e)
            }),
            e.l.o(t, "stalled", function() {
                return Dc(e)
            }),
            e.l.o(t, "canplaythrough", function() {
                return Dc(e)
            }),
            e.l.o(t, "progress", function() {
                return Dc(e)
            })
        }
        function Dc(e) {
            switch (e.m) {
            case md:
                var t;
                t = !!e.h.ended || null != (n = Oo(e.h.buffered)) && n >= e.h.duration - 1;
                break;
            case gd:
                e: if (e.h.ended || Is(e.K))
                    t = !0;
                else {
                    if (e.i.presentationTimeline.T()) {
                        var n = e.i.presentationTimeline.tc()
                          , i = Oo(e.h.buffered);
                        if (null != i && n <= i) {
                            t = !0;
                            break e
                        }
                    }
                    t = !1
                }
                break;
            default:
                t = !1
            }
            var i = jo(e.h.buffered, e.h.currentTime)
              , a = t
              , r = (n = e.O).i.get(n.g);
            (t = (t = n.g) != (n.g = i = a || r <= i ? lr : ur)) && i === lr && (n.h = Date.now()),
            t && Kc(e)
        }
        function Nc(t) {
            var e, n, i;
            if (t.xf = new yo(t.g,t.ea,t.G),
            t.J && (e = zn(t.g.manifest),
            t.h && "AUDIO" === t.h.nodeName && (e.disableVideo = !0),
            t.J.configure(e)),
            t.G && t.G.configure(t.g.drm),
            t.j) {
                t.j.configure(t.g.streaming);
                try {
                    t.m != fd && wo(t.xf, t.i) && $c(t)
                } catch (e) {
                    rd(t, e)
                }
                t.s && Yc(t),
                !(e = t.j.j) || e.allowedByApplication && e.allowedByKeySystem || qc(t)
            }
            t.I && (t.I.$g(t.g.streaming.forceHTTP),
            t.I.ah(t.g.streaming.forceHTTPS),
            t.I.m = t.g.streaming.minBytesForProgressEvents),
            t.K && (t.K.configure(t.g.mediaSource),
            t.K.Ca = t.g.manifest.segmentRelativeVttTiming),
            t.C && (e = t.g.textDisplayFactory,
            t.me != e ? (n = t.C,
            t.C = e(),
            t.C.configure ? t.C.configure(t.g.textDisplayer) : wn("Text displayer w/ configure", 'Text displayer should have a "configure" method!'),
            t.C.setTextLanguage || wn("Text displayer w/ setTextLanguage", 'Text displayer should have a "setTextLanguage" method!'),
            t.C.setTextVisibility(n.isTextVisible()),
            n.destroy(),
            t.K && (n = t.K,
            i = t.C,
            n.ea = i,
            n.h && (n.h.j = i)),
            t.me = e,
            t.j && (n = (e = t.j).i.get(it)) && Xu(e, n.stream, !0, 0, !0)) : t.C.configure && t.C.configure(t.g.textDisplayer)),
            t.s && (t.s.configure(t.g.abr),
            t.g.abr.enabled ? t.s.enable() : t.s.disable(),
            nd(t)),
            t.O && (e = t.g.streaming.rebufferingGoal,
            t.i && (e = Math.max(e, t.i.minBufferTime)),
            sr(t.O, e, Math.min(.5, e / 2))),
            t.i && ld(t.i.presentationTimeline, t.g.playRangeStart, t.g.playRangeEnd),
            t.u && t.u.configure(t.g.ads),
            t.P && t.P.configure(t.g.cmcd),
            t.aa && t.aa.configure(t.g.cmsd)
        }
        function _c(e) {
            return (e = e && /(\d+)x(\d+)/.exec(e)) ? {
                Hc: parseInt(e[1], 10),
                rows: parseInt(e[2], 10)
            } : null
        }
        function Oc(t, n) {
            t.l.o(n, "cuechange", function() {
                t.C.remove(0, Math.max(0, t.h.currentTime - t.g.streaming.bufferBehind));
                var e = Array.from(n.activeCues || []).map(Fl).filter(Sa);
                t.C.append(e)
            }),
            n.mode = document.pictureInPictureElement ? "showing" : "hidden"
        }
        function Uc(e) {
            return Array.from(e.h.textTracks).filter(function(e) {
                return "metadata" != e.kind && "chapters" != e.kind && "Shaka Player TextTrack" != e.label
            })
        }
        function jc(e) {
            return Array.from(e.h.textTracks).filter(function(e) {
                return "chapters" == e.kind
            })
        }
        function Fc(t, n) {
            var i;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return qe(e, 2),
                    We(e, Nl(n, t.I, t.g.streaming.retryParameters), 4);
                case 4:
                    i = e.h,
                    Je(e, 3);
                    break;
                case 2:
                    Qe(e);
                case 3:
                    if (i)
                        return e.return(i);
                    throw new nt(1,2,2011,n)
                }
            })
        }
        function Bc(r, o, s, u, l, c, d) {
            var h;
            return $e(function(e) {
                if (1 == e.g)
                    return "text/vtt" != l || d.length ? We(e, Gc(r, o, r.I, r.g.streaming.retryParameters), 3) : e.A(2);
                2 != e.g && (h = e.h,
                h = Vc(r, h, l, d),
                h = new Blob([h],{
                    type: "text/vtt"
                }),
                o = Vs(h),
                l = "text/vtt"),
                h = document.createElement("track");
                var t = r.P
                  , n = o;
                try {
                    var i, a = t.g.enabled ? ((i = Yl(t)).ot = ac,
                    i.su = !0,
                    $l(n, Ql(i))) : n
                } catch (e) {
                    q("CMCD_TEXT_TRACK_ERROR", "Could not generate text track CMCD data.", e),
                    a = n
                }
                return h.src = a,
                h.label = c,
                h.kind = u,
                h.srclang = s,
                r.h.getAttribute("crossorigin") || r.h.setAttribute("crossorigin", "anonymous"),
                r.h.appendChild(h),
                e.return(h)
            })
        }
        function Gc(n, i, a, r) {
            var o, s;
            return $e(function(e) {
                if (1 != e.g)
                    return s = e.h,
                    e.return(s.data);
                s = Mr,
                (o = xr([i], r)).method = "GET";
                var t = n.P;
                try {
                    t.g.enabled && ql(t, o, {
                        ot: ac,
                        su: !0
                    })
                } catch (e) {
                    q("CMCD_TEXT_ERROR", "Could not generate text CMCD data.", e)
                }
                return We(e, a.request(s, o).promise, 2)
            })
        }
        function Vc(e, t, n, i) {
            var a = ba[n];
            if (a) {
                n = a(),
                e = {
                    periodStart: 0,
                    segmentStart: 0,
                    segmentEnd: e.h.duration,
                    vttOffset: 0
                },
                t = tt(t);
                var r = t = n.parseMedia(t, e, null, [])
                  , o = i;
                function s(e) {
                    for (var t = e, n = Ze(o), i = n.next(); !i.done; i = n.next())
                        (i = i.value).end && i.start < e && (t += i.end - i.start);
                    return ((e = Math.floor(t / 3600)) < 10 ? "0" : "") + e + ":" + ((n = Math.floor(t / 60 % 60)) < 10 ? "0" : "") + n + ":" + ((i = Math.floor(t % 60)) < 10 ? "0" : "") + i + "." + ((t = Math.floor(1e3 * t % 1e3)) < 100 ? t < 10 ? "00" : "0" : "") + t
                }
                var u = Ul(r);
                r = "WEBVTT\n\n";
                for (var l = (u = Ze(u)).next(); !l.done; l = u.next())
                    r = (r += s((l = l.value).startTime) + " --\x3e " + s(l.endTime) + function(e) {
                        var t = [];
                        switch (e.textAlign) {
                        case "left":
                            t.push("align:left");
                            break;
                        case "right":
                            t.push("align:right");
                            break;
                        case Li:
                            t.push("align:middle");
                            break;
                        case "start":
                            t.push("align:start");
                            break;
                        case "end":
                            t.push("align:end")
                        }
                        switch (e.writingMode) {
                        case "vertical-lr":
                            t.push("vertical:lr");
                            break;
                        case "vertical-rl":
                            t.push("vertical:rl")
                        }
                        return t.length ? " " + t.join(" ") : ""
                    }(l) + "\n") + (l.payload + "\n\n");
                return r
            }
            throw new nt(2,2,2014,n)
        }
        function Hc(n) {
            var e = bl();
            return e.streaming.failureCallback = function(e) {
                var t;
                n.T() && (t = null,
                1001 == e.code || 1002 == e.code ? (t = 1,
                n.g.streaming.lowLatencyMode && (t = .1)) : 1003 == e.code && (t = .1),
                null != t && (e.severity = 1,
                n.Sg(t)))
            }
            ,
            e.textDisplayFactory = function() {
                if (!n.zf || mt() && !document.fullscreenEnabled)
                    return HTMLMediaElement.prototype.addTextTrack ? new Bl(n.h,"Shaka Player TextTrack") : new Vl;
                var e = n.getConfiguration();
                return new Hl(n.h,n.zf,e.textDisplayer)
            }
            ,
            e
        }
        function Kc(e) {
            var t, n, i, a = e.Me();
            e.B && e.O && e.H && ((t = e.L).j = a,
            gu(t),
            e.P && (t = e.P,
            a || t.l || (t.l = !0),
            t.l && a && (t.m = !0),
            t.s = a),
            zc(e),
            t = e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,
            e.g.streaming.liveSync.dynamicTargetLatency.enabled && a && e.pe < t && (t = e.g.streaming.liveSync.dynamicTargetLatency.maxLatency,
            n = e.g.streaming.liveSync.targetLatencyTolerance,
            i = e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement,
            e.S && (e.S = Math.min(e.S + ++e.pe * i, t - n)))),
            a = (new Map).set("buffering", a),
            e.dispatchEvent(bc("buffering", a))
        }
        function zc(e) {
            var t, n, i, a;
            e.B && e.O && (a = e.B.g,
            t = "playing",
            e.O.g == ur ? t = "buffering" : e.h.ended ? t = "ended" : e.h.paused && (t = "paused"),
            n = t,
            (a = null == a.g ? (a.g = {
                timestamp: Date.now() / 1e3,
                state: n,
                duration: 0
            },
            !0) : (i = Date.now() / 1e3,
            a.g.duration = i - a.g.timestamp,
            a.g.state != n && (a.h.push(a.g),
            a.g = {
                timestamp: i,
                state: n,
                duration: 0
            },
            !0))) && (t = (new Map).set("newstate", t),
            e.dispatchEvent(bc("statechanged", t))))
        }
        function Xc(e) {
            var t, n, i, a, r, o, s, u, l, c = e.h.playbackRate, d = e.T();
            e.g.streaming.vodDynamicPlaybackRate && !d && (t = e.g.streaming.vodDynamicPlaybackRateLowBufferRate,
            (n = e.Kh()) <= e.g.streaming.vodDynamicPlaybackRateBufferRatio ? c != t && e.Ec(t, !1) : 1 == n && c !== e.L.Kc() && e.cd()),
            d && (d = e.Ia(),
            Number.isFinite(d.end) && !(e.h.currentTime < d.start || e.h.paused)) && (t = e.g.streaming.liveSync.targetLatencyTolerance,
            n = e.g.streaming.liveSync.dynamicTargetLatency.enabled,
            i = e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold,
            e.g.streaming.liveSync && e.g.streaming.liveSync.enabled ? (r = (a = e.g.streaming.liveSync.targetLatency) + t,
            o = Math.max(0, a - t),
            s = e.g.streaming.liveSync.maxPlaybackRate,
            u = e.g.streaming.liveSync.minPlaybackRate) : e.i && e.i.serviceDescription && (a = e.i.serviceDescription.targetLatency,
            null != e.i.serviceDescription.targetLatency ? r = e.i.serviceDescription.targetLatency + t : null != e.i.serviceDescription.maxLatency && (r = e.i.serviceDescription.maxLatency),
            null != e.i.serviceDescription.targetLatency ? o = Math.max(0, e.i.serviceDescription.targetLatency - t) : null != e.i.serviceDescription.minLatency && (o = e.i.serviceDescription.minLatency),
            s = e.i.serviceDescription.maxPlaybackRate || e.g.streaming.liveSync.maxPlaybackRate,
            u = e.i.serviceDescription.minPlaybackRate || e.g.streaming.liveSync.minPlaybackRate),
            e.S || "number" != typeof a || (e.S = a),
            l = e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,
            n && e.Fa && null !== e.S && "number" == typeof a && e.pe < l && Date.now() - e.Fa > 1e3 * i && (i = e.g.streaming.liveSync.dynamicTargetLatency.minLatency,
            e.S = Math.max(e.S - (a - i) / 2, i + t),
            e.Fa = Date.now()),
            n && null !== e.S && (r = e.S + t,
            o = e.S - t),
            a = d.end - e.h.currentTime,
            t = 0,
            e.m == md && 0 < (n = e.h.buffered).length && (t = n.end(n.length - 1),
            t = Math.max(s, t - d.end)),
            d = e.g.streaming.liveSync.panicMode,
            n = 1e3 * e.g.streaming.liveSync.panicThreshold,
            i = Date.now() - e.O.h,
            d && !u && (u = e.g.streaming.liveSync.minPlaybackRate),
            d && u && i <= n ? c != u && e.Ec(u, !1) : null != r && s && r < a - t ? (c != s && e.Ec(s, !1),
            e.Fa = null) : null != o && u && a - t < o ? (c != u && e.Ec(u, !1),
            e.Fa = null) : c !== e.L.Kc() && (e.cd(),
            e.Fa = Date.now()))
        }
        function Wc(a) {
            var e, t, n;
            a.h && (e = function(e, t) {
                var n, i = void 0 === i ? Number.EPSILON : i;
                return !!(((i = e === t || ((n = Math.abs(e - t)) <= i || i !== Number.EPSILON && Math.abs(n - i) <= Number.EPSILON)) || e < t) && a.Cf < e) && (a.Cf = e,
                !0)
            }
            ,
            t = a.h.currentTime / a.h.duration,
            isNaN(t) || (e(0, t *= 100) ? n = bc("started") : e(25, t) ? n = bc("firstquartile") : e(50, t) ? n = bc("midpoint") : e(75, t) ? n = bc("thirdquartile") : e(100, t) && (n = bc("complete")),
            n && a.dispatchEvent(n)))
        }
        function Yc(t) {
            try {
                Eo(t.xf, t.i)
            } catch (e) {
                return rd(t, e),
                0
            }
            var e = Va(t.i.variants)
              , e = t.Ca.create(e);
            return t.s.setVariants(Array.from(e.values())),
            1
        }
        function qc(e, t, n, i, a) {
            var r;
            t = void 0 === t || t,
            n = void 0 === n ? 0 : n,
            i = void 0 !== i && i,
            a = void 0 === a || a,
            (r = Yc(e) ? e.s.chooseVariant() : null) && Jc(e, r, a, t, n, i)
        }
        function Jc(e, t, n, i, a, r) {
            r = void 0 !== r && r;
            var o, s = e.j.j;
            t == s ? i && Ku(e.j, t, i, a, !0) : ((o = e.B.h).h != t && (o.h = t,
            o.g.push({
                timestamp: Date.now() / 1e3,
                id: t.id,
                type: "variant",
                fromAdaptation: n,
                bandwidth: t.bandwidth
            })),
            Ku(e.j, t, i, a, r, n),
            i = null,
            s && (i = Na(s)),
            (t = Na(t)).active = !0,
            n ? (n = (new Map).set("oldTrack", i).set("newTrack", t),
            e.M && Ts(e.M, t, e.Fe()),
            cd(e, n = bc("adaptation", n))) : Zc(e, i, t))
        }
        function Qc(e, t) {
            var n = Array.from(e.h.audioTracks).find(function(e) {
                return e.enabled
            });
            t.enabled = !0,
            n && (t.id !== n.id && (n.enabled = !1),
            Zc(e, n = Fa(n), t = Fa(t)))
        }
        function $c(e) {
            cd(e, bc("trackschanged"))
        }
        function Zc(e, t, n) {
            t = (new Map).set("oldTrack", t).set("newTrack", n),
            e.M && Ts(e.M, n, e.Fe()),
            cd(e, n = bc("variantchanged", t))
        }
        function ed(e) {
            cd(e, bc("textchanged"))
        }
        function td(e) {
            cd(e, bc("texttrackvisibility"))
        }
        function nd(e) {
            e.g.abr.enabled || ad(e),
            cd(e, bc("abrstatuschanged", (new Map).set("newStatus", e.g.abr.enabled)))
        }
        function id(e) {
            var t = e.ec().find(function(e) {
                return e.active
            });
            t && e.C && e.C.setTextLanguage && e.C.setTextLanguage(t.language)
        }
        function ad(e, t) {
            if (t = void 0 === t || t,
            e.m == gd) {
                e.Bf.stop();
                for (var n = Ze(e.i.variants), i = n.next(); !i.done; i = n.next())
                    i.value.disabledUntilTime = 0;
                t && Yc(e)
            }
        }
        function rd(t, n) {
            var i, a;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (t.m == fd)
                        return e.return();
                    if (1 === n.severity && t.B.L++,
                    i = !0,
                    t.Ga && t.i && t.j && (3016 == n.code || 3014 == n.code || 3015 == n.code || 3018 == n.code))
                        return qe(e, 3),
                        We(e, ul(t.j), 5);
                    e.A(2);
                    break;
                case 5:
                    a = e.h,
                    i = !a,
                    a && (a = bc("mediasourcerecovered"),
                    t.dispatchEvent(a)),
                    Je(e, 2);
                    break;
                case 3:
                    Qe(e),
                    i = !0;
                case 2:
                    if (!i)
                        return e.return();
                    2 === n.severity && ad(t, !1),
                    a = bc("error", (new Map).set("detail", n)),
                    t.dispatchEvent(a),
                    a.defaultPrevented && (n.handled = !0),
                    Ye(e)
                }
            })
        }
        function od(e, t, n, i) {
            i = void 0 === i ? e : i,
            e = (new Map).set("detail", {
                schemeIdUri: n.schemeIdUri,
                value: n.value,
                startTime: n.startTime,
                endTime: n.endTime,
                id: n.id,
                eventElement: n.eventElement,
                eventNode: n.eventNode
            }),
            i.dispatchEvent(bc(t, e))
        }
        function sd(e, t, n, i) {
            i = void 0 !== i && i,
            t = (new Map).set("mediaQuality", {
                bandwidth: t.bandwidth,
                audioSamplingRate: t.audioSamplingRate,
                codecs: t.codecs,
                contentType: t.contentType,
                frameRate: t.frameRate,
                height: t.height,
                mimeType: t.mimeType,
                channelsCount: t.channelsCount,
                pixelAspectRatio: t.pixelAspectRatio,
                width: t.width,
                label: t.label,
                roles: t.roles,
                language: t.language
            }).set("position", n),
            e.dispatchEvent(bc(i ? "audiotrackchanged" : "mediaqualitychanged", t))
        }
        function ud(e, t) {
            if (t = void 0 === t || t,
            !e.h.error)
                return t ? new nt(2,3,3016) : null;
            var n = e.h.error.code;
            return t || 1 != n ? ((t = e.h.error.msExtendedCode) && (t < 0 && (t += Math.pow(2, 32)),
            t = t.toString(16)),
            new nt(2,3,3016,n,t,e.h.error.message)) : null
        }
        function ld(e, t, n) {
            0 < t && (e.T() || e.Bi(t)),
            n < (t = e.getDuration()) && (e.T() || e.vb(n))
        }
        function cd(t, n) {
            $e(function(e) {
                if (1 == e.g)
                    return We(e, Promise.resolve(), 2);
                t.m != fd && t.dispatchEvent(n),
                Ye(e)
            })
        }
        function dd(e) {
            for (var t = new Set, n = (e = Ze(e)).next(); !n.done; n = e.next())
                (n = n.value).language ? t.add(en(n.language)) : t.add("und");
            return t
        }
        function hd(e) {
            for (var t = new Map, a = new Map, n = (e = Ze(e)).next(); !n.done; n = e.next()) {
                var i = "und"
                  , r = [];
                (n = n.value).language && (i = en(n.language)),
                (r = "variant" == n.type ? n.audioRoles : n.roles) && r.length || (r = [""]),
                t.has(i) || t.set(i, new Set);
                for (var o = (r = Ze(r)).next(); !o.done; o = r.next())
                    o = o.value,
                    t.get(i).add(o),
                    n.label && (a.has(i) || a.set(i, new Map),
                    a.get(i).set(o, n.label))
            }
            var s = [];
            return t.forEach(function(e, t) {
                for (var n = (e = Ze(e)).next(); !n.done; n = e.next()) {
                    var n = n.value
                      , i = null;
                    a.has(t) && a.get(t).has(n) && (i = a.get(t).get(n)),
                    s.push({
                        language: t,
                        role: n,
                        label: i
                    })
                }
            }),
            s
        }
        mc.prototype.release = function() {
            0 < this.h.length ? this.h.shift()() : this.g = null
        }
        ,
        n(g, h),
        (t = g.prototype).destroy = function() {
            var t, n = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return n.m == fd ? e.return() : (yc(n),
                    t = n.detach(),
                    n.m = fd,
                    We(e, t, 2));
                case 2:
                    return We(e, n.Vf(), 3);
                case 3:
                    if (n.le && (n.le.release(),
                    n.le = null),
                    n.$d && (n.$d.release(),
                    n.$d = null),
                    n.l && (n.l.release(),
                    n.l = null),
                    n.Ja && (n.Ja.release(),
                    n.Ja = null),
                    n.Ya && (n.Ya.release(),
                    n.Ya = null),
                    n.ya = null,
                    n.g = null,
                    n.B = null,
                    n.zf = null,
                    n.P = null,
                    n.aa = null,
                    n.I)
                        return We(e, n.I.destroy(), 5);
                    e.A(4);
                    break;
                case 5:
                    n.I = null;
                case 4:
                    n.s && (n.s.release(),
                    n.s = null),
                    h.prototype.release.call(n),
                    Ye(e)
                }
            })
        }
        ,
        t.$b = function(t, n) {
            n = void 0 === n || n;
            var i, a, r, o = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (o.m == fd)
                        throw new nt(2,7,7e3);
                    if (i = o.h && o.h == t,
                    o.h && o.h != t)
                        return We(e, o.detach(), 2);
                    e.A(2);
                    break;
                case 2:
                    return We(e, Sc(o, "attach"), 4);
                case 4:
                    if (e.h)
                        return e.return();
                    if (qe(e, 5, 6),
                    i || (wc(o, "attach"),
                    a = function() {
                        var e = ud(o, !1);
                        e && rd(o, e)
                    }
                    ,
                    o.$d.o(t, "error", a),
                    o.h = t),
                    n && Pe() && !o.K)
                        return We(e, Cc(o), 6);
                    e.A(6);
                    break;
                case 6:
                    dt(e),
                    o.W.release(),
                    ht(e, 0);
                    break;
                case 5:
                    return r = Qe(e),
                    We(e, o.detach(), 10);
                case 10:
                    throw r
                }
            })
        }
        ,
        t.sh = function(e) {
            this.qh = e
        }
        ,
        t.detach = function(t) {
            t = void 0 !== t && t;
            var n = this;
            return $e(function(e) {
                if (1 == e.g) {
                    if (n.m == fd)
                        throw new nt(2,7,7e3);
                    return We(e, n.pc(!1, t), 2)
                }
                if (3 != e.g)
                    return We(e, Sc(n, "detach"), 3);
                if (e.h)
                    return e.return();
                try {
                    n.h && (n.$d.cb(),
                    n.h = null),
                    wc(n, "detach"),
                    n.u && !t && n.u.release()
                } finally {
                    n.W.release()
                }
                Ye(e)
            })
        }
        ,
        t.pc = function(n, i) {
            n = void 0 === n || n,
            i = void 0 !== i && i;
            var a, r, o, s, u, l, c, d, h, f, p = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return p.m != fd && (p.m = pd),
                    We(e, Sc(p, "unload"), 2);
                case 2:
                    return e.h ? e.return() : (A(e, 3),
                    p.Ga = !1,
                    wc(p, "unload"),
                    n && !Pe() && (n = !1),
                    yc(p),
                    a = p.be.map(function(e) {
                        return e()
                    }),
                    p.be = [],
                    We(e, Promise.all(a), 5));
                case 5:
                    if (p.dispatchEvent(bc("unloading")),
                    p.zc && (p.zc.release(),
                    p.zc = null),
                    p.h && (p.l.cb(),
                    p.Ja.cb()),
                    p.Bf.stop(),
                    p.Nb && (p.Nb.release(),
                    p.Nb = null),
                    p.Af && (p.Af.stop(),
                    p.Af = null),
                    p.J)
                        return We(e, p.J.stop(), 7);
                    e.A(6);
                    break;
                case 7:
                    p.J = null,
                    p.Ta = null;
                case 6:
                    if (p.s)
                        return We(e, p.s.stop(), 8);
                    e.A(8);
                    break;
                case 8:
                    if (p.j)
                        return We(e, p.j.destroy(), 11);
                    e.A(10);
                    break;
                case 11:
                    p.j = null;
                case 10:
                    if (p.L && (p.L.release(),
                    p.L = null),
                    p.H && (p.H.release(),
                    p.H = null),
                    wt("webkit") && p.G)
                        return We(e, p.G.destroy(), 13);
                    e.A(12);
                    break;
                case 13:
                    p.G = null;
                case 12:
                    if (p.K)
                        return We(e, p.K.destroy(), 15);
                    e.A(14);
                    break;
                case 15:
                    p.K = null;
                case 14:
                    if (p.u && !i && p.u.onAssetUnload(),
                    p.Z && !i && (p.Z.destroy(),
                    p.Z = null),
                    i || p.Ff.stop(),
                    p.P && ((t = p.P).l = !1,
                    t.s = !0,
                    t.m = !1,
                    t.j = !1),
                    p.aa && (p.aa.g = null),
                    p.C)
                        return We(e, p.C.destroy(), 17);
                    e.A(16);
                    break;
                case 17:
                    p.C = null;
                case 16:
                    if (p.h && (Ho(p.h),
                    p.h.src && (p.h.removeAttribute("src"),
                    p.h.load())),
                    p.G)
                        return We(e, p.G.destroy(), 19);
                    e.A(18);
                    break;
                case 19:
                    p.G = null;
                case 18:
                    if (p.ra && p.V != p.ra.ld() && (p.ra.u || p.ra.destroy(),
                    p.ra = null),
                    p.V = null,
                    p.Oa = null,
                    p.O = null,
                    p.i) {
                        for (r = Ze(p.i.variants),
                        o = r.next(); !o.done; o = r.next())
                            for (s = o.value,
                            u = Ze([s.audio, s.video]),
                            l = u.next(); !l.done; l = u.next())
                                (c = l.value) && c.segmentIndex && c.segmentIndex.release();
                        for (d = Ze(p.i.textStreams),
                        h = d.next(); !h.done; h = d.next())
                            (f = h.value).segmentIndex && f.segmentIndex.release()
                    }
                    p.g && p.g.streaming.clearDecodingCache && (Wa = {},
                    Le.clear()),
                    p.i = null,
                    p.B = new Su,
                    p.me = null,
                    p.Fa = null,
                    p.S = null,
                    p.pe = -1,
                    p.ge = [],
                    p.Cf = -1,
                    Kc(p);
                case 3:
                    dt(e),
                    p.W.release(),
                    ht(e, 4);
                    break;
                case 4:
                    if (n && Pe() && !p.K && p.h)
                        return We(e, Cc(p), 0);
                    e.A(0)
                }
                var t
            })
        }
        ,
        t.Uk = function(e) {
            this.ha = e
        }
        ,
        t.load = function(c, d, p) {
            d = void 0 === d ? null : d;
            var h, f, g, m, v, y, P, b, T, D, N, w, _ = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (_.m == fd)
                        throw new nt(2,7,7e3);
                    return h = null,
                    f = "",
                    f = c instanceof El ? (h = c).ld() || "" : c || "",
                    We(e, vc(_.W, "load"), 2);
                case 2:
                    if (_.W.release(),
                    !_.h)
                        throw new nt(2,7,7002);
                    if (_.V)
                        return _.V = f,
                        We(e, _.pc(!1), 3);
                    e.A(3);
                    break;
                case 3:
                    if (g = ++_.oe,
                    m = function() {
                        return $e(function(e) {
                            if (1 == e.g)
                                return _.oe == g ? e.A(0) : h ? We(e, h.destroy(), 3) : e.A(3);
                            throw new nt(2,7,7e3)
                        })
                    }
                    ,
                    v = function(t, n) {
                        return $e(function(e) {
                            switch (e.g) {
                            case 1:
                                return A(e, 2),
                                We(e, vc(_.W, n), 4);
                            case 4:
                                return We(e, m(), 5);
                            case 5:
                                return We(e, t(), 6);
                            case 6:
                                return We(e, m(), 7);
                            case 7:
                                h && _.g && (h.g = _.g);
                            case 2:
                                dt(e),
                                _.W.release(),
                                ht(e, 0)
                            }
                        })
                    }
                    ,
                    qe(e, 5, 6),
                    null == d && h && (d = h.getStartTime()),
                    _.ha = d,
                    _.Ga = !1,
                    _.dispatchEvent(bc("loading")),
                    h) {
                        p = h.V,
                        e.A(8);
                        break
                    }
                    if (p) {
                        e.A(8);
                        break
                    }
                    return We(e, v(function() {
                        return $e(function(e) {
                            if (1 == e.g)
                                return We(e, Ic(_, f), 2);
                            p = e.h,
                            Ye(e)
                        })
                    }, "guessMimeType_"), 8);
                case 8:
                    if (y = !!h,
                    h) {
                        xl(h, _),
                        _.B = h.getStats(),
                        e.A(11);
                        break
                    }
                    return We(e, Ac(_, f, d, p, !0), 12);
                case 12:
                    (h = e.h) ? (h.B = !1,
                    xl(h, _),
                    _.B = h.getStats(),
                    h.start(),
                    h.m.catch(function() {})) : _.B = new Su;
                case 11:
                    return b = !h,
                    P = Date.now() / 1e3,
                    _.B = h ? h.getStats() : new Su,
                    _.V = f,
                    _.Oa = p || null,
                    b ? We(e, v(function() {
                        return $e(function(e) {
                            return We(e, (t = _,
                            n = p,
                            $e(function(e) {
                                return 1 == e.g ? (i = Wt,
                                a = Date.now() / 1e3,
                                r = !0,
                                t.G = t.ed({
                                    jc: t.I,
                                    onError: function(e) {
                                        rd(t, e)
                                    },
                                    Ye: function() {},
                                    onExpirationUpdated: function() {
                                        var e = bc("expirationupdated");
                                        t.dispatchEvent(e)
                                    },
                                    onEvent: function(e) {
                                        t.dispatchEvent(e),
                                        "drmsessionupdate" == e.type && r && (r = !1,
                                        t.B.j = Date.now() / 1e3 - a)
                                    }
                                }),
                                t.G.configure(t.g.drm),
                                o = {
                                    id: 0,
                                    language: "und",
                                    disabledUntilTime: 0,
                                    primary: !1,
                                    audio: null,
                                    video: null,
                                    bandwidth: 100,
                                    allowedByApplication: !0,
                                    allowedByKeySystem: !0,
                                    decodingInfos: []
                                },
                                (s = {
                                    id: 0,
                                    originalId: null,
                                    groupId: null,
                                    createSegmentIndex: function() {
                                        return Promise.resolve()
                                    },
                                    segmentIndex: null,
                                    mimeType: n ? la(n) : "",
                                    codecs: n ? ca(n) : "",
                                    encrypted: !0,
                                    drmInfos: [],
                                    keyIds: new Set,
                                    language: "und",
                                    originalLanguage: null,
                                    label: null,
                                    type: i.xa,
                                    primary: !1,
                                    trickModeVideo: null,
                                    emsgSchemeIdUris: null,
                                    roles: [],
                                    forced: !1,
                                    channelsCount: null,
                                    audioSamplingRate: null,
                                    spatialAudio: !1,
                                    closedCaptions: null,
                                    accessibilityPurpose: null,
                                    external: !1,
                                    fastSwitching: !1,
                                    fullMimeTypes: new Set,
                                    isAudioMuxedInVideo: !1
                                }).fullMimeTypes.add(ia(s.mimeType, s.codecs)),
                                n.startsWith("audio/") ? (s.type = i.ba,
                                o.audio = s) : o.video = s,
                                t.G.aa = !0,
                                We(e, $r(t.G, [o], []), 2)) : We(e, t.G.$b(t.h), 0)
                            })), 0);
                            var t, n, i, a, r, o, s
                        })
                    }, "initializeSrcEqualsDrmInner_"), 21) : We(e, v(function() {
                        return $e(function(e) {
                            if (1 == e.g)
                                return We(e, Promise.race([h.ea, h.m]), 2);
                            _.Ta = h.I;
                            var t = h;
                            t.ha = !0,
                            _.J = t.j,
                            _.i = h.og(),
                            Ye(e)
                        })
                    }, "waitForFinish"), 15);
                case 15:
                    if (_.K) {
                        e.A(16);
                        break
                    }
                    return We(e, v(function() {
                        return $e(function(e) {
                            return We(e, Cc(_), 0)
                        })
                    }, "initializeMediaSourceEngineInner_"), 16);
                case 16:
                    return We(e, v(function() {
                        return $e(function(e) {
                            return We(e, h.m, 0)
                        })
                    }, "waitForFinish"), 18);
                case 18:
                    if (_.g = h.getConfiguration(),
                    _.xf = h.H,
                    _.J && _.J.setMediaElement && _.h && _.J.setMediaElement(_.h),
                    _.zc = ((l = h).ra = !0,
                    l.J),
                    _.yc = h.Fa,
                    (b = h.s) && (_.Ca = b),
                    y && _.h && "AUDIO" === _.h.nodeName) {
                        {
                            l = _;
                            for (var t = Ze(l.i.variants), n = t.next(); !n.done; n = t.next())
                                (n = n.value).video && (n.video.closeSegmentIndex(),
                                n.video = null),
                                n.bandwidth = n.audio && n.audio.bandwidth ? n.audio.bandwidth : 0;
                            l.i.variants = l.i.variants.filter(function(e) {
                                return e.audio
                            })
                        }
                        _.configure("manifest.disableVideo", !0)
                    }
                    return _.G = ((l = h).aa = !0,
                    l.l),
                    We(e, v(function() {
                        return $e(function(e) {
                            return We(e, _.G.$b(_.h), 0)
                        })
                    }, "drmEngine_.attach"), 19);
                case 19:
                    return !(T = h.G) || _.ya && _.ya == T || (_.s = ((l = h).Z = !0,
                    l.i),
                    _.ya = h.G,
                    "function" != typeof _.s.setMediaElement && (wn("AbrManager w/o setMediaElement", "Please use an AbrManager with setMediaElement function."),
                    _.s.setMediaElement = function() {}
                    ),
                    "function" != typeof _.s.setCmsdManager && (wn("AbrManager w/o setCmsdManager", "Please use an AbrManager with setCmsdManager function."),
                    _.s.setCmsdManager = function() {}
                    ),
                    "function" != typeof _.s.trySuggestStreams && (wn("AbrManager w/o trySuggestStreams", "Please use an AbrManager with trySuggestStreams function."),
                    _.s.trySuggestStreams = function() {}
                    )),
                    (u = h).ya = !0,
                    D = u.M,
                    N = h.ma,
                    We(e, v(function() {
                        return $e(function(e) {
                            return We(e, (f = _,
                            p = P,
                            g = N,
                            m = D,
                            $e(function(e) {
                                switch (e.g) {
                                case 1:
                                    wc(f, "load"),
                                    v = f.h,
                                    f.L = new pu({
                                        Ge: function() {
                                            return v.playbackRate
                                        },
                                        Kc: function() {
                                            return v.defaultPlaybackRate
                                        },
                                        bh: function(e) {
                                            v.playbackRate = e
                                        },
                                        bi: function(e) {
                                            v.currentTime += e
                                        }
                                    }),
                                    Mc(f, v, p),
                                    (h = (d = f).g).lcevc.enabled ? (yc(d),
                                    null == d.M && (d.M = new ys(d.h,d.qh,h.lcevc),
                                    d.K && (d.K.aa = d.M))) : yc(d),
                                    f.Lb = f.g.preferredTextLanguage,
                                    f.fe = f.g.preferredTextRole,
                                    f.ce = f.g.preferForcedSubs,
                                    ld(f.i.presentationTimeline, f.g.playRangeStart, f.g.playRangeEnd),
                                    f.s.init(function(e, t, n) {
                                        f.i && f.j && e != f.j.j && Jc(f, e, !0, void 0 !== t && t, void 0 === n ? 0 : n)
                                    }),
                                    f.s.setMediaElement(v),
                                    f.s.setCmsdManager(f.aa),
                                    f.j = new Vu((c = f).i,{
                                        Nd: function() {
                                            return c.H ? c.H.qe() : 0
                                        },
                                        getBandwidthEstimate: function() {
                                            return c.s.getBandwidthEstimate()
                                        },
                                        Wa: function() {
                                            return c.Wa()
                                        },
                                        qa: c.K,
                                        jc: c.I,
                                        onError: function(e) {
                                            return rd(c, e)
                                        },
                                        onEvent: function(e) {
                                            return c.dispatchEvent(e)
                                        },
                                        Jg: function(e, t) {
                                            var n, i = e.startTime, a = (e = e.endTime,
                                            t.type);
                                            t = t.codecs.includes(","),
                                            a != it && (c.H && (c.H.ci(),
                                            n = ks(c.K, a),
                                            !c.T() && c.h.paused && null != n && 0 < n && c.H.qe() < n && c.H.Gf(n)),
                                            Dc(c)),
                                            i = (new Map).set("start", i).set("end", e).set("contentType", a).set("isMuxed", t),
                                            c.dispatchEvent(bc("segmentappended", i))
                                        },
                                        ik: function(e, t) {
                                            var n, i, a, r, o, s, u;
                                            (t = t.sd) && c.yc && (n = c.yc,
                                            i = e,
                                            e = n,
                                            s = (t = t).contentType,
                                            (u = e.g.get(s)) || e.g.set(s, u = {
                                                ae: [],
                                                Uf: null,
                                                contentType: s
                                            }),
                                            u = e = u,
                                            (s = (s = n).h()[u.contentType]) && 0 < s.length ? (a = s[0].start,
                                            r = s[s.length - 1].end,
                                            o = u.ae,
                                            u.ae = o.filter(function(e, t) {
                                                return !(e.position <= a && t + 1 < o.length && o[t + 1].position <= a || e.position >= r)
                                            })) : u.ae = [],
                                            n = {
                                                sd: t,
                                                position: i
                                            },
                                            0 <= (t = (e = e.ae).findIndex(function(e) {
                                                return e.position >= i
                                            })) ? e.splice(t, e[t].position == i ? 1 : 0, n) : e.push(n))
                                        },
                                        wh: function(e, t) {
                                            var n = c.G;
                                            if (n.h.parseInbandPsshEnabled && !n.H && ["audio", "video"].includes(e)) {
                                                e = new qr(tt(t)),
                                                t = 0;
                                                for (var i = Ze(e.data), a = i.next(); !a.done; a = i.next())
                                                    t += a.value.length;
                                                if (0 == t)
                                                    n = Promise.resolve();
                                                else {
                                                    for (t = new Uint8Array(t),
                                                    i = 0,
                                                    a = (e = Ze(e.data)).next(); !a.done; a = e.next())
                                                        a = a.value,
                                                        t.set(a, i),
                                                        i += a.length;
                                                    no(n, "cenc", t),
                                                    n = n.m
                                                }
                                            } else
                                                n = Promise.resolve();
                                            return n
                                        },
                                        disableStream: function(e, t) {
                                            return c.disableStream(e, t)
                                        }
                                    }),
                                    f.j.configure(f.g.streaming),
                                    f.m = gd,
                                    f.dispatchEvent(bc("streaming")),
                                    y = g;
                                case 2:
                                    for ((T = f.j.j) || y || (y = Yc(f) ? f.s.chooseVariant() : null),
                                    w = [],
                                    S = Ze([(b = T || y).video, b.audio]),
                                    E = S.next(); !E.done; E = S.next())
                                        (A = E.value) && !A.segmentIndex && w.push(A.createSegmentIndex());
                                    if (0 < w.length)
                                        return We(e, Promise.all(w), 4);
                                    e.A(4);
                                    break;
                                case 4:
                                    if (!b || 0 != b.disabledUntilTime) {
                                        e.A(2);
                                        break
                                    }
                                    if (f.J && f.J.onInitialVariantChosen && f.J.onInitialVariantChosen(b),
                                    f.i.isLowLatency && !f.g.streaming.lowLatencyMode && Q("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),
                                    f.P && (h = f.P,
                                    d = f.i.isLowLatency && f.g.streaming.lowLatencyMode,
                                    h.j = d,
                                    h.j ? h.i == oc ? h.i = sc : h.i == uc && (h.i = lc) : h.i == sc ? h.i = oc : h.i == lc && (h.i = uc)),
                                    ld(f.i.presentationTimeline, f.g.playRangeStart, f.g.playRangeEnd),
                                    s = f.j,
                                    u = f.g.playRangeStart,
                                    l = f.g.playRangeEnd,
                                    s.l.presentationTimeline.T() || (s.P = u,
                                    s.O = l),
                                    x = function(e) {
                                        var t, n, i;
                                        f.H = new ru((t = f).h,t.i,t.g.streaming,e,function() {
                                            t.Nb && vu(t.Nb, !0),
                                            t.j && t.j.zd(),
                                            t.O && Dc(t)
                                        }
                                        ,function(e) {
                                            return t.dispatchEvent(e)
                                        }
                                        ),
                                        f.Nb = (e = e,
                                        (e = new Ml((n = f).zc,n.T() || 0 < e)).addEventListener("enter", function(e) {
                                            od(n, "timelineregionenter", e.region)
                                        }),
                                        e.addEventListener("exit", function(e) {
                                            od(n, "timelineregionexit", e.region)
                                        }),
                                        e.addEventListener("skip", function(e) {
                                            var t = e.region;
                                            e.seeking || (od(n, "timelineregionenter", t),
                                            od(n, "timelineregionexit", t))
                                        }),
                                        (i = new mu(n.h)).g.add(e),
                                        n.yc && i.g.add(n.yc),
                                        i),
                                        Pc(f, v, Math.max(f.i.minBufferTime, f.g.streaming.rebufferingGoal))
                                    }
                                    ,
                                    f.g.streaming.startAtSegmentBoundary || (null == (I = f.ha) && f.i.startTime && (I = f.i.startTime),
                                    x(I)),
                                    T) {
                                        e.A(7);
                                        break
                                    }
                                    if (f.g.streaming.startAtSegmentBoundary)
                                        return I = f.i.presentationTimeline,
                                        M = f.ha || f.h.currentTime,
                                        null == f.ha && f.i.startTime && (M = f.i.startTime),
                                        k = I.dc(),
                                        C = I.Wb(),
                                        M < k ? M = k : C < M && (M = C),
                                        We(e, (t = y,
                                        n = M,
                                        $e(function(e) {
                                            return 1 == e.g ? (o = t.audio,
                                            i = t.video,
                                            We(e, (a = function(t, n) {
                                                var i;
                                                return $e(function(e) {
                                                    return 1 == e.g ? t ? We(e, t.createSegmentIndex(), 2) : e.return(null) : (i = (i = t.segmentIndex.cc(n)) ? i.next().value : null) ? (i = i.startTime,
                                                    e.return(i)) : e.return(null)
                                                })
                                            }
                                            )(o, n), 2)) : 3 != e.g ? (r = e.h,
                                            We(e, a(i, n), 3)) : null != (o = e.h) && null != r ? e.return(Math.max(o, r)) : null != o ? e.return(o) : null != r ? e.return(r) : e.return(n)
                                        })), 9);
                                    e.A(8);
                                    break;
                                case 9:
                                    k = e.h,
                                    x(k);
                                case 8:
                                    Jc(f, y, !0, !1, 0);
                                case 7:
                                    return f.H.ready(),
                                    f.ec().find(function(e) {
                                        return e.active
                                    }) || ((C = Ha(f.i.textStreams, f.Lb, f.fe, f.ce)[0] || null) && wu(f.B.h, C, !0),
                                    y && (C ? (function(e, t, n) {
                                        if (0 == e.g.autoShowText)
                                            return;
                                        if (1 == e.g.autoShowText)
                                            return 1;
                                        var i = en(e.g.preferredTextLanguage);
                                        return n = en(n.language),
                                        2 == e.g.autoShowText ? Qt(n, i) : 3 != e.g.autoShowText ? (Q("Invalid autoShowText setting!"),
                                        !1) : !!t && (e = en(t.language),
                                        Qt(n, i) && !Qt(e, n))
                                    }(f, y.audio, C) && (f.ma = !0),
                                    f.ma && f.C.setTextVisibility(!0),
                                    td(f)) : f.ma = !1),
                                    C && (f.g.streaming.alwaysStreamText || f.Rc()) && (zu(f.j, C),
                                    id(f))),
                                    We(e, f.j.start(m), 10);
                                case 10:
                                    f.g.abr.enabled && (f.s.enable(),
                                    nd(f)),
                                    $c(f),
                                    Yc(f),
                                    f.i.variants.some(function(e) {
                                        return e.primary
                                    }),
                                    ((M = f.T()) && (f.g.streaming.liveSync && f.g.streaming.liveSync.enabled || f.i.serviceDescription || f.g.streaming.liveSync.panicMode) || f.g.streaming.vodDynamicPlaybackRate) && (L = function() {
                                        return Xc(f)
                                    }
                                    ,
                                    f.l.o(v, "timeupdate", L)),
                                    M || (L = function() {
                                        return Wc(f)
                                    }
                                    ,
                                    f.l.o(v, "timeupdate", L),
                                    Wc(f),
                                    f.i.nextUrl && (0 < f.g.streaming.preloadNextUrlWindow && (R = function() {
                                        var t;
                                        return $e(function(e) {
                                            if (1 == e.g)
                                                return t = f.h.duration - f.h.currentTime,
                                                !isNaN(t) && t <= f.g.streaming.preloadNextUrlWindow ? (f.l.Ma(v, "timeupdate", R),
                                                We(e, f.preload(f.i.nextUrl), 4)) : e.A(0);
                                            f.ra = e.h,
                                            Ye(e)
                                        })
                                    }
                                    ,
                                    f.l.o(v, "timeupdate", R)),
                                    f.l.o(v, "ended", function() {
                                        f.load(f.ra || f.i.nextUrl)
                                    }))),
                                    f.u && f.u.onManifestUpdated(M),
                                    f.Ga = !0,
                                    Ye(e)
                                }
                                var t, n, i, a, r, o, s, u, l, c, d, h
                            })), 0);
                            var f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C, M, L, R
                        })
                    }, "loadInner_"), 20);
                case 20:
                    u = h;
                    if (u.K)
                        for (var i = Ze(u.K), a = i.next(); !a.done; a = i.next())
                            (a = a.value)();
                    u.K = null,
                    _.Oa && mt() && da(_.Oa) && (r = _.K,
                    o = _.V,
                    s = _.Oa,
                    r.g && U.ManagedMediaSource && r.l && (r.C && r.g.removeChild(r.C),
                    r.C = Vo(o, s),
                    r.g.appendChild(r.C),
                    r.g.disableRemotePlayback = !1)),
                    e.A(14);
                    break;
                case 21:
                    return We(e, v(function() {
                        return $e(function(e) {
                            return We(e, (u = _,
                            t = P,
                            n = p,
                            $e(function(e) {
                                switch (e.g) {
                                case 1:
                                    if (wc(u, "src-equals"),
                                    l = u.h,
                                    u.H = new au(l),
                                    c = !1,
                                    u.be.push(function() {
                                        c = !0
                                    }),
                                    null != u.ha && u.H.Gf(u.ha),
                                    u.L = new pu({
                                        Ge: function() {
                                            return l.playbackRate
                                        },
                                        Kc: function() {
                                            return l.defaultPlaybackRate
                                        },
                                        bh: function(e) {
                                            l.playbackRate = e
                                        },
                                        bi: function(e) {
                                            l.currentTime += e
                                        }
                                    }),
                                    o = u.g.streaming.rebufferingGoal,
                                    Pc(u, l, o),
                                    l.textTracks && (kc(u),
                                    i = function() {
                                        var e = Uc(u).find(function(e) {
                                            return "disabled" !== e.mode
                                        });
                                        e && (e.mode = "showing")
                                    }
                                    ,
                                    a = function() {
                                        var e = Uc(u).find(function(e) {
                                            return "disabled" !== e.mode
                                        });
                                        e && (e.mode = "hidden")
                                    }
                                    ,
                                    u.l.o(l, "enterpictureinpicture", i),
                                    u.l.o(l, "leavepictureinpicture", a),
                                    l.remote ? (u.l.o(l.remote, "connect", a),
                                    u.l.o(l.remote, "connecting", a),
                                    u.l.o(l.remote, "disconnect", a)) : "webkitCurrentPlaybackTargetIsWireless"in l && u.l.o(l, "webkitcurrentplaybacktargetiswirelesschanged", a),
                                    (r = l).webkitSupportsFullscreen && u.l.o(r, "webkitpresentationmodechanged", function() {
                                        ("inline" != r.webkitPresentationMode ? i : a)()
                                    })),
                                    Mc(u, l, t),
                                    !(o = function(e, t, n) {
                                        try {
                                            if (!e.g.enabled)
                                                return t;
                                            var i = Yl(e);
                                            e: {
                                                switch (n.toLowerCase()) {
                                                case "audio/mp4":
                                                case "audio/webm":
                                                case "audio/ogg":
                                                case "audio/mpeg":
                                                case "audio/aac":
                                                case "audio/flac":
                                                case "audio/wav":
                                                    var a = ec;
                                                    break e;
                                                case "video/webm":
                                                case "video/mp4":
                                                case "video/mpeg":
                                                case "video/mp2t":
                                                    a = nc;
                                                    break e;
                                                case "application/x-mpegurl":
                                                case "application/vnd.apple.mpegurl":
                                                case "application/dash+xml":
                                                case "video/vnd.mpeg.dash.mpd":
                                                case "application/vnd.ms-sstr+xml":
                                                    a = Zl;
                                                    break e
                                                }
                                                a = void 0
                                            }
                                            return i.ot = a,
                                            i.su = !0,
                                            $l(t, Ql(i))
                                        } catch (e) {
                                            return q("CMCD_SRC_ERROR", "Could not generate src CMCD data.", e),
                                            t
                                        }
                                    }(u.P, u.V, n)).includes("#t=") && (0 < u.g.playRangeStart || isFinite(u.g.playRangeEnd)) && (o += "#t=",
                                    0 < u.g.playRangeStart && (o += u.g.playRangeStart),
                                    isFinite(u.g.playRangeEnd) && (o += "," + u.g.playRangeEnd)),
                                    u.K)
                                        return We(e, u.K.destroy(), 3);
                                    e.A(2);
                                    break;
                                case 3:
                                    u.K = null;
                                case 2:
                                    return Ho(l),
                                    l.src = o,
                                    (Oe() || je()) && l.load(),
                                    "none" != l.preload && !l.autoplay && da(n) && mt() && l.load(),
                                    u.m = md,
                                    u.dispatchEvent(bc("streaming")),
                                    s = new fr,
                                    qs(l, HTMLMediaElement.HAVE_METADATA, u.l, function() {
                                        u.H.ready(),
                                        s.resolve()
                                    }),
                                    qs(l, HTMLMediaElement.HAVE_CURRENT_DATA, u.l, function() {
                                        var i, a, r, o, s;
                                        return $e(function(e) {
                                            if (1 == e.g)
                                                return "" != (t = (n = u).g.preferredAudioLanguage) && n.Ug(t, n.g.preferredVariantRole),
                                                (i = Uc(u)).find(function(e) {
                                                    return "disabled" != e.mode
                                                }) ? (0 < i.length && (u.ma = !0,
                                                u.C.setTextVisibility(!0)),
                                                e.A(2)) : We(e, new Promise(function(e) {
                                                    u.l.oa(l.textTracks, "change", e),
                                                    new C(e).Y(1)
                                                }
                                                ), 2);
                                            var t, n;
                                            if (c)
                                                return e.return();
                                            for (a = !1,
                                            r = Ze(i),
                                            o = r.next(); !o.done; o = r.next())
                                                "disabled" !== (s = o.value).mode && (a ? (s.mode = "disabled",
                                                Q("Found more than one enabled text track, disabling it", s)) : (Oc(u, s),
                                                a = !0));
                                            "" != (n = (t = u).g.preferredTextLanguage) && t.Vg(n, t.g.preferredTextRole, t.g.preferForcedSubs),
                                            Ye(e)
                                        })
                                    }),
                                    l.error ? s.reject(ud(u)) : "none" == l.preload && (Q('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),
                                    s.resolve()),
                                    u.l.oa(l, "error", function() {
                                        s.reject(ud(u))
                                    }),
                                    We(e, Ea(u.g.streaming.loadTimeout, s), 4);
                                case 4:
                                    ((d = u.T()) && (u.g.streaming.liveSync && u.g.streaming.liveSync.enabled || u.g.streaming.liveSync.panicMode) || u.g.streaming.vodDynamicPlaybackRate) && (h = function() {
                                        return Xc(u)
                                    }
                                    ,
                                    u.l.o(l, "timeupdate", h)),
                                    d || (h = function() {
                                        return Wc(u)
                                    }
                                    ,
                                    u.l.o(l, "timeupdate", h),
                                    Wc(u)),
                                    u.u && (u.u.onManifestUpdated(d),
                                    d && (f = u.Ia().end,
                                    u.l.o(l, "progress", function() {
                                        var e = u.Ia().end;
                                        f != e && (u.u.onManifestUpdated(u.T()),
                                        f = e)
                                    }))),
                                    u.Ga = !0,
                                    Ye(e)
                                }
                            })), 0);
                            var u, t, n, l, c, i, a, r, o, s, d, h, f
                        })
                    }, "srcEqualsInner_"), 14);
                case 14:
                    _.dispatchEvent(bc("loaded"));
                case 6:
                    if (dt(e),
                    h)
                        return We(e, h.destroy(), 23);
                    e.A(23);
                    break;
                case 23:
                    _.ra = null,
                    ht(e, 0);
                    break;
                case 5:
                    if ((w = Qe(e)) && 7e3 != w.code)
                        return We(e, _.pc(!1), 25);
                    e.A(25);
                    break;
                case 25:
                    throw w
                }
                var r, o, s, u, l
            })
        }
        ,
        t.Qk = function(t, n) {
            t = void 0 === t || t,
            n = void 0 !== n && n;
            var i, a = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, Ec(a), 2) : 3 != e.g ? (i = e.h,
                We(e, a.pc(t, n), 3)) : e.return(i)
            })
        }
        ,
        t.Gh = function(t, n) {
            t = void 0 !== t && t,
            n = void 0 !== n && n;
            var i, a = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, Ec(a, n), 2) : 3 != e.g ? (i = e.h,
                We(e, a.detach(t), 3)) : e.return(i)
            })
        }
        ,
        t.preload = function(t, n, i) {
            n = void 0 === n ? null : n;
            var a, r = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, Ac(r, t, n, i), 2) : ((a = e.h) ? a.start() : rd(r, new nt(2,7,7005)),
                e.return(a))
            })
        }
        ,
        t.Vf = function() {
            var t, n, i, a, r = this;
            return $e(function(e) {
                for (t = [],
                n = Ze(r.je),
                i = n.next(); !i.done; i = n.next())
                    (a = i.value).u || t.push(a.destroy());
                return r.je = [],
                We(e, Promise.all(t), 0)
            })
        }
        ,
        t.vk = function() {
            for (var e = this.W; e.g; )
                e.release()
        }
        ,
        t.ed = function(e) {
            return new Qr(e)
        }
        ,
        t.configure = function(e, t) {
            var n, i, a;
            return (e = 2 == arguments.length && "string" == typeof e ? dl(e, t) : e).streaming && "forceTransmuxTS"in e.streaming && (wn("streaming.forceTransmuxTS configuration", "Please Use mediaSource.forceTransmux instead."),
            e.mediaSource.mediaSource = e.streaming.forceTransmuxTS,
            delete e.streaming.forceTransmuxTS),
            e.streaming && "forceTransmux"in e.streaming && (wn("streaming.forceTransmux configuration", "Please Use mediaSource.forceTransmux instead."),
            e.mediaSource.mediaSource = e.streaming.forceTransmux,
            delete e.streaming.forceTransmux),
            e.streaming && "useNativeHlsOnSafari"in e.streaming && (wn("streaming.useNativeHlsOnSafari configuration", "Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),
            e.streaming.preferNativeHls = e.streaming.useNativeHlsOnSafari && Ge(),
            delete e.streaming.useNativeHlsOnSafari),
            e.streaming && "boolean" == typeof e.streaming.liveSync && (wn("streaming.liveSync", "Please Use streaming.liveSync.enabled instead."),
            n = e.streaming.liveSync,
            e.streaming.liveSync = {},
            e.streaming.liveSync.enabled = n),
            !e.streaming || e.streaming.liveSync && "targetLatency"in e.streaming.liveSync || !("liveSyncMinLatency"in e.streaming || "liveSyncMaxLatency"in e.streaming) || (n = e.streaming.liveSyncMinLatency || 0,
            i = Math.abs((e.streaming.liveSyncMaxLatency || 1) - n) / 2,
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.targetLatency = n + i,
            e.streaming.liveSync.targetLatencyTolerance = i),
            e.streaming && "liveSyncMaxLatency"in e.streaming && (wn("streaming.liveSyncMaxLatency", "Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),
            delete e.streaming.liveSyncMaxLatency),
            e.streaming && "liveSyncMinLatency"in e.streaming && (wn("streaming.liveSyncMinLatency", "Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),
            delete e.streaming.liveSyncMinLatency),
            e.streaming && "liveSyncTargetLatency"in e.streaming && (wn("streaming.liveSyncTargetLatency", "Please Use streaming.liveSync.targetLatency instead."),
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.targetLatency = e.streaming.liveSyncTargetLatency,
            delete e.streaming.liveSyncTargetLatency),
            e.streaming && "liveSyncTargetLatencyTolerance"in e.streaming && (wn("streaming.liveSyncTargetLatencyTolerance", "Please Use streaming.liveSync.targetLatencyTolerance instead."),
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.targetLatencyTolerance = e.streaming.liveSyncTargetLatencyTolerance,
            delete e.streaming.liveSyncTargetLatencyTolerance),
            e.streaming && "liveSyncPlaybackRate"in e.streaming && (wn("streaming.liveSyncPlaybackRate", "Please Use streaming.liveSync.maxPlaybackRate instead."),
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.maxPlaybackRate = e.streaming.liveSyncPlaybackRate,
            delete e.streaming.liveSyncPlaybackRate),
            e.streaming && "liveSyncMinPlaybackRate"in e.streaming && (wn("streaming.liveSyncMinPlaybackRate", "Please Use streaming.liveSync.minPlaybackRate instead."),
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.minPlaybackRate = e.streaming.liveSyncMinPlaybackRate,
            delete e.streaming.liveSyncMinPlaybackRate),
            e.streaming && "liveSyncPanicMode"in e.streaming && (wn("streaming.liveSyncPanicMode", "Please Use streaming.liveSync.panicMode instead."),
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.panicMode = e.streaming.liveSyncPanicMode,
            delete e.streaming.liveSyncPanicMode),
            e.streaming && "liveSyncPanicThreshold"in e.streaming && (wn("streaming.liveSyncPanicThreshold", "Please Use streaming.liveSync.panicThreshold instead."),
            e.streaming.liveSync = e.streaming.liveSync || {},
            e.streaming.liveSync.panicThreshold = e.streaming.liveSyncPanicThreshold,
            delete e.streaming.liveSyncPanicThreshold),
            e.mediaSource && "sourceBufferExtraFeatures"in e.mediaSource && (wn("mediaSource.sourceBufferExtraFeatures configuration", "Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead."),
            a = e.mediaSource.sourceBufferExtraFeatures,
            e.mediaSource.addExtraFeaturesToSourceBuffer = function() {
                return a
            }
            ,
            delete e.mediaSource.sourceBufferExtraFeatures),
            e.manifest && e.manifest.hls && "useSafariBehaviorForLive"in e.manifest.hls && (wn("manifest.hls.useSafariBehaviorForLive configuration", "Please Use liveSync config to keep on live Edge instead."),
            delete e.manifest.hls.useSafariBehaviorForLive),
            e.streaming && "parsePrftBox"in e.streaming && (wn("streaming.parsePrftBox configuration", "Now fired without needing a configuration."),
            delete e.streaming.parsePrftBox),
            e.manifest && e.manifest.dash && "enableAudioGroups"in e.manifest.dash && (wn("manifest.dash.enableAudioGroups configuration", "It is now enabled by default and cannot be disabled."),
            delete e.manifest.dash.enableAudioGroups),
            e.streaming && "dispatchAllEmsgBoxes"in e.streaming && (wn("streaming.dispatchAllEmsgBoxes configuration", "Please Use mediaSource.dispatchAllEmsgBoxes instead."),
            e.mediaSource.dispatchAllEmsgBoxes = e.streaming.dispatchAllEmsgBoxes,
            delete e.streaming.dispatchAllEmsgBoxes),
            e.streaming && e.streaming.lowLatencyMode && (null == e.streaming.inaccurateManifestTolerance && (e.streaming.inaccurateManifestTolerance = 0),
            null == e.streaming.rebufferingGoal && (e.streaming.rebufferingGoal = .01),
            null == e.streaming.segmentPrefetchLimit && (e.streaming.segmentPrefetchLimit = 2),
            null == e.streaming.updateIntervalSeconds && (e.streaming.updateIntervalSeconds = .1),
            null == e.streaming.maxDisabledTime && (e.streaming.maxDisabledTime = 1),
            null == e.streaming.retryParameters && (e.streaming.retryParameters = {}),
            null == e.streaming.retryParameters.baseDelay && (e.streaming.retryParameters.baseDelay = 100),
            null == e.manifest && (e.manifest = {}),
            null == e.manifest.dash && (e.manifest.dash = {}),
            null == e.manifest.dash.autoCorrectDrift && (e.manifest.dash.autoCorrectDrift = !1),
            null == e.manifest.retryParameters && (e.manifest.retryParameters = {}),
            null == e.manifest.retryParameters.baseDelay && (e.manifest.retryParameters.baseDelay = 100),
            null == e.drm && (e.drm = {}),
            null == e.drm.retryParameters && (e.drm.retryParameters = {}),
            null == e.drm.retryParameters.baseDelay && (e.drm.retryParameters.baseDelay = 100)),
            n = Tl(this.g, e, Hc(this)),
            Nc(this),
            n
        }
        ,
        t.getConfiguration = function() {
            var e = Hc(this);
            return Tl(e, this.g, Hc(this)),
            e
        }
        ,
        t.Oh = function() {
            return Tl(Hc(this), this.g, Hc(this)),
            hl(this.g, Hc(this))
        }
        ,
        t.Kh = function() {
            if (this.h) {
                var e = (e = this.h.buffered.length) ? this.h.buffered.end(e - 1) : 0
                  , t = this.getConfiguration().streaming.bufferingGoal;
                if ((t = Math.min(this.h.currentTime + t, this.Ia().end)) <= e)
                    return 1;
                if (!(e <= this.h.currentTime) && e < t)
                    return (e - this.h.currentTime) / (t - this.h.currentTime)
            }
            return 0
        }
        ,
        t.zk = function() {
            for (var e in this.g)
                delete this.g[e];
            Tl(this.g, Hc(this), Hc(this)),
            Nc(this)
        }
        ,
        t.md = function() {
            return this.m
        }
        ,
        t.Fe = function() {
            return this.i ? this.i.type : null
        }
        ,
        t.yj = function() {
            return this.h
        }
        ,
        t.Hb = function() {
            return this.I
        }
        ,
        t.ld = function() {
            return this.V
        }
        ,
        t.Ce = function() {
            return this.u || null
        }
        ,
        t.T = function() {
            return this.i && !this.bb() ? this.i.presentationTimeline.T() : !(!this.h || !this.h.src) && 1 / 0 == this.h.duration
        }
        ,
        t.Qc = function() {
            return !!this.i && this.i.presentationTimeline.Qc()
        }
        ,
        t.Pc = function() {
            var e;
            return this.i && !this.bb() ? !!(e = this.i.variants).length && !e[0].video : !(!this.h || !this.h.src) && (this.h.videoTracks ? 0 == this.h.videoTracks.length : 0 == this.h.videoHeight)
        }
        ,
        t.Ia = function() {
            if (!this.i || this.bb())
                return this.h && this.h.src && (e = this.h.seekable).length ? {
                    start: e.start(0),
                    end: e.end(e.length - 1)
                } : {
                    start: 0,
                    end: 0
                };
            if (!this.Ga && "HLS" == this.i.type)
                return {
                    start: 0,
                    end: 0
                };
            var e = this.i.presentationTimeline;
            return {
                start: e.dc(),
                end: e.Wb()
            }
        }
        ,
        t.Oj = function() {
            this.T() && (this.h.currentTime = this.Ia().end)
        }
        ,
        t.Uh = function() {
            return this.Ga
        }
        ,
        t.keySystem = function() {
            var e = this.drmInfo();
            return e ? e.keySystem : ""
        }
        ,
        t.drmInfo = function() {
            return this.G ? this.G.g : null
        }
        ,
        t.Md = function() {
            return this.G ? this.G.Md() : 1 / 0
        }
        ,
        t.lg = function() {
            return this.G ? this.G.lg() : []
        }
        ,
        t.Ee = function() {
            return this.G ? this.G.Ee() : {}
        }
        ,
        t.Me = function() {
            return !!this.O && this.O.g == ur
        }
        ,
        t.Wa = function() {
            return this.h ? this.L ? this.L.i : 1 : 0
        }
        ,
        t.Ec = function(i, e) {
            var a = this;
            e = void 0 === e || e,
            0 == i ? Q("A trick play rate of 0 is unsupported!") : (this.Ja.cb(),
            this.h.paused && this.h.play(),
            this.L.set(i),
            this.m == gd && (this.s.playbackRateChanged(i),
            Hu(this.j, e && 1 < Math.abs(i))),
            this.T() && this.Ja.o(this.h, "timeupdate", function() {
                var e = a.h.currentTime
                  , t = a.Ia()
                  , n = a.g.streaming.safeSeekOffset;
                0 < i ? Math.floor(e) >= Math.floor(t.end) && a.cd() : Math.floor(e) <= Math.floor(t.start + n) && a.cd()
            }))
        }
        ,
        t.cd = function() {
            var e = this.L.Kc();
            this.m == md && this.L.set(e),
            this.m == gd && (this.L.set(e),
            this.s.playbackRateChanged(e),
            Hu(this.j, !1)),
            this.Ja.cb()
        }
        ,
        t.Kb = function() {
            if (!this.i || this.bb())
                return this.h && this.h.audioTracks ? Array.from(this.h.audioTracks).map(Fa) : [];
            for (var e, t = this.j ? this.j.j : null, n = [], i = 0, a = Ze(this.i.variants), r = a.next(); !r.done; r = a.next())
                Ga(r = r.value) && ((e = Na(r)).active = r == t,
                e.active || 1 == i || null == t || r.video != t.video || r.audio != t.audio || (e.active = !0),
                e.active && i++,
                n.push(e));
            return n
        }
        ,
        t.ec = function() {
            if (!this.i || this.bb())
                return this.h && this.h.src && this.h.textTracks ? Uc(this).map(ja) : [];
            for (var e = this.j ? this.j.u : null, t = [], n = Ze(this.i.textStreams), i = n.next(); !i.done; i = n.next()) {
                var a = _a(i = i.value);
                a.active = i == e,
                t.push(a)
            }
            return t
        }
        ,
        t.De = function() {
            var e = this.ge;
            return (e = this.i ? this.i.imageStreams : e).map(Oa)
        }
        ,
        t.cj = function(a) {
            var r, o, t, s = this;
            return $e(function(e) {
                return 1 == e.g ? s.m != gd && s.m != md ? e.return(null) : (t = s.ge,
                s.i && (t = s.i.imageStreams),
                (r = t.find(function(e) {
                    return e.id == a
                })) ? r.segmentIndex ? e.A(2) : We(e, r.createSegmentIndex(), 2) : e.return(null)) : 4 != e.g ? (o = [],
                r.segmentIndex.Ub(function(e) {
                    if (t = _c(e.tilesLayout || r.tilesLayout))
                        for (var t = t.rows * t.Hc, n = e.j - e.startTime, i = 0; i < t; i++)
                            o.push(s.qg(a, e.startTime + n * i / t))
                }),
                We(e, Promise.all(o), 4)) : (t = e.h,
                e.return(t.filter(function(e) {
                    return e
                })))
            })
        }
        ,
        t.qg = function(t, n) {
            var i, a, r, o, s, u, l, c, d, h, f, p, g = this;
            return $e(function(e) {
                return 1 == e.g ? g.m != gd && g.m != md ? e.return(null) : (i = g.ge,
                g.i && (i = g.i.imageStreams),
                (i = i.find(function(e) {
                    return e.id == t
                })) ? i.segmentIndex ? e.A(2) : We(e, i.createSegmentIndex(), 2) : e.return(null)) : null == (a = i.segmentIndex.find(n)) ? e.return(null) : (a = i.segmentIndex.get(a),
                (p = _c(a.tilesLayout || i.tilesLayout)) ? (r = i.width || 0,
                o = i.height || 0,
                s = r / p.Hc,
                u = o / p.rows,
                f = p.Hc * p.rows,
                l = a.j - a.startTime,
                l = a.B || l / f,
                c = a.startTime,
                h = d = 0,
                1 < f && (f = Math.floor((n - a.startTime) / l),
                c = a.startTime + f * l,
                d = f % p.Hc * s,
                h = Math.floor(f / p.Hc) * u),
                f = !1,
                (p = a.thumbnailSprite) && (f = !0,
                u = p.height,
                d = p.positionX,
                h = p.positionY,
                s = p.width),
                e.return({
                    segment: a,
                    imageHeight: o,
                    imageWidth: r,
                    height: u,
                    positionX: d,
                    positionY: h,
                    startTime: c,
                    duration: l,
                    uris: a.R(),
                    width: s,
                    sprite: f
                })) : e.return(null))
            })
        }
        ,
        t.Wg = function(t) {
            var e, n, i = this;
            this.i && this.H && ((e = i.i.textStreams.find(function(e) {
                return e.id == t.id
            })) && e != i.j.u && (wu(i.B.h, e, !1),
            zu(i.j, e),
            ed(i),
            id(i),
            i.Lb = e.language),
            !this.bb()) || i.h && i.h.textTracks && (n = (e = Uc(i)).find(function(e) {
                return "disabled" !== e.mode
            }),
            (e = e.find(function(e) {
                return Ua(e) === t.id
            })) && (n !== e && (n && (n.mode = "disabled",
            i.l.Ma(n, "cuechange"),
            i.C.remove(0, 1 / 0)),
            e && Oc(i, e)),
            ed(i),
            id(i)))
        }
        ,
        t.hf = function(t, e, n) {
            var i, a, r = this;
            if ((e = void 0 !== e && e,
            n = void 0 === n ? 0 : n,
            !this.i || !this.H || ((a = r.i.variants.find(function(e) {
                return e.id == t.id
            })) && Ga(a) && (i = r.j.j,
            r.g.abr.enabled && (i.video != a.video || i.audio && a.audio && i.audio.language == a.audio.language && i.audio.channelsCount == a.audio.channelsCount) && Q("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack()."),
            r.bb() ? Jc(r, a, !1, !1, 0) : Jc(r, a, !1, e || !1, n || 0),
            r.Ca = new ar(a,r.g.mediaSource.codecSwitchingStrategy),
            Yc(r)),
            this.bb())) && (r.h && r.h.audioTracks))
                for (var o = Array.from(r.h.audioTracks), s = (o = Ze(o)).next(); !s.done; s = o.next())
                    if (Ua(s = s.value) == t.id) {
                        Qc(r, s);
                        break
                    }
        }
        ,
        t.ej = function() {
            return hd(this.Kb())
        }
        ,
        t.Fj = function() {
            return hd(this.ec())
        }
        ,
        t.dj = function() {
            return Array.from(dd(this.Kb()))
        }
        ,
        t.Ej = function() {
            return Array.from(dd(this.ec()))
        }
        ,
        t.Ug = function(r, o, s, u, l) {
            var e, c = this;
            s = void 0 === s ? 0 : s,
            u = void 0 === u ? 0 : u,
            l = void 0 === l ? "" : l,
            this.i && this.H && (function() {
                function e(e, t) {
                    return e.video || t.video ? e.video && t.video ? Math.abs((e.video.height || 0) - (t.video.height || 0)) + Math.abs((e.video.width || 0) - (t.video.width || 0)) : 1 / 0 : 0
                }
                c.Ca = new rr(r,o || "",s || 0,"",!1,"","","",c.g.mediaSource.codecSwitchingStrategy,l || "");
                for (var t = c.j.j, n = c.Ca.create(c.i.variants), i = null, a = (n = Ze(n.values())).next(); !a.done; a = n.next())
                    Ga(a = a.value) && (!i || e(i, t) > e(a, t)) && (i = a);
                i != t && (i ? (t = Na(i),
                c.hf(t, !0, u || 0)) : qc(c))
            }(),
            !this.bb()) || c.h && c.h.audioTracks && ((e = Ha(c.Kb(), r, o || "", !1)[0]) && c.hf(e))
        }
        ,
        t.Vg = function(e, t, n) {
            var i, a = this;
            n = void 0 !== n && n,
            this.i && this.H && (a.Lb = e,
            a.fe = t || "",
            a.ce = n || !1,
            (i = Ha(a.i.textStreams, a.Lb, a.fe, a.ce)[0] || null) && i != a.j.u && (wu(a.B.h, i, !1),
            a.g.streaming.alwaysStreamText || a.Rc()) && (zu(a.j, i),
            ed(a),
            id(a)),
            !this.bb()) || (i = Ha(a.ec(), e, t || "", n || !1)[0]) && a.Wg(i)
        }
        ,
        t.Gk = function(i, a, r) {
            var o = this;
            if (a = void 0 === a || a,
            r = void 0 === r ? 0 : r,
            (!this.i || !this.H || (function() {
                for (var e = null, t = Ze(o.i.variants), n = t.next(); !n.done; n = t.next())
                    if ((n = n.value).audio.label == i) {
                        e = n;
                        break
                    }
                null != e && (o.Ca = new rr(e.language,"",0,"",!1,"",i,"",o.g.mediaSource.codecSwitchingStrategy,""),
                qc(o, a, r))
            }(),
            this.bb())) && o.h && o.h.audioTracks) {
                for (var e = Array.from(o.h.audioTracks), t = null, n = (e = Ze(e)).next(); !n.done; n = e.next())
                    (n = n.value).label == i && (t = n);
                t && Qc(o, t)
            }
        }
        ,
        t.Rc = function() {
            var e = this.ma;
            return this.C ? this.C.isTextVisible() : e
        }
        ,
        t.Lh = function() {
            return this.h && this.h.currentSrc && this.h.textTracks ? jc(this).map(ja) : []
        }
        ,
        t.mg = function(e) {
            if (!this.h || !this.h.currentSrc || !this.h.textTracks)
                return [];
            var t = en(e)
              , n = jc(this).filter(function(e) {
                return en(e.language) == t
            });
            if (!n || !n.length)
                return [];
            e = [];
            for (var i = new Set, a = (n = Ze(n)).next(); !a.done; a = n.next())
                if ((a = a.value) && a.cues)
                    for (var r = (a = Ze(a.cues)).next(); !r.done; r = a.next()) {
                        var o = {
                            id: r = (r = (o = r.value).id) && "" != r ? r : o.startTime + "-" + o.endTime + "-" + o.text,
                            title: o.text,
                            startTime: o.startTime,
                            endTime: o.endTime
                        };
                        i.has(r) || (e.push(o),
                        i.add(r))
                    }
            return e
        }
        ,
        t.kf = function(e) {
            var t, n;
            this.ma != (e = !!e) && (this.ma = e,
            this.m == gd ? (this.C.setTextVisibility(e),
            this.g.streaming.alwaysStreamText || (e ? this.j.u || 0 < (e = Ha(this.i.textStreams, this.Lb, this.fe, this.ce)).length && (zu(this.j, e[0]),
            ed(this),
            id(this)) : (t = this.j,
            (n = t.i.get(it)) && (rl(n),
            ol(n).catch(function() {}),
            t.G = t.i.get(it),
            t.i.delete(it)),
            t.u = null))) : this.h && this.h.src && this.h.textTracks && this.C.setTextVisibility(e),
            td(this))
        }
        ,
        t.zj = function() {
            if (this.H)
                var e = this.H.qe();
            else {
                if (null == this.ha)
                    return new Date;
                e = this.ha
            }
            var t;
            return this.i && !this.bb() ? (t = this.i.presentationTimeline,
            new Date(1e3 * ((t.m || t.i) + e))) : this.h && this.h.getStartDate ? (t = this.h.getStartDate(),
            isNaN(t.getTime()) ? null : new Date(t.getTime() + 1e3 * e)) : null
        }
        ,
        t.Ph = function() {
            var e;
            return this.i && !this.bb() ? (e = this.i.presentationTimeline,
            new Date(1e3 * (e.m || e.i))) : this.h && this.h.getStartDate ? (e = this.h.getStartDate(),
            isNaN(e.getTime()) ? null : e) : null
        }
        ,
        t.He = function() {
            return this.T() && this.i ? this.i.presentationTimeline.He() : null
        }
        ,
        t.Vb = function() {
            if (this.m == gd)
                return this.K.Vb();
            var e = {
                total: [],
                audio: [],
                video: [],
                text: []
            };
            return this.m == md && (e.total = Fo(this.h.buffered)),
            e
        }
        ,
        t.getStats = function() {
            if (this.m != gd && this.m != md)
                return {
                    width: NaN,
                    height: NaN,
                    streamBandwidth: NaN,
                    decodedFrames: NaN,
                    droppedFrames: NaN,
                    corruptedFrames: NaN,
                    stallsDetected: NaN,
                    gapsJumped: NaN,
                    estimatedBandwidth: NaN,
                    completionPercent: NaN,
                    loadLatency: NaN,
                    manifestTimeSeconds: NaN,
                    drmTimeSeconds: NaN,
                    playTime: NaN,
                    pauseTime: NaN,
                    bufferingTime: NaN,
                    licenseTime: NaN,
                    liveLatency: NaN,
                    maxSegmentDuration: NaN,
                    manifestSizeBytes: NaN,
                    bytesDownloaded: NaN,
                    nonFatalErrorCount: NaN,
                    manifestPeriodCount: NaN,
                    manifestGapCount: NaN,
                    switchHistory: [],
                    stateHistory: []
                };
            zc(this);
            var e, t, n = (a = this.h).currentTime / a.duration, i = (isNaN(n) || this.T() || (t = this.B,
            n = Math.round(100 * n),
            t.i = isNaN(t.i) ? n : Math.max(t.i, n)),
            this.H && (this.B.S = this.H.oh(),
            this.B.V = this.H.ph()),
            a.getVideoPlaybackQuality && (t = a.getVideoPlaybackQuality(),
            n = this.B,
            e = Number(t.totalVideoFrames),
            n.P = Number(t.droppedVideoFrames),
            n.O = e,
            this.B.M = Number(t.corruptedVideoFrames)),
            t = this.G ? (t = this.G).J || NaN : NaN,
            this.B.s = t,
            this.m == gd && (t = this.j.j,
            n = this.j.u,
            t && (r = (e = this.L ? this.L.i : 1) * t.bandwidth,
            n && n.bandwidth && (r += e * n.bandwidth),
            this.B.B = r),
            t && t.video && (n = this.B,
            e = t.video.height || NaN,
            n.m = t.video.width || NaN,
            n.l = e),
            this.T() && (t = this.Ph().valueOf() + 1e3 * a.currentTime,
            this.B.C = (Date.now() - t) / 1e3),
            this.i && (this.B.I = this.i.periodCount,
            this.B.H = this.i.gapCount,
            this.i.presentationTimeline && (this.B.K = this.i.presentationTimeline.h)),
            t = this.s.getBandwidthEstimate(),
            this.B.u = t),
            this.m == md && ((t = this.B).Gc = isNaN(t.Gc) ? NaN : t.Gc + NaN,
            t = this.B,
            n = a.videoHeight || NaN,
            t.m = a.videoWidth || NaN,
            t.l = n),
            this.B), a = i.m;
            t = i.l,
            n = i.B,
            e = i.O;
            for (var r = i.P, o = i.M, s = i.V, u = i.S, l = i.u, c = i.i, d = i.G, h = i.J, f = i.j, p = bu(i.g, "playing"), g = bu(i.g, "paused"), m = bu(i.g, "buffering"), v = i.s, y = i.C, b = i.K, T = i.Xh, w = i.Gc, S = i.L, E = i.I, A = i.H, x = function(e) {
                function t(e) {
                    return {
                        timestamp: e.timestamp,
                        state: e.state,
                        duration: e.duration
                    }
                }
                for (var n = [], i = Ze(e.h), a = i.next(); !a.done; a = i.next())
                    n.push(t(a.value));
                return e.g && n.push(t(e.g)),
                n
            }(i.g), I = [], k = (i = Ze(i.h.g)).next(); !k.done; k = i.next())
                k = k.value,
                I.push({
                    timestamp: k.timestamp,
                    id: k.id,
                    type: k.type,
                    fromAdaptation: k.fromAdaptation,
                    bandwidth: k.bandwidth
                });
            return {
                width: a,
                height: t,
                streamBandwidth: n,
                decodedFrames: e,
                droppedFrames: r,
                corruptedFrames: o,
                stallsDetected: s,
                gapsJumped: u,
                estimatedBandwidth: l,
                completionPercent: c,
                loadLatency: d,
                manifestTimeSeconds: h,
                drmTimeSeconds: f,
                playTime: p,
                pauseTime: g,
                bufferingTime: m,
                licenseTime: v,
                liveLatency: y,
                maxSegmentDuration: b,
                manifestSizeBytes: T,
                bytesDownloaded: w,
                nonFatalErrorCount: S,
                manifestPeriodCount: E,
                manifestGapCount: A,
                stateHistory: x,
                switchHistory: I
            }
        }
        ,
        t.Ti = function(t, n, i, a, r, o, s) {
            s = void 0 !== s && s;
            var u, l, c, d, h, f, p, g = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (g.m != gd && g.m != md)
                        throw new nt(1,7,7004);
                    if ("subtitles" != i && "captions" != i && Q("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),
                    a) {
                        e.A(2);
                        break
                    }
                    return We(e, Fc(g, t), 3);
                case 3:
                    a = e.h;
                case 2:
                    if (u = [],
                    g.u && (u = g.u.getCuePoints()),
                    g.m == md)
                        return We(e, Bc(g, t, n, i = s ? "forced" : i, a, o || "", u), 5);
                    e.A(4);
                    break;
                case 5:
                    if (l = en(n),
                    h = g.ec(),
                    h = h.find(function(e) {
                        return en(e.language) == l && e.label == (o || "") && e.kind == i
                    }))
                        return $c(g),
                        e.return(h);
                    throw new nt(1,2,2012);
                case 4:
                    if (c = Wt,
                    d = g.h.duration,
                    1 / 0 == (d = g.i ? g.i.presentationTimeline.getDuration() : d))
                        throw new nt(1,4,4033);
                    if (u.length)
                        return We(e, Gc(g, t, g.I, g.g.streaming.retryParameters), 7);
                    e.A(6);
                    break;
                case 7:
                    h = e.h,
                    f = Vc(g, h, a, u),
                    f = new Blob([f],{
                        type: "text/vtt"
                    }),
                    t = Vs(f),
                    a = "text/vtt";
                case 6:
                    if (f = {
                        id: g.Df++,
                        originalId: null,
                        groupId: null,
                        createSegmentIndex: function() {
                            return Promise.resolve()
                        },
                        segmentIndex: du(0, d, [t]),
                        mimeType: a || "",
                        codecs: r || "",
                        kind: i,
                        encrypted: !1,
                        drmInfos: [],
                        keyIds: new Set,
                        language: n,
                        originalLanguage: n,
                        label: o || null,
                        type: c.Na,
                        primary: !1,
                        trickModeVideo: null,
                        emsgSchemeIdUris: null,
                        roles: [],
                        forced: !!s,
                        channelsCount: null,
                        audioSamplingRate: null,
                        spatialAudio: !1,
                        closedCaptions: null,
                        accessibilityPurpose: null,
                        external: !0,
                        fastSwitching: !1,
                        fullMimeTypes: new Set([ia(a || "", r || "")]),
                        isAudioMuxedInVideo: !1
                    },
                    p = ia(f.mimeType, f.codecs),
                    ma(p))
                        return g.i.textStreams.push(f),
                        $c(g),
                        e.return(_a(f));
                    throw new nt(2,2,2014,a)
                }
            })
        }
        ,
        t.Ui = function(t, n) {
            var i, a, r, o, s, u, l, c, d, h, f, p = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (p.m != gd && p.m != md)
                        throw new nt(1,7,7004);
                    if (n) {
                        e.A(2);
                        break
                    }
                    return We(e, Fc(p, t), 3);
                case 3:
                    n = e.h;
                case 2:
                    if ("text/vtt" != n)
                        throw new nt(1,2,2017,t);
                    if (i = Wt,
                    a = p.h.duration,
                    1 / 0 == (a = p.i ? p.i.presentationTimeline.getDuration() : a))
                        throw new nt(1,4,4045);
                    return We(e, Gc(p, t, p.I, p.g.streaming.retryParameters), 4);
                case 4:
                    if (h = e.h,
                    !(r = ba[n]))
                        throw new nt(2,2,2014,n);
                    for (r = r(),
                    f = {
                        periodStart: 0,
                        segmentStart: 0,
                        segmentEnd: a,
                        vttOffset: 0
                    },
                    h = tt(h),
                    r = r.parseMedia(h, f, t, []),
                    o = [],
                    s = Ze(r),
                    u = s.next(),
                    l = {}; !u.done; l = {
                        vf: void 0,
                        fd: void 0
                    },
                    u = s.next())
                        l.fd = u.value,
                        l.vf = null,
                        c = function(e) {
                            return function() {
                                return null == e.vf && (e.vf = Gt([t], [e.fd.payload])),
                                e.vf || []
                            }
                        }(l),
                        c = new at(l.fd.startTime,l.fd.endTime,c,0,null,null,0,0,1 / 0),
                        l.fd.payload.includes("#xywh") && (4 === (d = l.fd.payload.split("#xywh=")[1].split(",")).length && c.lf({
                            height: parseInt(d[3], 10),
                            positionX: parseInt(d[0], 10),
                            positionY: parseInt(d[1], 10),
                            width: parseInt(d[2], 10)
                        })),
                        o.push(c);
                    if (h = n,
                    o.length)
                        return We(e, Nl(o[0].R()[0], p.I, p.g.manifest.retryParameters), 6);
                    e.A(5);
                    break;
                case 6:
                    h = e.h;
                case 5:
                    return f = {
                        id: p.Df++,
                        originalId: null,
                        groupId: null,
                        createSegmentIndex: function() {
                            return Promise.resolve()
                        },
                        segmentIndex: new lu(o),
                        mimeType: h || "",
                        codecs: "",
                        kind: "",
                        encrypted: !1,
                        drmInfos: [],
                        keyIds: new Set,
                        language: "und",
                        originalLanguage: null,
                        label: null,
                        type: i.Ef,
                        primary: !1,
                        trickModeVideo: null,
                        emsgSchemeIdUris: null,
                        roles: [],
                        forced: !1,
                        channelsCount: null,
                        audioSamplingRate: null,
                        spatialAudio: !1,
                        closedCaptions: null,
                        tilesLayout: "1x1",
                        accessibilityPurpose: null,
                        external: !0,
                        fastSwitching: !1,
                        fullMimeTypes: new Set([ia(h || "", "")]),
                        isAudioMuxedInVideo: !1
                    },
                    (p.m == md ? p.ge : p.i.imageStreams).push(f),
                    $c(p),
                    e.return(Oa(f))
                }
            })
        }
        ,
        t.Si = function(t, n, i) {
            var a, r, o, s = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (s.m != gd && s.m != md)
                        throw new nt(1,7,7004);
                    if (i) {
                        e.A(2);
                        break
                    }
                    return We(e, Fc(s, t), 3);
                case 3:
                    i = e.h;
                case 2:
                    return r = [],
                    s.u && (r = s.u.getCuePoints()),
                    We(e, Bc(s, t, n, "chapters", i, "", r), 4);
                case 4:
                    if (a = e.h,
                    r = s.Lh(),
                    o = r.find(function(e) {
                        return e.language == n
                    }))
                        return We(e, new Promise(function(e, t) {
                            s.l.oa(a, "load", e),
                            s.l.oa(a, "error", function() {
                                t(new nt(1,2,2015))
                            })
                        }
                        ), 6);
                    e.A(5);
                    break;
                case 6:
                    return $c(s),
                    e.return(o);
                case 5:
                    throw new nt(1,2,2012)
                }
            })
        }
        ,
        t.Mk = function(e, t) {
            this.ea.width = e,
            this.ea.height = t
        }
        ,
        t.Sg = function(e) {
            if (this.m == gd) {
                var t = this.j;
                if (e = void 0 === e ? .1 : e,
                t.m.g)
                    t = !1;
                else if (t.B)
                    t = !1;
                else {
                    for (var n = Ze(t.i.values()), i = n.next(); !i.done; i = n.next())
                        !(i = i.value).Qd || i.Za || i.wb || (i.Qd = !1,
                        al(t, i, e));
                    t = !0
                }
            } else
                t = !1;
            return t
        }
        ,
        t.og = function() {
            return Q("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),
            this.i
        }
        ,
        t.vj = function() {
            return this.Ta
        }
        ,
        t.oj = function() {
            var e = {
                video: null,
                audio: null,
                text: null
            };
            if (this.m != gd)
                return e;
            for (var t, n = this.j.j, i = this.h.currentTime, a = (n = Ze([n.video, n.audio, this.j.u])).next(); !a.done; a = n.next())
                (a = a.value) && a.segmentIndex && (t = a.segmentIndex.find(i),
                t = {
                    codecs: (t = a.segmentIndex.get(t)).codecs || a.codecs,
                    mimeType: t.mimeType || a.mimeType,
                    bandwidth: t.bandwidth || a.bandwidth
                },
                "video" == a.type ? (t.width = a.width,
                t.height = a.height,
                e.video = t) : "audio" == a.type ? e.audio = t : a.type == it && (e.text = t));
            return e
        }
        ,
        t.eh = function(e) {
            this.zf = e
        }
        ,
        t.disableStream = function(n, e) {
            if (!this.g.abr.enabled || this.m === fd || !navigator.onLine || 0 == e || !this.i)
                return !1;
            if (this.i.variants.some(function(e) {
                var t = e[n.type];
                return !(!t || t.id === n.id || e.disabledUntilTime) && ("audio" != n.type || n.language === t.language)
            })) {
                for (var t = !1, i = !1, a = Ze(this.i.variants), r = a.next(); !r.done; r = a.next()) {
                    var o = (r = r.value)[n.type];
                    o && (o.id === n.id ? (r.disabledUntilTime = Date.now() / 1e3 + e,
                    t = !0) : o.trickModeVideo && o.trickModeVideo.id == n.id && (i = !0))
                }
                return !t && i ? !1 : (this.Bf.Aa(1),
                e = this.Vb().video.reduce(function(e, t) {
                    return e + t.end - t.start
                }, 0),
                qc(this, !1, e, !0, !1),
                !0)
            }
            return !1
        }
        ,
        t.addFont = function(t, n) {
            var i, a, r, o;
            return $e(function(e) {
                if (1 == e.g)
                    return "fonts"in document && "FontFace"in U ? We(e, document.fonts.ready, 3) : e.A(0);
                if (!("entries"in document.fonts))
                    return e.return();
                for (i = Ze(function(e) {
                    for (var t = [], n = (e = e.entries()).next(); !1 === n.done; )
                        t.push(n.value),
                        n = e.next();
                    return t
                }(document.fonts)),
                a = i.next(); !a.done; a = i.next())
                    if ((r = a.value).family == t && "swap" == r.display)
                        return e.return();
                o = new FontFace(t,"url(" + n + ")",{
                    display: "swap"
                }),
                document.fonts.add(o),
                Ye(e)
            })
        }
        ,
        t.bb = function() {
            return !(!this.h || !this.h.remote) && "disconnected" != this.h.remote.state
        }
        ,
        i("shaka.Player", g),
        g.prototype.isRemotePlayback = g.prototype.bb,
        g.prototype.setVideoContainer = g.prototype.eh,
        g.prototype.getFetchedPlaybackInfo = g.prototype.oj,
        g.prototype.getManifestParserFactory = g.prototype.vj,
        g.prototype.getManifest = g.prototype.og,
        g.prototype.retryStreaming = g.prototype.Sg,
        g.prototype.setMaxHardwareResolution = g.prototype.Mk,
        g.prototype.addChaptersTrack = g.prototype.Si,
        g.prototype.addThumbnailsTrack = g.prototype.Ui,
        g.prototype.addTextTrackAsync = g.prototype.Ti,
        g.prototype.getBufferedInfo = g.prototype.Vb,
        g.prototype.getSegmentAvailabilityDuration = g.prototype.He,
        g.prototype.getPresentationStartTimeAsDate = g.prototype.Ph,
        g.prototype.getPlayheadTimeAsDate = g.prototype.zj,
        g.prototype.setTextTrackVisibility = g.prototype.kf,
        g.prototype.getChapters = g.prototype.mg,
        g.prototype.getChaptersTracks = g.prototype.Lh,
        g.prototype.isTextTrackVisible = g.prototype.Rc,
        g.prototype.selectVariantsByLabel = g.prototype.Gk,
        g.prototype.selectTextLanguage = g.prototype.Vg,
        g.prototype.selectAudioLanguage = g.prototype.Ug,
        g.prototype.getTextLanguages = g.prototype.Ej,
        g.prototype.getAudioLanguages = g.prototype.dj,
        g.prototype.getTextLanguagesAndRoles = g.prototype.Fj,
        g.prototype.getAudioLanguagesAndRoles = g.prototype.ej,
        g.prototype.selectVariantTrack = g.prototype.hf,
        g.prototype.selectTextTrack = g.prototype.Wg,
        g.prototype.getThumbnails = g.prototype.qg,
        g.prototype.getAllThumbnails = g.prototype.cj,
        g.prototype.getImageTracks = g.prototype.De,
        g.prototype.getTextTracks = g.prototype.ec,
        g.prototype.getVariantTracks = g.prototype.Kb,
        g.prototype.cancelTrickPlay = g.prototype.cd,
        g.prototype.trickPlay = g.prototype.Ec,
        g.prototype.getPlaybackRate = g.prototype.Wa,
        g.prototype.isBuffering = g.prototype.Me,
        g.prototype.getKeyStatuses = g.prototype.Ee,
        g.prototype.getActiveSessionsMetadata = g.prototype.lg,
        g.prototype.getExpiration = g.prototype.Md,
        g.prototype.isFullyLoaded = g.prototype.Uh,
        g.prototype.goToLive = g.prototype.Oj,
        g.prototype.seekRange = g.prototype.Ia,
        g.prototype.isAudioOnly = g.prototype.Pc,
        g.prototype.isInProgress = g.prototype.Qc,
        g.prototype.isLive = g.prototype.T,
        g.prototype.getAdManager = g.prototype.Ce,
        g.prototype.getAssetUri = g.prototype.ld,
        g.prototype.getNetworkingEngine = g.prototype.Hb,
        g.prototype.getMediaElement = g.prototype.yj,
        g.prototype.getManifestType = g.prototype.Fe,
        g.prototype.getLoadMode = g.prototype.md,
        g.prototype.resetConfiguration = g.prototype.zk,
        g.prototype.getBufferFullness = g.prototype.Kh,
        g.prototype.getNonDefaultConfiguration = g.prototype.Oh,
        g.prototype.releaseAllMutexes = g.prototype.vk,
        g.prototype.destroyAllPreloads = g.prototype.Vf,
        g.prototype.detachAndSavePreload = g.prototype.Gh,
        g.prototype.unloadAndSavePreload = g.prototype.Qk,
        g.prototype.updateStartTime = g.prototype.Uk,
        g.prototype.unload = g.prototype.pc,
        g.prototype.attachCanvas = g.prototype.sh,
        g.prototype.attach = g.prototype.$b,
        g.probeSupport = function(R) {
            var P, D, N, _, O, U, j;
            return R = void 0 === R || R,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (P = {},
                    R)
                        return We(e, $e(function(e) {
                            if (1 != e.g)
                                return e.return(_r(c));
                            for (r = "org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps".split(" "),
                            o = {
                                "com.widevine.alpha": l = ["SW_SECURE_CRYPTO", "SW_SECURE_DECODE", "HW_SECURE_CRYPTO", "HW_SECURE_DECODE", "HW_SECURE_ALL"],
                                "com.widevine.alpha.experiment": l,
                                "com.microsoft.playready.recommendation": ["150", "2000", "3000"]
                            },
                            f = {
                                videoCapabilities: s = [{
                                    contentType: 'video/mp4; codecs="avc1.42E01E"'
                                }, {
                                    contentType: 'video/webm; codecs="vp8"'
                                }],
                                audioCapabilities: u = [{
                                    contentType: 'audio/mp4; codecs="mp4a.40.2"'
                                }, {
                                    contentType: 'audio/webm; codecs="opus"'
                                }],
                                initDataTypes: ["cenc", "sinf", "skd", "keyids"]
                            },
                            l = [null, "cenc", "cbcs", "cbcs-1-9"],
                            c = new Map,
                            p = function(t, n) {
                                var i, a, r, o;
                                return $e(function(e) {
                                    switch (e.g) {
                                    case 1:
                                        return qe(e, 2),
                                        We(e, n.createMediaKeys(), 4);
                                    case 4:
                                        Je(e, 3);
                                        break;
                                    case 2:
                                        return Qe(e),
                                        e.return();
                                    case 3:
                                        a = !!(a = n.getConfiguration().sessionTypes) && a.includes("persistent-license"),
                                        Ue() && (a = !1),
                                        o = n.getConfiguration().videoCapabilities,
                                        i = n.getConfiguration().audioCapabilities,
                                        a = {
                                            persistentState: a,
                                            encryptionSchemes: [],
                                            videoRobustnessLevels: [],
                                            audioRobustnessLevels: []
                                        },
                                        c.has(t) && c.get(t) ? a = c.get(t) : c.set(t, a),
                                        (r = o[0].encryptionScheme) && !a.encryptionSchemes.includes(r) && a.encryptionSchemes.push(r),
                                        (r = o[0].robustness) && !a.videoRobustnessLevels.includes(r) && a.videoRobustnessLevels.push(r),
                                        (o = i[0].robustness) && !a.audioRobustnessLevels.includes(o) && a.audioRobustnessLevels.push(o),
                                        Ye(e)
                                    }
                                })
                            }
                            ,
                            d = function(t, n, i, a) {
                                var r, o, s, u, l, c, d, h;
                                return $e(function(e) {
                                    switch (e.g) {
                                    case 1:
                                        for (qe(e, 2),
                                        h = zn(f),
                                        r = Ze(h.videoCapabilities),
                                        o = r.next(); !o.done; o = r.next())
                                            (s = o.value).encryptionScheme = n,
                                            s.robustness = i;
                                        for (u = Ze(h.audioCapabilities),
                                        l = u.next(); !l.done; l = u.next())
                                            (c = l.value).encryptionScheme = n,
                                            c.robustness = a;
                                        return (d = zn(h)).persistentState = "required",
                                        d.sessionTypes = ["persistent-license"],
                                        d = [d, h],
                                        We(e, Ea(1, navigator.requestMediaKeySystemAccess(t, d)), 4);
                                    case 4:
                                        return h = e.h,
                                        We(e, p(t, h), 5);
                                    case 5:
                                        Je(e, 0);
                                        break;
                                    case 2:
                                        Qe(e),
                                        Ye(e)
                                    }
                                })
                            }
                            ,
                            h = function(t, n, i, a) {
                                var r, o;
                                return $e(function(e) {
                                    switch (e.g) {
                                    case 1:
                                        return qe(e, 2),
                                        r = {
                                            type: "media-source",
                                            video: {
                                                contentType: s[0].contentType,
                                                width: 640,
                                                height: 480,
                                                bitrate: 1,
                                                framerate: 1
                                            },
                                            audio: {
                                                contentType: u[0].contentType,
                                                channels: 2,
                                                bitrate: 1,
                                                samplerate: 1
                                            },
                                            keySystemConfiguration: {
                                                keySystem: t,
                                                video: {
                                                    encryptionScheme: n,
                                                    robustness: i
                                                },
                                                audio: {
                                                    encryptionScheme: n,
                                                    robustness: a
                                                }
                                            }
                                        },
                                        We(e, Ea(1, navigator.mediaCapabilities.decodingInfo(r)), 4);
                                    case 4:
                                        return r = e.h,
                                        o = r.keySystemAccess,
                                        We(e, p(t, o), 5);
                                    case 5:
                                        Je(e, 0);
                                        break;
                                    case 2:
                                        Qe(e),
                                        Ye(e)
                                    }
                                })
                            }
                            ,
                            g = Ze(r),
                            m = g.next(); !m.done; m = g.next())
                                v = m.value,
                                c.set(v, null);
                            for (y = [],
                            b = Ze(l),
                            T = b.next(); !T.done; T = b.next())
                                for (w = T.value,
                                S = Ze(r),
                                E = S.next(); !E.done; E = S.next())
                                    "org.w3.clearkey" === (A = E.value) && mt() || (y.push(d(A, w, "", "")),
                                    y.push(h(A, w, "", "")));
                            for (x = Ze(r),
                            I = x.next(); !I.done; I = x.next())
                                for (k = I.value,
                                C = Ze(o[k] || []),
                                M = C.next(); !M.done; M = C.next())
                                    L = M.value,
                                    y.push(d(k, null, L, "")),
                                    y.push(d(k, null, "", L)),
                                    y.push(h(k, null, L, "")),
                                    y.push(h(k, null, "", L));
                            return We(e, Promise.all(y), 2)
                        }), 3);
                    e.A(2);
                    break;
                case 3:
                    P = e.h;
                case 2:
                    var t = {};
                    if (Pe())
                        for (var n in ko)
                            t[n] = !0;
                    for (var i = (n = Ze(["application/dash+xml", "application/x-mpegurl", "application/vnd.apple.mpegurl", "application/vnd.ms-sstr+xml"])).next(); !i.done; i = n.next())
                        t[i = i.value] = Pe() ? !!ko[i] : De(i);
                    for (D = t,
                    t = {},
                    i = (n = Ze(n = 'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(et(pa)))).next(); !i.done; i = n.next()) {
                        t[i = i.value] = !!ma(i) || (Pe() ? vn(i) || !!Ji(i) : De(i));
                        var a = i.split(";")[0];
                        t[a] = t[a] || t[i]
                    }
                    return N = t,
                    We(e, St(), 4);
                case 4:
                    for (j in _ = e.h,
                    O = {
                        manifest: D,
                        media: N,
                        drm: P,
                        hardwareResolution: _
                    },
                    U = yd)
                        O[j] = U[j]();
                    return e.return(O)
                }
                var r, o, s, u, f, l, c, p, d, h, g, m, v, y, b, T, w, S, E, A, x, I, k, C, M, L
            })
        }
        ,
        g.isBrowserSupported = Tc,
        g.setAdManagerFactory = function(e) {
            bd = e
        }
        ,
        g.registerSupportPlugin = function(e, t) {
            yd[e] = t
        }
        ;
        var fd = 0
          , pd = 1
          , gd = 2
          , md = 3
          , vd = (g.LoadMode = {
            DESTROYED: fd,
            NOT_LOADED: pd,
            MEDIA_SOURCE: gd,
            SRC_EQUALS: md
        },
        g.version = "v4.12.5",
        ["4", "12"])
          , An = new function(e) {
            this.g = e,
            this.i = Sn,
            this.h = En
        }
        (new Tn(Number(vd[0]),Number(vd[1])))
          , yd = {}
          , bd = null;
        function Td() {
            this.g = [],
            this.i = this.l = this.j = this.h = 0
        }
        function wd(e, t, n) {
            var i = this;
            this.g = e,
            this.h = t,
            this.j = n,
            this.i = !1,
            this.l = this.h.getVolume(),
            this.m = new pn,
            this.m.o(this.h, google.ima.AdEvent.Type.PAUSED, function() {
                i.i = !0
            }),
            this.m.o(this.h, google.ima.AdEvent.Type.RESUMED, function() {
                i.i = !1
            })
        }
        function Sd() {}
        function Ed(e, t) {
            for (var n = [], i = null != t ? t : 0, a = (e = Ze($n(e, "Ad"))).next(); !a.done; a = e.next())
                if ((a = ni(a.value, "InLine")) && (a = ni(a, "Creatives")))
                    for (var r = (a = Ze($n(a, "Creative"))).next(); !r.done; r = a.next())
                        if ((o = ni(r.value, "Linear")) && (r = null,
                        o.attributes.skipoffset && (r = Hn(o.attributes.skipoffset),
                        isNaN(r) && (r = null)),
                        o = ni(o, "MediaFiles"))) {
                            var o = s = $n(o, "MediaFile");
                            for (s = (o = Ze(o = (o = (s = s.filter(function(e) {
                                return "streaming" == e.attributes.delivery
                            })).length ? s : o).sort(function(e, t) {
                                return (parseInt(t.attributes.height, 10) || 0) - (parseInt(e.attributes.height, 10) || 0)
                            }))).next(); !s.done; s = o.next()) {
                                var s, u = Zn(s = s.value);
                                if (u) {
                                    n.push({
                                        id: null,
                                        startTime: i,
                                        endTime: null,
                                        uri: u,
                                        mimeType: s.attributes.type || null,
                                        isSkippable: null != r,
                                        skipOffset: r,
                                        skipFor: null,
                                        canJump: !1,
                                        resumeOffset: 0,
                                        playoutLimit: null,
                                        once: !0,
                                        pre: null == t,
                                        post: 1 / 0 == t,
                                        timelineRange: !1
                                    });
                                    break
                                }
                            }
                        }
            return n
        }
        function Ad(e, t, n, i, a) {
            var u = this;
            this.u = e,
            this.i = t,
            this.H = !1,
            this.B = this.s = null,
            this.I = NaN,
            this.l = a,
            this.j = null,
            this.h = new pn,
            google.ima.settings.setLocale(n),
            google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),
            this.G = new google.ima.AdDisplayContainer(this.u,this.i),
            this.G.initialize(),
            this.m = new google.ima.AdsLoader(this.G),
            this.m.getSettings().setPlayerType("shaka-player"),
            this.m.getSettings().setPlayerVersion("v4.12.5"),
            this.g = null,
            this.C = i || new google.ima.AdsRenderingSettings,
            this.h.o(this.m, google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function(e) {
                var t, n = u, i = e, a = (n.l(new Xe("ads-loaded",(new Map).set("loadTime", Date.now() / 1e3 - n.I))),
                n.s.customPlayheadTracker ? (t = {
                    currentTime: n.i.currentTime
                },
                n.g = i.getAdsManager(t, n.C),
                n.i.muted ? n.g.setVolume(0) : n.g.setVolume(n.i.volume),
                n.h.o(n.i, "timeupdate", function() {
                    n.i.duration && (t.currentTime = n.i.currentTime)
                }),
                n.h.o(n.i, "volumechange", function() {
                    n.j && (n.j.setVolume(n.i.volume),
                    n.i.muted && n.j.setMuted(!0))
                })) : n.g = i.getAdsManager(n.i, n.C),
                n.l(new Xe("ima-ad-manager-loaded",(new Map).set("imaAdManager", n.g))),
                n.g.getCuePoints());
                if (a.length) {
                    i = [];
                    for (var r = (a = Ze(a)).next(); !r.done; r = a.next())
                        i.push({
                            start: r.value,
                            end: null
                        });
                    n.l(new Xe("ad-cue-points-changed",(new Map).set("cuepoints", i)))
                }
                var o = n;
                function s(e, t) {
                    e = (new Map).set("originalEvent", e),
                    o.l(new Xe(t,e))
                }
                o.h.o(o.g, google.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                    xd(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, function(e) {
                    kd(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.STARTED, function(e) {
                    kd(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.FIRST_QUARTILE, function(e) {
                    s(e, "ad-first-quartile")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.MIDPOINT, function(e) {
                    s(e, "ad-midpoint")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.THIRD_QUARTILE, function(e) {
                    s(e, "ad-third-quartile")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.COMPLETE, function(e) {
                    s(e, "ad-complete")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, function(e) {
                    Cd(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, function(e) {
                    Cd(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.SKIPPED, function(e) {
                    s(e, "ad-skipped")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.VOLUME_CHANGED, function(e) {
                    s(e, "ad-volume-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.VOLUME_MUTED, function(e) {
                    s(e, "ad-muted")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.PAUSED, function(e) {
                    o.j && (o.j.i = !0,
                    s(e, "ad-paused"))
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.RESUMED, function(e) {
                    o.j && (o.j.i = !1,
                    s(e, "ad-resumed"))
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED, function(e) {
                    o.j && s(e, "ad-skip-state-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.CLICK, function(e) {
                    s(e, "ad-clicked")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_PROGRESS, function(e) {
                    s(e, "ad-progress")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_BUFFERING, function(e) {
                    s(e, "ad-buffering")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.IMPRESSION, function(e) {
                    s(e, "ad-impression")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.DURATION_CHANGE, function(e) {
                    s(e, "ad-duration-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.USER_CLOSE, function(e) {
                    s(e, "ad-closed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.LOADED, function(e) {
                    s(e, "ad-loaded")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, function(e) {
                    s(e, "all-ads-completed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.LINEAR_CHANGED, function(e) {
                    s(e, "ad-linear-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_METADATA, function(e) {
                    s(e, "ad-metadata")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.LOG, function(e) {
                    s(e, "ad-recoverable-error")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_BREAK_READY, function(e) {
                    s(e, "ad-break-ready")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.INTERACTION, function(e) {
                    s(e, "ad-interaction")
                });
                try {
                    n.g.init(n.i.offsetWidth, n.i.offsetHeight, Id(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL),
                    n.h.o(n.i, "loadeddata", function() {
                        n.g.resize(n.i.offsetWidth, n.i.offsetHeight, Id(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
                    }),
                    "ResizeObserver"in U ? (n.B = new ResizeObserver(function() {
                        n.g.resize(n.i.offsetWidth, n.i.offsetHeight, Id(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
                    }
                    ),
                    n.B.observe(n.i)) : n.h.o(document, "fullscreenchange", function() {
                        n.g.resize(n.i.offsetWidth, n.i.offsetHeight, Id(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
                    }),
                    n.H || n.s.skipPlayDetection ? n.g.start() : n.h.oa(n.i, "play", function() {
                        n.H = !0,
                        n.g.start()
                    })
                } catch (e) {
                    Cd(n, null)
                }
            }),
            this.h.o(this.m, google.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                xd(u, e)
            }),
            this.h.o(this.i, "ended", function() {
                u.m.contentComplete()
            }),
            this.h.oa(this.i, "play", function() {
                u.H = !0
            })
        }
        function xd(e, t) {
            t.getError(),
            t = (new Map).set("originalEvent", t),
            e.l(new Xe("ad-error",t)),
            Cd(e, null),
            e.l(new Xe("ad-cue-points-changed",(new Map).set("cuepoints", [])))
        }
        function Id(e) {
            return document.fullscreenEnabled ? document.fullscreenElement : (e = e.i).webkitSupportsFullscreen && e.webkitDisplayingFullscreen
        }
        function kd(e, t) {
            var n = t.getAd();
            n ? (e.j = new wd(n,e.g,e.i),
            t.type != google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED || e.s.supportsMultipleMediaElements || e.l(new Xe("ad-content-pause-requested")),
            t = (new Map).set("ad", e.j).set("sdkAdObject", n).set("originalEvent", t),
            e.l(new Xe("ad-started",t)),
            e.j.isLinear() && (e.u.setAttribute("ad-active", "true"),
            e.s.customPlayheadTracker || e.i.pause(),
            e.i.muted ? ((t = e.j).l = e.i.volume,
            t.h.setVolume(0)) : e.j.setVolume(e.i.volume))) : Q("The IMA SDK fired a " + t.type + " event with no associated ad. Unable to play ad!")
        }
        function Cd(e, t) {
            t && t.type == google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED && !e.s.supportsMultipleMediaElements && e.l(new Xe("ad-content-resume-requested")),
            e.l(new Xe("ad-stopped",(new Map).set("originalEvent", t))),
            e.j && e.j.isLinear() && (e.u.removeAttribute("ad-active"),
            e.s.customPlayheadTracker || e.i.ended || e.i.play())
        }
        function Md(e, t, n, i, a, r, o, s) {
            this.g = e,
            this.i = (this.h = t) ? n || 0 : n,
            this.j = i,
            this.s = a,
            this.u = r,
            this.l = o,
            this.m = s
        }
        function Ld(e, t, n, i) {
            function a() {
                var e;
                u.J || !u.l || u.C.bb() || (u.l = u.h.currentTime,
                u.m && !u.m.pre && !u.m.post && u.l < u.m.startTime && (u.m = null),
                (e = Nd(u)) && _d(u, e, 1, 1, Date.now()))
            }
            var r, o, u = this;
            this.O = null,
            this.I = e,
            this.C = t,
            this.h = n,
            this.H = null,
            this.u = !0,
            this.s = this.h,
            this.i = i,
            this.K = new Set,
            this.G = new Set,
            this.B = new Map,
            this.g = new g,
            Ud(this),
            this.L = new pn,
            this.j = new pn,
            this.J = !1,
            this.m = this.l = null,
            this.L.o(this.h, "timeupdate", function() {
                var e;
                u.J || u.l || u.C.bb() || (u.l = u.h.currentTime,
                (e = Nd(u, !0)) && _d(u, e, 1, 1, Date.now()))
            }),
            this.L.o(this.h, "ended", function() {
                a()
            }),
            this.M = new C(a),
            "requestVideoFrameCallback"in this.h && !bt() ? (r = this.h,
            o = function() {
                a(),
                r.requestVideoFrameCallback(o)
            }
            ,
            r.requestVideoFrameCallback(o)) : this.M.Aa(.025),
            this.P = new C(function() {
                var t, n, i, a, r, o, s;
                return $e(function(e) {
                    switch (e.g) {
                    case 1:
                        if (!u.G.size || null == u.l) {
                            e.A(0);
                            break
                        }
                        if ((t = u.C.md()) == fd || t == pd)
                            return e.return();
                        t = !1,
                        i = Array.from(u.G),
                        n = u.C.Ia(),
                        i = Ze(i),
                        a = i.next();
                    case 3:
                        if (a.done) {
                            e.A(5);
                            break
                        }
                        if ((r = a.value) == u.m) {
                            e.A(4);
                            break
                        }
                        if (o = r.endTime || r.startTime,
                        !(1 <= n.start - o)) {
                            0 < (o = r.startTime - u.l) && o <= 10 && (u.B.has(r) || u.B.set(r, u.g.preload(r.uri, null, r.mimeType || void 0))),
                            e.A(4);
                            break
                        }
                        if (u.B.has(r))
                            return We(e, u.B.get(r), 8);
                        e.A(7);
                        break;
                    case 8:
                        (o = e.h) && o.destroy(),
                        u.B.delete(r);
                    case 7:
                        s = JSON.stringify(r),
                        u.K.has(s) && u.K.delete(s),
                        u.G.delete(r),
                        t = !0;
                    case 4:
                        a = i.next(),
                        e.A(3);
                        break;
                    case 5:
                        t && Od(u),
                        Ye(e)
                    }
                })
            }
            ).Aa(1)
        }
        function Rd(e) {
            var t, n;
            e.I && e.O && !e.J && (t = e.O.supportsMultipleMediaElements,
            (n = e.h).webkitSupportsFullscreen && n.webkitDisplayingFullscreen && (t = !1),
            e.u == t && (e.u = !t,
            e.u ? (e.s = e.h,
            e.H && (e.H.parentElement && e.I.removeChild(e.H),
            e.H = null)) : (e.H || ((t = document.createElement(e.h.tagName)).autoplay = !0,
            t.style.position = "absolute",
            t.style.top = "0",
            t.style.left = "0",
            t.style.width = "100%",
            t.style.height = "100%",
            t.style.backgroundColor = "rgb(0, 0, 0)",
            t.setAttribute("playsinline", ""),
            e.H = t),
            e.s = e.H)))
        }
        function Pd(C, M) {
            var L;
            $e(function(e) {
                if (1 == e.g)
                    return Ud(C),
                    We(e, (t = C,
                    n = M,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (i = [],
                            !n)
                                return e.return(i);
                            if (w = n.values.find(function(e) {
                                return "X-ASSET-URI" == e.key
                            }),
                            S = n.values.find(function(e) {
                                return "X-ASSET-LIST" == e.key
                            }),
                            !w && !S)
                                return e.return(i);
                            if (a = null,
                            (A = n.values.find(function(e) {
                                return "ID" == e.key
                            })) && (a = A.data),
                            r = null == a ? Math.floor(10 * n.startTime) / 10 : n.startTime,
                            (o = n.endTime) && 1 / 0 != n.endTime && "number" == typeof n.endTime && (o = null == a ? Math.floor(10 * n.endTime) / 10 : n.endTime),
                            A = n.values.find(function(e) {
                                return "X-RESTRICT" == e.key
                            }),
                            u = s = !0,
                            A && A.data && (A = A.data,
                            s = !A.includes("SKIP"),
                            u = !A.includes("JUMP")),
                            l = s ? 0 : null,
                            (A = n.values.find(function(e) {
                                return "X-ENABLE-SKIP-AFTER" == e.key
                            })) && (A = A.data,
                            l = parseFloat(A),
                            isNaN(l) && (l = s ? 0 : null)),
                            c = null,
                            (A = n.values.find(function(e) {
                                return "X-ENABLE-SKIP-FOR" == e.key
                            })) && (A = A.data,
                            c = parseFloat(A),
                            isNaN(l) && (c = null)),
                            d = null,
                            (A = n.values.find(function(e) {
                                return "X-RESUME-OFFSET" == e.key
                            })) && (f = A.data,
                            d = parseFloat(f),
                            isNaN(d) && (d = null)),
                            h = null,
                            (f = n.values.find(function(e) {
                                return "X-PLAYOUT-LIMIT" == e.key
                            })) && (v = f.data,
                            h = parseFloat(v),
                            isNaN(h) && (h = null)),
                            m = g = p = !1,
                            (v = n.values.find(function(e) {
                                return "CUE" == e.key
                            })) && (b = v.data,
                            p = b.includes("ONCE"),
                            g = b.includes("PRE"),
                            m = b.includes("POST")),
                            y = !1,
                            (b = n.values.find(function(e) {
                                return "X-TIMELINE-OCCUPIES" == e.key
                            })) ? (T = b.data,
                            y = T.includes("RANGE")) : !A && t.C.T() && (y = !g && !m),
                            w) {
                                if (!(T = w.data))
                                    return e.return(i);
                                i.push({
                                    id: a,
                                    startTime: r,
                                    endTime: o,
                                    uri: T,
                                    mimeType: null,
                                    isSkippable: s,
                                    skipOffset: l,
                                    skipFor: c,
                                    canJump: u,
                                    resumeOffset: d,
                                    playoutLimit: h,
                                    once: p,
                                    pre: g,
                                    post: m,
                                    timelineRange: y
                                }),
                                e.A(2);
                                break
                            }
                            if (S)
                                return (A = S.data) ? (qe(e, 4),
                                We(e, jd(t, A, {
                                    type: 11
                                }), 6)) : e.return(i);
                            e.A(2);
                            break;
                        case 6:
                            for (w = e.h,
                            S = It(w),
                            E = JSON.parse(S),
                            (A = E["SKIP-CONTROL"]) && ("number" == typeof (x = A["ENABLE-SKIP-AFTER"]) && (l = parseFloat(x),
                            isNaN(x) && (l = s ? 0 : null)),
                            "number" == typeof (x = A["ENABLE-SKIP-FOR"]) && (c = parseFloat(x),
                            isNaN(x) && (c = null))),
                            I = 0; I < E.ASSETS.length; I++)
                                (k = E.ASSETS[I]).URI && i.push({
                                    id: a + "_asset_" + I,
                                    startTime: r,
                                    endTime: o,
                                    uri: k.URI,
                                    mimeType: null,
                                    isSkippable: s,
                                    skipOffset: l,
                                    skipFor: c,
                                    canJump: u,
                                    resumeOffset: d,
                                    playoutLimit: h,
                                    once: p,
                                    pre: g,
                                    post: m,
                                    timelineRange: y
                                });
                            Je(e, 2);
                            break;
                        case 4:
                            Qe(e);
                        case 2:
                            return e.return(i)
                        }
                    })), 2);
                var t, n, i, a, r, o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k;
                (L = e.h).length ? Dd(C, L) : Q("Unsupported HLS interstitial", M),
                Ye(e)
            })
        }
        function Dd(e, t) {
            for (var n = !1, i = (t = Ze(t)).next(); !i.done; i = t.next()) {
                var a, r = (i = i.value).id || JSON.stringify(i);
                e.K.has(r) || (n = !0,
                e.K.add(r),
                e.G.add(i),
                r = !1,
                (r = !!(i.pre && null == e.l || 0 == i.startTime && !i.canJump || null != e.l && 0 < (a = i.startTime - e.l) && a <= 10) || r) && !e.B.has(i) && e.B.set(i, e.g.preload(i.uri, null, i.mimeType || void 0)))
            }
            n && Od(e)
        }
        function Nd(e, t, n) {
            t = void 0 !== t && t,
            n = void 0 === n ? null : n;
            var i = 0
              , a = null;
            if (e.G.size && null != e.l) {
                var r = e.h.ended
                  , o = Array.from(e.G).sort(function(e, t) {
                    return t.startTime - e.startTime
                })
                  , s = o;
                for (s = (o = Ze(s = t ? o.filter(function(e) {
                    return e.pre
                }) : r ? o.filter(function(e) {
                    return e.post
                }) : o.filter(function(e) {
                    return !e.pre && !e.post
                }))).next(); !s.done; s = o.next()) {
                    var u, s = s.value, l = !1;
                    t ? l = s.pre : r ? l = s.post : s.pre || s.post || 0 < (u = e.l - Math.round(1e3 * s.startTime) / 1e3) && (u <= 1 || !s.canJump) && (l = !(null == n && e.m && !e.m.pre && !e.m.post && e.m.startTime >= s.startTime)),
                    l && (!e.m || s.startTime >= e.m.startTime) && (i == (n || 0) ? a = s : a && !s.canJump && .001 < Math.round(1e3 * s.startTime) / 1e3 - Math.round(1e3 * a.startTime) / 1e3 && (a = s,
                    i = 0),
                    i++)
                }
            }
            return a
        }
        function _d(n, i, a, r, o, s) {
            var t, u, l, c, d, h, f, p, g, m, v, y, b;
            s = void 0 === s ? 0 : s,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (Rd(n),
                    n.m = i,
                    t = Date.now(),
                    !n.s.parentElement && n.I && n.I.appendChild(n.s),
                    1 == r && 1 == a && (a = Array.from(n.G).filter(function(e) {
                        return i.pre ? e.pre == i.pre : i.post ? e.post == i.post : Math.abs(e.startTime - i.startTime) < .001
                    }).length),
                    i.once && (s++,
                    n.G.delete(i),
                    Od(n)),
                    n.J = !0,
                    n.u && 1 == r)
                        return n.i(new Xe("ad-content-pause-requested",(new Map).set("saveLivePosition", !0))),
                        u = new fr,
                        l = function(t) {
                            return $e(function(e) {
                                if (1 == e.g)
                                    return "detach" != t.state ? e.A(0) : bt() ? We(e, new Promise(function(e) {
                                        return new C(e).Y(.1)
                                    }
                                    ), 3) : e.A(3);
                                u.resolve(),
                                n.j.Ma(n.C, "onstatechange", l),
                                Ye(e)
                            })
                        }
                        ,
                        n.j.o(n.C, "onstatechange", l),
                        We(e, u, 2);
                    e.A(2);
                    break;
                case 2:
                    return n.u || (n.h.pause(),
                    null != i.resumeOffset && 0 != i.resumeOffset && (n.h.currentTime += i.resumeOffset)),
                    c = !1,
                    d = null,
                    h = function() {
                        var e;
                        n.u || null != i.resumeOffset || (i.timelineRange && i.endTime && 1 / 0 != i.endTime ? n.h.currentTime != i.endTime && (n.h.currentTime = i.endTime) : (e = Date.now(),
                        n.h.currentTime += (e - o) / 1e3,
                        o = e))
                    }
                    ,
                    f = function() {
                        var t;
                        return $e(function(e) {
                            if (1 == e.g)
                                return h(),
                                d && d.stop(),
                                (t = Nd(n, i.pre, r - s)) ? (n.i(new Xe("ad-stopped")),
                                n.j.cb(),
                                _d(n, t, a, ++r, o, s),
                                e.A(0)) : (i.post && (n.l = null,
                                n.m = null),
                                n.u ? We(e, n.g.detach(), 4) : We(e, n.g.pc(), 4));
                            n.u && (null == (t = i.resumeOffset) && (t = i.timelineRange && i.endTime && 1 / 0 != i.endTime ? i.endTime - (n.l || 0) : (Date.now() - o) / 1e3),
                            n.i(new Xe("ad-content-resume-requested",(new Map).set("offset", t)))),
                            n.i(new Xe("ad-stopped")),
                            n.j.cb(),
                            n.J = !1,
                            n.u ? Od(n) : (h(),
                            n.h.ended || n.h.play()),
                            Rd(n),
                            Ye(e)
                        })
                    }
                    ,
                    p = function(t) {
                        return $e(function(e) {
                            return c ? e.return() : (c = !0,
                            n.i(new Xe("ad-error",(new Map).set("originalEvent", t))),
                            We(e, f(), 0))
                        })
                    }
                    ,
                    g = function() {
                        return $e(function(e) {
                            if (1 == e.g)
                                return c ? e.return() : (c = !0,
                                We(e, f(), 2));
                            n.i(new Xe("ad-complete")),
                            Ye(e)
                        })
                    }
                    ,
                    y = function() {
                        return $e(function(e) {
                            return c ? e.return() : (c = !0,
                            n.i(new Xe("ad-skipped")),
                            We(e, f(), 0))
                        })
                    }
                    ,
                    m = new Md(n.s,i.isSkippable,i.skipOffset,i.skipFor,y,a,r,!n.u),
                    n.u || (m.setMuted(n.h.muted),
                    m.setVolume(n.h.volume)),
                    n.i(new Xe("ad-started",(new Map).set("ad", m))),
                    (v = m.canSkipNow()) && n.i(new Xe("ad-skip-state-changed")),
                    n.j.oa(n.g, "error", p),
                    n.j.o(n.s, "timeupdate", function() {
                        var e;
                        n.s.duration && (e = m.canSkipNow(),
                        v != e && 0 < m.getRemainingTime() && 0 < m.getDuration() && n.i(new Xe("ad-skip-state-changed")),
                        v = e)
                    }),
                    n.j.oa(n.g, "firstquartile", function() {
                        h(),
                        n.i(new Xe("ad-first-quartile"))
                    }),
                    n.j.oa(n.g, "midpoint", function() {
                        h(),
                        n.i(new Xe("ad-midpoint"))
                    }),
                    n.j.oa(n.g, "thirdquartile", function() {
                        h(),
                        n.i(new Xe("ad-third-quartile"))
                    }),
                    n.j.oa(n.g, "complete", g),
                    n.j.o(n.s, "play", function() {
                        n.i(new Xe("ad-resumed"))
                    }),
                    n.j.o(n.s, "pause", function() {
                        var e = n.g.getConfiguration();
                        n.s.currentTime >= e.playRangeEnd ? g() : n.i(new Xe("ad-paused"))
                    }),
                    n.j.o(n.s, "volumechange", function() {
                        n.s.muted ? n.i(new Xe("ad-muted")) : n.i(new Xe("ad-volume-changed"))
                    }),
                    qe(e, 4),
                    Ud(n),
                    i.startTime && i.endTime && 1 / 0 != i.endTime && i.startTime != i.endTime && (0 < (y = i.endTime - i.startTime) && n.g.configure("playRangeEnd", y)),
                    i.playoutLimit && (d = new C(function() {
                        m.skip()
                    }
                    ).Y(i.playoutLimit),
                    n.g.configure("playRangeEnd", i.playoutLimit)),
                    We(e, n.g.$b(n.s), 6);
                case 6:
                    return n.B.has(i) ? We(e, n.B.get(i), 10) : We(e, n.g.load(i.uri, null, i.mimeType || void 0), 8);
                case 10:
                    return y = e.h,
                    n.B.delete(i),
                    We(e, y ? n.g.load(y) : n.g.load(i.uri, null, i.mimeType || void 0), 8);
                case 8:
                    i.playoutLimit && (d && d.stop(),
                    d = new C(function() {
                        m.skip()
                    }
                    ).Y(i.playoutLimit)),
                    b = (Date.now() - t) / 1e3,
                    n.i(new Xe("ads-loaded",(new Map).set("loadTime", b))),
                    n.u && n.h.play(),
                    Je(e, 0);
                    break;
                case 4:
                    b = Qe(e),
                    p(b),
                    Ye(e)
                }
            })
        }
        function Od(e) {
            for (var t = [], n = Ze(e.G), i = n.next(), a = {}; !i.done; a = {
                nc: void 0
            },
            i = n.next())
                i = i.value,
                a.nc = {
                    start: i.startTime,
                    end: null
                },
                i.pre ? (a.nc.start = 0,
                a.nc.end = null) : i.post ? (a.nc.start = -1,
                a.nc.end = null) : i.timelineRange && (a.nc.end = i.endTime),
                t.find(function(t) {
                    return function(e) {
                        return t.nc.start == e.start && t.nc.end == e.end
                    }
                }(a)) || t.push(a.nc);
            e.i(new Xe("ad-cue-points-changed",(new Map).set("cuepoints", t)))
        }
        function Ud(e) {
            e.g.configure(e.C.Oh()),
            e.g.configure("ads.disableHLSInterstitial", !0),
            e.g.configure("ads.disableDASHInterstitial", !0);
            var t = e.g.Hb();
            t.Bh(),
            t.Ch(),
            Ar(e.C.Hb(), t)
        }
        function jd(t, n, i) {
            var a;
            return $e(function(e) {
                return 1 == e.g ? (a = xr([n], hr()),
                We(e, t.C.Hb().request(7, a, i).promise, 2)) : (a = e.h,
                e.return(a.data))
            })
        }
        function Fd(e, t, n, i, a) {
            this.h = e,
            this.j = Hn(this.h.skipOffset),
            this.g = a,
            this.i = t,
            this.l = n,
            this.s = i,
            this.m = !1
        }
        function Bd(e, t, n, i) {
            this.C = e,
            this.L = t,
            this.h = n,
            this.l = null,
            this.S = NaN,
            this.i = i,
            this.K = !1,
            this.B = null,
            this.j = [],
            this.O = [],
            this.M = this.G = this.g = null,
            this.H = new Map,
            this.m = [],
            this.u = [],
            this.I = "",
            this.P = !0,
            this.J = "",
            this.s = new pn
        }
        function Gd(e) {
            return [e.adId, e.adParameters, e.adSystem, e.adTitle, e.creativeAdId, e.creativeId, e.creativeSequence, e.height, e.width, e.staticResource].join("")
        }
        function Vd(e) {
            var t = e.h.currentTime;
            if (0 != t && null == e.B) {
                for (var n, i, a = Ze(e.j), r = a.next(); !r.done; r = a.next())
                    for (var o = Ze((r = r.value).ads), s = o.next(); !s.done; s = o.next())
                        if (s = s.value,
                        i) {
                            if (s.startTimeInSeconds < t && s.startTimeInSeconds > i.startTimeInSeconds + i.durationInSeconds) {
                                i = s,
                                n = r;
                                break
                            }
                        } else
                            s.startTimeInSeconds < t && (i = s,
                            n = r);
                n && i && !e.O.includes(i.adId) && (e.B = t,
                e.h.currentTime = n.startTimeInSeconds)
            }
        }
        function Hd(e) {
            if (e.h.duration && (e.g || e.j.length)) {
                var t, n, i, a = e.h.currentTime, r = !1;
                if (e.g && (r = !0,
                n = (t = e.G).startTimeInSeconds + .5 * t.durationInSeconds,
                i = t.startTimeInSeconds + .75 * t.durationInSeconds,
                a >= t.startTimeInSeconds + .25 * t.durationInSeconds && !e.u.includes("firstQuartile") ? (e.u.push("firstQuartile"),
                Xd(e, "firstQuartile")) : n <= a && !e.u.includes("midpoint") ? (e.u.push("midpoint"),
                Xd(e, "midpoint")) : i <= a && !e.u.includes("thirdQuartile") && (e.u.push("thirdQuartile"),
                Xd(e, "thirdQuartile")),
                t = e.g.getRemainingTime(),
                n = e.g.getDuration(),
                e.g.canSkipNow() && 0 < t && 0 < n && Xd(e, "skipStateChanged"),
                0 < n && (t <= 0 || n < t) && Kd(e)),
                !e.g || !e.g.isLinear()) {
                    e: for (t = Ze(e.j),
                    n = t.next(); !n.done && (n = n.value,
                    !e.g || !e.g.isLinear()); n = t.next())
                        for (i = 0; i < n.ads.length; i++) {
                            var o = n.ads[i]
                              , s = o.startTimeInSeconds + o.durationInSeconds;
                            if (o.startTimeInSeconds <= a && a < s) {
                                if (e.O.includes(o.adId)) {
                                    if (e.h.ended)
                                        continue;
                                    e.h.currentTime = s;
                                    break e
                                }
                                Kd(e),
                                e.M = n,
                                e.g = new Fd(o,i + 1,n.ads.length,!0,e.h),
                                e.G = o,
                                0 === i && Xd(e, "breakStart"),
                                zd(e);
                                break
                            }
                        }
                    if (!e.g)
                        for (n = (t = Ze(e.j)).next(); !n.done && (n = n.value,
                        !e.g); n = t.next())
                            for (i = 0; i < n.nonLinearAdsList.length; i++)
                                if ((o = n.nonLinearAdsList[i]).nonLinearAdList.length) {
                                    s = n.startTimeInSeconds;
                                    var u = e.H.get(Gd(o.nonLinearAdList[0]));
                                    if (s <= a && u && u.length) {
                                        Kd(e);
                                        for (var l, s = e, c = (u = Ze(u)).next(); !c.done; c = u.next())
                                            (c = c.value).data.source.length && ((l = document.createElement("img")).src = c.data.source[0].url,
                                            l.style.top = (c.placeholder.top || 0) + "%",
                                            l.style.height = 100 - (c.placeholder.top || 0) + "%",
                                            l.style.left = (c.placeholder.left || 0) + "%",
                                            l.style.maxWidth = 100 - (c.placeholder.left || 0) + "%",
                                            l.style.objectFit = "contain",
                                            l.style.position = "absolute",
                                            s.C.appendChild(l));
                                        e.M = n,
                                        e.g = new Fd(o,i + 1,n.ads.length,!1,e.h),
                                        e.G = o,
                                        0 === i && Xd(e, "breakStart"),
                                        zd(e);
                                        break
                                    }
                                }
                    r && !e.g && (a = e.h.currentTime,
                    e.B && e.B > a && (e.h.currentTime = e.B),
                    e.B = null)
                }
            }
        }
        function Kd(e) {
            if (e.g) {
                for (; e.C.lastChild; )
                    e.C.removeChild(e.C.firstChild);
                e.K || e.O.push(e.G.adId);
                var t = e.g.m;
                Xd(e, void 0 !== t && t ? "skip" : "complete");
                for (var n = (t = Ze(e.m)).next(); !n.done; n = t.next())
                    n = n.value,
                    e.s.Ma(n.target, n.type, n.listener);
                e.m = [],
                e.u = [],
                (t = e.g.getPositionInSequence()) === (n = e.g.getSequenceLength()) && Xd(e, "breakEnd"),
                e.g = null,
                e.G = null,
                e.M = null
            }
        }
        function zd(e) {
            var t = !1;
            e.h.paused ? t = !0 : (Xd(e, "impression"),
            Xd(e, "start")),
            e.m.push({
                target: e.h,
                type: "volumechange",
                listener: function() {
                    e.h.muted && Xd(e, "mute")
                }
            }),
            e.m.push({
                target: e.h,
                type: "volumechange",
                listener: function() {
                    e.h.muted || Xd(e, "unmute")
                }
            }),
            e.m.push({
                target: e.h,
                type: "play",
                listener: function() {
                    t ? (Xd(e, "impression"),
                    Xd(e, "start"),
                    t = !1) : Xd(e, "resume")
                }
            }),
            e.m.push({
                target: e.h,
                type: "pause",
                listener: function() {
                    Xd(e, "pause")
                }
            });
            for (var n = Ze(e.m), i = n.next(); !i.done; i = n.next())
                i = i.value,
                e.s.o(i.target, i.type, i.listener)
        }
        function Xd(e, t) {
            var n = e.G.trackingEvents.find(function(e) {
                return e.eventType == t
            });
            if (n = n || e.M.adBreakTrackingEvents.find(function(e) {
                return e.eventType == t
            }))
                for (var i = {
                    type: 10
                }, a = (n = Ze(n.beaconUrls)).next(); !a.done; a = n.next())
                    (a = a.value) && "" != a && ((a = xr([a], hr())).method = "POST",
                    e.L.request(7, a, i));
            switch (t) {
            case "impression":
                e.i(new Xe("ad-impression"));
                break;
            case "start":
                e.i(new Xe("ad-started",(new Map).set("ad", e.g)));
                break;
            case "mute":
                e.i(new Xe("ad-muted"));
                break;
            case "unmute":
                e.i(new Xe("ad-volume-changed"));
                break;
            case "resume":
                e.i(new Xe("ad-resumed"));
                break;
            case "pause":
                e.i(new Xe("ad-paused"));
                break;
            case "firstQuartile":
                e.i(new Xe("ad-first-quartile"));
                break;
            case "midpoint":
                e.i(new Xe("ad-midpoint"));
                break;
            case "thirdQuartile":
                e.i(new Xe("ad-third-quartile"));
                break;
            case "complete":
                e.i(new Xe("ad-complete")),
                e.i(new Xe("ad-stopped"));
                break;
            case "skip":
                e.i(new Xe("ad-skipped")),
                e.i(new Xe("ad-stopped"));
                break;
            case "breakStart":
                e.C.setAttribute("ad-active", "true");
                break;
            case "breakEnd":
                e.C.removeAttribute("ad-active");
                break;
            case "skipStateChanged":
                e.i(new Xe("ad-skip-state-changed"))
            }
        }
        function Wd(e, t) {
            this.g = e,
            this.i = null,
            this.h = t
        }
        function Yd(e, t, n, i) {
            var a = this;
            this.u = e,
            this.l = t,
            this.j = null,
            this.H = NaN,
            this.i = i,
            this.I = !1,
            this.B = this.m = this.s = null,
            this.C = "",
            this.G = [],
            this.h = new pn,
            (e = new google.ima.dai.api.UiSettings).setLocale(n),
            this.g = new google.ima.dai.api.StreamManager(this.l,this.u,e),
            this.i(new Xe("ima-stream-manager-loaded",(new Map).set("imaStreamManager", this.g))),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.LOADED, function(e) {
                var n;
                e = e,
                (n = a).i(new Xe("ads-loaded",(new Map).set("loadTime", Date.now() / 1e3 - n.H))),
                e = e.getStreamData().url,
                n.j.resolve(e),
                n.j = null,
                n.I || n.h.o(n.l, "seeked", function() {
                    var e, t = n.l.currentTime;
                    0 != t && (n.g.streamTimeForContentTime(t),
                    (e = n.g.previousCuePointForStreamTime(t)) && !e.played && (n.s = t,
                    n.l.currentTime = e.start))
                })
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.ERROR, function() {
                a.C.length ? a.j.resolve(a.C) : a.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),
                a.j = null
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED, function() {}),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.STARTED, function(e) {
                e = e.getAd(),
                a.m = new Wd(e,a.l),
                a.B && (a.m.i = a.B),
                a.i(new Xe("ad-started",(new Map).set("ad", a.m))),
                a.u.setAttribute("ad-active", "true")
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED, function() {
                a.u.removeAttribute("ad-active");
                var e = a.l.currentTime;
                a.s && a.s > e && (a.l.currentTime = a.s,
                a.s = null)
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.AD_PROGRESS, function(e) {
                a.B = e.getStreamData().adProgressData,
                a.m && (a.m.i = a.B)
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE, function() {
                a.i(new Xe("ad-first-quartile"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.MIDPOINT, function() {
                a.i(new Xe("ad-midpoint"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE, function() {
                a.i(new Xe("ad-third-quartile"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.COMPLETE, function() {
                a.i(new Xe("ad-complete")),
                a.i(new Xe("ad-stopped")),
                a.u.removeAttribute("ad-active"),
                a.m = null
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.SKIPPED, function() {
                a.i(new Xe("ad-skipped")),
                a.i(new Xe("ad-stopped"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED, function(e) {
                var t = e.getStreamData();
                e = [];
                for (var n = (t = Ze(t.cuepoints)).next(); !n.done; n = t.next())
                    n = n.value,
                    e.push({
                        start: n.start,
                        end: n.end
                    });
                a.G = e,
                a.i(new Xe("ad-cue-points-changed",(new Map).set("cuepoints", e)))
            })
        }
        function qd() {
            h.call(this),
            this.g = this.i = this.j = this.h = null,
            this.m = new Td,
            this.s = navigator.language,
            this.l = null
        }
        function Jd(e, t) {
            if (t && t.type)
                switch (t.type) {
                case "ads-loaded":
                    e.m.g.push(t.loadTime);
                    break;
                case "ad-started":
                    e.m.h++;
                    break;
                case "ad-complete":
                    e.m.j++;
                    break;
                case "ad-skipped":
                    e.m.l++;
                    break;
                case "ad-error":
                    e.m.i++
                }
            e.dispatchEvent(t)
        }
        function Qd(e) {
            return JSON.stringify(e, function(e, t) {
                if ("function" != typeof t) {
                    if (t instanceof Event || t instanceof Xe) {
                        var n = {};
                        for (i in t)
                            (e = t[i]) && "object" == typeof e ? "detail" == i && (n[i] = e) : i in Event || (n[i] = e);
                        return n
                    }
                    if (t instanceof Error) {
                        var i = new Set(["name", "message", "stack"]);
                        for (n in t)
                            i.add(n);
                        for (e = (n = Ze(Object.getOwnPropertyNames(t))).next(); !e.done; e = n.next())
                            i.add(e.value);
                        for (n = {},
                        e = (i = Ze(i)).next(); !e.done; e = i.next())
                            n[e = e.value] = t[e];
                        t = {
                            __type__: "Error",
                            contents: n
                        }
                    } else if (t instanceof TimeRanges) {
                        for (i = {
                            __type__: "TimeRanges",
                            length: t.length,
                            start: [],
                            end: []
                        },
                        n = (t = Ze(Fo(t))).next(); !n.done; n = t.next())
                            e = (n = n.value).end,
                            i.start.push(n.start),
                            i.end.push(e);
                        t = i
                    } else
                        t = ArrayBuffer.isView(t) && 1 === t.BYTES_PER_ELEMENT ? {
                            __type__: "Uint8Array",
                            entries: Array.from(t)
                        } : "number" == typeof t ? isNaN(t) ? "NaN" : isFinite(t) ? t : t < 0 ? "-Infinity" : "Infinity" : t;
                    return t
                }
            })
        }
        function $d(e) {
            return JSON.parse(e, function(e, t) {
                if ("NaN" == t)
                    var n = NaN;
                else if ("-Infinity" == t)
                    n = -1 / 0;
                else if ("Infinity" == t)
                    n = 1 / 0;
                else if (t && "object" == typeof t && "TimeRanges" == t.__type__)
                    n = {
                        length: (i = t).length,
                        start: function(e) {
                            return i.start[e]
                        },
                        end: function(e) {
                            return i.end[e]
                        }
                    };
                else if (t && "object" == typeof t && "Uint8Array" == t.__type__)
                    n = new Uint8Array(t.entries);
                else if (t && "object" == typeof t && "Error" == t.__type__) {
                    for (n in e = t.contents,
                    t = Error(e.message),
                    e)
                        t[n] = e[n];
                    n = t
                } else
                    n = t;
                var i;
                return n
            })
        }
        (t = wd.prototype).needsSkipUI = function() {
            return !1
        }
        ,
        t.isClientRendering = function() {
            return !0
        }
        ,
        t.isUsingAnotherMediaElement = function() {
            return !0
        }
        ,
        t.getDuration = function() {
            return this.g.getDuration()
        }
        ,
        t.getMinSuggestedDuration = function() {
            return this.g.getMinSuggestedDuration()
        }
        ,
        t.getRemainingTime = function() {
            return this.h.getRemainingTime()
        }
        ,
        t.isPaused = function() {
            return this.i
        }
        ,
        t.isSkippable = function() {
            return 0 <= this.g.getSkipTimeOffset()
        }
        ,
        t.getTimeUntilSkippable = function() {
            var e = this.g.getSkipTimeOffset()
              , e = this.getRemainingTime() - e;
            return Math.max(e, 0)
        }
        ,
        t.canSkipNow = function() {
            return this.h.getAdSkippableState()
        }
        ,
        t.skip = function() {
            return this.h.skip()
        }
        ,
        t.pause = function() {
            return this.h.pause()
        }
        ,
        t.play = function() {
            return this.h.resume()
        }
        ,
        t.getVolume = function() {
            return this.h.getVolume()
        }
        ,
        t.setVolume = function(e) {
            return this.j.volume = e,
            this.h.setVolume(e)
        }
        ,
        t.isMuted = function() {
            return 0 == this.h.getVolume()
        }
        ,
        t.isLinear = function() {
            return this.g.isLinear()
        }
        ,
        t.resize = function(e, t) {
            var n = !1
              , i = this.j;
            document.fullscreenEnabled ? n = !!document.fullscreenElement : i.webkitSupportsFullscreen && (n = i.webkitDisplayingFullscreen),
            this.h.resize(e, t, n ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
        }
        ,
        t.setMuted = function(e) {
            (this.j.muted = e) ? (this.l = this.getVolume(),
            this.h.setVolume(0)) : this.h.setVolume(this.l)
        }
        ,
        t.getSequenceLength = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getTotalAds()
        }
        ,
        t.getPositionInSequence = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getAdPosition()
        }
        ,
        t.getTitle = function() {
            return this.g.getTitle()
        }
        ,
        t.getDescription = function() {
            return this.g.getDescription()
        }
        ,
        t.getVastMediaBitrate = function() {
            return this.g.getVastMediaBitrate()
        }
        ,
        t.getVastMediaHeight = function() {
            return this.g.getVastMediaHeight()
        }
        ,
        t.getVastMediaWidth = function() {
            return this.g.getVastMediaWidth()
        }
        ,
        t.getAdId = function() {
            return this.g.getAdId()
        }
        ,
        t.getCreativeAdId = function() {
            return this.g.getCreativeAdId()
        }
        ,
        t.getAdvertiserName = function() {
            return this.g.getAdvertiserName()
        }
        ,
        t.getMediaUrl = function() {
            return this.g.getMediaUrl()
        }
        ,
        t.getTimeOffset = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getTimeOffset()
        }
        ,
        t.getPodIndex = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getPodIndex()
        }
        ,
        t.release = function() {
            this.h = this.g = null
        }
        ,
        i("shaka.ads.ClientSideAd", wd),
        i("shaka.ads.Utils", Sd),
        Sd.ADS_LOADED = "ads-loaded",
        Sd.AD_STARTED = "ad-started",
        Sd.AD_FIRST_QUARTILE = "ad-first-quartile",
        Sd.AD_MIDPOINT = "ad-midpoint",
        Sd.AD_THIRD_QUARTILE = "ad-third-quartile",
        Sd.AD_COMPLETE = "ad-complete",
        Sd.AD_STOPPED = "ad-stopped",
        Sd.AD_SKIPPED = "ad-skipped",
        Sd.AD_VOLUME_CHANGED = "ad-volume-changed",
        Sd.AD_MUTED = "ad-muted",
        Sd.AD_PAUSED = "ad-paused",
        Sd.AD_RESUMED = "ad-resumed",
        Sd.AD_SKIP_STATE_CHANGED = "ad-skip-state-changed",
        Sd.CUEPOINTS_CHANGED = "ad-cue-points-changed",
        Sd.IMA_AD_MANAGER_LOADED = "ima-ad-manager-loaded",
        Sd.IMA_STREAM_MANAGER_LOADED = "ima-stream-manager-loaded",
        Sd.AD_CLICKED = "ad-clicked",
        Sd.AD_PROGRESS = "ad-progress",
        Sd.AD_BUFFERING = "ad-buffering",
        Sd.AD_IMPRESSION = "ad-impression",
        Sd.AD_DURATION_CHANGED = "ad-duration-changed",
        Sd.AD_CLOSED = "ad-closed",
        Sd.AD_LOADED = "ad-loaded",
        Sd.ALL_ADS_COMPLETED = "all-ads-completed",
        Sd.AD_LINEAR_CHANGED = "ad-linear-changed",
        Sd.AD_METADATA = "ad-metadata",
        Sd.AD_RECOVERABLE_ERROR = "ad-recoverable-error",
        Sd.AD_ERROR = "ad-error",
        Sd.AD_BREAK_READY = "ad-break-ready",
        Sd.AD_INTERACTION = "ad-interaction",
        Sd.AD_CONTENT_PAUSE_REQUESTED = "ad-content-pause-requested",
        Sd.AD_CONTENT_RESUME_REQUESTED = "ad-content-resume-requested",
        Sd.AD_CONTENT_ATTACH_REQUESTED = "ad-content-attach-requested",
        Ad.prototype.configure = function(e) {
            this.s = e
        }
        ,
        Ad.prototype.stop = function() {
            this.g && this.g.stop(),
            this.u && Ho(this.u)
        }
        ,
        Ad.prototype.release = function() {
            this.stop(),
            this.B && this.B.disconnect(),
            this.h && this.h.release(),
            this.g && this.g.destroy(),
            this.m.destroy(),
            this.G.destroy()
        }
        ,
        (t = Md.prototype).needsSkipUI = function() {
            return !0
        }
        ,
        t.isClientRendering = function() {
            return !0
        }
        ,
        t.isUsingAnotherMediaElement = function() {
            return this.m
        }
        ,
        t.getDuration = function() {
            var e = this.g.duration;
            return isNaN(e) ? -1 : e
        }
        ,
        t.getMinSuggestedDuration = function() {
            return this.getDuration()
        }
        ,
        t.getRemainingTime = function() {
            var e = this.g.duration;
            return isNaN(e) ? -1 : e - this.g.currentTime
        }
        ,
        t.isPaused = function() {
            return this.g.paused
        }
        ,
        t.isSkippable = function() {
            return this.h && null != this.j ? this.getDuration() - this.getRemainingTime() < this.i + this.j : this.h
        }
        ,
        t.getTimeUntilSkippable = function() {
            var e;
            return this.isSkippable() ? (e = this.getRemainingTime() + this.i - this.getDuration(),
            Math.max(e, 0)) : Math.max(this.getRemainingTime(), 0)
        }
        ,
        t.canSkipNow = function() {
            return this.h && 0 == this.getTimeUntilSkippable()
        }
        ,
        t.skip = function() {
            this.canSkipNow() && this.s()
        }
        ,
        t.pause = function() {
            return this.g.pause()
        }
        ,
        t.play = function() {
            return this.g.play()
        }
        ,
        t.getVolume = function() {
            return this.g.volume
        }
        ,
        t.setVolume = function(e) {
            this.g.volume = e
        }
        ,
        t.isMuted = function() {
            return this.g.muted
        }
        ,
        t.isLinear = function() {
            return !0
        }
        ,
        t.resize = function() {}
        ,
        t.setMuted = function(e) {
            this.g.muted = e
        }
        ,
        t.getSequenceLength = function() {
            return this.u
        }
        ,
        t.getPositionInSequence = function() {
            return this.l
        }
        ,
        t.getTitle = function() {
            return ""
        }
        ,
        t.getDescription = function() {
            return ""
        }
        ,
        t.getVastMediaBitrate = function() {
            return 0
        }
        ,
        t.getVastMediaHeight = function() {
            return 0
        }
        ,
        t.getVastMediaWidth = function() {
            return 0
        }
        ,
        t.getAdId = function() {
            return ""
        }
        ,
        t.getCreativeAdId = function() {
            return ""
        }
        ,
        t.getAdvertiserName = function() {
            return ""
        }
        ,
        t.getMediaUrl = function() {
            return null
        }
        ,
        t.getTimeOffset = function() {
            return 0
        }
        ,
        t.getPodIndex = function() {
            return 0
        }
        ,
        t.release = function() {
            this.g = null
        }
        ,
        i("shaka.ads.InterstitialAd", Md),
        Ld.prototype.configure = function(e) {
            this.O = e,
            Rd(this)
        }
        ,
        Ld.prototype.stop = function() {
            this.j && this.j.cb(),
            this.K.clear(),
            this.G.clear(),
            this.g.Vf(),
            this.B.clear(),
            this.g.detach(),
            this.J = !1,
            this.m = this.l = null
        }
        ,
        Ld.prototype.release = function() {
            this.stop(),
            this.L && this.L.release(),
            this.j && this.j.release(),
            this.I && Ho(this.I),
            this.M && (this.M.stop(),
            this.M = null),
            this.P && (this.P.stop(),
            this.P = null),
            this.g.destroy()
        }
        ,
        Ld.prototype.addAdUrlInterstitial = function(o) {
            var s, u, l, c, d, h, f = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return We(e, jd(f, o, s = {
                        type: 12
                    }), 2);
                case 2:
                    if (l = e.h,
                    !(l = Wn(l, "VAST,vmap:VMAP")))
                        throw new nt(2,10,10007);
                    if (u = [],
                    "VAST" == l.tagName) {
                        u = Ed(l, f.l),
                        e.A(3);
                        break
                    }
                    if ("vmap:VMAP" != l.tagName) {
                        e.A(3);
                        break
                    }
                    for (var t = [], n = Ze($n(l, "vmap:AdBreak")), i = n.next(); !i.done; i = n.next()) {
                        var a = i.value
                          , r = a.attributes.timeOffset;
                        r && (i = null,
                        i = "start" == r ? 0 : "end" == r ? 1 / 0 : Hn(r),
                        (a = ni(a, "vmap:AdSource")) && (a = ni(a, "vmap:AdTagURI")) && (a = Zn(a)) && t.push({
                            time: i,
                            uri: a
                        }))
                    }
                    l = Ze(t),
                    c = l.next();
                case 5:
                    if (c.done) {
                        e.A(3);
                        break
                    }
                    return d = c.value,
                    We(e, jd(f, d.uri, s), 8);
                case 8:
                    if (h = e.h,
                    !(h = Wn(h, "VAST")))
                        throw new nt(2,10,10007);
                    u.push.apply(u, et(Ed(h, d.time))),
                    c = l.next(),
                    e.A(5);
                    break;
                case 3:
                    Dd(f, u),
                    Ye(e)
                }
            })
        }
        ,
        (t = Fd.prototype).needsSkipUI = function() {
            return !0
        }
        ,
        t.isClientRendering = function() {
            return !1
        }
        ,
        t.isUsingAnotherMediaElement = function() {
            return !1
        }
        ,
        t.getDuration = function() {
            return this.h.durationInSeconds
        }
        ,
        t.getMinSuggestedDuration = function() {
            return this.getDuration()
        }
        ,
        t.getRemainingTime = function() {
            return this.h.startTimeInSeconds + this.h.durationInSeconds - this.g.currentTime
        }
        ,
        t.isPaused = function() {
            return this.g.paused
        }
        ,
        t.isSkippable = function() {
            return "number" == typeof this.j
        }
        ,
        t.getTimeUntilSkippable = function() {
            if ("number" != typeof this.j)
                return this.getRemainingTime();
            var e = this.getRemainingTime() + this.j - this.getDuration();
            return Math.max(e, 0)
        }
        ,
        t.canSkipNow = function() {
            return 0 == this.getTimeUntilSkippable()
        }
        ,
        t.skip = function() {
            this.m = !0,
            this.g.currentTime += this.getRemainingTime()
        }
        ,
        t.pause = function() {
            return this.g.pause()
        }
        ,
        t.play = function() {
            return this.g.play()
        }
        ,
        t.getVolume = function() {
            return this.g.volume
        }
        ,
        t.setVolume = function(e) {
            this.g.volume = e
        }
        ,
        t.isMuted = function() {
            return this.g.muted
        }
        ,
        t.isLinear = function() {
            return this.s
        }
        ,
        t.resize = function() {}
        ,
        t.setMuted = function(e) {
            this.g.muted = e
        }
        ,
        t.getSequenceLength = function() {
            return this.l || 1
        }
        ,
        t.getPositionInSequence = function() {
            return this.i || 1
        }
        ,
        t.getTitle = function() {
            return this.h.adTitle
        }
        ,
        t.getDescription = function() {
            return ""
        }
        ,
        t.getVastMediaBitrate = function() {
            return 0
        }
        ,
        t.getVastMediaHeight = function() {
            return 0
        }
        ,
        t.getVastMediaWidth = function() {
            return 0
        }
        ,
        t.getAdId = function() {
            return this.h.adId
        }
        ,
        t.getCreativeAdId = function() {
            return this.h.creativeId
        }
        ,
        t.getAdvertiserName = function() {
            return ""
        }
        ,
        t.getMediaUrl = function() {
            return null
        }
        ,
        t.getTimeOffset = function() {
            return 0
        }
        ,
        t.getPodIndex = function() {
            return 0
        }
        ,
        t.release = function() {
            this.l = this.i = this.g = this.h = null
        }
        ,
        i("shaka.ads.MediaTailorAd", Fd),
        Bd.prototype.stop = function() {
            for (var e = Ze(this.m), t = e.next(); !t.done; t = e.next())
                t = t.value,
                this.s.Ma(t.target, t.type, t.listener);
            Kd(this),
            this.m = [],
            this.u = [],
            this.I = "",
            this.P = !0,
            this.J = "",
            this.B = null,
            this.j = [],
            this.O = [],
            this.H.clear()
        }
        ,
        Bd.prototype.release = function() {
            this.stop(),
            this.s && this.s.release()
        }
        ,
        Bd.prototype.onManifestUpdated = function(e) {
            var n, i, a, r, o, s, u, l, c, d, h, f, p, g, m;
            this.K = e,
            "" != this.I && (i = (n = this).I,
            a = this.P,
            $e(function(e) {
                if (1 == e.g)
                    return r = {
                        type: 8
                    },
                    o = xr([i], hr()),
                    o = n.L.request(7, o, r),
                    qe(e, 2),
                    We(e, o.promise, 4);
                if (2 != e.g) {
                    if (r = e.h,
                    o = [],
                    s = It(r.data),
                    0 < (s = JSON.parse(s)).avails.length) {
                        if (JSON.stringify(n.j) != JSON.stringify(s.avails)) {
                            for (n.j = s.avails,
                            u = Ze(n.j),
                            l = u.next(); !l.done; l = u.next())
                                for (c = l.value,
                                d = Ze(c.nonLinearAdsList),
                                h = d.next(); !h.done; h = d.next())
                                    for (f = h.value,
                                    p = Ze(f.nonLinearAdList),
                                    g = p.next(); !g.done; g = p.next())
                                        m = g.value,
                                        function(t, n) {
                                            var i, a, r, o;
                                            $e(function(e) {
                                                return 1 == e.g ? n.staticResource ? (i = Gd(n),
                                                t.H.get(i) ? e.return() : (a = {
                                                    type: 9
                                                },
                                                r = xr([n.staticResource], hr()),
                                                r = t.L.request(7, r, a),
                                                qe(e, 2),
                                                t.H.set(i, []),
                                                We(e, r.promise, 4))) : e.return() : 2 != e.g ? (a = e.h,
                                                r = It(a.data),
                                                o = JSON.parse(r),
                                                o = o.apps,
                                                t.H.set(i, o),
                                                Je(e, 0)) : (Qe(e),
                                                t.H.delete(i),
                                                void Ye(e))
                                            })
                                        }(n, m);
                            o = n.getCuePoints(),
                            n.i(new Xe("ad-cue-points-changed",(new Map).set("cuepoints", o)))
                        }
                    } else
                        n.j.length && n.i(new Xe("ad-cue-points-changed",(new Map).set("cuepoints", o))),
                        Kd(n),
                        n.j = [];
                    return a && (n.K || 0 < o.length) && (Hd(t = n),
                    t.K || (Vd(t),
                    t.s.o(t.h, "seeked", function() {
                        Vd(t)
                    }),
                    t.s.o(t.h, "ended", function() {
                        Kd(t)
                    })),
                    t.s.o(t.h, "timeupdate", function() {
                        Hd(t)
                    })),
                    Je(e, 0)
                }
                var t;
                Qe(e),
                Ye(e)
            }),
            this.P = !1)
        }
        ,
        Bd.prototype.getCuePoints = function() {
            for (var e = [], t = Ze(this.j), n = t.next(); !n.done; n = t.next())
                for (var i = (n = Ze(n.value.ads)).next(); !i.done; i = n.next())
                    i = i.value,
                    e.push({
                        start: i.startTimeInSeconds,
                        end: i.startTimeInSeconds + i.durationInSeconds
                    });
            return e
        }
        ,
        (t = Wd.prototype).needsSkipUI = function() {
            return !0
        }
        ,
        t.isClientRendering = function() {
            return !1
        }
        ,
        t.isUsingAnotherMediaElement = function() {
            return !1
        }
        ,
        t.getDuration = function() {
            return this.i ? this.i.duration : -1
        }
        ,
        t.getMinSuggestedDuration = function() {
            return this.getDuration()
        }
        ,
        t.getRemainingTime = function() {
            return this.i ? this.i.duration - this.i.currentTime : -1
        }
        ,
        t.isPaused = function() {
            return this.h.paused
        }
        ,
        t.isSkippable = function() {
            return this.g.isSkippable()
        }
        ,
        t.getTimeUntilSkippable = function() {
            var e = this.g.getSkipTimeOffset()
              , e = this.getRemainingTime() - e;
            return Math.max(e, 0)
        }
        ,
        t.canSkipNow = function() {
            return 0 == this.getTimeUntilSkippable()
        }
        ,
        t.skip = function() {
            this.h.currentTime += this.getRemainingTime()
        }
        ,
        t.pause = function() {
            return this.h.pause()
        }
        ,
        t.play = function() {
            return this.h.play()
        }
        ,
        t.getVolume = function() {
            return this.h.volume
        }
        ,
        t.setVolume = function(e) {
            this.h.volume = e
        }
        ,
        t.isMuted = function() {
            return this.h.muted
        }
        ,
        t.isLinear = function() {
            return !0
        }
        ,
        t.resize = function() {}
        ,
        t.setMuted = function(e) {
            this.h.muted = e
        }
        ,
        t.getSequenceLength = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getTotalAds()
        }
        ,
        t.getPositionInSequence = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getAdPosition()
        }
        ,
        t.getTitle = function() {
            return this.g.getTitle()
        }
        ,
        t.getDescription = function() {
            return this.g.getDescription()
        }
        ,
        t.getVastMediaBitrate = function() {
            return 0
        }
        ,
        t.getVastMediaHeight = function() {
            return this.g.getVastMediaHeight()
        }
        ,
        t.getVastMediaWidth = function() {
            return this.g.getVastMediaWidth()
        }
        ,
        t.getAdId = function() {
            return this.g.getAdId()
        }
        ,
        t.getCreativeAdId = function() {
            return this.g.getCreativeAdId()
        }
        ,
        t.getAdvertiserName = function() {
            return this.g.getAdvertiserName()
        }
        ,
        t.getMediaUrl = function() {
            return null
        }
        ,
        t.getTimeOffset = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getTimeOffset()
        }
        ,
        t.getPodIndex = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getPodIndex()
        }
        ,
        t.release = function() {
            this.h = this.i = this.g = null
        }
        ,
        i("shaka.ads.ServerSideAd", Wd),
        (t = Yd.prototype).configure = function() {}
        ,
        t.stop = function() {
            this.C = "",
            this.s = null,
            this.G = []
        }
        ,
        t.release = function() {
            this.stop(),
            this.h && this.h.release()
        }
        ,
        t.onCueMetadataChange = function(e) {
            var t;
            e.key && e.data && ((t = {})[e.key] = e.data,
            this.g.onTimedMetadata(t))
        }
        ,
        t.getCuePoints = function() {
            return this.G
        }
        ,
        n(qd, h),
        (t = qd.prototype).setLocale = function(e) {
            this.s = e
        }
        ,
        t.configure = function(e) {
            this.l = e,
            this.h && this.h.configure(this.l),
            this.j && this.j.configure(this.l),
            this.g && this.g.configure(this.l)
        }
        ,
        t.initInterstitial = function(e, t, n) {
            var i = this;
            this.h && this.h.release(),
            this.h = new Ld(e,t,n,function(e) {
                return Jd(i, e)
            }
            ),
            this.h.configure(this.l)
        }
        ,
        t.initClientSide = function(e, t, n) {
            var i = this;
            if (!U.google || !google.ima || !google.ima.AdsLoader)
                throw new nt(2,10,1e4);
            this.j && this.j.release(),
            this.j = new Ad(e,t,this.s,n,function(e) {
                return Jd(i, e)
            }
            ),
            this.j.configure(this.l)
        }
        ,
        t.release = function() {
            this.h && (this.h.release(),
            this.h = null),
            this.j && (this.j.release(),
            this.j = null),
            this.i && (this.i.release(),
            this.i = null),
            this.g && (this.g.release(),
            this.g = null),
            h.prototype.release.call(this)
        }
        ,
        t.onAssetUnload = function() {
            this.h && this.h.stop(),
            this.j && this.j.stop(),
            this.i && this.i.stop(),
            this.g && this.g.stop(),
            this.dispatchEvent(new Xe("ad-stopped")),
            this.dispatchEvent(new Xe("ad-content-attach-requested")),
            this.m = new Td
        }
        ,
        t.requestClientSideAds = function(e) {
            if (!this.j)
                throw new nt(1,10,10001);
            var t = this.j;
            t.g && t.g.destroy(),
            t.m && t.m.contentComplete(),
            t.I = Date.now() / 1e3,
            t.m.requestAds(e)
        }
        ,
        t.updateClientSideAdsRenderingSettings = function(e) {
            if (!this.j)
                throw new nt(1,10,10001);
            var t = this.j;
            t.C = e,
            t.g && t.g.updateAdsRenderingSettings(t.C)
        }
        ,
        t.initMediaTailor = function(e, t, n) {
            var i = this;
            this.i && this.i.release(),
            this.i = new Bd(e,t,n,function(e) {
                return Jd(i, e)
            }
            )
        }
        ,
        t.requestMediaTailorStream = function(e, t, n) {
            if (!this.i)
                throw new nt(1,10,10005);
            var i, a, r, o, s, u, l, c, d, h = this.i;
            return n = void 0 === n ? "" : n,
            e = h.l ? Promise.reject(new nt(1,10,10004)) : (h.l = new fr,
            i = h,
            a = e,
            r = t,
            $e(function(e) {
                if (1 == e.g)
                    return u = {
                        type: 7
                    },
                    (s = xr([a], hr())).method = "POST",
                    r && (o = JSON.stringify(r),
                    s.body = Mt(o)),
                    o = i.L.request(7, s, u),
                    qe(e, 2),
                    We(e, o.promise, 4);
                if (2 != e.g) {
                    if (s = e.h,
                    u = It(s.data),
                    (l = JSON.parse(u)).manifestUrl && l.trackingUrl)
                        return c = new pt(a),
                        d = new pt(l.trackingUrl),
                        i.I = c.resolve(d).toString(),
                        d = Date.now() / 1e3,
                        d = d - i.S,
                        i.i(new Xe("ads-loaded",(new Map).set("loadTime", d))),
                        d = new pt(l.manifestUrl),
                        i.l.resolve(c.resolve(d).toString()),
                        i.l = null,
                        Je(e, 0);
                    throw Error("Insufficient data from MediaTailor.")
                }
                if (Qe(e),
                !i.J.length)
                    return i.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),
                    i.l = null,
                    e.return();
                i.l.resolve(i.J),
                i.l = null,
                Ye(e)
            }),
            h.J = n || "",
            h.S = Date.now() / 1e3,
            h.l)
        }
        ,
        t.addMediaTailorTrackingUrl = function(e) {
            if (!this.i)
                throw new nt(1,10,10005);
            var t = this.i;
            t.I = e,
            t.i(new Xe("ads-loaded",(new Map).set("loadTime", 0)))
        }
        ,
        t.initServerSide = function(e, t) {
            var n = this;
            if (!U.google || !google.ima || !google.ima.dai)
                throw new nt(2,10,10002);
            this.g && this.g.release(),
            this.g = new Yd(e,t,this.s,function(e) {
                return Jd(n, e)
            }
            ),
            this.g.configure(this.l)
        }
        ,
        t.requestServerSideStream = function(e, t) {
            if (t = void 0 === t ? "" : t,
            !this.g)
                throw new nt(1,10,10003);
            e.adTagParameters || (e.adTagParameters = {});
            var n = e.adTagParameters;
            return (n.mpt || n.mpv) && Q('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),
            e.adTagParameters.mpt = "shaka-player",
            e.adTagParameters.mpv = "v4.12.5",
            e = (n = this.g).j ? Promise.reject(new nt(1,10,10004)) : (e instanceof google.ima.dai.api.LiveStreamRequest && (n.I = !0),
            n.j = new fr,
            n.g.requestStream(e),
            n.C = t || "",
            n.H = Date.now() / 1e3,
            n.j)
        }
        ,
        t.replaceServerSideAdTagParameters = function(e) {
            if (!this.g)
                throw new nt(1,10,10003);
            (e.mpt || e.mpv) && Q('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),
            e.mpt = "Shaka Player",
            e.mpv = "v4.12.5",
            this.g.g.replaceAdTagParameters(e)
        }
        ,
        t.getServerSideCuePoints = function() {
            return wn("AdManager.getServerSideCuePoints", "Please use getCuePoints function."),
            this.getCuePoints()
        }
        ,
        t.getCuePoints = function() {
            var e = [];
            return this.g && (e = e.concat(this.g.getCuePoints())),
            e = this.i ? e.concat(this.i.getCuePoints()) : e
        }
        ,
        t.getStats = function() {
            var e, t = this.m;
            return {
                loadTimes: t.g,
                averageLoadTime: (e = t).g.length ? e.g.reduce(function(e, t) {
                    return e + t
                }, 0) / e.g.length : 0,
                started: t.h,
                playedCompletely: t.j,
                skipped: t.l,
                errors: t.i
            }
        }
        ,
        t.onManifestUpdated = function(e) {
            this.i && this.i.onManifestUpdated(e)
        }
        ,
        t.onDashTimedMetadata = function(e) {
            this.g && "urn:google:dai:2018" == e.schemeIdUri && this.g.g.processMetadata(e.schemeIdUri, e.eventNode ? e.eventNode.attributes.messageData : null, e.startTime)
        }
        ,
        t.onHlsTimedMetadata = function(e, t) {
            this.g && this.g.g.processMetadata("ID3", e.data, t)
        }
        ,
        t.onCueMetadataChange = function(e) {
            this.g && this.g.onCueMetadataChange(e)
        }
        ,
        t.onHLSInterstitialMetadata = function(e, t, n) {
            this.l && this.l.disableHLSInterstitial || (this.h || this.initInterstitial(null, e, t),
            this.h && Pd(this.h, n))
        }
        ,
        t.onDASHInterstitialMetadata = function(e, t, n) {
            if (!(this.l && this.l.disableDASHInterstitial || "urn:mpeg:dash:event:alternativeMPD:2022" != n.schemeIdUri) && (this.h || this.initInterstitial(null, e, t),
            this.h)) {
                e = this.h;
                for (var i = (t = Ze(n.eventNode.children)).next(); !i.done; i = t.next()) {
                    var a = i.value;
                    if ("AlternativeMPD" == a.tagName && (i = a.attributes.uri,
                    a = a.attributes.mode,
                    i)) {
                        var r = i
                          , o = a;
                        break
                    }
                }
                r ? (t = "replace" == o,
                o = "insert" == o,
                (t || o) && Dd(e, [{
                    id: n.id,
                    startTime: n.startTime,
                    endTime: n.endTime,
                    uri: r,
                    mimeType: null,
                    isSkippable: !1,
                    skipOffset: null,
                    skipFor: null,
                    canJump: !0,
                    resumeOffset: o ? 0 : null,
                    playoutLimit: null,
                    once: !1,
                    pre: !1,
                    post: !1,
                    timelineRange: t && !o
                }])) : Q("Unsupported MPD alternate", n)
            }
        }
        ,
        t.addCustomInterstitial = function(e) {
            if (!this.h)
                throw new nt(1,10,10006);
            Dd(this.h, [e])
        }
        ,
        t.addAdUrlInterstitial = function(e) {
            if (this.h)
                return this.h.addAdUrlInterstitial(e);
            throw new nt(1,10,10006)
        }
        ,
        i("shaka.ads.AdManager", qd),
        qd.ADS_LOADED = "ads-loaded",
        qd.AD_STARTED = "ad-started",
        qd.AD_FIRST_QUARTILE = "ad-first-quartile",
        qd.AD_MIDPOINT = "ad-midpoint",
        qd.AD_THIRD_QUARTILE = "ad-third-quartile",
        qd.AD_COMPLETE = "ad-complete",
        qd.AD_STOPPED = "ad-stopped",
        qd.AD_SKIPPED = "ad-skipped",
        qd.AD_VOLUME_CHANGED = "ad-volume-changed",
        qd.AD_MUTED = "ad-muted",
        qd.AD_PAUSED = "ad-paused",
        qd.AD_RESUMED = "ad-resumed",
        qd.AD_SKIP_STATE_CHANGED = "ad-skip-state-changed",
        qd.CUEPOINTS_CHANGED = "ad-cue-points-changed",
        qd.IMA_AD_MANAGER_LOADED = "ima-ad-manager-loaded",
        qd.IMA_STREAM_MANAGER_LOADED = "ima-stream-manager-loaded",
        qd.AD_CLICKED = "ad-clicked",
        qd.AD_PROGRESS = "ad-progress",
        qd.AD_BUFFERING = "ad-buffering",
        qd.AD_IMPRESSION = "ad-impression",
        qd.AD_DURATION_CHANGED = "ad-duration-changed",
        qd.AD_CLOSED = "ad-closed",
        qd.AD_LOADED = "ad-loaded",
        qd.ALL_ADS_COMPLETED = "all-ads-completed",
        qd.AD_LINEAR_CHANGED = "ad-linear-changed",
        qd.AD_METADATA = "ad-metadata",
        qd.AD_RECOVERABLE_ERROR = "ad-recoverable-error",
        qd.AD_ERROR = "ad-error",
        qd.AD_BREAK_READY = "ad-break-ready",
        qd.AD_INTERACTION = "ad-interaction",
        qd.AD_CONTENT_PAUSE_REQUESTED = "ad-content-pause-requested",
        qd.AD_CONTENT_RESUME_REQUESTED = "ad-content-resume-requested",
        qd.AD_CONTENT_ATTACH_REQUESTED = "ad-content-attach-requested";
        var bd = function() {
            return new qd
        }
          , Zd = "ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" ")
          , eh = "buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" ")
          , th = ["loop", "playbackRate"]
          , nh = ["pause", "play"]
          , ih = {
            getAssetUri: 2,
            getAudioLanguages: 4,
            getAudioLanguagesAndRoles: 4,
            getBufferFullness: 1,
            getBufferedInfo: 2,
            getExpiration: 2,
            getKeyStatuses: 2,
            getPlaybackRate: 2,
            getTextLanguages: 4,
            getTextLanguagesAndRoles: 4,
            getImageTracks: 2,
            getThumbnails: 2,
            isAudioOnly: 10,
            isBuffering: 1,
            isInProgress: 1,
            isLive: 10,
            isTextTrackVisible: 1,
            keySystem: 10,
            seekRange: 1,
            getLoadMode: 10,
            getManifestType: 10,
            isFullyLoaded: 1
        }
          , ah = {
            getConfiguration: 4,
            getStats: 5,
            getTextTracks: 2,
            getVariantTracks: 2
        }
          , rh = {
            getPlayheadTimeAsDate: 1,
            getPresentationStartTimeAsDate: 20,
            getSegmentAvailabilityDuration: 20
        }
          , oh = [["getConfiguration", "configure"]]
          , sh = [["isTextTrackVisible", "setTextTrackVisibility"]]
          , uh = "addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" ")
          , lh = ["attach", "attachCanvas", "detach", "load", "unload"];
        function ch(e, t, n, i, a, r, o) {
            var s = this;
            this.I = e,
            this.L = o,
            this.l = new C(t),
            this.M = n,
            this.u = !1,
            this.B = i,
            this.H = a,
            this.O = r,
            this.h = this.m = !1,
            this.K = "",
            this.s = null,
            this.C = function() {
                return ph(s)
            }
            ,
            this.G = function(e, t) {
                switch ((e = $d(t)).type) {
                case "event":
                    var n = e.targetName
                      , i = z(e.event);
                    s.B(n, i);
                    break;
                case "update":
                    for (i in n = e.update)
                        for (var a in e = s.g[i] || {},
                        n[i])
                            e[a] = n[i][a];
                    s.u && (s.M(),
                    s.u = !1);
                    break;
                case "asyncComplete":
                    if (i = e.id,
                    a = e.error,
                    e = s.i[i],
                    delete s.i[i],
                    e)
                        if (a) {
                            for (n in i = new nt(a.severity,a.category,a.code),
                            a)
                                i[n] = a[n];
                            e.reject(i)
                        } else
                            e.resolve()
                }
            }
            ,
            this.g = {
                video: {},
                player: {}
            },
            this.J = 0,
            this.i = {},
            this.j = null,
            wh.add(this)
        }
        function dh(e, t) {
            var n = e.O();
            (bh = t).addUpdateListener(e.C),
            t.addMessageListener("urn:x-cast:com.google.shaka.v2", e.G),
            ph(e),
            mh(e, {
                type: "init",
                initState: n,
                appData: e.s
            }),
            e.j.resolve()
        }
        function hh(e, t) {
            var n = 8003;
            switch (t.code) {
            case "cancel":
                n = 8004;
                break;
            case "timeout":
                n = 8005;
                break;
            case "receiver_unavailable":
                n = 8006
            }
            e.j.reject(new nt(2,8,n,t))
        }
        function fh(e) {
            var t = bh;
            t.removeUpdateListener(e.C),
            t.removeMessageListener("urn:x-cast:com.google.shaka.v2", e.G)
        }
        function ph(e) {
            var t = !!bh && "connected" == bh.status;
            if (e.h && !t) {
                for (var n in e.H(),
                e.g)
                    e.g[n] = {};
                gh(e)
            }
            e.h = t,
            e.K = t ? bh.receiver.friendlyName : "",
            e.l.Ra()
        }
        function gh(e) {
            for (var t in e.i) {
                var n = e.i[t];
                delete e.i[t],
                n.reject(new nt(1,7,7e3))
            }
        }
        function mh(t, n) {
            n = Qd(n);
            var i = bh;
            try {
                i.sendMessage("urn:x-cast:com.google.shaka.v2", n, function() {}, J)
            } catch (e) {
                throw n = new nt(2,8,8005,e),
                i = new Xe("error",(new Map).set("detail", n)),
                t.B("player", i),
                t.kd(),
                n
            }
        }
        (t = ch.prototype).destroy = function() {
            return wh.delete(this),
            gh(this),
            bh && fh(this),
            this.l && (this.l.stop(),
            this.l = null),
            this.H = this.B = null,
            this.h = this.m = !1,
            this.G = this.C = this.j = this.i = this.g = this.s = null,
            Promise.resolve()
        }
        ,
        t.Ua = function() {
            return this.h
        }
        ,
        t.bf = function() {
            return this.K
        }
        ,
        t.init = function() {
            var e;
            this.I.length && (U.chrome && chrome.cast && chrome.cast.isAvailable ? (this.m = !0,
            this.l.Ra(),
            e = new chrome.cast.SessionRequest(this.I,[],null,this.L,null),
            e = new chrome.cast.ApiConfig(e,function(e) {
                for (var t = Ze(wh), n = t.next(); !n.done; n = t.next()) {
                    var i = e;
                    (n = n.value).j = new fr,
                    n.u = !0,
                    dh(n, i)
                }
            }
            ,function(e) {
                for (var t = Ze(wh), n = t.next(); !n.done; n = t.next())
                    n = n.value,
                    yh = "available" == e,
                    n.l.Ra()
            }
            ,"origin_scoped"),
            chrome.cast.initialize(e, function() {}, function() {}),
            yh && this.l.Y(vh),
            (e = bh) && e.status != chrome.cast.SessionStatus.STOPPED ? (this.j = new fr,
            this.u = !0,
            dh(this, e)) : bh = null) : U.__onGCastApiAvailable !== Sh && (Th = U.__onGCastApiAvailable || null,
            U.__onGCastApiAvailable = Sh))
        }
        ,
        t.Xg = function(e) {
            this.s = e,
            this.h && mh(this, {
                type: "appData",
                appData: this.s
            })
        }
        ,
        t.cast = function() {
            var t = this;
            return $e(function(e) {
                if (!t.m)
                    throw new nt(1,8,8e3);
                if (!yh)
                    throw new nt(1,8,8001);
                if (t.h)
                    throw new nt(1,8,8002);
                return t.j = new fr,
                chrome.cast.requestSession(function(e) {
                    return dh(t, e)
                }, function(e) {
                    return hh(t, e)
                }),
                We(e, t.j, 0)
            })
        }
        ,
        t.kd = function() {
            if (this.h) {
                if (gh(this),
                bh) {
                    fh(this);
                    try {
                        bh.stop(function() {}, function() {})
                    } catch (e) {}
                    bh = null
                }
                ph(this)
            }
        }
        ,
        t.get = function(e, t) {
            var n = this;
            if ("video" == e) {
                if (nh.includes(t))
                    return function() {
                        return n.mi.apply(n, [e, t].concat(et(P.apply(0, arguments))))
                    }
            } else if ("player" == e) {
                if (rh[t] && !this.get("player", "isLive")())
                    return function() {}
                    ;
                if (uh.includes(t))
                    return function() {
                        return n.mi.apply(n, [e, t].concat(et(P.apply(0, arguments))))
                    }
                    ;
                if (lh.includes(t))
                    return function() {
                        return n.wk.apply(n, [e, t].concat(et(P.apply(0, arguments))))
                    }
                    ;
                if (ih[t] || ah[t])
                    return function() {
                        return n.g[e][t]
                    }
            }
            return this.g[e][t]
        }
        ,
        t.set = function(e, t, n) {
            this.g[e][t] = n,
            mh(this, {
                type: "set",
                targetName: e,
                property: t,
                value: n
            })
        }
        ,
        t.mi = function(e, t) {
            mh(this, {
                type: "call",
                targetName: e,
                methodName: t,
                args: P.apply(2, arguments)
            })
        }
        ,
        t.wk = function(e, t) {
            var n = P.apply(2, arguments)
              , i = new fr
              , a = this.J.toString();
            this.J++,
            this.i[a] = i;
            try {
                mh(this, {
                    type: "asyncCall",
                    targetName: e,
                    methodName: t,
                    args: n,
                    id: a
                })
            } catch (e) {
                i.reject(e)
            }
            return i
        }
        ;
        var vh = .02
          , yh = !1
          , bh = null
          , Th = null
          , wh = new Set;
        function Sh(e) {
            if (Th ? U.__onGCastApiAvailable = Th : delete U.__onGCastApiAvailable,
            Th = null,
            e)
                for (var t = Ze(wh), n = t.next(); !n.done; n = t.next())
                    n.value.init();
            "function" == typeof U.__onGCastApiAvailable && U.__onGCastApiAvailable(e)
        }
        function Eh(e, t, n, i) {
            i = void 0 !== i && i,
            h.call(this);
            var a = this
              , r = (this.i = e,
            this.h = t,
            this.m = this.s = this.j = this.u = this.l = null,
            this.G = n,
            this.C = i,
            this.B = new Map,
            this.g = new ch(n,function() {
                return Ih(a)
            }
            ,function() {
                return kh(a)
            }
            ,function(e, t) {
                return Mh(a, e, t)
            }
            ,function() {
                return Ch(a)
            }
            ,function() {
                return xh(a)
            }
            ,i),
            this);
            r.g.init(),
            r.m = new pn;
            for (var o, s, u = Ze(Zd), l = u.next(); !l.done; l = u.next())
                r.m.o(r.i, l.value, function(e) {
                    r.g.Ua() || (e = z(e),
                    r.j.dispatchEvent(e))
                });
            for (o in X)
                r.m.o(r.h, X[o], function(e) {
                    r.g.Ua() || r.s.dispatchEvent(e)
                });
            for (s in r.l = {},
            u = {},
            r.i)
                u = {
                    Ud: u.Ud
                },
                u.Ud = s,
                Object.defineProperty(r.l, u.Ud, {
                    configurable: !1,
                    enumerable: !0,
                    get: function(n) {
                        return function() {
                            var i = r
                              , e = n.Ud;
                            if ("addEventListener" == e)
                                return function(e, t, n) {
                                    return i.j.addEventListener(e, t, n)
                                }
                                ;
                            if ("removeEventListener" == e)
                                return function(e, t, n) {
                                    return i.j.removeEventListener(e, t, n)
                                }
                                ;
                            if (i.g.Ua() && 0 == Object.keys(i.g.g.video).length) {
                                var t = i.i[e];
                                if ("function" != typeof t)
                                    return t
                            }
                            return i.g.Ua() ? i.g.get("video", e) : e = "function" == typeof (e = i.i[e]) ? e.bind(i.i) : e
                        }
                    }(u),
                    set: function(n) {
                        return function(e) {
                            var t = n.Ud;
                            r.g.Ua() ? r.g.set("video", t, e) : r.i[t] = e
                        }
                    }(u)
                });
            r.u = {},
            Ah(r, function(t) {
                Object.defineProperty(r.u, t, {
                    configurable: !1,
                    enumerable: !0,
                    get: function() {
                        var i = r
                          , e = t;
                        if ("addEventListener" == (e = i.B.has(e) ? i.B.get(e) : e))
                            return function(e, t, n) {
                                return i.s.addEventListener(e, t, n)
                            }
                            ;
                        if ("removeEventListener" == e)
                            return function(e, t, n) {
                                return i.s.removeEventListener(e, t, n)
                            }
                            ;
                        if ("getMediaElement" == e)
                            return function() {
                                return i.l
                            }
                            ;
                        if ("getSharedConfiguration" == e)
                            return i.g.get("player", "getConfiguration");
                        if ("getNetworkingEngine" == e)
                            return function() {
                                return i.h.Hb()
                            }
                            ;
                        if ("getDrmEngine" == e)
                            return function() {
                                return i.h.G
                            }
                            ;
                        if ("getAdManager" == e)
                            return function() {
                                return i.h.Ce()
                            }
                            ;
                        if ("setVideoContainer" == e)
                            return function(e) {
                                return i.h.eh(e)
                            }
                            ;
                        if (i.g.Ua()) {
                            if ("getManifest" == e || "drmInfo" == e)
                                return function() {
                                    return Q(e + "() does not work while casting!"),
                                    null
                                }
                                ;
                            if ("attach" == e || "detach" == e)
                                return function() {
                                    return Q(e + "() does not work while casting!"),
                                    Promise.resolve()
                                }
                        }
                        return i.g.Ua() && 0 == Object.keys(i.g.g.video).length && (ih[e] || ah[e]) || !i.g.Ua() ? i.h[e].bind(i.h) : i.g.get("player", e)
                    }
                })
            });
            var c = r
              , d = new Map;
            Ah(c, function(e, t) {
                d.has(t) ? (t = d.get(t),
                e.length < t.length ? c.B.set(e, t) : c.B.set(t, e)) : d.set(t, e)
            }),
            r.j = new h,
            r.j.ke = r.l,
            r.s = new h,
            r.s.ke = r.u
        }
        function Ah(e, t) {
            function n(e) {
                return "constructor" != e && "function" == typeof a[e] && !r.has(e)
            }
            var i, a = e.h, r = new Set;
            for (i in a)
                n(i) && (r.add(i),
                t(i, a[i]));
            for (e = Object.getPrototypeOf(a),
            i = Object.getPrototypeOf({}); e && e != i; ) {
                for (var o = Ze(Object.getOwnPropertyNames(e)), s = o.next(); !s.done; s = o.next())
                    n(s = s.value) && (r.add(s),
                    t(s, a[s]));
                e = Object.getPrototypeOf(e)
            }
        }
        function xh(e) {
            var t = {
                video: {},
                player: {},
                playerAfterLoad: {},
                manifest: e.h.ld(),
                startTime: null
            };
            e.i.pause();
            for (var n = Ze(th), i = n.next(); !i.done; i = n.next())
                i = i.value,
                t.video[i] = e.i[i];
            for (e.i.ended || (t.startTime = e.i.currentTime),
            i = (n = Ze(oh)).next(); !i.done; i = n.next()) {
                var i = (a = i.value)[1]
                  , a = e.h[a[0]]();
                t.player[i] = a
            }
            for (i = (n = Ze(sh)).next(); !i.done; i = n.next())
                i = (a = i.value)[1],
                a = e.h[a[0]](),
                t.playerAfterLoad[i] = a;
            return t
        }
        function Ih(e) {
            var t = new Xe("caststatuschanged");
            e.dispatchEvent(t)
        }
        function kh(e) {
            var t = new Xe(e.l.paused ? "pause" : "play");
            e.j.dispatchEvent(t)
        }
        function Ch(i) {
            for (var e = Ze(oh), t = e.next(); !t.done; t = e.next()) {
                var t = (n = t.value)[1]
                  , n = i.g.get("player", n[0])();
                i.h[t](n)
            }
            var a, r = i.g.get("player", "getAssetUri")(), o = (n = i.g.get("video", "ended"),
            e = Promise.resolve(),
            i.i.autoplay), s = (t = null,
            n || (t = i.g.get("video", "currentTime")),
            (n = i.g.get("player", "getTextTracks")()) && n.length && (a = n.find(function(e) {
                return e.active
            })),
            i.g.get("player", "isTextTrackVisible")()), u = (r && (i.i.autoplay = !1,
            e = i.h.load(r, t)),
            {});
            for (n = (t = Ze(th)).next(); !n.done; n = t.next())
                n = n.value,
                u[n] = i.g.get("video", n);
            e.then(function() {
                if (i.i) {
                    for (var e = Ze(th), t = e.next(); !t.done; t = e.next())
                        t = t.value,
                        i.i[t] = u[t];
                    for (t = (e = Ze(sh)).next(); !t.done; t = e.next()) {
                        var t = (n = t.value)[1]
                          , n = i.g.get("player", n[0])();
                        i.h[t](n)
                    }
                    i.h.kf(s),
                    a && i.h.Vg(a.language, a.roles, a.forced),
                    i.i.autoplay = o,
                    r && i.i.play()
                }
            }, function(e) {
                e = new Xe("error",e = (new Map).set("detail", e)),
                i.h.dispatchEvent(e)
            })
        }
        function Mh(e, t, n) {
            e.g.Ua() && ("video" == t ? e.j.dispatchEvent(n) : "player" == t && e.s.dispatchEvent(n))
        }
        function Lh(e, t, n, i) {
            h.call(this);
            var a = this
              , u = (this.g = e,
            this.h = t,
            this.j = new pn,
            this.J = {
                video: e,
                player: t
            },
            this.H = n || function() {}
            ,
            this.K = i || function(e) {
                return e
            }
            ,
            this.i = null,
            this.I = !1,
            this.s = !0,
            this.m = 0,
            this.C = !1,
            this.B = !0,
            this.u = this.l = null,
            this.G = new C(function() {
                Nh(a)
            }
            ),
            this)
              , r = cast.receiver.CastReceiverManager.getInstance();
            r.onSenderConnected = function() {
                return Rh(u)
            }
            ,
            r.onSenderDisconnected = function() {
                return Rh(u)
            }
            ,
            r.onSystemVolumeChanged = function() {
                var e = cast.receiver.CastReceiverManager.getInstance().getSystemVolume();
                e && jh(u, {
                    type: "update",
                    update: {
                        video: {
                            volume: e.level,
                            muted: e.muted
                        }
                    }
                }, u.l),
                jh(u, {
                    type: "event",
                    targetName: "video",
                    event: {
                        type: "volumechange"
                    }
                }, u.l)
            }
            ,
            u.u = r.getCastMessageBus("urn:x-cast:com.google.cast.media"),
            u.u.onMessage = function(e) {
                var n = u
                  , t = e
                  , i = $d(t.data);
                switch (i.type) {
                case "PLAY":
                    n.g.play(),
                    Fh(n);
                    break;
                case "PAUSE":
                    n.g.pause(),
                    Fh(n);
                    break;
                case "SEEK":
                    t = i.currentTime;
                    var a = i.resumeState;
                    null != t && (n.g.currentTime = Number(t)),
                    a && "PLAYBACK_START" == a ? (n.g.play(),
                    Fh(n)) : a && "PLAYBACK_PAUSE" == a && (n.g.pause(),
                    Fh(n));
                    break;
                case "STOP":
                    n.h.pc().then(function() {
                        n.h && Fh(n)
                    });
                    break;
                case "GET_STATUS":
                    Oh(n, Number(i.requestId));
                    break;
                case "VOLUME":
                    a = i.volume,
                    t = a.level,
                    a = a.muted;
                    var r = n.g.volume
                      , o = n.g.muted;
                    null != t && (n.g.volume = Number(t)),
                    null != a && (n.g.muted = a),
                    r == n.g.volume && o == n.g.muted || Fh(n);
                    break;
                case "LOAD":
                    n.m = 0,
                    n.C = !1,
                    n.B = !1,
                    t = i.media,
                    a = i.currentTime,
                    r = n.K(t.contentId),
                    o = i.autoplay || !0,
                    n.H(t.customData),
                    o && (n.g.autoplay = !0),
                    n.h.load(r, a).then(function() {
                        n.h && Oh(n)
                    }).catch(function(e) {
                        var t = "LOAD_FAILED";
                        7 == e.category && 7e3 == e.code && (t = "LOAD_CANCELLED"),
                        jh(n, {
                            requestId: Number(i.requestId),
                            type: t
                        }, n.u)
                    });
                    break;
                default:
                    jh(n, {
                        requestId: Number(i.requestId),
                        type: "INVALID_REQUEST",
                        reason: "INVALID_COMMAND"
                    }, n.u)
                }
            }
            ,
            u.l = r.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),
            u.l.onMessage = function(e) {
                var t = u
                  , n = e
                  , i = $d(n.data);
                switch (i.type) {
                case "init":
                    t.m = 0,
                    t.C = !1,
                    t.B = !0,
                    !function(t, n, i) {
                        var a, r, o, s, u, l, c, d;
                        $e(function(e) {
                            switch (e.g) {
                            case 1:
                                for (a in n.player)
                                    r = n.player[a],
                                    t.h[a](r);
                                return t.H(i),
                                o = t.g.autoplay,
                                n.manifest ? (t.g.autoplay = !1,
                                qe(e, 5),
                                We(e, t.h.load(n.manifest, n.startTime), 7)) : We(e, Promise.resolve(), 3);
                            case 7:
                                Je(e, 3);
                                break;
                            case 5:
                                return s = Qe(e),
                                s = (new Map).set("detail", s),
                                s = new Xe("error",s),
                                t.h && t.h.dispatchEvent(s),
                                e.return();
                            case 3:
                                if (!t.h)
                                    return e.return();
                                for (u in n.video)
                                    l = n.video[u],
                                    t.g[u] = l;
                                for (c in n.playerAfterLoad)
                                    d = n.playerAfterLoad[c],
                                    t.h[c](d);
                                t.g.autoplay = o,
                                n.manifest && (t.g.play(),
                                Fh(t)),
                                Ye(e)
                            }
                        })
                    }(t, i.initState, i.appData),
                    Nh(t);
                    break;
                case "appData":
                    t.H(i.appData);
                    break;
                case "set":
                    var a = i.targetName
                      , r = i.property;
                    if (i = i.value,
                    "video" == a) {
                        if (n = cast.receiver.CastReceiverManager.getInstance(),
                        "volume" == r) {
                            n.setSystemVolumeLevel(i);
                            break
                        }
                        if ("muted" == r) {
                            n.setSystemVolumeMuted(i);
                            break
                        }
                    }
                    t.J[a][r] = i;
                    break;
                case "call":
                    (a = t.J[i.targetName])[i.methodName].apply(a, i.args);
                    break;
                case "asyncCall":
                    a = i.targetName,
                    r = i.methodName,
                    "player" == a && "load" == r && (t.m = 0,
                    t.C = !1);
                    var o = i.id
                      , s = n.senderId;
                    n = t.J[a],
                    i = n[r].apply(n, i.args),
                    (i = "player" == a && "load" == r ? i.then(function() {
                        t.B = !0
                    }) : i).then(function() {
                        return Uh(t, s, o, null)
                    }, function(e) {
                        return Uh(t, s, o, e)
                    })
                }
            }
            ,
            r.start();
            for (var o, s = (r = Ze(Zd)).next(); !s.done; s = r.next())
                u.j.o(u.g, s.value, function(e) {
                    return Dh(u, "video", e)
                });
            for (o in X)
                u.j.o(u.h, X[o], function(e) {
                    return Dh(u, "player", e)
                });
            u.j.o(u.g, "loadeddata", function() {
                u.C = !0
            }),
            u.j.o(u.h, "loading", function() {
                u.s = !1,
                Ph(u)
            }),
            u.j.o(u.g, "playing", function() {
                u.s = !1,
                Ph(u)
            }),
            u.j.o(u.g, "pause", function() {
                Ph(u)
            }),
            u.j.o(u.h, "unloading", function() {
                u.s = !0,
                Ph(u)
            }),
            u.j.o(u.g, "ended", function() {
                new C(function() {
                    u.g && u.g.ended && (u.s = !0,
                    Ph(u))
                }
                ).Y(Gh)
            })
        }
        function Rh(e) {
            e.m = 0,
            e.B = !0,
            e.I = 0 != cast.receiver.CastReceiverManager.getInstance().getSenders().length,
            Ph(e)
        }
        function Ph(t) {
            var n;
            $e(function(e) {
                return 1 == e.g ? We(e, Promise.resolve(), 2) : t.h ? (n = new Xe("caststatuschanged"),
                t.dispatchEvent(n),
                _h(t) || Fh(t),
                void Ye(e)) : e.return()
            })
        }
        function Dh(e, t, n) {
            e.h && (Nh(e),
            jh(e, {
                type: "event",
                targetName: t,
                event: n
            }, e.l))
        }
        function Nh(e) {
            e.G.Y(Bh);
            for (var t, n, i = {
                video: {},
                player: {}
            }, a = Ze(eh), r = a.next(); !r.done; r = a.next())
                r = r.value,
                i.video[r] = e.g[r];
            if (e.h.T())
                for (var o in rh)
                    0 == e.m % rh[o] && (i.player[o] = e.h[o]());
            for (t in ih)
                0 == e.m % ih[t] && (i.player[t] = e.h[t]());
            for (n in (a = cast.receiver.CastReceiverManager.getInstance().getSystemVolume()) && (i.video.volume = a.level,
            i.video.muted = a.muted),
            jh(e, {
                type: "update",
                update: i
            }, e.l),
            ah)
                0 == e.m % ah[n] && (i = {
                    player: {}
                },
                i.player[n] = e.h[n](),
                jh(e, {
                    type: "update",
                    update: i
                }, e.l));
            e.C && (e.m += 1),
            _h(e)
        }
        function _h(e) {
            return e.B && (e.g.duration || e.h.T()) && (Oh(e),
            e.B = !1,
            1)
        }
        function Oh(e, t) {
            var n = {
                contentId: e.h.ld(),
                streamType: e.h.T() ? "LIVE" : "BUFFERED",
                contentType: ""
            };
            e.h.T() || (n.duration = e.g.duration),
            e.i && (n.metadata = e.i),
            Fh(e, void 0 === t ? 0 : t, n)
        }
        function Uh(e, t, n, i) {
            e.h && jh(e, {
                type: "asyncComplete",
                id: n,
                error: i
            }, e.l, t)
        }
        function jh(e, t, n, i) {
            e.I && (e = Qd(t),
            i ? n.getCastChannel(i).send(e) : n.broadcast(e))
        }
        function Fh(e, t, n) {
            n = void 0 === n ? null : n;
            var i = {
                mediaSessionId: 0,
                playbackRate: e.g.playbackRate,
                playerState: e.s ? Vh : e.h.Me() ? Kh : e.g.paused ? zh : Hh,
                currentTime: e.g.currentTime,
                supportedMediaCommands: 63,
                volume: {
                    level: e.g.volume,
                    muted: e.g.muted
                }
            };
            n && (i.media = n),
            jh(e, {
                requestId: void 0 === t ? 0 : t,
                type: "MEDIA_STATUS",
                status: [i]
            }, e.u)
        }
        n(Eh, h),
        (t = Eh.prototype).destroy = function(e) {
            return e && this.g.kd(),
            this.m && (this.m.release(),
            this.m = null),
            e = [],
            this.h && (e.push(this.h.destroy()),
            this.h = null),
            this.g && (e.push(this.g.destroy()),
            this.g = null),
            this.u = this.l = this.i = null,
            h.prototype.release.call(this),
            Promise.all(e)
        }
        ,
        t.vc = function() {
            return this.l
        }
        ,
        t.nd = function() {
            return this.u
        }
        ,
        t.Lf = function() {
            return this.g.m && yh
        }
        ,
        t.Ua = function() {
            return this.g.Ua()
        }
        ,
        t.bf = function() {
            return this.g.bf()
        }
        ,
        t.cast = function() {
            var t = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, t.g.cast(), 2) : t.h ? We(e, t.h.pc(), 0) : e.return()
            })
        }
        ,
        t.Xg = function(e) {
            this.g.Xg(e)
        }
        ,
        t.Gi = function() {
            var t;
            (t = this.g).h && chrome.cast.requestSession(function(e) {
                return dh(t, e)
            }, function(e) {
                return hh(t, e)
            })
        }
        ,
        t.kd = function() {
            this.g.kd()
        }
        ,
        t.Ah = function(t, n) {
            n = void 0 !== n && n;
            var i = this;
            return $e(function(e) {
                if (1 == e.g)
                    return t == i.G && n == i.C ? e.return() : (i.G = t,
                    i.C = n,
                    i.g.kd(),
                    We(e, i.g.destroy(), 2));
                i.g = null,
                i.g = new ch(t,function() {
                    return Ih(i)
                }
                ,function() {
                    return kh(i)
                }
                ,function(e, t) {
                    return Mh(i, e, t)
                }
                ,function() {
                    return Ch(i)
                }
                ,function() {
                    return xh(i)
                }
                ,n),
                i.g.init(),
                Ye(e)
            })
        }
        ,
        i("shaka.cast.CastProxy", Eh),
        Eh.prototype.changeReceiverId = Eh.prototype.Ah,
        Eh.prototype.forceDisconnect = Eh.prototype.kd,
        Eh.prototype.suggestDisconnect = Eh.prototype.Gi,
        Eh.prototype.setAppData = Eh.prototype.Xg,
        Eh.prototype.receiverName = Eh.prototype.bf,
        Eh.prototype.isCasting = Eh.prototype.Ua,
        Eh.prototype.canCast = Eh.prototype.Lf,
        Eh.prototype.getPlayer = Eh.prototype.nd,
        Eh.prototype.getVideo = Eh.prototype.vc,
        n(Lh, h),
        (t = Lh.prototype).isConnected = function() {
            return this.I
        }
        ,
        t.Tj = function() {
            return this.s
        }
        ,
        t.Jk = function(e) {
            this.i = e
        }
        ,
        t.$i = function() {
            this.i = null
        }
        ,
        t.Kk = function(e) {
            this.i || (this.i = {
                metadataType: cast.receiver.media.MetadataType.GENERIC
            }),
            this.i.title = e
        }
        ,
        t.Ik = function(e) {
            this.i || (this.i = {
                metadataType: cast.receiver.media.MetadataType.GENERIC
            }),
            this.i.images = [{
                url: e
            }]
        }
        ,
        t.Hk = function(e) {
            this.i || (this.i = {}),
            this.i.artist = e,
            this.i.metadataType = cast.receiver.media.MetadataType.MUSIC_TRACK
        }
        ,
        t.destroy = function() {
            var t, n = this;
            return $e(function(e) {
                if (1 == e.g)
                    return n.j && (n.j.release(),
                    n.j = null),
                    t = [],
                    n.h && (t.push(n.h.destroy()),
                    n.h = null),
                    n.G && (n.G.stop(),
                    n.G = null),
                    n.g = null,
                    n.J = null,
                    n.H = null,
                    n.I = !1,
                    n.s = !0,
                    n.l = null,
                    n.u = null,
                    h.prototype.release.call(n),
                    We(e, Promise.all(t), 2);
                cast.receiver.CastReceiverManager.getInstance().stop(),
                Ye(e)
            })
        }
        ,
        i("shaka.cast.CastReceiver", Lh),
        Lh.prototype.setContentArtist = Lh.prototype.Hk,
        Lh.prototype.setContentImage = Lh.prototype.Ik,
        Lh.prototype.setContentTitle = Lh.prototype.Kk,
        Lh.prototype.clearContentMetadata = Lh.prototype.$i,
        Lh.prototype.setContentMetadata = Lh.prototype.Jk,
        Lh.prototype.isIdle = Lh.prototype.Tj;
        var Bh = .5
          , Gh = 5
          , Vh = "IDLE"
          , Hh = "PLAYING"
          , Kh = "BUFFERING"
          , zh = "PAUSED";
        function Xh(e, t, n, i, a) {
            if (a <= i)
                return null;
            for (var r = -1, o = -1, s = 0; s < n.length; s++)
                if (n[s].some(function(e) {
                    return null != e && "" != e.g.trim()
                })) {
                    r = s;
                    break
                }
            for (s = n.length - 1; 0 <= s; s--)
                if (n[s].some(function(e) {
                    return null != e && "" != e.g.trim()
                })) {
                    o = s;
                    break
                }
            if (-1 === r || -1 === o)
                return null;
            for (var u = s = !1, l = "white", c = "black", d = Wh(i, a, s, u, l, c); r <= o; r++) {
                for (var h, f, p, g, m = n[r], v = -1, y = -1, b = 0; b < m.length; b++)
                    if (null != m[b] && "" !== m[b].g.trim()) {
                        v = b;
                        break
                    }
                for (b = m.length - 1; 0 <= b; b--)
                    if (null != m[b] && "" !== m[b].g.trim()) {
                        y = b;
                        break
                    }
                if (-1 === v || -1 === y)
                    m = Yh(i, a),
                    e.nestedCues.push(m);
                else {
                    for (; v <= y; v++)
                        (b = m[v]) ? (h = b.l,
                        f = b.i,
                        p = b.j,
                        g = b.h,
                        h == s && f == u && p == l && g == c || (d.payload && e.nestedCues.push(d),
                        d = Wh(i, a, h, f, p, g),
                        s = h,
                        u = f,
                        l = p,
                        c = g),
                        d.payload += b.g) : d.payload += " ";
                    d.payload && e.nestedCues.push(d),
                    r !== o && (d = Yh(i, a),
                    e.nestedCues.push(d)),
                    d = Wh(i, a, s, u, l, c)
                }
            }
            return e.nestedCues.length ? {
                cue: e,
                stream: t
            } : null
        }
        function Wh(e, t, n, i, a, r) {
            return e = new Ei(e,t,""),
            n && e.textDecoration.push(Xi),
            i && (e.fontStyle = Ki),
            e.color = a,
            e.backgroundColor = r,
            e
        }
        function Yh(e, t) {
            return (e = new Ei(e,t,"")).lineBreak = !0,
            e
        }
        function qh(e, t, n, i, a) {
            this.g = e,
            this.l = t,
            this.i = n,
            this.h = i,
            this.j = a
        }
        function Jh(e, t) {
            this.i = [],
            this.g = 1,
            this.h = 0,
            this.G = e,
            this.C = t,
            this.j = this.m = !1,
            this.l = "white",
            this.s = "black",
            this.u = this.B = null,
            $h(this)
        }
        function Qh(e, t, n) {
            var i = "CC" + (1 + (e.G << 1 | e.C))
              , a = new Ei(t,n,"")
              , r = (a.lineInterpretation = 1,
            sf.get(e.g));
            return r && (a.line = r),
            null != e.u && null != e.B && (a.position = 10 + Math.min(70, 10 * e.u) + 2.5 * e.B),
            (t = Xh(a, i, e.i, t, n)) && 15 < e.g + t.cue.nestedCues.length - 3 && (r = sf.get(e.g + 3 - t.cue.nestedCues.length)) && (a.line = r),
            t
        }
        function $h(e) {
            tf(e, 0, 15),
            e.g = 1
        }
        function Zh(e, t, n) {
            if (!(n < 32 || 127 < n)) {
                var i = "";
                switch (t) {
                case 0:
                    i = nf.has(n) ? nf.get(n) : String.fromCharCode(n);
                    break;
                case 1:
                    i = af.get(n);
                    break;
                case 2:
                    e.i[e.g].pop(),
                    i = rf.get(n);
                    break;
                case 3:
                    e.i[e.g].pop(),
                    i = of.get(n)
                }
                i && e.i[e.g].push(new qh(i,e.m,e.j,e.s,e.l))
            }
        }
        function ef(e, t, n, i) {
            if (!(n < 0 || t < 0))
                if (n <= t)
                    for (--i; 0 <= i; i--)
                        e.i[t + i] = e.i[n + i].map(function(e) {
                            return e
                        });
                else
                    for (var a = 0; a < i; a++)
                        e.i[t + a] = e.i[n + a].map(function(e) {
                            return e
                        })
        }
        function tf(e, t, n) {
            for (var i = 0; i <= n; i++)
                e.i[t + i] = []
        }
        var nf = new Map([[39, "’"], [42, "á"], [92, "é"], [92, "é"], [94, "í"], [95, "ó"], [96, "ú"], [123, "ç"], [124, "÷"], [125, "Ñ"], [126, "ñ"], [127, "█"]])
          , af = new Map([[48, "®"], [49, "°"], [50, "½"], [51, "¿"], [52, "™"], [53, "¢"], [54, "£"], [55, "♪"], [56, "à"], [57, " "], [58, "è"], [59, "â"], [60, "ê"], [61, "î"], [62, "ô"], [63, "û"]])
          , rf = new Map([[32, "Á"], [33, "É"], [34, "Ó"], [35, "Ú"], [36, "Ü"], [37, "ü"], [38, "‘"], [39, "¡"], [40, "*"], [41, "'"], [42, "─"], [43, "©"], [44, "℠"], [45, "·"], [46, "“"], [47, "”"], [48, "À"], [49, "Â"], [50, "Ç"], [51, "È"], [52, "Ê"], [53, "Ë"], [54, "ë"], [55, "Î"], [56, "Ï"], [57, "ï"], [58, "Ô"], [59, "Ù"], [60, "ù"], [61, "Û"], [62, "«"], [63, "»"]])
          , of = new Map([[32, "Ã"], [33, "ã"], [34, "Í"], [35, "Ì"], [36, "ì"], [37, "Ò"], [38, "ò"], [39, "Õ"], [40, "õ"], [41, "{"], [42, "}"], [43, "\\"], [44, "^"], [45, "_"], [46, "|"], [47, "~"], [48, "Ä"], [49, "ä"], [50, "Ö"], [51, "ö"], [52, "ß"], [53, "¥"], [54, "¤"], [55, "│"], [56, "Å"], [57, "å"], [58, "Ø"], [59, "ø"], [60, "┌"], [61, "┐"], [62, "└"], [63, "┘"]])
          , sf = new Map([[1, 10], [2, 15.33], [3, 20.66], [4, 26], [5, 31.33], [6, 36.66], [7, 42], [8, 47.33], [9, 52.66], [10, 58], [11, 63.33], [12, 68.66], [13, 74], [14, 79.33], [15, 84.66]]);
        function uf(e, t) {
            this.h = 0,
            this.s = new Jh(e,t),
            this.i = new Jh(e,t),
            this.g = this.j = new Jh(e,t),
            this.l = 0,
            this.m = null
        }
        function lf(e, t, n) {
            e.g = e.i;
            var i = e.g
              , a = null;
            return 3 !== e.h && 4 !== e.h && (a = Qh(i, e.l, n),
            (n = e.i).g = 0 < n.h ? n.h : 0,
            tf(n, 0, 15),
            (n = e.j).g = 0 < n.h ? n.h : 0,
            tf(n, 0, 15),
            i.g = 15),
            e.h = 3,
            i.h = t,
            a
        }
        function cf(e) {
            e.h = 1,
            e.g = e.j,
            e.g.h = 0
        }
        function df(e) {
            q("Cea608DataChannel", "CEA-608 text mode entered, but is unsupported"),
            e.g = e.s,
            e.h = 4
        }
        var hf = "black green blue cyan red yellow magenta black".split(" ")
          , ff = "white green blue cyan red yellow magenta white_italics".split(" ");
        function pf(e, t) {
            this.K = t,
            this.O = e,
            this.L = this.l = !1,
            this.m = this.s = this.I = this.M = this.J = 0,
            this.H = 2,
            this.i = [],
            this.g = this.h = this.j = 0,
            this.G = this.B = !1,
            this.C = "white",
            this.u = "black",
            gf(this)
        }
        function gf(e) {
            e.i = [];
            for (var t = 0; t < 16; t++)
                e.i.push(mf())
        }
        function mf() {
            for (var e = [], t = 0; t < 42; t++)
                e.push(null);
            return e
        }
        function vf(e, t) {
            yf(e) && (e.i[e.h][e.g] = new qh(t,e.G,e.B,e.u,e.C),
            e.g++)
        }
        function yf(e) {
            var t = e.g < e.m && 0 <= e.g;
            return e.h < e.s && 0 <= e.h && t
        }
        function bf(e, t, n) {
            var i = new Ei(e.j,t,"")
              , a = (i.textAlign = 0 === e.H ? "left" : 1 === e.H ? "right" : Li,
            i.region);
            switch (e.K && (a.id += "svc" + e.K),
            a.id += "win" + e.O,
            a.height = e.s,
            a.width = e.m,
            a.heightUnits = 2,
            a.widthUnits = 2,
            a.viewportAnchorX = e.J,
            a.viewportAnchorY = e.M,
            a.viewportAnchorUnits = e.L ? Pn : 2,
            e.I) {
            case 0:
                a.regionAnchorX = 0,
                a.regionAnchorY = 0;
                break;
            case 1:
                a.regionAnchorX = 50,
                a.regionAnchorY = 0;
                break;
            case 2:
                a.regionAnchorX = 100,
                a.regionAnchorY = 0;
                break;
            case 3:
                a.regionAnchorX = 0,
                a.regionAnchorY = 50;
                break;
            case 4:
                a.regionAnchorX = 50,
                a.regionAnchorY = 50;
                break;
            case 5:
                a.regionAnchorX = 100,
                a.regionAnchorY = 50;
                break;
            case 6:
                a.regionAnchorX = 0,
                a.regionAnchorY = 100;
                break;
            case 7:
                a.regionAnchorX = 50,
                a.regionAnchorY = 100;
                break;
            case 8:
                a.regionAnchorX = 100,
                a.regionAnchorY = 100
            }
            return (n = Xh(i, "svc" + n, e.i, e.j, t)) && (e.j = t),
            n
        }
        function Tf() {
            this.i = [],
            this.h = null,
            this.g = 0
        }
        function wf(e) {
            this.g = 0,
            this.h = e
        }
        function Sf(e) {
            if (e.Ha())
                return e.h[e.g++];
            throw new nt(2,2,3e3)
        }
        function Ef(e) {
            this.i = e,
            this.h = [null, null, null, null, null, null, null, null],
            this.g = null
        }
        function Af(e, t) {
            for (var n = [], i = 0; i < 8; i++)
                1 == (1 & t) && e.h[i] && n.push(i),
                t >>= 1;
            return n
        }
        function xf(e, t, n) {
            for (var i = null, a = (t = Ze(Af(e, t))).next(); !a.done; a = t.next()) {
                var a = a.value
                  , r = e.h[a];
                r.isVisible() && (i = bf(r, n, e.i)),
                e.h[a] = null
            }
            return i
        }
        function If(e) {
            e.g = null,
            e.h = [null, null, null, null, null, null, null, null]
        }
        function kf(e, t, n) {
            var i = {
                0: 0,
                1: 0,
                2: 1,
                3: 1
            };
            return Mf[(e = i[e]) << 2 | (t = i[t]) << 1 | (n = i[n])]
        }
        pf.prototype.isVisible = function() {
            return this.l
        }
        ,
        pf.prototype.display = function() {
            this.l = !0
        }
        ,
        wf.prototype.Ha = function() {
            return this.g < this.h.length
        }
        ,
        wf.prototype.Pa = function() {
            return this.g
        }
        ,
        wf.prototype.skip = function(e) {
            if (this.g + e > this.h.length)
                throw new nt(2,2,3e3);
            this.g += e
        }
        ;
        var Cf = new Map([[32, " "], [33, " "], [37, "…"], [42, "Š"], [44, "Œ"], [48, "█"], [49, "‘"], [50, "’"], [51, "“"], [52, "”"], [53, "•"], [57, "™"], [58, "š"], [60, "œ"], [61, "℠"], [63, "Ÿ"], [118, "⅛"], [119, "⅜"], [120, "⅝"], [121, "⅞"], [122, "│"], [123, "┐"], [124, "└"], [125, "─"], [126, "┘"], [127, "┌"]])
          , Mf = "black blue green cyan red magenta yellow white".split(" ");
        function Lf() {
            this.h = [],
            this.g = [],
            this.i = new Tf,
            this.l = 0,
            this.m = new Map([["CC1", new uf(0,0)], ["CC2", new uf(0,1)], ["CC3", new uf(1,0)], ["CC4", new uf(1,1)]]),
            this.u = this.s = 0,
            this.j = new Map,
            this.C = !0,
            this.B = new Set,
            Rf(this)
        }
        function Rf(e) {
            e.s = 0,
            e.u = 0;
            for (var t = Ze(e.m.values()), n = t.next(); !n.done; n = t.next())
                (n = n.value).h = 0,
                n.g = n.j,
                n.m = null,
                $h(n.i),
                $h(n.j),
                $h(n.s);
            e.C = !0
        }
        function Pf(e) {
            for (var t = 0; e; )
                t ^= 1 & e,
                e >>= 1;
            return 1 === t
        }
        function Df(e) {
            for (var t = [], n = e, i = e = 0; i < n.length; )
                2 == e && 3 == n[i] ? (e = 0,
                (n = [].concat(et(n))).splice(i, 1),
                n = new Uint8Array(n)) : 0 == n[i] ? e++ : e = 0,
                i++;
            for (e = n,
            i = 0; i < e.length; ) {
                for (n = 0; 255 == e[i]; )
                    n += 255,
                    i++;
                n += e[i++];
                for (var a = 0; 255 == e[i]; )
                    a += 255,
                    i++;
                a += e[i++],
                4 == n && t.push(e.subarray(i, i + a)),
                i += a
            }
            return t
        }
        function Nf() {
            this.j = new Map,
            this.i = this.h = 0,
            this.g = _f
        }
        Lf.prototype.clear = function() {
            this.l = 0,
            this.h = [],
            this.g = [];
            var e = this.i;
            e.i = [],
            e.h = [],
            e.g = 0,
            Rf(this);
            for (var t = (e = Ze(this.j.values())).next(); !t.done; t = e.next())
                If(t.value)
        }
        ,
        Lf.prototype.extract = function(e, t) {
            if (this.C) {
                for (var n = Ze(this.m.values()), i = n.next(); !i.done; i = n.next())
                    i.value.l = t;
                this.C = !1
            }
            if (!((e = new Or(e,0)).getLength() < 8) && 181 === e.$() && 49 === e.za() && 1195456820 === e.U() && 3 === e.$() && 0 != (64 & (n = e.$())))
                for (n &= 31,
                e.skip(1),
                i = 0; i < n; i++) {
                    var a = e.$()
                      , r = (4 & a) >> 2
                      , o = e.$()
                      , s = e.$();
                    r && (0 == (a &= 3) || 1 == a ? this.h.push({
                        pts: t,
                        type: a,
                        yb: o,
                        ac: s,
                        order: this.h.length
                    }) : (this.g.push({
                        pts: t,
                        type: a,
                        value: o,
                        order: this.g.length
                    }),
                    this.g.push({
                        pts: t,
                        type: 2,
                        value: s,
                        order: this.g.length
                    })))
                }
        }
        ,
        Lf.prototype.decode = function() {
            function e(e, t) {
                return e.pts - t.pts || e.order - t.order
            }
            var t = [];
            this.h.sort(e),
            this.g.sort(e);
            for (var n, i, a = Ze(this.h), r = a.next(); !r.done; r = a.next())
                (r = function(e, t) {
                    var n = t.type;
                    {
                        var i;
                        16 == (112 & t.yb) && (i = t.yb >> 3 & 1,
                        0 === n ? e.s = i : e.u = i)
                    }
                    if (i = "CC" + (1 + (n << 1 | (n ? e.u : e.s))),
                    n = e.m.get(i),
                    255 === t.yb && 255 === t.ac || !t.yb && !t.ac || !Pf(t.yb) || !Pf(t.ac))
                        return 45 <= ++e.l && Rf(e),
                        null;
                    e.l = 0,
                    t.yb &= 127,
                    t.ac &= 127;
                    var a = t.yb;
                    if (1 <= a && a <= 15 || !t.yb && !t.ac)
                        return null;
                    if (a = null,
                    16 == (112 & t.yb))
                        e: {
                            if (e.B.add(i),
                            i = t.yb,
                            e = t.ac,
                            n.m === (i << 8 | e))
                                n.m = null;
                            else if (n.m = i << 8 | e,
                            16 == (240 & i) && 64 == (192 & e)) {
                                t = [11, 11, 1, 2, 3, 4, 12, 13, 14, 15, 5, 6, 7, 8, 9, 10][(7 & i) << 1 | e >> 5 & 1],
                                a = !(i = "white");
                                var r = null
                                  , o = 95 < e ? e - 96 : e - 64;
                                o <= 13 ? i = ff[Math.floor(o / 2)] : o <= 15 ? a = !0 : r = Math.floor((o - 16) / 2),
                                e = 1 == (1 & e),
                                4 !== n.h && (o = n.g,
                                3 === n.h && t !== o.g && (n = 1 + t - o.h,
                                ef(o, n, 1 + o.g - o.h, o.h),
                                tf(o, 0, n - 1),
                                tf(o, t + 1, 15 - t)),
                                o.g = t,
                                o.m = e,
                                o.j = a,
                                o.l = i,
                                o.u = r,
                                o.s = "black")
                            } else if (17 == (247 & i) && 32 == (240 & e))
                                n.g.m = !1,
                                n.g.j = !1,
                                n.g.l = "white",
                                Zh(n.g, 0, 32),
                                i = !1,
                                "white_italics" === (t = ff[(14 & e) >> 1]) && (t = "white",
                                i = !0),
                                n.g.m = 1 == (1 & e),
                                n.g.j = i,
                                n.g.l = t;
                            else if (16 == (247 & i) && 32 == (240 & e) || 23 == (247 & i) && 45 == (255 & e))
                                t = "black",
                                0 == (7 & i) && (t = hf[(14 & e) >> 1]),
                                n.g.s = t;
                            else if (17 == (247 & i) && 48 == (240 & e))
                                Zh(n.g, 1, e);
                            else if (18 == (246 & i) && 32 == (224 & e))
                                Zh(n.g, 1 & i ? 3 : 2, e);
                            else {
                                if (20 == (246 & i) && 32 == (240 & e)) {
                                    switch (e = t.pts,
                                    i = null,
                                    t.ac) {
                                    case 32:
                                        cf(n);
                                        break;
                                    case 33:
                                        (n = n.g).i[n.g].pop();
                                        break;
                                    case 37:
                                        i = lf(n, 2, e);
                                        break;
                                    case 38:
                                        i = lf(n, 3, e);
                                        break;
                                    case 39:
                                        i = lf(n, 4, e);
                                        break;
                                    case 40:
                                        Zh(n.g, 0, 32);
                                        break;
                                    case 41:
                                        n.h = 2,
                                        n.g = n.i,
                                        n.g.h = 0,
                                        n.l = e;
                                        break;
                                    case 42:
                                        $h(n.s),
                                        df(n);
                                        break;
                                    case 43:
                                        df(n);
                                        break;
                                    case 44:
                                        t = n.i,
                                        i = null,
                                        4 !== n.h && (i = Qh(t, n.l, e)),
                                        tf(t, 0, 15);
                                        break;
                                    case 45:
                                        t = n.g,
                                        3 !== n.h ? i = null : (i = Qh(t, n.l, e),
                                        a = t.g - t.h + 1,
                                        ef(t, a - 1, a, t.h),
                                        tf(t, 0, a - 1),
                                        tf(t, t.g, 15 - t.g),
                                        n.l = e);
                                        break;
                                    case 46:
                                        tf(n.j, 0, 15);
                                        break;
                                    case 47:
                                        t = null,
                                        4 !== n.h && (t = Qh(n.i, n.l, e)),
                                        i = n.j,
                                        n.j = n.i,
                                        n.i = i,
                                        cf(n),
                                        n.l = e,
                                        i = t
                                    }
                                    a = i;
                                    break e
                                }
                                (23 == i || 31 == i) && 33 <= e && e <= 35 && (n.g.B = e - 32)
                            }
                            a = null
                        }
                    else
                        e = t.ac,
                        Zh(n.g, 0, t.yb),
                        Zh(n.g, 0, e);
                    return a
                }(this, r.value)) && t.push(r);
            for (a = Ze(this.g),
            r = a.next(); !r.done; r = a.next())
                n = this.i,
                3 === (i = r.value).type ? (n.g = 2 * (63 & i.value) - 1,
                n.h = []) : n.h && (0 < n.g && (n.h.push(i),
                n.g--),
                0 === n.g && (n.i.push(new wf(n.h)),
                n.h = null,
                n.g = 0));
            for (r = (a = Ze(this.i.i)).next(); !r.done; r = a.next())
                r = function(e, t) {
                    var n = [];
                    try {
                        for (; t.Ha(); ) {
                            var i = Sf(t).value
                              , a = (224 & i) >> 5
                              , r = 31 & i;
                            if (0 != (a = 7 === a && 0 != r ? 63 & Sf(t).value : a)) {
                                e.B.add("svc" + a),
                                e.j.has(a) || e.j.set(a, new Ef(a));
                                for (var o = e.j.get(a), s = t.Pa(); t.Pa() - s < r; ) {
                                    a = o;
                                    var u, l, c = t, d = Sf(c), h = d.value, f = d.pts;
                                    if (16 === h && (u = Sf(c),
                                    h = h << 16 | u.value),
                                    0 <= h && h <= 31) {
                                        var p = h
                                          , g = f;
                                        if ((c = a).g) {
                                            var m = c.g;
                                            switch (a = null,
                                            p) {
                                            case 8:
                                                !yf(m) || m.g <= 0 && m.h <= 0 || (m.g <= 0 ? (m.g = m.m - 1,
                                                m.h--) : m.g--,
                                                m.i[m.h][m.g] = null);
                                                break;
                                            case 13:
                                                if (m.isVisible() && (a = bf(m, g, c.i)),
                                                m.h + 1 >= m.s) {
                                                    for (c = m,
                                                    p = 0,
                                                    g = 1; g < 16; g++,
                                                    p++)
                                                        c.i[p] = c.i[g];
                                                    for (g = 0; g < 1; g++,
                                                    p++)
                                                        c.i[p] = mf()
                                                } else
                                                    m.h++;
                                                m.g = 0;
                                                break;
                                            case 14:
                                                m.isVisible() && (a = bf(m, g, c.i)),
                                                m.i[m.h] = mf(),
                                                m.g = 0;
                                                break;
                                            case 12:
                                                m.isVisible() && (a = bf(m, g, c.i)),
                                                gf(m),
                                                (c = m).h = 0,
                                                c.g = 0
                                            }
                                            var v = a
                                        } else
                                            v = null
                                    } else
                                        v = 128 <= h && h <= 159 ? function(e, t, n, i) {
                                            if (128 <= n && n <= 135)
                                                e.h[i = 7 & n] && (e.g = e.h[i]);
                                            else {
                                                if (136 === n) {
                                                    n = Sf(t).value,
                                                    t = null;
                                                    for (var a = (n = Ze(Af(e, n))).next(); !a.done; a = n.next())
                                                        (a = e.h[a.value]).isVisible() && (t = bf(a, i, e.i)),
                                                        gf(a);
                                                    return t
                                                }
                                                if (137 === n)
                                                    for (n = (t = Ze(Af(e, t = Sf(t).value))).next(); !n.done; n = t.next())
                                                        (n = e.h[n.value]).isVisible() || (n.j = i),
                                                        n.display();
                                                else {
                                                    if (138 === n) {
                                                        for (n = Sf(t).value,
                                                        t = null,
                                                        a = (n = Ze(Af(e, n))).next(); !a.done; a = n.next())
                                                            (a = e.h[a.value]).isVisible() && (t = bf(a, i, e.i)),
                                                            a.l = !1;
                                                        return t
                                                    }
                                                    if (139 === n) {
                                                        for (n = Sf(t).value,
                                                        t = null,
                                                        a = (n = Ze(Af(e, n))).next(); !a.done; a = n.next())
                                                            (a = e.h[a.value]).isVisible() ? t = bf(a, i, e.i) : a.j = i,
                                                            a.l = !a.l;
                                                        return t
                                                    }
                                                    if (140 === n)
                                                        return xf(e, t = Sf(t).value, i);
                                                    if (143 === n)
                                                        return i = xf(e, 255, i),
                                                        If(e),
                                                        i;
                                                    var r, o, s, u;
                                                    144 === n ? (t.skip(1),
                                                    i = Sf(t).value,
                                                    e.g && (e.g.B = 0 < (128 & i),
                                                    e.g.G = 0 < (64 & i))) : 145 === n ? (i = Sf(t).value,
                                                    n = Sf(t).value,
                                                    t.skip(1),
                                                    e.g && (t = kf((48 & n) >> 4, (12 & n) >> 2, 3 & n),
                                                    e.g.C = kf((48 & i) >> 4, (12 & i) >> 2, 3 & i),
                                                    e.g.u = t)) : 146 === n ? (i = Sf(t).value,
                                                    t = Sf(t).value,
                                                    e.g && ((e = e.g).h = 15 & i,
                                                    e.g = 63 & t)) : 151 === n ? (t.skip(1),
                                                    t.skip(1),
                                                    i = Sf(t).value,
                                                    t.skip(1),
                                                    e.g && (e.g.H = 3 & i)) : 152 <= n && n <= 159 && ((a = null !== e.h[n = (15 & n) - 8]) || ((r = new pf(n,e.i)).j = i,
                                                    e.h[n] = r),
                                                    i = Sf(t).value,
                                                    r = Sf(t).value,
                                                    o = Sf(t).value,
                                                    s = Sf(t).value,
                                                    u = Sf(t).value,
                                                    t = Sf(t).value,
                                                    a && 0 == (7 & t) || ((t = e.h[n]).h = 0,
                                                    t.g = 0,
                                                    t.G = !1,
                                                    t.B = !1,
                                                    t.C = "white",
                                                    t.u = "black"),
                                                    (t = e.h[n]).l = 0 < (32 & i),
                                                    t.M = 127 & r,
                                                    t.J = o,
                                                    t.I = (240 & s) >> 4,
                                                    t.L = 0 < (128 & r),
                                                    t.s = 1 + (15 & s),
                                                    t.m = 1 + (63 & u),
                                                    e.g = e.h[n])
                                                }
                                            }
                                            return null
                                        }(a, c, h, f) : (4096 <= h && h <= 4127 ? (a = c,
                                        8 <= (c = 255 & h) && c <= 15 ? a.skip(1) : 16 <= c && c <= 23 ? a.skip(2) : 24 <= c && c <= 31 && a.skip(3)) : 4224 <= h && h <= 4255 ? (a = c,
                                        128 <= (c = 255 & h) && c <= 135 ? a.skip(4) : 136 <= c && c <= 143 && a.skip(5)) : 32 <= h && h <= 127 ? (c = h,
                                        a.g && vf(a.g, 127 === c ? "♪" : String.fromCharCode(c))) : 160 <= h && h <= 255 ? a.g && vf(a.g, String.fromCharCode(h)) : 4128 <= h && h <= 4223 ? (c = 255 & h,
                                        a.g && (Cf.has(c) ? (l = Cf.get(c),
                                        vf(a.g, l)) : vf(a.g, "_"))) : 4256 <= h && h <= 4351 && a.g && vf(a.g, 160 != (255 & h) ? "_" : "[CC]"),
                                        null);
                                    (a = v) && n.push(a)
                                }
                            }
                        }
                    } catch (e) {
                        if (!(e instanceof nt && 3e3 === e.code))
                            throw e;
                        q("CEA708_INVALID_DATA", "Buffer read out of bounds / invalid CEA-708 Data.")
                    }
                    return n
                }(this, r.value),
                t.push.apply(t, et(r));
            return this.i.i = [],
            this.h = [],
            this.g = [],
            t
        }
        ,
        Lf.prototype.getStreams = function() {
            return Array.from(this.B)
        }
        ,
        i("shaka.cea.CeaDecoder", Lf),
        Ln = function() {
            return new Lf
        }
        ,
        Nf.prototype.init = function(e) {
            function t(e) {
                (e = e.name)in Ff && (n.g = Ff[e])
            }
            var n = this
              , i = []
              , a = [];
            if ((new Fr).box("moov", G).box("mvex", G).X("trex", function(e) {
                var t = e.reader;
                t.skip(4),
                t.skip(4),
                e = t.U(),
                t = t.U(),
                n.h = e,
                n.i = t
            }).box("trak", G).X("tkhd", function(e) {
                var t = e.reader
                  , n = (1 == (e = e.version) ? (t.skip(8),
                t.skip(8)) : (t.skip(4),
                t.skip(4)),
                t.U());
                1 == e ? t.skip(8) : t.skip(4),
                t.skip(4),
                t.skip(8),
                t.skip(2),
                t.skip(2),
                t.skip(2),
                t.skip(2),
                t.skip(36),
                t.za(),
                t.za(),
                t.za(),
                t.za(),
                i.push(n)
            }).box("mdia", G).X("mdhd", function(e) {
                e = $o(e.reader, e.version),
                a.push(e.timescale)
            }).box("minf", G).box("stbl", G).X("stsd", Br).box("avc1", t).box("avc3", t).box("dvav", t).box("dva1", t).box("hev1", t).box("hvc1", t).box("dvh1", t).box("dvhe", t).box("vvc1", t).box("vvi1", t).box("dvc1", t).box("dvi1", t).box("encv", Gr).box("sinf", G).box("frma", function(e) {
                (e = ts(e.reader).codec)in Ff && (n.g = Ff[e])
            }).parse(e, !0),
            !i.length || !a.length || i.length != a.length)
                throw new nt(2,2,2010);
            this.g == _f && Q("Unable to determine bitstream format for CEA parsing!"),
            i.forEach(function(e, t) {
                n.j.set(e, a[t])
            })
        }
        ,
        Nf.prototype.parse = function(e) {
            var r = this;
            if (this.g == _f)
                return [];
            var o = []
              , s = 0
              , u = [];
            return (new Fr).box("moof", function(e) {
                s = e.start,
                u = [],
                G(e)
            }).box("traf", function(e) {
                u.push({
                    baseMediaDecodeTime: null,
                    Kd: r.h,
                    ze: r.i,
                    gi: [],
                    timescale: 9e4
                }),
                G(e)
            }).X("trun", function(e) {
                var t = u[u.length - 1];
                e = Zo(e.reader, e.version, e.flags),
                t.gi.push(e)
            }).X("tfhd", function(e) {
                var t = u[u.length - 1];
                e = Jo(e.reader, e.flags),
                t.Kd = e.Kd || r.h,
                t.ze = e.ze || r.i,
                e = e.trackId,
                r.j.has(e) && (t.timescale = r.j.get(e))
            }).X("tfdt", function(e) {
                var t = u[u.length - 1];
                e = Qo(e.reader, e.version),
                t.baseMediaDecodeTime = e.baseMediaDecodeTime
            }).box("mdat", function(e) {
                for (var t = s - e.start - 8, n = e.reader.Pa(), i = Ze(u), a = i.next(); !a.done; a = i.next()) {
                    if (null === (a = a.value).baseMediaDecodeTime)
                        throw Q("Unable to find base media decode time for CEA captions!"),
                        new nt(2,2,2010);
                    e.reader.seek(n),
                    !function(e, t, n, i, a, r, o, s, u) {
                        var l = 0
                          , c = r
                          , d = s.map(function(e) {
                            return e.oi
                        });
                        for ((d = [].concat.apply([], et(d))).length && (c = d[0].sampleSize || r),
                        t.skip(o + s[0].bj); t.Ha(); ) {
                            o = t.U();
                            var h = t.$()
                              , f = null;
                            switch (f = !1,
                            s = 1,
                            e.g) {
                            case Of:
                                f = 6 == (f = 31 & h);
                                break;
                            case Uf:
                                s = 2,
                                t.skip(1),
                                f = 39 == (f = h >> 1 & 63) || 40 == f;
                                break;
                            case jf:
                                s = 2,
                                t.skip(1),
                                f = 23 == (f = h >> 1 & 63) || 24 == f;
                                break;
                            default:
                                return
                            }
                            if (f)
                                for (h = 0,
                                l < d.length && (h = d[l].df || 0),
                                h = (n + h) / i,
                                s = Ze(Df(t.Rb(o - s))),
                                f = s.next(); !f.done; f = s.next())
                                    u.push({
                                        packet: f.value,
                                        pts: h
                                    });
                            else
                                try {
                                    t.skip(o - s)
                                } catch (e) {
                                    break
                                }
                            0 == (c -= o + 4) && (n = l < d.length ? n + (d[l].Tg || a) : n + a,
                            c = ++l < d.length && d[l].sampleSize || r)
                        }
                    }(r, e.reader, a.baseMediaDecodeTime, a.timescale, a.Kd, a.ze, t, a.gi, o)
                }
            }).parse(e, !1),
            o
        }
        ,
        i("shaka.cea.Mp4CeaParser", Nf);
        var _f = 0
          , Of = 1
          , Uf = 2
          , jf = 3
          , Ff = {
            avc1: Of,
            avc3: Of,
            dvav: Of,
            dva1: Of,
            hev1: Uf,
            hvc1: Uf,
            dvh1: Uf,
            dvhe: Uf,
            vvc1: jf,
            vvi1: jf,
            dvc1: jf,
            dvi1: jf
        };
        function Bf() {
            this.g = null
        }
        function Gf(e, t, n) {
            var i = function(e) {
                for (var t = [], n = (e = Ze(e)).next(); !n.done; n = e.next())
                    (n = function(e) {
                        var t = e.attributes.schemeIdUri
                          , n = ai(e, "urn:mpeg:cenc:2013", "default_KID")
                          , i = ri(e, "urn:mpeg:cenc:2013", "pssh").map(ei)
                          , a = e.attributes.value;
                        if (!t)
                            return null;
                        if (t = t.toLowerCase(),
                        n && (n = n.replace(/-/g, "").toLowerCase()).includes(" "))
                            throw new nt(2,4,4009);
                        var r = [];
                        try {
                            r = i.map(function(e) {
                                return {
                                    initDataType: "cenc",
                                    initData: Ut(e),
                                    keyId: null
                                }
                            })
                        } catch (e) {
                            throw new nt(2,4,4007)
                        }
                        return {
                            node: e,
                            yd: t,
                            keyId: n,
                            init: 0 < r.length ? r : null,
                            encryptionScheme: a
                        }
                    }(n.value)) && t.push(n);
                return t
            }(e)
              , a = null
              , r = (e = [],
            [])
              , o = null
              , s = new Set(i.map(function(e) {
                return e.keyId
            }))
              , u = (s.delete(null),
            "cenc");
            if (1 < s.size)
                throw new nt(2,4,4010);
            if (!t) {
                if (1 < (r = i.filter(function(e) {
                    return "urn:mpeg:dash:sea:2012" == e.yd
                })).length)
                    throw new nt(2,4,4050);
                r.length && (o = function(e) {
                    if (!U.crypto || !U.crypto.subtle)
                        throw Q("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),
                        new nt(2,4,4042);
                    var t = ii(e.node, "urn:mpeg:dash:schema:sea:2012", "SegmentEncryption");
                    if (!t)
                        throw new nt(2,4,4051);
                    if ("urn:mpeg:dash:sea:aes128-cbc:2013" != t.attributes.schemeIdUri)
                        throw new nt(2,4,4051);
                    if (!(t = ii(e.node, "urn:mpeg:dash:schema:sea:2012", "CryptoPeriod")))
                        throw new nt(2,4,4051);
                    if (e = t.attributes.IV,
                    t = Pt(t.attributes.keyUriTemplate),
                    !e || !t)
                        throw new nt(2,4,4051);
                    if (16 != (e = jt(e.substr(2))).byteLength)
                        throw new nt(2,4,4048);
                    return {
                        Zj: t,
                        iv: e
                    }
                }(r[0])),
                (r = i.find(function(e) {
                    return "urn:mpeg:dash:mp4protection:2011" == e.yd
                })) && r.encryptionScheme && (u = r.encryptionScheme),
                (r = i.filter(function(e) {
                    return "urn:mpeg:dash:mp4protection:2011" == e.yd ? (a = e.init || a,
                    !1) : "urn:mpeg:dash:sea:2012" != e.yd
                })).length && (0 == (e = function(e, t, n, i, a) {
                    for (var r, o = [], s = (n = Ze(n)).next(); !s.done; s = n.next()) {
                        s = s.value;
                        var u, l, c, d = i[s.yd];
                        d && (r = (r = ii(s.node, "urn:microsoft:playready", "pro")) && Zn(r) ? (r = Ut(r = Zn(r)),
                        u = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]),
                        [{
                            initData: Jr(r, u, new Set, 0),
                            initDataType: "cenc",
                            keyId: s.keyId
                        }]) : null,
                        u = null,
                        "urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e" === s.yd && (u = s,
                        u = 0 == (l = a).size ? null : (c = new Uint8Array([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75]),
                        [{
                            initData: Jr(new Uint8Array([]), c, l, 1),
                            initDataType: "cenc",
                            keyId: u.keyId
                        }])),
                        r = Vt(d, t, s.init || e || r || u),
                        (d = Kf.get(d)) && (r.licenseServerUri = d(s)),
                        o.push(r))
                    }
                    return o
                }(a, u, r, n, s)).length && (e = [Vt("", u, a)]))
            }
            if (i.length && !o && (t || !r.length))
                for (e = [],
                n = (t = Ze(Object.values(n))).next(); !n.done; n = t.next())
                    "org.w3.clearkey" != (n = n.value) && e.push(Vt(n, u, a));
            if (s = Array.from(s)[0] || null)
                for (t = (u = Ze(e)).next(); !t.done; t = u.next())
                    for (n = (t = Ze(t.value.initData)).next(); !n.done; n = t.next())
                        n.value.keyId = s;
            return {
                Eh: s,
                em: a,
                drmInfos: e,
                If: o,
                Jh: !0
            }
        }
        function Vf(e) {
            var t = ii(e.node, "https://dashif.org/CPS", "Laurl");
            if (t = t && Zn(t))
                return t;
            if (!(e = ii(e.node, "urn:microsoft:playready", "pro")) || !Zn(e))
                return "";
            if (!(e = function(e) {
                var t, n = 0, i = Ee(e);
                if (i.getUint32(0, !0) != e.byteLength)
                    return [];
                e: {
                    for (e = 6,
                    n = []; e < i.byteLength - 1; ) {
                        t = i.getUint16(e, !0),
                        e += 2;
                        var a = i.getUint16(e, !0);
                        if (e += 2,
                        0 != (1 & a) || a + e > i.byteLength) {
                            i = [];
                            break e
                        }
                        var r = tt(i, e, a);
                        n.push({
                            type: t,
                            value: r
                        }),
                        e += a
                    }
                    i = n
                }
                return i
            }(e = Ut(e = Zn(e))).filter(function(e) {
                return e.type === Hf
            })[0]))
                return "";
            if (e = Yn(e = kt(e.value, !0), "WRMHEADER")) {
                for (var n = e, i = (n = Ze(ti(n, "DATA"))).next(); !i.done; i = n.next())
                    if ((i = i.value).children)
                        for (var a = (i = Ze(i.children)).next(); !a.done; a = i.next())
                            if ("LA_URL" == (a = a.value).tagName)
                                return Zn(a);
                return ""
            }
            return ""
        }
        Mn["video/mp4"] = function() {
            return new Nf
        }
        ,
        Bf.prototype.init = function() {}
        ,
        Bf.prototype.parse = function(e) {
            this.g ? this.g.clearData() : this.g = new ds;
            var t = [];
            if (!gs(e = tt(e)))
                return t;
            var n = (e = this.g.parse(e)).Ld()
              , i = e.Ie();
            switch (e = [],
            n.video) {
            case "avc":
                e.push(6);
                break;
            case "hvc":
                e.push(39),
                e.push(40)
            }
            if (!e.length)
                return t;
            for (i = (n = Ze(i)).next(); !i.done; i = n.next())
                if (i = i.value,
                e.includes(i.type) && null != i.time)
                    for (var a = Ze(Df(i.data)), r = a.next(); !r.done; r = a.next())
                        t.push({
                            packet: r.value,
                            pts: i.time
                        });
            return t
        }
        ,
        i("shaka.cea.TsCeaParser", Bf),
        Mn["video/mp2t"] = function() {
            return new Bf
        }
        ;
        var Hf = 1
          , Kf = (new Map).set("com.apple.fps", function(e) {
            if (wt())
                throw new nt(2,4,4054);
            return (e = ii(e.node, "https://dashif.org/CPS", "Laurl")) && (e = Zn(e)) ? e : ""
        }).set("com.widevine.alpha", function(e) {
            var t = ii(e.node, "https://dashif.org/CPS", "Laurl");
            return (t = t && Zn(t)) ? t : (e = ii(e.node, "urn:microsoft", "laurl")) && Pt(e.attributes.licenseUrl) || ""
        }).set("com.microsoft.playready", Vf).set("com.microsoft.playready.recommendation", Vf).set("com.microsoft.playready.software", Vf).set("com.microsoft.playready.hardware", Vf).set("org.w3.clearkey", function(e) {
            var t = ii(e.node, "https://dashif.org/CPS", "Laurl");
            return (t = t && Zn(t)) ? t : (e = ii(e.node, "http://dashif.org/guidelines/clearKey", "Laurl")) && "EME-1.0" === e.attributes.Lic_type && e && (e = Zn(e)) ? e : ""
        });
        function zf(e, t, n, i, a, r) {
            var o = {
                RepresentationID: t,
                Number: n,
                SubNumber: i,
                Bandwidth: a,
                Time: r
            };
            return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g, function(e, t, n, i) {
                if ("$$" == e)
                    return "$";
                var a = o[t];
                if (null == a)
                    return e;
                switch ("RepresentationID" == t && n && (n = void 0),
                "Time" == t && "bigint" != typeof a && (.2 <= Math.abs(a - Math.round(a)) && Q("Calculated $Time$ values must be close to integers"),
                a = Math.round(a)),
                i) {
                case void 0:
                case "d":
                case "i":
                case "u":
                    e = a.toString();
                    break;
                case "o":
                    e = a.toString(8);
                    break;
                case "x":
                    e = a.toString(16);
                    break;
                case "X":
                    e = a.toString(16).toUpperCase();
                    break;
                default:
                    e = a.toString()
                }
                return n = U.parseInt(n, 10) || 1,
                Array(Math.max(0, n - e.length) + 1).join("0") + e
            })
        }
        function Xf(e, t) {
            var n = Yf(e, t, "timescale")
              , i = 1
              , a = (n && (i = di(n) || 1),
            (n = di((n = Yf(e, t, "duration")) || "")) && (n /= i),
            Yf(e, t, "startNumber"))
              , r = Number(Yf(e, t, "presentationTimeOffset")) || 0
              , o = hi(a || "");
            if (null != a && null != o || (o = 1),
            a = null,
            t = qf(e, t, "SegmentTimeline")) {
                t = $n(t, "S"),
                a = i,
                e = e.wa.duration || 1 / 0;
                for (var s = o, u = [], l = -r, c = 0; c < t.length; ++c) {
                    var d = t[c]
                      , h = t[c + 1]
                      , f = $(d, "t", hi)
                      , p = $(d, "d", hi)
                      , g = $(d, "r", ci)
                      , d = $(d, "k", ci) || 0;
                    if (null != f && (f -= r),
                    p) {
                        if (f = null != f ? f : l,
                        (g = g || 0) < 0)
                            if (h) {
                                if (null == (h = $(h, "t", hi)))
                                    break;
                                if (h <= f)
                                    break;
                                g = Math.ceil((h - f) / p) - 1
                            } else {
                                if (1 / 0 == e)
                                    break;
                                if (e <= f / a)
                                    break;
                                g = Math.ceil((e * a - f) / p) - 1
                            }
                        for (0 < u.length && f != l && (u[u.length - 1].end = f / a),
                        h = 0; h <= g; ++h)
                            u.push({
                                start: f / a,
                                end: (l = f + p) / a,
                                nh: f,
                                Xb: d,
                                Fk: u.length + s
                            }),
                            f = l
                    }
                }
                a = u
            }
            return {
                timescale: i,
                ib: n,
                ee: o,
                lc: r / i || 0,
                mh: r,
                timeline: a
            }
        }
        function Wf(e, t) {
            return [t(e.N), t(e.ua), t(e.Da)].filter(Sa)
        }
        function Yf(e, t, n) {
            t = Wf(e, t),
            e = null;
            for (var i = (t = Ze(t)).next(); !i.done && !(e = i.value.attributes[n]); i = t.next())
                ;
            return e
        }
        function qf(e, t, n) {
            t = Wf(e, t),
            e = null;
            for (var i = (t = Ze(t)).next(); !i.done && !(e = ni(i.value, n)); i = t.next())
                ;
            return e
        }
        function Jf(e, t, n, i, a, r) {
            if (r = void 0 === r ? 0 : r,
            ai(e, "http://www.w3.org/1999/xlink", "href"))
                return o = function(i, a, r, e, o, s) {
                    for (var u = ai(i, "http://www.w3.org/1999/xlink", "href"), t = ai(i, "http://www.w3.org/1999/xlink", "actuate") || "onRequest", n = Ze(Object.keys(i.attributes)), l = n.next(); !l.done; l = n.next()) {
                        var c = (l = l.value).split(":")
                          , d = qn("http://www.w3.org/1999/xlink");
                        c[0] == d && delete i.attributes[l]
                    }
                    if (5 <= s)
                        return gr(new nt(2,4,4028));
                    if ("onLoad" != t)
                        return gr(new nt(2,4,4027));
                    var h = Gt([e], [u]);
                    return o.request(0, xr(h, a)).Va(function(e) {
                        if (!(e = Wn(e.data, i.tagName)))
                            return gr(new nt(2,4,4001,u));
                        for (i.children = []; e.children.length; ) {
                            var t = e.children.shift();
                            i.children.push(t)
                        }
                        for (var n = (t = Ze(Object.keys(e.attributes))).next(); !n.done; n = t.next())
                            n = n.value,
                            i.attributes[n] = e.attributes[n];
                        return Jf(i, a, r, h[0], o, s + 1)
                    })
                }(e, t, n, i, a, r),
                n ? o.Va(void 0, function() {
                    return Jf(e, t, n, i, a, r)
                }) : o;
            for (var o = [], s = Ze(Qn(e)), u = s.next(), l = {}; !u.done; l = {
                Gd: void 0
            },
            u = s.next())
                l.Gd = u.value,
                "urn:mpeg:dash:resolve-to-zero:2013" == ai(l.Gd, "http://www.w3.org/1999/xlink", "href") ? e.children = e.children.filter(function(t) {
                    return function(e) {
                        return e !== t.Gd
                    }
                }(l)) : "SegmentTimeline" != l.Gd.tagName && o.push(Jf(l.Gd, t, n, i, a, r));
            return br(o).Va(function() {
                return e
            })
        }
        function Qf(e, t, n, i, a, r, o) {
            var s, u = (new Fr).X("sidx", function(e) {
                s = function(e, t, n, i, a, r, o) {
                    var s = []
                      , u = (o.reader.skip(4),
                    o.reader.U());
                    if (0 == u)
                        throw new nt(2,3,3005);
                    {
                        var l, c;
                        c = 0 == o.version ? (l = o.reader.U(),
                        o.reader.U()) : (l = o.reader.xd(),
                        o.reader.xd())
                    }
                    o.reader.skip(2);
                    var d = o.reader.za();
                    for (e = e + o.size + c,
                    c = 0; c < d; c++) {
                        var h = o.reader.U()
                          , f = (2147483648 & h) >>> 31
                          , p = (h &= 2147483647,
                        o.reader.U());
                        if (o.reader.skip(4),
                        1 == f)
                            throw new nt(2,3,3006);
                        s.push(new at(l / u + n,(l + p) / u + n,function() {
                            return r
                        }
                        ,e,e + h - 1,t,n,i,a)),
                        l += p,
                        e += h
                    }
                    return o.parser.stop(),
                    s
                }(t, i, a, r, o, n, e)
            });
            if (e && u.parse(e),
            s)
                return s;
            throw new nt(2,3,3004)
        }
        function $f(e) {
            this.h = Ee(e),
            this.g = new Or(this.h,0)
        }
        function Zf(e) {
            var t = ep(e);
            if (7 < t.length)
                throw new nt(2,3,3002);
            for (var n = 0, i = (t = Ze(t)).next(); !i.done; i = t.next())
                n = 256 * n + i.value;
            t = ep(e);
            e: {
                for (var a = (i = Ze(tp)).next(); !a.done; a = i.next())
                    if (Te(t, new Uint8Array(a.value))) {
                        i = !0;
                        break e
                    }
                i = !1
            }
            if (i)
                t = e.h.byteLength - e.g.Pa();
            else {
                if (8 == t.length && 224 & t[1])
                    throw new nt(2,3,3001);
                for (a = i = 0; a < t.length; a++) {
                    var r = t[a];
                    i = 0 == a ? r & (1 << 8 - t.length) - 1 : 256 * i + r
                }
                t = i
            }
            return t = e.g.Pa() + t <= e.h.byteLength ? t : e.h.byteLength - e.g.Pa(),
            i = Ee(e.h, e.g.Pa(), t),
            e.g.skip(t),
            new np(n,i)
        }
        function ep(e) {
            var t = e.g.Pa()
              , n = e.g.$();
            if (0 == n)
                throw new nt(2,3,3002);
            return n = 8 - Math.floor(Math.log2(n)),
            e.g.skip(n - 1),
            tt(e.h, t, n)
        }
        $f.prototype.Ha = function() {
            return this.g.Ha()
        }
        ;
        var tp = [[255], [127, 255], [63, 255, 255], [31, 255, 255, 255], [15, 255, 255, 255, 255], [7, 255, 255, 255, 255, 255], [3, 255, 255, 255, 255, 255, 255], [1, 255, 255, 255, 255, 255, 255, 255]];
        function np(e, t) {
            this.id = e,
            this.g = t
        }
        function ip(e) {
            if (8 < e.g.byteLength)
                throw new nt(2,3,3002);
            if (8 == e.g.byteLength && 224 & e.g.getUint8(0))
                throw new nt(2,3,3001);
            for (var t = 0, n = 0; n < e.g.byteLength; n++)
                t = 256 * t + e.g.getUint8(n);
            return t
        }
        function ap(e, t, n, i, a, r, o, s, u) {
            function l() {
                return a
            }
            var c = [];
            e = new $f(e.g);
            for (var d = null, h = null; e.Ha(); ) {
                var f, p = Zf(e);
                187 != p.id || (f = function(e) {
                    var t = new $f(e.g);
                    if (179 != (e = Zf(t)).id)
                        throw new nt(2,3,3013);
                    if (e = ip(e),
                    183 != (t = Zf(t)).id)
                        throw new nt(2,3,3012);
                    t = new $f(t.g);
                    for (var n = 0; t.Ha(); ) {
                        var i = Zf(t);
                        if (241 == i.id) {
                            n = ip(i);
                            break
                        }
                    }
                    return {
                        Tk: e,
                        tk: n
                    }
                }(p)) && (p = n * f.Tk,
                f = t + f.tk,
                null != d && c.push(new at(d + o,p + o,l,h,f - 1,r,o,s,u)),
                d = p,
                h = f)
            }
            return null != d && c.push(new at(d + o,i + o,l,h,null,r,o,s,u)),
            c
        }
        function rp(e, t, n) {
            if (!(t = qf(e, t, "Initialization")))
                return null;
            var i = e.N.gb()
              , a = t.attributes.sourceURL
              , r = (a && (i = Gt(i, [Pt(a)], e.Eb())),
            a = 0,
            null);
            return (t = $(t, "range", li)) && (a = t.start,
            r = t.end),
            (n = new Ro(function() {
                return i
            }
            ,a,r,dp(e),null,null,n)).codecs = e.N.codecs,
            n.mimeType = e.N.mimeType,
            n
        }
        function op(e, n, t) {
            var i = Number(Yf(e, up, "presentationTimeOffset")) || 0
              , a = Yf(e, up, "timescale")
              , r = 1
              , o = i / (r = a ? di(a) || 1 : r) || 0
              , s = rp(e, up, t)
              , i = e;
            if (cp(i, s),
            !lp(i))
                throw new nt(2,4,4002);
            var u = Xn(e);
            return {
                Jc: function() {
                    var e = qf(u, up, "RepresentationIndex")
                      , t = u.N.gb();
                    return (e = e && Pt(e.attributes.sourceURL)) && (t = Gt(t, [e], u.Eb())),
                    e = lp(u),
                    sp(u, n, s, t, e.start, e.end, o)
                }
            }
        }
        function sp(s, u, l, c, d, h, f) {
            var p, g, m, v, y, b, T, w, S, E, A, x, I, k, C;
            return $e(function(e) {
                if (1 == e.g)
                    return p = s.presentationTimeline,
                    g = !s.Tb || !s.wa.zg,
                    m = s.wa.start,
                    v = s.wa.duration,
                    y = s.N.mimeType.split("/")[1],
                    b = null,
                    w = [(T = u)(c, d, h, !1), "webm" == y ? T(l.R(), l.eb, l.La, !0) : null],
                    T = null,
                    We(e, Promise.all(w), 2);
                if (T = e.h,
                w = T[0],
                S = T[1] || null,
                E = m - f,
                A = m,
                x = v ? m + v : 1 / 0,
                "mp4" == y)
                    var t = Qf(w, d, c, l, E, A, x);
                else {
                    t = w;
                    if (440786851 != Zf(n = new $f(S)).id)
                        throw new nt(2,3,3008);
                    if (408125543 != (i = Zf(n)).id)
                        throw new nt(2,3,3009);
                    for (var n = i.g.byteOffset, i = new $f(i.g), a = null; i.Ha(); ) {
                        var r = Zf(i);
                        if (357149030 == r.id) {
                            a = r;
                            break
                        }
                    }
                    if (!a)
                        throw new nt(2,3,3010);
                    for (a = new $f(a.g),
                    r = 1e6,
                    i = null; a.Ha(); ) {
                        var o = Zf(a);
                        if (2807729 == o.id)
                            r = ip(o);
                        else if (17545 == o.id)
                            if (4 == o.g.byteLength)
                                i = o.g.getFloat32(0);
                            else {
                                if (8 != o.g.byteLength)
                                    throw new nt(2,3,3003);
                                i = o.g.getFloat64(0)
                            }
                    }
                    if (null == i)
                        throw new nt(2,3,3011);
                    if (i *= a = r / 1e9,
                    475249515 != (t = Zf(new $f(t))).id)
                        throw new nt(2,3,3007);
                    t = ap(t, n, a, i, c, l, E, A, x)
                }
                for (I = Ze(S = t),
                k = I.next(); !k.done; k = I.next())
                    (C = k.value).codecs = s.N.codecs,
                    C.mimeType = s.N.mimeType,
                    C.bandwidth = s.bandwidth;
                return p.Xd(S),
                b = new lu(S),
                g && b.jd(A, x, !0),
                e.return(b)
            })
        }
        function up(e) {
            return e.Bd
        }
        function lp(e) {
            var t = qf(e, up, "RepresentationIndex");
            return e = li((e = Yf(e, up, "indexRange")) || ""),
            e = t ? $(t, "range", li, e) : e
        }
        function cp(e, t) {
            var n = e.N.mimeType.split("/")[1];
            if (e.N.contentType != it && "mp4" != n && "webm" != n)
                throw new nt(2,4,4006);
            if ("webm" == n && !t)
                throw new nt(2,4,4005)
        }
        function dp(e) {
            var t = e.N;
            return {
                bandwidth: e.bandwidth,
                audioSamplingRate: t.audioSamplingRate,
                codecs: t.codecs,
                contentType: t.contentType,
                frameRate: t.frameRate || null,
                height: t.height || null,
                mimeType: t.mimeType,
                channelsCount: t.Xe,
                pixelAspectRatio: t.pixelAspectRatio || null,
                width: t.width || null,
                label: e.ua.label || null,
                roles: e.roles || null,
                language: e.ua.language || null
            }
        }
        function hp(e, t, n) {
            var i, a, r = rp(e, fp, n), o = (a = function(t) {
                return [t.N.mc, t.ua.mc, t.Da.mc].filter(Sa).map(function(e) {
                    return $n(e, "SegmentURL")
                }).reduce(function(e, t) {
                    return 0 < e.length ? e : t
                }).map(function(e) {
                    return e.attributes.indexRange && !t.wg && (t.wg = !0),
                    {
                        gk: Pt(e.attributes.media),
                        start: (e = $(e, "mediaRange", li, {
                            start: 0,
                            end: null
                        })).start,
                        end: e.end
                    }
                })
            }(i = e),
            0 == (u = (i = Xf(i, fp)).ee) && (u = 1),
            o = 0,
            i.ib ? o = i.ib * (u - 1) : i.timeline && 0 < i.timeline.length && (o = i.timeline[0].start),
            {
                ib: i.ib,
                startTime: o,
                ee: u,
                lc: i.lc,
                timeline: i.timeline,
                td: a
            });
            if (!o.ib && !o.timeline && 1 < o.td.length)
                throw new nt(2,4,4002);
            if (!o.ib && !e.wa.duration && !o.timeline && 1 == o.td.length)
                throw new nt(2,4,4002);
            if (o.timeline && 0 == o.timeline.length)
                throw new nt(2,4,4002);
            var s = null
              , u = null
              , l = (e.Da.id && e.N.id && (u = t[e.Da.id + "," + e.N.id]) && (s = u.segmentIndex),
            function(e, t, n, i, a, r, o, s, u, l) {
                var c = i.td.length;
                i.timeline && i.timeline.length != i.td.length && (c = Math.min(i.timeline.length, i.td.length));
                for (var d = e - i.lc, h = t ? e + t : 1 / 0, f = [], p = i.startTime, g = {}, m = 0; m < c; g = {
                    qf: void 0,
                    ef: void 0
                },
                m++) {
                    g.ef = i.td[m];
                    var v = p;
                    p = void 0,
                    p = null != i.ib ? v + i.ib : i.timeline ? i.timeline[m].end : v + t,
                    g.qf = null,
                    (g = new at(e + v,e + p,function(e) {
                        return function() {
                            return null == e.qf && (e.qf = Gt(n(), [e.ef.gk], l())),
                            e.qf
                        }
                    }(g),g.ef.start,g.ef.end,a,d,e,h,[],"",null,null,Do,r)).codecs = s,
                    g.mimeType = o,
                    g.bandwidth = u,
                    f.push(g)
                }
                return f
            }(e.wa.start, e.wa.duration, e.N.gb, o, r, n, e.N.mimeType, e.N.codecs, e.bandwidth, e.Eb));
            return t = !s,
            s ? s.Wd(l, e.presentationTimeline.Ib()) : s = new lu(l),
            e.presentationTimeline.Xd(l),
            e.Tb && e.wa.zg || s.jd(e.wa.start, e.wa.duration ? e.wa.start + e.wa.duration : 1 / 0, t),
            u && (u.segmentIndex = s),
            {
                Jc: function() {
                    return s && 0 != s.getNumReferences() || s.Te(l),
                    Promise.resolve(s)
                }
            }
        }
        function fp(e) {
            return e.mc
        }
        function pp(M, t, e, n, L, R, P, D, i) {
            i || M.N.Le || (M.N.Le = Yf(M, gp, "initialization"));
            var a, r, o, s, N = M.N.Le ? function(e, t) {
                var n = e.N.Le;
                if (!(n = n || Yf(e, gp, "initialization")))
                    return null;
                n = Pt(n);
                var i = e.N.id
                  , a = e.bandwidth || null
                  , r = e.N.gb
                  , o = e.Eb;
                return (t = new Ro(function() {
                    var e = zf(n, i, null, null, a, null);
                    return Gt(r(), [e], o())
                }
                ,0,null,dp(e),null,null,t)).codecs = e.N.codecs,
                t.mimeType = e.N.mimeType,
                t
            }(M, P) : null, _ = (l = Xf(a = M, gp),
            r = Yf(a, gp, "media"),
            o = Yf(a, gp, "index"),
            u = Yf(a, gp, "k"),
            s = 0,
            u && (s = parseInt(u, 10)),
            {
                ib: l.ib,
                timescale: l.timescale,
                ee: l.ee,
                lc: l.lc,
                mh: l.mh,
                timeline: l.timeline,
                xc: r && Pt(r),
                Rd: o,
                mimeType: a.N.mimeType,
                codecs: a.N.codecs,
                bandwidth: a.bandwidth,
                hk: s
            }), u = _, l = u.Rd ? 1 : 0;
            if (0 == (l = (l += u.timeline ? 1 : 0) + (u.ib ? 1 : 0)))
                throw new nt(2,4,4002);
            if (1 != l && (u.Rd && (u.timeline = null),
            u.ib = null),
            !u.Rd && !u.xc)
                throw new nt(2,4,4002);
            var O = Xn(M);
            if (_.Rd)
                return cp(M, N),
                {
                    Jc: function() {
                        var e = zf(_.Rd, O.N.id, null, null, O.bandwidth || null, null)
                          , e = Gt(O.N.gb(), [e]);
                        return sp(O, t, N, e, 0, null, _.lc)
                    }
                };
            if (_.ib)
                return n || "image" === M.ua.contentType || "text" === M.ua.contentType || (e = M.wa.start,
                n = M.Da.id,
                i = M.wa.duration,
                n = (n = null != n && R[n] || i) ? e + n : 1 / 0,
                M.presentationTimeline.Gg(_.ib),
                M.presentationTimeline.di(e, n)),
                {
                    Jc: function() {
                        var h = O
                          , f = _
                          , e = L
                          , p = N
                          , t = R
                          , g = P
                          , n = D
                          , m = M.N.gf;
                        function a(n) {
                            var i = (t = (n - T) * b) + f.lc
                              , e = t + y
                              , t = e + b
                              , a = Math.min(t, v())
                              , r = []
                              , o = f.hk;
                            if (o)
                                for (var s = (a - e) / o, u = {}, l = 0; l < o; u = {
                                    Ei: void 0
                                },
                                l++) {
                                    var c = e + s * l
                                      , d = c + s;
                                    u.Ei = l + 1,
                                    (u = new at(c,d,function(t) {
                                        return function() {
                                            var e = i * w;
                                            return "BigInt"in U && e > Number.MAX_SAFE_INTEGER && (e = BigInt(i) * BigInt(w)),
                                            e = zf(S, A, n, t.Ei, E, e),
                                            Gt(x(), [e], I())
                                        }
                                    }(u),0,null,p,k,y,v(),[],"",null,null,Do,g)).codecs = h.N.codecs,
                                    u.mimeType = h.N.mimeType,
                                    0 == m ? 0 < l && u.rd() : 0 != l % m && u.rd(),
                                    r.push(u)
                                }
                            return (e = new at(e,a,function() {
                                if (o)
                                    return [];
                                var e = i * w;
                                return "BigInt"in U && e > Number.MAX_SAFE_INTEGER && (e = BigInt(i) * BigInt(w)),
                                e = zf(S, A, n, null, E, e),
                                Gt(x(), [e], I())
                            }
                            ,0,null,p,k,y,v(),r,"",null,null,Do,g,0 < r.length)).codecs = h.N.codecs,
                            e.mimeType = h.N.mimeType,
                            e.bandwidth = h.bandwidth,
                            e.j = t,
                            e
                        }
                        function r() {
                            var e = [Math.max(o.Ib(), y), Math.min(o.tc(), v())].map(function(e) {
                                return e - y
                            })
                              , e = [Math.ceil(e[0] / b), Math.ceil(e[1] / b) - 1];
                            return h.N.ob && e[1]++,
                            e.map(function(e) {
                                return e + T
                            })
                        }
                        function v() {
                            var e = null != i && t[i] || s;
                            return e ? y + e : 1 / 0
                        }
                        var o = h.presentationTimeline
                          , y = h.wa.start
                          , i = h.Da.id
                          , s = h.wa.duration
                          , b = f.ib
                          , T = f.ee
                          , w = f.timescale
                          , S = f.xc
                          , E = h.bandwidth || null
                          , A = h.N.id
                          , x = h.N.gb
                          , I = h.Eb
                          , k = y - f.lc
                          , u = r();
                        e = h.Tb ? Math.max(u[0], u[1] - e + 1) : u[0],
                        n = n || u[1],
                        u = [];
                        for (var l = e; l <= n; ++l) {
                            var c = a(l);
                            u.push(c)
                        }
                        var d, C = new lu(u);
                        return u = o.tc() < v(),
                        l = o.T(),
                        (u || l) && (d = Math.max(e, n + 1),
                        e = b,
                        h.N.ob && (e = .1),
                        C.pf(e, function() {
                            var e = o.Ib();
                            C.ab(e),
                            (t = Ze(r())).next();
                            for (var t = t.next().value, n = []; d <= t; ) {
                                var i = a(d);
                                n.push(i),
                                d++
                            }
                            return e > v() && !n.length ? null : n
                        })),
                        Promise.resolve(C)
                    }
                };
            var c = null
              , d = (n = null,
            M.Da.id && M.N.id && (n = e[n = M.Da.id + "," + M.N.id]) && (c = n.segmentIndex),
            M.wa.start)
              , h = M.wa.duration ? d + M.wa.duration : 1 / 0
              , f = !(M.Tb && M.wa.zg);
            return c ? (vp(e = c, _, d, h, f, N),
            e.ab(M.presentationTimeline.Ib())) : c = new mp(_,M.N.id,M.bandwidth,M.N.gb,M.Eb,d,h,N,f,P,M.N.gf),
            _.timeline && "image" !== M.ua.contentType && "text" !== M.ua.contentType && M.presentationTimeline.ei(_.timeline, d),
            n && M.Tb && (n.segmentIndex = c),
            {
                Jc: function() {
                    return c instanceof mp && 0 == c.getNumReferences() && vp(c, _, d, h, f, N),
                    Promise.resolve(c)
                }
            }
        }
        function gp(e) {
            return e.Bc
        }
        function mp(e, t, n, i, a, r, o, s, u, l, c) {
            lu.call(this, []),
            this.h = e,
            this.H = t,
            this.C = n,
            this.G = i,
            this.J = a,
            this.j = r,
            this.l = o,
            this.u = s,
            this.B = l,
            this.I = c,
            u && yp(this)
        }
        function vp(e, t, n, i, a, r) {
            var o, s = e, u = r;
            if (s.u !== u) {
                s.u = u;
                for (var l = (s = Ze(s.g)).next(); !l.done; l = s.next())
                    (l = l.value) && function e(t, n) {
                        t.na = n;
                        for (var i = (t = Ze(t.g)).next(); !i.done; i = t.next())
                            e(i.value, n)
                    }(l, u)
            }
            e.h ? (n = e.h.timeline,
            e.h.xc !== t.xc && (e.h.xc = t.xc),
            0 < (t = n.length ? (o = n[n.length - 1],
            t.timeline.filter(function(e) {
                return e.end > o.end
            })) : t.timeline.slice()).length && e.h.timeline.push.apply(e.h.timeline, et(t)),
            e.l !== i && (e.l = i)) : (e.h = t,
            e.j = n,
            e.l = i),
            a && yp(e)
        }
        function yp(e) {
            if (!e.s) {
                for (var t = e.h.timeline; t.length && t[t.length - 1].start >= e.l; )
                    t.pop();
                e.ab(e.j)
            }
        }
        function bp(e, t, n, i, a, r, o, s) {
            return e = zf(e, t, n, r, i || null, a),
            Gt(o(), [e], s()).map(function(e) {
                return e.toString()
            })
        }
        function Tp(e) {
            this.s = null,
            this.B = e,
            this.I = new Tr,
            this.i = [],
            this.h = null,
            this.m = [],
            this.C = null,
            this.H = [],
            this.G = 300,
            this.l = new Map,
            this.j = new Map,
            this.g = null,
            this.u = "UNKNOWN"
        }
        function wp(r, o) {
            var s, u;
            return $e(function(e) {
                if (1 == e.g)
                    return s = Gt(r.i, [function(e, t) {
                        if (!e.m.length)
                            return t;
                        t = new pt(t);
                        var n = e.C || e.m[0]
                          , i = Math.round(e.B.getBandwidthEstimate())
                          , a = t.g;
                        return "DASH" == e.u ? (a.add("_DASH_pathway", n),
                        a.add("_DASH_throughput", String(i))) : "HLS" == e.u && (a.add("_HLS_pathway", n),
                        a.add("_HLS_throughput", String(i))),
                        ye(a) && se(t, a),
                        t.toString()
                    }(r, o)]),
                    s = xr(s, r.s.retryParameters),
                    s = r.B.networkingEngine.request(8, s),
                    wr(r.I, s),
                    qe(e, 2),
                    We(e, s.promise, 4);
                if (2 != e.g) {
                    s = e.h,
                    u = It(s.data),
                    u = JSON.parse(u);
                    if (1 == u.VERSION) {
                        var t = r;
                        var n = u;
                        var i = s.uri;
                        null != t.g && (t.g.stop(),
                        t.g = null);
                        var a = n["RELOAD-URI"] || i;
                        t.g = new C(function() {
                            wp(t, a)
                        }
                        ),
                        (i = n.TTL) && (t.G = i);
                        t.g.Y(t.G),
                        t.m = n["PATHWAY-PRIORITY"] || [],
                        t.H = n["PATHWAY-CLONES"] || []
                    }
                    return Je(e, 0)
                }
                if ((u = Qe(e)) && 7001 == u.code)
                    return e.return();
                null != r.g && (r.g.stop(),
                r.g = null),
                r.g = new C(function() {
                    wp(r, o)
                }
                ),
                r.g.Y(r.G),
                Ye(e)
            })
        }
        function Sp(e, t, n, i) {
            var a = e.l.get(t);
            (a = a || new Map).set(n, i),
            e.l.set(t, a)
        }
        function Ep(i, e, t) {
            t = void 0 !== t && t,
            e = i.l.get(e) || new Map;
            for (var n, a = [], r = Ze(i.m), o = r.next(), s = {}; !o.done; s = {
                vd: void 0
            },
            o = r.next())
                s.vd = o.value,
                (o = e.get(s.vd)) ? a.push({
                    Mg: s.vd,
                    location: o
                }) : (o = i.H.find(function(t) {
                    return function(e) {
                        return e.ul == t.vd
                    }
                }(s))) && (n = e.get(o["BASE-ID"])) && (o["URI-REPLACEMENT"].Qi ? (re(n = new pt(n), o["URI-REPLACEMENT"].Qi),
                a.push({
                    Mg: s.vd,
                    location: n.toString()
                })) : a.push({
                    Mg: s.vd,
                    location: n
                }));
            for (r = Date.now(),
            o = (s = Ze(i.j.keys())).next(); !o.done; o = s.next())
                o = o.value,
                (n = i.j.get(o)) < r && i.j.delete(o);
            if ((a = a.filter(function(e) {
                for (var t = Ze(i.j.keys()), n = t.next(); !n.done; n = t.next())
                    if (n.value.includes(new pt(e.location).bc))
                        return !1;
                return !0
            })).length && (i.C = a[0].Mg),
            !(a = a.map(function(e) {
                return e.location
            })).length && i.h)
                for (s = (r = Ze(i.h.split(","))).next(); !s.done; s = r.next())
                    (s = e.get(s.value)) && (i.C = i.h,
                    a.push(s));
            if (!a.length)
                for (r = (e = Ze(e.values())).next(); !r.done; r = e.next())
                    a.push(r.value);
            return t ? a : Gt(i.i, a)
        }
        function Ap() {
            this.l = [],
            this.h = [],
            this.g = [],
            this.j = [],
            this.i = [],
            this.u = this.s = !1,
            this.m = new Set
        }
        function xp(e, t) {
            for (var n = [], i = [], a = [], r = [], o = (e = Ze(e)).next(); !o.done; o = e.next()) {
                var s, u = o.value, o = new Map(u.audioStreams.map(function(e) {
                    return [qp(e), e]
                })), l = new Map(u.videoStreams.map(function(e) {
                    return [Yp(e), e]
                })), c = new Map(u.textStreams.map(function(e) {
                    return [Jp(e), e]
                })), u = new Map(u.imageStreams.map(function(e) {
                    return [Qp(e), e]
                }));
                t && (s = Kp(it),
                c.set(Jp(s), s),
                s = Kp("image"),
                u.set(Qp(s), s)),
                n.push(o),
                i.push(l),
                a.push(c),
                r.push(u)
            }
            return {
                vh: n,
                Ni: i,
                Hi: a,
                Sh: r
            }
        }
        function Ip(t) {
            var n, i, a, r, o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C, M;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (n = Wt,
                    1 == t.length)
                        return e.return(t[0]);
                    for (y = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.ba
                        }).map(function(e) {
                            return [qp(e), e]
                        }))
                    }),
                    i = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.xa
                        }).map(function(e) {
                            return [Yp(e), e]
                        }))
                    }),
                    a = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.Na
                        }).map(function(e) {
                            return [Jp(e), e]
                        }))
                    }),
                    r = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.Ef
                        }).map(function(e) {
                            return [Qp(e), e]
                        }))
                    }),
                    o = Ze(a),
                    s = o.next(); !s.done; s = o.next())
                        u = s.value,
                        l = Hp(n.Na),
                        u.set(Jp(l), l);
                    for (c = Ze(r),
                    d = c.next(); !d.done; d = c.next())
                        h = d.value,
                        f = Hp(n.Ef),
                        h.set(Qp(f), f);
                    return We(e, kp(p = new Ap, [], y, 0, Rp, Dp, 0), 2);
                case 2:
                    return g = e.h,
                    We(e, kp(p, [], i, 0, Rp, Dp, 0), 3);
                case 3:
                    return m = e.h,
                    We(e, kp(p, [], a, 0, Rp, Dp, 0), 4);
                case 4:
                    return v = e.h,
                    We(e, kp(p, [], r, 0, Rp, Dp, 0), 5);
                case 5:
                    if (y = e.h,
                    b = 0,
                    m.length && g.length)
                        for (E = Ze(g),
                        A = E.next(); !A.done; A = E.next())
                            for (x = A.value,
                            I = Ze(m),
                            k = I.next(); !k.done; k = I.next())
                                C = k.value,
                                M = b++,
                                C.variantIds.push(M),
                                x.variantIds.push(M);
                    else
                        for (T = m.concat(g),
                        w = Ze(T),
                        S = w.next(); !S.done; S = w.next())
                            S.value.variantIds = [b++];
                    return e.return(m.concat(g).concat(v).concat(y))
                }
            })
        }
        function kp(u, l, c, d, h, f, p) {
            var g, m, v, y, b, T, w, S, E, A, x, I, k, C, M, L, R;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    for (g = [],
                    m = 0; m < c.length; m++)
                        d <= m ? g.push(new Set(c[m].values())) : g.push(new Set);
                    v = Ze(l),
                    y = v.next();
                case 2:
                    if (y.done) {
                        e.A(4);
                        break
                    }
                    return b = y.value,
                    We(e, (t = u,
                    n = b,
                    i = c,
                    a = d,
                    r = f,
                    o = g,
                    s = p,
                    $e(function(e) {
                        return 1 == e.g ? (Np(t, i, n, 0 < s),
                        n.matchedStreams ? n.segmentIndex ? We(e, Cp(n, a + s), 2) : e.A(2) : e.return(!1)) : (Mp(n, a, r, o, s),
                        e.return(!0))
                    })), 5);
                case 5:
                    if (!e.h)
                        throw new nt(2,4,4037);
                    y = v.next(),
                    e.A(2);
                    break;
                case 4:
                    for (T = Ze(g),
                    w = T.next(); !w.done; w = T.next())
                        for (S = w.value,
                        E = Ze(S),
                        A = E.next(); !A.done; A = E.next())
                            x = A.value,
                            (x = function(e, t, n, i, a, r) {
                                if (Wp(t))
                                    return null;
                                var o = i(t);
                                return Np(e, n, o),
                                o.createSegmentIndex && (o.createSegmentIndex = function() {
                                    return $e(function(e) {
                                        return o.segmentIndex ? e.A(0) : (o.segmentIndex = new fu,
                                        We(e, Cp(o, 0), 0))
                                    })
                                }
                                ),
                                o.matchedStreams && o.matchedStreams.length ? (Mp(o, 0, a, r, 0),
                                o) : null
                            }(u, x, c, h, f, g)) && l.push(x);
                    for (I = Ze(g),
                    k = I.next(); !k.done; k = I.next())
                        for (C = k.value,
                        M = Ze(C),
                        L = M.next(),
                        R = {}; !L.done; R = {
                            fh: void 0
                        },
                        L = M.next())
                            if (R.fh = L.value,
                            !Wp(R.fh) && l.some(function(t) {
                                return function(e) {
                                    return Op(u, t.fh, e)
                                }
                            }(R)))
                                throw new nt(2,4,4037);
                    return e.return(l)
                }
                var t, n, i, a, r, o, s
            })
        }
        function Cp(t, n) {
            var i, a, r, o, s, u;
            return $e(function(e) {
                if (1 == e.g) {
                    for (i = [],
                    a = t.matchedStreams,
                    r = n; r < a.length; r++)
                        o = a[r],
                        i.push(o.createSegmentIndex()),
                        o.trickModeVideo && !o.trickModeVideo.segmentIndex && i.push(o.trickModeVideo.createSegmentIndex());
                    return We(e, Promise.all(i), 2)
                }
                if (t.segmentIndex instanceof fu)
                    for (s = n; s < a.length; s++)
                        (u = a[s]).segmentIndex && t.segmentIndex.h.push(u.segmentIndex);
                Ye(e)
            })
        }
        function Mp(e, t, n, i, a) {
            var r = e.matchedStreams;
            for (t += a; t < r.length; t++) {
                var o = r[t]
                  , s = (n(e, o),
                !0);
                if ((s = "audio" == e.type && 0 == nn(e.language, o.language) ? !1 : s) && (i[t - a].delete(o),
                o.fullMimeTypes))
                    for (s = (o = Ze(o.fullMimeTypes.values())).next(); !s.done; s = o.next())
                        e.fullMimeTypes.add(s.value)
            }
        }
        function Lp(e) {
            var n = Object.assign({}, e);
            return n.originalId = null,
            n.createSegmentIndex = function() {
                return Promise.resolve()
            }
            ,
            n.closeSegmentIndex = function() {
                if (n.segmentIndex && (n.segmentIndex.release(),
                n.segmentIndex = null),
                n.matchedStreams)
                    for (var e = Ze(n.matchedStreams), t = e.next(); !t.done; t = e.next())
                        (t = t.value).segmentIndex && (t.segmentIndex.release(),
                        t.segmentIndex = null)
            }
            ,
            n.roles = n.roles.slice(),
            n.segmentIndex = null,
            n.emsgSchemeIdUris = [],
            n.keyIds = new Set,
            n.closedCaptions = e.closedCaptions ? new Map(e.closedCaptions) : null,
            n.trickModeVideo = null,
            n
        }
        function Rp(e) {
            var t = Object.assign({}, e);
            return t.roles = t.roles.slice(),
            t.keyIds = new Set,
            t.segments = [],
            t.variantIds = [],
            t.closedCaptions = e.closedCaptions ? new Map(e.closedCaptions) : null,
            t
        }
        function Pp(i, e) {
            function t(e, t) {
                e = e || [];
                for (var n = (t = Ze(t)).next(); !n.done; n = t.next())
                    n = n.value,
                    e.includes(n) || e.push(n);
                return e
            }
            i.roles = t(i.roles, e.roles),
            e.emsgSchemeIdUris && (i.emsgSchemeIdUris = t(i.emsgSchemeIdUris, e.emsgSchemeIdUris));
            for (var n = Ze(e.keyIds), a = n.next(); !a.done; a = n.next())
                i.keyIds.add(a.value);
            if (null == i.originalId ? i.originalId = e.originalId : (n = e.originalId || "") && !i.originalId.endsWith(n) && (i.originalId += "," + n),
            n = ke(i.drmInfos, e.drmInfos),
            e.drmInfos.length && i.drmInfos.length && !n.length)
                throw new nt(2,4,4038);
            if (i.drmInfos = n,
            i.encrypted = i.encrypted || e.encrypted,
            e.closedCaptions)
                for (i.closedCaptions || (i.closedCaptions = new Map),
                a = (n = Ze(e.closedCaptions)).next(); !a.done; a = n.next()) {
                    var a = (r = Ze(a.value)).next().value
                      , r = r.next().value;
                    i.closedCaptions.set(a, r)
                }
            i.bandwidth && e.bandwidth && (i.bandwidth = Math.max(i.bandwidth, e.bandwidth)),
            e.trickModeVideo ? (i.trickModeVideo || (i.trickModeVideo = Lp(e.trickModeVideo),
            i.trickModeVideo.matchedStreams = [],
            i.trickModeVideo.createSegmentIndex = function() {
                if (i.trickModeVideo.segmentIndex)
                    return Promise.resolve();
                for (var e = new fu, t = Ze(i.trickModeVideo.matchedStreams), n = t.next(); !n.done; n = t.next())
                    e.h.push(n.value.segmentIndex);
                return i.trickModeVideo.segmentIndex = e,
                Promise.resolve()
            }
            ),
            i.trickModeVideo.matchedStreams.push(e.trickModeVideo),
            Pp(i.trickModeVideo, e.trickModeVideo)) : i.trickModeVideo && (i.trickModeVideo.matchedStreams.push(e),
            Pp(i.trickModeVideo, e))
        }
        function Dp(e, t) {
            for (var n = (n = e.roles) || [], i = Ze(t.roles), a = i.next(); !a.done; a = i.next())
                a = a.value,
                n.includes(a) || n.push(a);
            for (e.roles = n,
            i = (n = Ze(t.keyIds)).next(); !i.done; i = n.next())
                e.keyIds.add(i.value);
            if (e.encrypted = e.encrypted && t.encrypted,
            e.segments.push.apply(e.segments, et(t.segments)),
            t.closedCaptions)
                for (e.closedCaptions || (e.closedCaptions = new Map),
                n = (t = Ze(t.closedCaptions)).next(); !n.done; n = t.next())
                    n = (i = Ze(n.value)).next().value,
                    i = i.next().value,
                    e.closedCaptions.set(n, i)
        }
        function Np(e, t, n, i) {
            i = void 0 !== i && i ? n.matchedStreams : [];
            for (var a = (t = Ze(t)).next(); !a.done; a = t.next()) {
                if (!(a = function(n, e, t) {
                    var i = {
                        audio: qp,
                        video: Yp,
                        text: Jp,
                        image: Qp
                    }[t.type]
                      , a = null
                      , r = i(t);
                    if (e.has(r))
                        a = e.get(r);
                    else {
                        r = {
                            audio: function(e, t) {
                                return Op(n, e, t)
                            },
                            video: function(e, t) {
                                return Op(n, e, t)
                            },
                            text: Up,
                            image: jp
                        }[t.type];
                        for (var o = {
                            audio: Fp,
                            video: Bp,
                            text: Gp,
                            image: Vp
                        }[t.type], s = Ze(e.values()), u = s.next(); !u.done; u = s.next())
                            u = u.value,
                            !r(t, u) || t.fastSwitching != u.fastSwitching || a && !o(t, a, u) || (a = u)
                    }
                    return n.u && !Wp(a) && e.delete(i(a)),
                    a
                }(e, a.value, n)))
                    return;
                i.push(a)
            }
            n.matchedStreams = i
        }
        function _p(e, t) {
            return e.mimeType == t.mimeType && $p(e.codecs) === $p(t.codecs)
        }
        function Op(e, t, n) {
            return !(!_p(t, n) && !e.s || t.drmInfos && !gt(t.drmInfos, n.drmInfos))
        }
        function Up(e, t) {
            return !t.language || e.forced === t.forced && 0 != nn(e.language, t.language) && t.kind == e.kind
        }
        function jp() {
            return !0
        }
        function Fp(t, e, n) {
            var i = _p(t, e)
              , a = _p(t, n);
            if (i && !a)
                return !1;
            if (!i && a)
                return !0;
            if ((i = nn(t.language, e.language)) < (a = nn(t.language, n.language)))
                return !0;
            if (a < i)
                return !1;
            if (e.label !== n.label) {
                if (t.label === e.label)
                    return !1;
                if (t.label === n.label)
                    return !0
            }
            if (t.roles.length) {
                if (i = e.roles.filter(function(e) {
                    return t.roles.includes(e)
                }),
                (a = n.roles.filter(function(e) {
                    return t.roles.includes(e)
                })).length > i.length)
                    return !0;
                if (a.length < i.length)
                    return !1;
                if (n.roles.length !== e.roles.length)
                    return n.roles.length < e.roles.length
            } else {
                if (!n.roles.length && e.roles.length)
                    return !0;
                if (n.roles.length && !e.roles.length)
                    return !1
            }
            return !(e.primary || !n.primary) || !(e.primary && !n.primary) && ((i = zp(t.channelsCount, e.channelsCount, n.channelsCount)) == Zp || i != tg && ((i = zp(t.audioSamplingRate, e.audioSamplingRate, n.audioSamplingRate)) == Zp || i != tg && !(!t.bandwidth || Xp(t.bandwidth, e.bandwidth, n.bandwidth) != Zp)))
        }
        function Bp(e, t, n) {
            var i = _p(e, t)
              , a = _p(e, n);
            if (i && !a)
                return !1;
            if (!i && a)
                return !0;
            if ((i = zp(e.width * e.height, t.width * t.height, n.width * n.height)) == Zp)
                return !0;
            if (i == tg)
                return !1;
            if (e.frameRate) {
                if ((i = zp(e.frameRate, t.frameRate, n.frameRate)) == Zp)
                    return !0;
                if (i == tg)
                    return !1
            }
            return !(!e.bandwidth || Xp(e.bandwidth, t.bandwidth, n.bandwidth) != Zp)
        }
        function Gp(t, e, n) {
            var i = nn(t.language, e.language)
              , a = nn(t.language, n.language);
            if (i < a)
                return !0;
            if (a < i)
                return !1;
            if (!e.primary && n.primary)
                return !0;
            if (e.primary && !n.primary)
                return !1;
            if (e.label !== n.label) {
                if (t.label === e.label)
                    return !1;
                if (t.label === n.label)
                    return !0
            }
            if (t.roles.length) {
                if (i = e.roles.filter(function(e) {
                    return t.roles.includes(e)
                }),
                (a = n.roles.filter(function(e) {
                    return t.roles.includes(e)
                })).length > i.length)
                    return !0;
                if (a.length < i.length)
                    return !1
            } else {
                if (!n.roles.length && e.roles.length)
                    return !0;
                if (n.roles.length && !e.roles.length)
                    return !1
            }
            return n.mimeType == t.mimeType && n.codecs == t.codecs && (e.mimeType != t.mimeType || e.codecs != t.codecs)
        }
        function Vp(e, t, n) {
            return zp(e.width * e.height, t.width * t.height, n.width * n.height) == Zp
        }
        function Hp(e) {
            return {
                id: 0,
                originalId: "",
                groupId: null,
                primary: !1,
                type: e,
                mimeType: "",
                codecs: "",
                language: "",
                originalLanguage: null,
                label: null,
                width: null,
                height: null,
                encrypted: !1,
                keyIds: new Set,
                segments: [],
                variantIds: [],
                roles: [],
                forced: !1,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                closedCaptions: null,
                external: !1,
                fastSwitching: !1,
                isAudioMuxedInVideo: !1
            }
        }
        function Kp(e) {
            return {
                id: 0,
                originalId: "",
                groupId: null,
                createSegmentIndex: function() {
                    return Promise.resolve()
                },
                segmentIndex: new lu([]),
                mimeType: "",
                codecs: "",
                encrypted: !1,
                drmInfos: [],
                keyIds: new Set,
                language: "",
                originalLanguage: null,
                label: null,
                type: e,
                primary: !1,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                roles: [],
                forced: !1,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                closedCaptions: null,
                accessibilityPurpose: null,
                external: !1,
                fastSwitching: !1,
                fullMimeTypes: new Set,
                isAudioMuxedInVideo: !1
            }
        }
        function zp(e, t, n) {
            if (t == e && e != n)
                return tg;
            if (n == e && e != t)
                return Zp;
            if (e < t) {
                if (n <= e || n - e < t - e)
                    return Zp;
                if (t - e < n - e)
                    return tg
            } else {
                if (e < n)
                    return tg;
                if (e - n < e - t)
                    return Zp;
                if (e - t < e - n)
                    return tg
            }
            return eg
        }
        function Xp(e, t, n) {
            return t = Math.abs(e - t),
            (e = Math.abs(e - n)) < t ? Zp : t < e ? tg : eg
        }
        function Wp(e) {
            switch (e.type) {
            case it:
                return !e.language;
            case "image":
                return !e.tilesLayout;
            default:
                return
            }
        }
        function Yp(e) {
            return JSON.stringify([e.fastSwitching, e.width, e.frameRate, $p(e.codecs), e.mimeType, e.label, e.roles, e.closedCaptions ? Array.from(e.closedCaptions.entries()) : null, e.bandwidth])
        }
        function qp(e) {
            return JSON.stringify([e.fastSwitching, e.channelsCount, e.language, e.bandwidth, e.label, $p(e.codecs), e.mimeType, e.roles, e.audioSamplingRate, e.primary])
        }
        function Jp(e) {
            return JSON.stringify([e.language, e.label, e.codecs, e.mimeType, e.bandwidth, e.roles])
        }
        function Qp(e) {
            return JSON.stringify([e.width, e.codecs, e.mimeType])
        }
        function $p(e) {
            var t;
            return ng.has(e) || (t = sa(e),
            ng.set(e, t)),
            ng.get(e)
        }
        n(mp, lu),
        (t = mp.prototype).getNumReferences = function() {
            return this.h ? this.h.timeline.length : 0
        }
        ,
        t.release = function() {
            lu.prototype.release.call(this),
            this.h = null
        }
        ,
        t.ab = function(e) {
            if (this.h) {
                for (var t = 0, n = this.h.timeline, i = 0; i < n.length && n[i].end + this.j <= e; i += 1)
                    t += 1;
                0 < t && (this.h.timeline = n.slice(t),
                this.g.length >= t && (this.g = this.g.slice(t)),
                this.i += t,
                0 === this.getNumReferences() && this.release())
            }
        }
        ,
        t.find = function(e) {
            if (this.h && this.h.timeline && this.h.timeline.length && e < this.h.timeline[0].start + this.j)
                return this.i;
            if (!this.h)
                return null;
            var t = this.h.timeline;
            if (e < this.j || e >= this.l)
                return null;
            for (var n = t.length - 1, i = 0; i < t.length; i++) {
                var a = (r = t[i]).start + this.j
                  , r = i < n ? t[i + 1].start + this.j : 1 / 0 === this.l ? r.end + this.j : this.l;
                if (a <= e && e < r)
                    return i + this.i
            }
            return null
        }
        ,
        t.get = function(e) {
            var t = this;
            if ((e -= this.i) < 0 || e >= this.getNumReferences() || !this.h)
                return null;
            if (!(r = this.g[e])) {
                var n = this.h.timeline[e]
                  , i = n.Fk
                  , a = this.h.mh + n.nh
                  , r = this.j - this.h.lc
                  , o = this.j + n.end
                  , s = o;
                e === this.getNumReferences() - 1 && 1 / 0 !== this.l && (s = this.l);
                for (var u = this.h.codecs, l = this.h.mimeType, c = this.h.bandwidth, d = [], h = (n.end - n.start) / n.Xb, f = {}, p = 0; p < n.Xb; f = {
                    rf: void 0,
                    Fi: void 0
                },
                p++) {
                    var g = n.start + h * p
                      , m = g + h;
                    f.Fi = p + 1,
                    f.rf = null,
                    (f = new at(this.j + g,this.j + m,function(e) {
                        return function() {
                            return t.h ? (null == e.rf && (e.rf = bp(t.h.xc, t.H, i, t.C, a, e.Fi, t.G, t.J)),
                            e.rf) : []
                        }
                    }(f),0,null,this.u,r,this.j,this.l,[],"",null,null,Do,this.B)).codecs = u,
                    f.mimeType = l,
                    f.bandwidth = c,
                    0 == this.I ? 0 < p && f.rd() : 0 != p % this.I && f.rd(),
                    d.push(f)
                }
                (r = new at(this.j + n.start,s,function() {
                    return 0 < n.Xb || !t.h ? [] : bp(t.h.xc, t.H, i, t.C, a, null, t.G, t.J)
                }
                ,0,null,this.u,r,this.j,this.l,d,"",null,null,Do,this.B,0 < n.Xb)).codecs = u,
                r.mimeType = l,
                r.j = o,
                r.bandwidth = c,
                this.g[e] = r
            }
            return r
        }
        ,
        t.Ub = function(e) {
            yp(this);
            for (var t = 0; t < this.getNumReferences(); t++) {
                var n = this.get(t + this.i);
                n && e(n)
            }
        }
        ,
        Tp.prototype.configure = function(e) {
            this.s = e
        }
        ,
        Tp.prototype.destroy = function() {
            return this.B = this.s = null,
            this.i = [],
            this.h = null,
            this.m = [],
            this.H = [],
            this.l.clear(),
            null != this.g && (this.g.stop(),
            this.g = null),
            this.I.destroy()
        }
        ,
        Tp.prototype.setManifestType = function(e) {
            this.u = e
        }
        ,
        Tp.prototype.banLocation = function(e) {
            this.j.set(e, Date.now() + 6e4)
        }
        ,
        (t = Ap.prototype).release = function() {
            for (var e = Ze(this.h.concat(this.g, this.j, this.i)), t = e.next(); !t.done; t = e.next())
                (t = t.value).segmentIndex && t.segmentIndex.release();
            this.h = [],
            this.g = [],
            this.j = [],
            this.i = [],
            this.l = [],
            this.u = this.s = !1,
            this.m.clear()
        }
        ,
        t.Lj = function() {
            return this.l
        }
        ,
        t.pg = function() {
            return this.j.slice()
        }
        ,
        t.pj = function() {
            return this.i
        }
        ,
        t.Fh = function(t, e) {
            if (t) {
                if ("audio" == t.type)
                    for (var n = Ze(this.h), i = n.next(); !i.done; i = n.next())
                        (i = i.value).matchedStreams = i.matchedStreams.filter(function(e) {
                            return e !== t
                        });
                else if ("video" == t.type)
                    for (i = (n = Ze(this.g)).next(); !i.done; i = n.next())
                        (i = i.value).matchedStreams = i.matchedStreams.filter(function(e) {
                            return e !== t
                        }),
                        i.trickModeVideo && (i.trickModeVideo.matchedStreams = i.trickModeVideo.matchedStreams.filter(function(e) {
                            return e !== t
                        }));
                else if (t.type == it)
                    for (i = (n = Ze(this.j)).next(); !i.done; i = n.next())
                        (i = i.value).matchedStreams = i.matchedStreams.filter(function(e) {
                            return e !== t
                        });
                else if ("image" == t.type)
                    for (i = (n = Ze(this.i)).next(); !i.done; i = n.next())
                        (i = i.value).matchedStreams = i.matchedStreams.filter(function(e) {
                            return e !== t
                        });
                t.segmentIndex && t.closeSegmentIndex(),
                this.m.delete(e)
            }
        }
        ,
        t.Pf = function(t, n, i) {
            i = void 0 !== i && i;
            var a, r, o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C = this;
            return $e(function(e) {
                if (1 == e.g) {
                    if (a = Wt,
                    !n && 1 == t.length)
                        return d = xp(t, !1),
                        r = d.vh,
                        l = d.Ni,
                        c = d.Hi,
                        d = d.Sh,
                        C.h = Array.from(r[0].values()),
                        C.g = Array.from(l[0].values()),
                        C.j = Array.from(c[0].values()),
                        C.i = Array.from(d[0].values()),
                        e.A(2);
                    for (r = i ? C.m.size : 0,
                    o = -1,
                    s = 0; s < t.length; s++)
                        u = t[s],
                        C.m.has(u.id) || (C.m.add(u.id),
                        -1 == o && (o = s));
                    return -1 == o ? e.return() : (l = xp(t, !0),
                    c = l.vh,
                    d = l.Ni,
                    g = l.Hi,
                    h = l.Sh,
                    We(e, Promise.all([kp(C, C.h, c, o, Lp, Pp, r), kp(C, C.g, d, o, Lp, Pp, r), kp(C, C.j, g, o, Lp, Pp, r), kp(C, C.i, h, o, Lp, Pp, r)]), 2))
                }
                if (f = 0,
                p = [],
                C.g.length && C.h.length)
                    for (T = Ze(C.h),
                    w = T.next(); !w.done; w = T.next())
                        for (S = w.value,
                        E = Ze(C.g),
                        A = E.next(); !A.done; A = E.next())
                            x = A.value,
                            I = ke(S.drmInfos, x.drmInfos),
                            S.drmInfos.length && x.drmInfos.length && !I.length || (k = f++,
                            p.push({
                                id: k,
                                language: S.language,
                                disabledUntilTime: 0,
                                primary: S.primary,
                                audio: S,
                                video: x,
                                bandwidth: (S.bandwidth || 0) + (x.bandwidth || 0),
                                drmInfos: I,
                                allowedByApplication: !0,
                                allowedByKeySystem: !0,
                                decodingInfos: []
                            }));
                else
                    for (g = C.g.length ? C.g : C.h,
                    m = Ze(g),
                    v = m.next(); !v.done; v = m.next())
                        y = v.value,
                        b = f++,
                        p.push({
                            id: b,
                            language: y.language,
                            disabledUntilTime: 0,
                            primary: y.primary,
                            audio: y.type == a.ba ? y : null,
                            video: y.type == a.xa ? y : null,
                            bandwidth: y.bandwidth || 0,
                            drmInfos: y.drmInfos,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: []
                        });
                C.l = p,
                Ye(e)
            })
        }
        ,
        t.pi = function(e) {
            this.s = e
        }
        ,
        t.Ai = function(e) {
            this.u = e
        }
        ,
        i("shaka.util.PeriodCombiner", Ap),
        Ap.prototype.setUseStreamOnce = Ap.prototype.Ai,
        Ap.prototype.setAllowMultiTypeVariants = Ap.prototype.pi,
        Ap.prototype.combinePeriods = Ap.prototype.Pf,
        Ap.prototype.deleteStream = Ap.prototype.Fh,
        Ap.prototype.getImageStreams = Ap.prototype.pj,
        Ap.prototype.getTextStreams = Ap.prototype.pg,
        Ap.prototype.getVariants = Ap.prototype.Lj;
        var Zp = 1
          , eg = 0
          , tg = -1
          , ng = new Map;
        function ig(e, t) {
            try {
                var n = Ct(e)
                  , i = t
                  , a = new DOMParser
                  , r = ag.value()(n);
                n = null;
                try {
                    n = a.parseFromString(r, "text/xml")
                } catch (e) {
                    return null
                }
                if (!(a = n.documentElement) || a.getElementsByTagName("parsererror").length || a.tagName != i)
                    return null;
                if (!("createNodeIterator"in document))
                    return a;
                for (i = document.createNodeIterator(n, NodeFilter.SHOW_ALL); n = i.nextNode(); )
                    if (n instanceof HTMLElement || n instanceof SVGElement)
                        return null;
                return a
            } catch (e) {
                return null
            }
        }
        var ag = new Ie(function() {
            var t;
            return "undefined" != typeof trustedTypes ? (t = trustedTypes.createPolicy("shaka-player#xml", {
                createHTML: function(e) {
                    return e
                }
            }),
            function(e) {
                return t.createHTML(e)
            }
            ) : function(e) {
                return e
            }
        }
        );
        function rg() {
            var e = this;
            this.j = this.g = null,
            this.B = [],
            this.i = null,
            this.ra = 1,
            this.H = [],
            this.l = {
                Ve: "",
                type: "",
                profiles: [],
                ic: null,
                ob: 0,
                gb: null,
                Zd: 0
            },
            this.u = new Map,
            this.s = {},
            this.C = {},
            this.ma = {},
            this.m = new Ap,
            this.L = 0,
            this.Ba = new dn(5),
            this.M = new C(function() {
                e.K && !e.g.continueLoadingWhenPaused && (e.I.Ma(e.K, "timeupdate"),
                e.K.paused) ? e.I.oa(e.K, "timeupdate", function() {
                    return pg(e)
                }) : pg(e)
            }
            ),
            this.S = new Tr,
            this.P = null,
            this.G = [],
            this.aa = 1 / 0,
            this.J = !1,
            this.h = null,
            this.O = 0,
            this.ha = !1,
            this.I = new pn,
            this.K = null,
            this.V = !1,
            this.Z = "",
            this.ea = function() {
                return !1
            }
            ,
            this.W = []
        }
        function og(o) {
            var s, u, l, c, d;
            return $e(function(e) {
                return 1 == e.g ? (c = 4,
                s = "MPD",
                l = function(e) {
                    var t = e.l.Zd;
                    if (!e.l.Ve || !t || !e.H.length)
                        return [];
                    var n = Date.now() / 1e3
                      , i = e.H.filter(function(e) {
                        return !(e = hi(e.attributes.ttl)) || n < t + e
                    }).map(ei).filter(Sa);
                    return i.length ? Gt(e.B, i) : []
                }(o),
                u = o.B,
                l.length ? (u = l,
                s = "Patch",
                c = 6) : 1 < o.B.length && o.h && ((l = Ep(o.h, "Location", !0)).length && (u = l)),
                l = xr(u, o.g.retryParameters),
                u = Date.now(),
                We(e, Tg(o, l, 0, {
                    type: c
                }), 2)) : 3 != e.g ? (l = e.h,
                o.j ? (l.uri && l.uri != l.originalUri && !o.B.includes(l.uri) && o.B.unshift(l.uri),
                c = new pt(l.uri),
                o.Z = c.g.toString(),
                We(e, (t = o,
                n = l.data,
                i = l.uri,
                a = s,
                $e(function(e) {
                    if (1 != e.g)
                        return P = e.h,
                        e.return(sg(t, P, i));
                    var o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C, M;
                    if (P = n,
                    (R = t.g.dash.manifestPreprocessor) != wl) {
                        if (wn("manifest.dash.manifestPreprocessor configuration", "Please Use manifest.dash.manifestPreprocessorTXml instead."),
                        !(r = ig(P, a)))
                            throw new nt(2,4,4001,i);
                        R(r),
                        P = Mt(r.outerHTML)
                    }
                    if (R = Wn(P, a))
                        return (r = t.g.dash.manifestPreprocessorTXml) != Sl && r(R),
                        "Patch" === a ? e.return((o = t,
                        s = R,
                        $e(function(e) {
                            if (1 == e.g) {
                                if (M = s.attributes.mpdId,
                                u = $(s, "originalPublishTime", si),
                                !M || M !== o.l.Ve || u !== o.l.Zd)
                                    throw o.H = [],
                                    new nt(1,4,4052);
                                for (l = [],
                                c = [],
                                d = new Set,
                                h = Ze(Qn(s)),
                                f = h.next(); !f.done; f = h.next())
                                    if (p = f.value,
                                    g = mi(p.attributes.sel || ""),
                                    g = g[g.length - 1],
                                    m = ei(p) || "",
                                    "MPD" === g.name)
                                        if ("mediaPresentationDuration" === g.qc) {
                                            var t = ui(ei(p) || "");
                                            if (null != t) {
                                                o.l.ic = t;
                                                for (var n = Ze(o.u.values()), i = n.next(); !i.done; i = n.next())
                                                    i.value.ic = t
                                            }
                                        } else if ("type" === g.qc) {
                                            for (o.i.presentationTimeline.Yc("static" == m),
                                            o.l.type = m,
                                            n = (t = Ze(o.u.values())).next(); !n.done; n = t.next())
                                                n.value.Tb = "dynamic" == m;
                                            "static" == m && (o.L = -1)
                                        } else
                                            "publishTime" === g.qc ? o.l.Zd = si(m) || 0 : null === g.qc && "add" === p.tagName && c.push(p);
                                    else if ("PatchLocation" === g.name)
                                        vi(o.H, p);
                                    else if ("Period" === g.name)
                                        "add" === p.tagName ? c.push(p) : "remove" === p.tagName && g.id && function(e, t) {
                                            e.i.periodCount--;
                                            for (var n = Ze(e.u.keys()), i = n.next(); !i.done; i = n.next())
                                                (i = i.value).startsWith(t) && (qf(e.u.get(i), gp, "SegmentTimeline").children = [],
                                                cg(e, i),
                                                e.u.delete(i));
                                            e.G = e.G.filter(function(e) {
                                                return e !== t
                                            })
                                        }(o, g.id);
                                    else if ("SegmentTemplate" === g.name) {
                                        if ((t = (n = mi(p.attributes.sel || ""))[n.length - 1]).qc) {
                                            for (var n = lg(o, n), i = ei(p) || "", a = Ze(n), r = a.next(); !r.done; r = a.next())
                                                bi((r = o.u.get(r.value)).N.Bc, p.tagName, t.qc, i);
                                            t = n
                                        } else
                                            t = [];
                                        for (v = Ze(t),
                                        y = v.next(); !y.done; y = v.next())
                                            b = y.value,
                                            d.add(b)
                                    } else if ("SegmentTimeline" === g.name || "S" === g.name) {
                                        for (t = mi(p.attributes.sel || ""),
                                        i = (n = Ze(t = lg(o, t))).next(); !i.done; i = n.next())
                                            vi(a = $n(i = qf(i = o.u.get(i.value), gp, "SegmentTimeline"), "S"), p),
                                            i.children = a;
                                        for (T = Ze(t),
                                        w = T.next(); !w.done; w = T.next())
                                            S = w.value,
                                            d.add(S)
                                    }
                                for (E = Ze(d),
                                A = E.next(); !A.done; A = E.next())
                                    x = A.value,
                                    cg(o, x);
                                for (I = Ze(c),
                                k = I.next(); !k.done; k = I.next())
                                    C = k.value,
                                    l.push.apply(l, et(dg(o, {
                                        Tb: "dynamic" == o.l.type,
                                        presentationTimeline: o.i.presentationTimeline,
                                        Da: null,
                                        wa: null,
                                        ua: null,
                                        N: null,
                                        bandwidth: 0,
                                        wg: !1,
                                        ob: o.l.ob,
                                        profiles: o.l.profiles,
                                        ic: o.l.ic,
                                        roles: null,
                                        Eb: function() {
                                            return ""
                                        }
                                    }, o.l.gb, C, !0).periods));
                                return l.length ? (o.i.periodCount += l.length,
                                o.i.gapCount = o.O,
                                We(e, ug(o, l, !0), 2)) : e.A(2)
                            }
                            "static" == o.l.type && (M = o.l.ic,
                            o.i.presentationTimeline.vb(M || 1 / 0)),
                            Ye(e)
                        }))) : t.g.dash.disableXlinkProcessing ? e.return(sg(t, R, i)) : (L = t.g.dash.xlinkFailGracefully,
                        R = Jf(R, t.g.retryParameters, L, i, t.j.networkingEngine),
                        wr(t.S, R),
                        We(e, R.promise, 2));
                    throw new nt(2,4,4001,i)
                })), 3)) : e.return(0)) : (d = Date.now(),
                d = (d - u) / 1e3,
                o.Ba.sample(1, d),
                e.return(d));
                var t, n, i, a, r, L, R, P
            })
        }
        function sg(v, y, b) {
            var T, w, S, E, A, x, I, k, C, M, L, R, P, D, N, _, O, U, j, F, B, G, V, H, K, z, X, W, Y, q, J;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    for (v.h && v.h.l.clear(),
                    T = [b],
                    w = [],
                    S = new Map,
                    k = $n(y, "Location"),
                    E = Ze(k),
                    A = E.next(); !A.done; A = E.next())
                        I = A.value,
                        x = I.attributes.serviceLocation,
                        (I = ei(I)) && (I = Gt(T, [I])[0],
                        x && (v.h ? Sp(v.h, "Location", x, I) : S.set(x, I)),
                        w.push(I));
                    if (v.h ? 0 < (k = Ep(v.h, "Location", !0)).length && (T = v.B = k) : w.length && (T = v.B = w),
                    v.l.Ve = y.attributes.id || "",
                    v.l.Zd = $(y, "publishTime", si) || 0,
                    v.H = $n(y, "PatchLocation"),
                    k = Promise.resolve(),
                    (W = ni(y, "ContentSteering")) && v.j)
                        for (U = W.attributes.defaultServiceLocation,
                        v.h ? (v.h.i = T,
                        v.h.h = U) : (v.h = new Tp(v.j),
                        v.h.configure(v.g),
                        v.h.setManifestType("DASH"),
                        v.h.i = T,
                        v.h.h = U,
                        (U = ei(W)) && ($(W, "queryBeforeStart", pi, !1) ? k = wp(v.h, U) : wp(v.h, U))),
                        C = Ze(S.keys()),
                        M = C.next(); !M.done; M = C.next())
                            L = M.value,
                            R = S.get(L),
                            Sp(v.h, "Location", L, R);
                    if (W = $n(y, "BaseURL"),
                    P = !1,
                    v.h)
                        for (D = Ze(W),
                        N = D.next(); !N.done; N = D.next())
                            O = N.value,
                            _ = O.attributes.serviceLocation,
                            O = ei(O),
                            _ && O && (Sp(v.h, "BaseURL", _, O),
                            P = !0);
                    if (v.W = null,
                    P && v.h || (U = W.map(ei),
                    v.W = Gt(T, U)),
                    j = function() {
                        return v.h && P ? Ep(v.h, "BaseURL") : v.W || []
                    }
                    ,
                    v.l.gb = j,
                    J = 0,
                    W && W.length && (J = $(W[0], "availabilityTimeOffset", fi) || 0),
                    v.l.ob = J,
                    W = v.g.dash.ignoreMinBufferTime,
                    F = 0,
                    W || (F = $(y, "minBufferTime", ui) || 0),
                    v.L = $(y, "minimumUpdatePeriod", ui, -1),
                    W = $(y, "availabilityStartTime", si),
                    q = $(y, "timeShiftBufferDepth", ui),
                    Y = v.g.dash.ignoreSuggestedPresentationDelay,
                    B = null,
                    Y || (B = $(y, "suggestedPresentationDelay", ui)),
                    Y = v.g.dash.ignoreMaxSegmentDuration,
                    G = null,
                    Y || (G = $(y, "maxSegmentDuration", ui)),
                    Y = y.attributes.type || "static",
                    v.i && v.i.presentationTimeline && (v.V = v.i.presentationTimeline.T() && "static" == Y),
                    v.l.type = Y,
                    v.i)
                        for (V = v.i.presentationTimeline,
                        H = Ze(Object.values(v.s)),
                        K = H.next(); !K.done; K = H.next())
                            (z = K.value).segmentIndex && z.segmentIndex.ab(V.Ib());
                    else
                        X = v.g.defaultPresentationDelay || 1.5 * F,
                        V = new lt(W,null != B ? B : X,v.g.dash.autoCorrectDrift);
                    return V.Yc("static" == Y),
                    null == (q = V.T() && !isNaN(v.g.availabilityWindowOverride) ? v.g.availabilityWindowOverride : q) && (q = 1 / 0),
                    V.jf(q),
                    W = y.attributes.profiles || "",
                    v.l.profiles = W.split(","),
                    X = {
                        Tb: "static" != Y,
                        presentationTimeline: V,
                        Da: null,
                        wa: null,
                        ua: null,
                        N: null,
                        bandwidth: 0,
                        wg: !1,
                        ob: J,
                        ic: null,
                        profiles: W.split(","),
                        roles: null,
                        Eb: function() {
                            return ""
                        }
                    },
                    v.O = 0,
                    q = dg(v, X, j, y, !1),
                    J = q.duration,
                    W = q.periods,
                    ("static" != Y || v.V) && q.Hh || V.vb(J || 1 / 0),
                    v.ha && !v.J && v.j.isAutoLowLatencyMode() && (v.j.enableLowLatencyMode(),
                    v.J = v.j.isLowLatencyMode()),
                    v.J && V.ri(v.aa),
                    V.Gg(G || 1),
                    We(e, k, 2);
                case 2:
                    return (v.J && (F = 0,
                    Y = null != B ? B : v.g.defaultPresentationDelay,
                    V.Yg(Y)),
                    v.i) ? (v.i.periodCount = W.length,
                    v.i.gapCount = v.O,
                    We(e, ug(v, W, !1), 4)) : We(e, v.m.Pf(W, X.Tb), 6);
                case 6:
                    if (v.i = {
                        presentationTimeline: V,
                        variants: v.m.l,
                        textStreams: v.m.pg(),
                        imageStreams: v.m.i,
                        offlineSessionIds: [],
                        minBufferTime: F || 0,
                        sequenceMode: v.g.dash.sequenceMode,
                        ignoreManifestTimestampsInSegmentsMode: !1,
                        type: "DASH",
                        serviceDescription: function(e) {
                            var t = ni(e, "ServiceDescription");
                            if (!t)
                                return null;
                            if (e = ni(t, "Latency"),
                            t = ni(t, "PlaybackRate"),
                            !e && !t)
                                return null;
                            var n = {};
                            return e && ("target"in e.attributes && (n.targetLatency = parseInt(e.attributes.target, 10) / 1e3),
                            "max"in e.attributes && (n.maxLatency = parseInt(e.attributes.max, 10) / 1e3),
                            "min"in e.attributes && (n.minLatency = parseInt(e.attributes.min, 10) / 1e3)),
                            t && ("max"in t.attributes && (n.maxPlaybackRate = parseFloat(t.attributes.max)),
                            "min"in t.attributes && (n.minPlaybackRate = parseFloat(t.attributes.min))),
                            n
                        }(y),
                        nextUrl: function(e) {
                            if (!(e = $n(e, "SupplementalProperty")).length)
                                return null;
                            for (var t = (e = Ze(e)).next(); !t.done; t = e.next())
                                if ("urn:mpeg:dash:chaining:2016" == (t = t.value).attributes.schemeIdUri)
                                    return t.attributes.value;
                            return null
                        }(y),
                        periodCount: W.length,
                        gapCount: v.O,
                        isLowLatency: v.ha,
                        startTime: null
                    },
                    V.Ki())
                        return q = $n(y, "UTCTiming"),
                        We(e, (u = v,
                        l = j,
                        c = q,
                        $e(function(e) {
                            switch (e.g) {
                            case 1:
                                h = c.map(function(e) {
                                    return {
                                        scheme: e.attributes.schemeIdUri,
                                        value: e.attributes.value
                                    }
                                }),
                                d = u.g.dash.clockSyncUri,
                                !h.length && d && h.push({
                                    scheme: "urn:mpeg:dash:utc:http-head:2014",
                                    value: d
                                }),
                                d = Ze(h),
                                h = d.next();
                            case 2:
                                if (h.done) {
                                    e.A(4);
                                    break
                                }
                                switch (f = h.value,
                                qe(e, 5),
                                p = f.scheme,
                                g = f.value,
                                p) {
                                case "urn:mpeg:dash:utc:http-head:2014":
                                case "urn:mpeg:dash:utc:http-head:2012":
                                    return e.A(7);
                                case "urn:mpeg:dash:utc:http-xsdate:2014":
                                case "urn:mpeg:dash:utc:http-iso:2014":
                                case "urn:mpeg:dash:utc:http-xsdate:2012":
                                case "urn:mpeg:dash:utc:http-iso:2012":
                                    return e.A(8);
                                case "urn:mpeg:dash:utc:direct:2014":
                                case "urn:mpeg:dash:utc:direct:2012":
                                    return m = Date.parse(g),
                                    e.return(isNaN(m) ? 0 : m - Date.now());
                                case "urn:mpeg:dash:utc:http-ntp:2014":
                                case "urn:mpeg:dash:utc:ntp:2014":
                                case "urn:mpeg:dash:utc:sntp:2014":
                                    Q("NTP UTCTiming scheme is not supported");
                                    break;
                                default:
                                    Q("Unrecognized scheme in UTCTiming element", p)
                                }
                                e.A(9);
                                break;
                            case 7:
                                return We(e, vg(u, l, g, "HEAD"), 10);
                            case 10:
                                return e.return(e.h);
                            case 8:
                                return We(e, vg(u, l, g, "GET"), 11);
                            case 11:
                                return e.return(e.h);
                            case 9:
                                Je(e, 3);
                                break;
                            case 5:
                                Qe(e);
                            case 3:
                                h = d.next(),
                                e.A(2);
                                break;
                            case 4:
                                return Q("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),
                                e.return(0)
                            }
                        })), 8);
                    e.A(7);
                    break;
                case 8:
                    if (J = e.h,
                    !v.j)
                        return e.return();
                    V.si(J);
                case 7:
                    V.Re();
                case 4:
                    v.j.makeTextStreamsForClosedCaptions(v.i);
                    for (var t = v, n = Object.keys(t.C).filter(function(e) {
                        return !t.G.includes(e)
                    }), i = (n = Ze(n)).next(); !i.done; i = n.next()) {
                        i = i.value;
                        for (var a = !0, r = Ze(t.C[i]), o = r.next(); !o.done; o = r.next()) {
                            o = o.value;
                            var s = t.s[o];
                            s && (s.segmentIndex && 0 != s.segmentIndex.getNumReferences() ? a = !1 : (t.m && t.m.Fh(t.s[o], i),
                            delete t.s[o]))
                        }
                        a && delete t.C[i]
                    }
                    Ye(e)
                }
                var u, l, c, d, h, f, p, g, m
            })
        }
        function ug(t, n, i) {
            var a;
            return $e(function(e) {
                if (1 == e.g)
                    return We(e, t.m.Pf(n, !0, i), 2);
                t.i.variants = t.m.l,
                0 < (a = t.m.pg()).length && (t.i.textStreams = a),
                t.i.imageStreams = t.m.i,
                t.j.filter(t.i),
                Ye(e)
            })
        }
        function lg(e, t) {
            for (var n = "", i = "", a = -1, r = "", o = (t = Ze(t)).next(); !o.done; o = t.next())
                "Period" === (o = o.value).name ? n = o.id : "AdaptationSet" === o.name ? (i = o.id,
                null !== o.position && (a = o.position)) : "Representation" === o.name && (r = o.id);
            if (t = [],
            r)
                t.push(n + "," + r);
            else if (i)
                for (e = (a = Ze(e.u.values())).next(); !e.done; e = a.next())
                    (e = e.value).Da.id === n && e.ua.id === i && e.N.id && t.push(n + "," + e.N.id);
            else if (-1 < a)
                for (e = (i = Ze(e.u.values())).next(); !e.done; e = i.next())
                    (e = e.value).Da.id === n && e.ua.position === a && e.N.id && t.push(n + "," + e.N.id);
            return t
        }
        function cg(a, t) {
            var n = a.u.get(t)
              , i = a.s[t];
            i.segmentIndex && i.segmentIndex.ab(a.i.presentationTimeline.Ib());
            try {
                var r = pp(n, function(e, t, n, i) {
                    return yg(a, e, t, n, i)
                }, a.s, !0, a.g.dash.initialSegmentLimit, a.ma, n.N.aesKey, null, !0);
                i.createSegmentIndex = function() {
                    return $e(function(e) {
                        if (1 == e.g)
                            return i.segmentIndex ? e.A(0) : We(e, r.Jc(), 3);
                        i.segmentIndex = e.h,
                        Ye(e)
                    })
                }
            } catch (e) {
                if ((t = n.N.contentType) != it && "application" != t && "image" != t || 4002 != e.code)
                    throw e
            }
        }
        function dg(e, t, n, i, a) {
            var r = t.ic
              , o = (r || (r = $(i, "mediaPresentationDuration", ui),
            e.l.ic = r),
            0)
              , s = []
              , u = o = e.i && e.i.presentationTimeline && e.V ? e.i.presentationTimeline.dc() : o;
            i = $n(i, "Period");
            for (var l = 0; l < i.length; l++) {
                var c, d = i[l], h = i[l + 1], f = $(d, "start", ui, u), p = d.attributes.id, g = $(d, "duration", ui), f = 0 == l && 0 == f && e.V ? o : f, m = null;
                if (h ? null != (c = $(h, "start", ui)) && (m = c - f + o) : null != r && (m = r - f + o),
                c = Yt,
                m && g && Math.abs(m - g) > c && g < m && e.O++,
                null == m && (m = g),
                !(null !== e.P && null !== p && null !== f && f < e.P) || e.G.includes(p) || l + 1 == i.length) {
                    if (null !== f && (null === e.P || f > e.P) && (e.P = f),
                    u = function(C, M, e, t) {
                        M.Da = mg(C, t.node, null, e),
                        M.wa = t,
                        M.Da.ob = M.ob,
                        M.Da.id || (M.Da.id = "__shaka_period_" + t.start);
                        var n = $n(t.node, "EventStream");
                        e = M.presentationTimeline.Ib();
                        for (var i = (n = Ze(n)).next(); !i.done; i = n.next())
                            !function(e, t, n, i, a) {
                                for (var r = i.attributes.schemeIdUri || "", o = i.attributes.value || "", s = $(i, "timescale", hi) || 1, u = $(i, "presentationTimeOffset", hi) || 0, l = (i = Ze($n(i, "Event"))).next(); !l.done; l = i.next()) {
                                    var c = $(l = l.value, "presentationTime", hi) || 0
                                      , d = $(l, "duration", hi) || 0;
                                    c = Math.max((c - u) / s + t, t),
                                    d = c + d / s,
                                    null != n && (c = Math.min(c, t + n),
                                    d = Math.min(d, t + n)),
                                    d < a || (l = {
                                        schemeIdUri: r,
                                        value: o,
                                        startTime: c,
                                        endTime: d,
                                        id: l.attributes.id || "",
                                        eventElement: function e(t) {
                                            var n, i = "", a = t.tagName.split(":");
                                            for (n in 0 < a.length && (i = a[0],
                                            i = Si.has(i) ? Si.get(i) : ""),
                                            i = document.createElementNS(i, t.tagName),
                                            t.attributes)
                                                i.setAttribute(n, t.attributes[n]);
                                            for (n = (t = Ze(t.children)).next(); !n.done; n = t.next())
                                                a = void 0,
                                                a = "string" == typeof (n = n.value) ? new Text(n) : e(n),
                                                i.appendChild(a);
                                            return i
                                        }(l),
                                        eventNode: Ti(l)
                                    },
                                    e.j.onTimelineRegionAdded(l))
                                }
                            }(C, t.start, t.duration, i.value, e);
                        for (e = Ze(e = $n(t.node, "SupplementalProperty")),
                        n = e.next(); !n.done; n = e.next())
                            "urn:mpeg:dash:urlparam:2014" == (n = n.value).attributes.schemeIdUri && (n = fg(C, n)) && (M.Eb = n);
                        if (e = $n(t.node, "AdaptationSet").map(function(e, t) {
                            var n = C
                              , i = M
                              , a = t
                              , t = e;
                            function r(e) {
                                var t = e.attributes["dvb:fontFamily"];
                                e = e.attributes["dvb:url"],
                                t && e && (e = Gt(i.ua.gb(), [e], i.Eb()),
                                n.j.addFont(t, e[0]))
                            }
                            function o(e) {
                                switch (e) {
                                case 1:
                                case 5:
                                case 6:
                                case 7:
                                    return "srgb";
                                case 9:
                                    return "rec2020";
                                case 11:
                                case 12:
                                    return "p3"
                                }
                            }
                            function s(e) {
                                switch (e) {
                                case 1:
                                case 6:
                                case 13:
                                case 14:
                                case 15:
                                    return "SDR";
                                case 16:
                                    return "PQ";
                                case 18:
                                    return "HLG"
                                }
                            }
                            i.ua = mg(n, t, i.Da, null),
                            i.ua.position = a;
                            var u = !1
                              , l = (a = $n(t, "Role")).map(function(e) {
                                return e.attributes.value
                            }).filter(Sa)
                              , c = void 0
                              , d = i.ua.contentType == it;
                            d && (c = "subtitle");
                            for (var h = (a = Ze(a)).next(); !h.done; h = a.next()) {
                                var f = (h = h.value).attributes.schemeIdUri;
                                if (null == f || "urn:mpeg:dash:role:2011" == f)
                                    switch (h = h.attributes.value,
                                    h) {
                                    case "main":
                                        u = !0;
                                        break;
                                    case "caption":
                                    case "subtitle":
                                        c = h
                                    }
                            }
                            var p = $n(t, "EssentialProperty")
                              , g = !1;
                            h = a = null,
                            f = !1;
                            for (var m = (p = Ze(p)).next(); !m.done; m = p.next()) {
                                var v, y, b = (m = m.value).attributes.schemeIdUri;
                                "http://dashif.org/guidelines/trickmode" == b ? a = m.attributes.value : "urn:mpeg:mpegB:cicp:TransferCharacteristics" == b ? v = s(parseInt(m.attributes.value, 10)) : "urn:mpeg:mpegB:cicp:ColourPrimaries" == b ? y = o(parseInt(m.attributes.value, 10)) : "urn:mpeg:mpegB:cicp:MatrixCoefficients" != b && ("urn:mpeg:dash:ssr:2023" == b && n.g.dash.enableFastSwitching ? g = !0 : "urn:dvb:dash:fontdownload:2014" == b ? r(m) : "urn:mpeg:dash:urlparam:2014" == b && (h = fg(n, m)) || (f = !0))
                            }
                            if (f)
                                return null;
                            var T = null;
                            for (f = Ze(f = $n(t, "SupplementalProperty")),
                            p = f.next(); !p.done; p = f.next())
                                p = p.value,
                                "http://dashif.org/guidelines/last-segment-number" == (m = p.attributes.schemeIdUri) ? T = parseInt(p.attributes.value, 10) - 1 : "urn:mpeg:mpegB:cicp:TransferCharacteristics" == m ? v = s(parseInt(p.attributes.value, 10)) : "urn:mpeg:mpegB:cicp:ColourPrimaries" == m ? y = o(parseInt(p.attributes.value, 10)) : "urn:dvb:dash:fontdownload:2014" == m ? r(p) : "urn:mpeg:dash:urlparam:2014" == m && (h = fg(n, p));
                            h && (i.Eb = h),
                            h = $n(t, "Accessibility");
                            var w, S = new Map;
                            for (h = Ze(h),
                            f = h.next(); !f.done; f = h.next())
                                if (p = f.value,
                                f = p.attributes.schemeIdUri,
                                p = p.attributes.value,
                                "urn:scte:dash:cc:cea-608:2015" != f || n.g.disableText)
                                    if ("urn:scte:dash:cc:cea-708:2015" != f || n.g.disableText)
                                        "urn:mpeg:dash:role:2011" == f ? null != p && (l.push(p),
                                        "captions" == p && (c = "caption")) : "urn:tva:metadata:cs:AudioPurposeCS:2007" == f && ("1" == p ? w = "visually impaired" : "2" == p && (w = "hard of hearing"));
                                    else if (f = 1,
                                    null != p)
                                        for (p = Ze(p.split(";")),
                                        m = p.next(); !m.done; m = p.next()) {
                                            b = m.value;
                                            var E = m = void 0;
                                            E = b.includes("=") ? (b = b.split("="),
                                            m = "svc" + b[0],
                                            b[1].split(",")[0].split(":").pop()) : (m = "svc" + f,
                                            f++,
                                            b),
                                            S.set(m, en(E))
                                        }
                                    else
                                        S.set("svc1", "und");
                                else if (f = 1,
                                null != p)
                                    for (p = p.split(";"),
                                    m = Ze(p),
                                    b = m.next(); !b.done; b = m.next()) {
                                        E = b.value;
                                        var A = b = void 0;
                                        A = E.includes("=") ? (E = E.split("="),
                                        b = E[0].startsWith("CC") ? E[0] : "CC" + E[0],
                                        E[1] || "und") : (b = "CC" + f,
                                        2 == p.length ? f += 2 : f++,
                                        E),
                                        S.set(b, en(A))
                                    }
                                else
                                    S.set("CC1", "und");
                            var x = Gf(h = $n(t, "ContentProtection"), n.g.dash.ignoreDrmInfo, n.g.dash.keySystemsByURI)
                              , I = en(i.ua.language || "und")
                              , k = i.ua.label;
                            if (h = $n(t, "Representation"),
                            0 == (t = h.map(function(e) {
                                return (e = function(a, e, t, n, i, r, o, s, u, l, c, d) {
                                    e.N = mg(a, l, e.ua, null);
                                    var h = e.N.id;
                                    if (a.aa = Math.min(a.aa, e.N.ob),
                                    a.ha = 0 < a.aa,
                                    !function(e) {
                                        var t = e.Bd ? 1 : 0;
                                        return 0 == (t = (t += e.mc ? 1 : 0) + (e.Bc ? 1 : 0)) ? e.contentType == it || "application" == e.contentType : (1 != t && (e.Bd && (e.mc = null),
                                        e.Bc = null),
                                        !0)
                                    }(e.N))
                                        return null;
                                    var f, p, g = e.wa.start, m = (e.bandwidth = $(l, "bandwidth", di) || 0,
                                    e.roles = s,
                                    $n(l, "SupplementalProperty")), v = $n(l, "EssentialProperty"), y = null, b = v.find(function(e) {
                                        return "urn:mpeg:dash:urlparam:2014" == e.attributes.schemeIdUri
                                    });
                                    (b = b || m.find(function(e) {
                                        return "urn:mpeg:dash:urlparam:2014" == e.attributes.schemeIdUri
                                    })) && (y = fg(a, b)),
                                    y && (e.Eb = y),
                                    b = e.N.contentType,
                                    y = b == it || "application" == b,
                                    b = "image" == b;
                                    try {
                                        var T, w, S, E, A, x, I, k, C = void 0;
                                        t.If && (T = e.N.gb,
                                        w = e.Eb,
                                        S = xr(Gt(T(), [t.If.Zj], w()), a.g.retryParameters),
                                        C = {
                                            bitsKey: 128,
                                            blockCipherMode: "CBC",
                                            iv: t.If.iv,
                                            firstMediaSequenceNumber: 0,
                                            fetchKey: function() {
                                                var t, n, i;
                                                return $e(function(e) {
                                                    if (1 == e.g)
                                                        return We(e, Tg(a, S, 6), 2);
                                                    if (3 != e.g) {
                                                        if ((t = e.h).data && 16 == t.data.byteLength)
                                                            return n = {
                                                                name: "AES-CBC"
                                                            },
                                                            i = C,
                                                            We(e, U.crypto.subtle.importKey("raw", t.data, n, !0, ["decrypt"]), 3);
                                                        throw new nt(2,4,4049)
                                                    }
                                                    i.cryptoKey = e.h,
                                                    C.fetchKey = void 0,
                                                    Ye(e)
                                                })
                                            }
                                        }),
                                        e.N.aesKey = C,
                                        T = function(e, t, n, i) {
                                            return yg(a, e, t, n, i)
                                        }
                                        ,
                                        E = e.N.Bd ? op(e, T, C) : e.N.mc ? hp(e, a.s, C) : e.N.Bc ? pp(e, T, a.s, !!a.i, a.g.dash.initialSegmentLimit, a.ma, C, d, !1) : (A = e.wa.duration || 0,
                                        x = e.N.gb,
                                        I = e.N.mimeType,
                                        k = e.N.codecs,
                                        {
                                            Jc: function() {
                                                var e = du(g, A, x());
                                                return e.Ub(function(e) {
                                                    e.mimeType = I,
                                                    e.codecs = k
                                                }),
                                                Promise.resolve(e)
                                            }
                                        })
                                    } catch (e) {
                                        if ((y || b) && 4002 == e.code)
                                            return null;
                                        throw e
                                    }
                                    if (l = function(e, t, n, i) {
                                        var a = Gf(e, n, i);
                                        if (t.Jh)
                                            e = 1 == t.drmInfos.length && !t.drmInfos[0].keySystem,
                                            n = 0 == a.drmInfos.length,
                                            (0 == t.drmInfos.length || e && !n) && (t.drmInfos = a.drmInfos),
                                            t.Jh = !1;
                                        else if (0 < a.drmInfos.length && (t.drmInfos = t.drmInfos.filter(function(t) {
                                            return a.drmInfos.some(function(e) {
                                                return e.keySystem == t.keySystem
                                            })
                                        }),
                                        0 == t.drmInfos.length))
                                            throw new nt(2,4,4008);
                                        return a.Eh || t.Eh
                                    }(l = $n(l, "ContentProtection"), t, a.g.dash.ignoreDrmInfo, a.g.dash.keySystemsByURI),
                                    l = new Set(l ? [l] : []),
                                    d = !1,
                                    m.some(function(e) {
                                        return "tag:dolby.com,2018:dash:EC3_ExtensionType:2018" == e.attributes.schemeIdUri && "JOC" == e.attributes.value
                                    }) && (d = !0),
                                    m = !1,
                                    y && (m = s.includes("forced_subtitle") || s.includes("forced-subtitle")),
                                    b && !(f = (v = v.find(function(e) {
                                        return ["http://dashif.org/thumbnail_tile", "http://dashif.org/guidelines/thumbnail_tile"].includes(e.attributes.schemeIdUri)
                                    })) ? v.attributes.value : f))
                                        return null;
                                    y = e.N.codecs,
                                    e.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10") && (y.includes("hvc1.2.4.L153.B0") || y.includes("hev1.2.4.L153.B0")) && (p = "PQ"),
                                    v = e.N.id ? e.Da.id + "," + e.N.id : "",
                                    a.H.length && h && a.u.set(e.Da.id + "," + h, function(e) {
                                        function t(e) {
                                            return e ? ((e = Xn(e)).Bd = null,
                                            e.mc = null,
                                            e.Bc = Ti(e.Bc),
                                            e) : null
                                        }
                                        return (e = Xn(e)).Da = t(e.Da),
                                        e.ua = t(e.ua),
                                        e.N = t(e.N),
                                        e.wa && (e.wa = Xn(e.wa),
                                        e.wa.node = null),
                                        e
                                    }(e));
                                    var M = v && a.s[v] ? a.s[v] : {
                                        id: a.ra++,
                                        originalId: e.N.id,
                                        groupId: null,
                                        createSegmentIndex: function() {
                                            return Promise.resolve()
                                        },
                                        closeSegmentIndex: function() {
                                            M.segmentIndex && (M.segmentIndex.release(),
                                            M.segmentIndex = null)
                                        },
                                        segmentIndex: null,
                                        mimeType: e.N.mimeType,
                                        codecs: y,
                                        frameRate: e.N.frameRate,
                                        pixelAspectRatio: e.N.pixelAspectRatio,
                                        bandwidth: e.bandwidth,
                                        width: e.N.width,
                                        height: e.N.height,
                                        kind: n,
                                        encrypted: 0 < t.drmInfos.length,
                                        drmInfos: t.drmInfos,
                                        keyIds: l,
                                        language: i,
                                        originalLanguage: e.ua.language,
                                        label: r,
                                        type: e.ua.contentType,
                                        primary: o,
                                        trickModeVideo: null,
                                        emsgSchemeIdUris: e.N.emsgSchemeIdUris,
                                        roles: s,
                                        forced: m,
                                        channelsCount: e.N.Xe,
                                        audioSamplingRate: e.N.audioSamplingRate,
                                        spatialAudio: d,
                                        closedCaptions: u,
                                        hdr: p,
                                        colorGamut: void 0,
                                        videoLayout: void 0,
                                        tilesLayout: f,
                                        accessibilityPurpose: c,
                                        external: !1,
                                        fastSwitching: !1,
                                        fullMimeTypes: new Set([ia(e.N.mimeType, e.N.codecs)]),
                                        isAudioMuxedInVideo: !1
                                    };
                                    return M.createSegmentIndex = function() {
                                        var t;
                                        return $e(function(e) {
                                            if (1 == e.g)
                                                return M.segmentIndex ? e.A(0) : (t = M,
                                                We(e, E.Jc(), 3));
                                            t.segmentIndex = e.h,
                                            Ye(e)
                                        })
                                    }
                                    ,
                                    v && e.Tb && !a.s[v] && (e = e.Da.id || "",
                                    a.C[e] || (a.C[e] = []),
                                    a.s[v] = M,
                                    a.C[e].push(v)),
                                    M
                                }(n, i, x, c, I, k, u, l, S, e, w, T)) && (e.hdr = e.hdr || v,
                                e.colorGamut = e.colorGamut || y,
                                e.fastSwitching = g),
                                e
                            }).filter(function(e) {
                                return !!e
                            })).length) {
                                if (a = "image" == i.ua.contentType,
                                n.g.dash.ignoreEmptyAdaptationSet || d || a)
                                    return null;
                                throw new nt(2,4,4003)
                            }
                            if (!i.ua.contentType || "application" == i.ua.contentType)
                                for (i.ua.contentType = bg(t[0].mimeType, t[0].codecs),
                                d = Ze(t),
                                f = d.next(); !f.done; f = d.next())
                                    f.value.type = i.ua.contentType;
                            for (d = i.ua.id || "__fake__" + n.ra++,
                            f = Ze(t),
                            p = f.next(); !p.done; p = f.next()) {
                                for (p = p.value,
                                m = Ze(x.drmInfos),
                                b = m.next(); !b.done; b = m.next())
                                    (b = b.value).keyIds = b.keyIds && p.keyIds ? new Set([].concat(et(b.keyIds), et(p.keyIds))) : b.keyIds || p.keyIds;
                                p.groupId = d
                            }
                            return h = h.map(function(e) {
                                return e.attributes.id
                            }).filter(Sa),
                            {
                                id: d,
                                contentType: i.ua.contentType,
                                language: I,
                                fm: u,
                                streams: t,
                                drmInfos: x.drmInfos,
                                lh: a,
                                yk: h
                            }
                        }).filter(Sa),
                        M.Tb) {
                            for (t = [],
                            n = Ze(e),
                            i = n.next(); !i.done; i = n.next())
                                for (var a = (i = Ze(i.value.yk)).next(); !a.done; a = i.next())
                                    t.push(a.value);
                            if (t.length != new Set(t).size)
                                throw new nt(2,4,4018)
                        }
                        if (t = e.filter(function(e) {
                            return !e.lh
                        }),
                        e = e.filter(function(e) {
                            return e.lh
                        }),
                        !C.g.disableIFrames)
                            for (e = Ze(e),
                            n = e.next(); !n.done; n = e.next()) {
                                n = n.value,
                                i = n.lh.split(" ");
                                for (var r = (a = Ze(t)).next(); !r.done; r = a.next())
                                    if (r = r.value,
                                    i.includes(r.id))
                                        for (var o = (r = Ze(r.streams)).next(); !o.done; o = r.next())
                                            za(o.value, n.streams)
                            }
                        if (e = hg(C.g.disableAudio, t, "audio"),
                        n = hg(C.g.disableVideo, t, "video"),
                        i = hg(C.g.disableText, t, it),
                        t = hg(C.g.disableThumbnails, t, "image"),
                        0 === n.length && 0 === e.length)
                            throw new nt(2,4,4004);
                        return {
                            id: M.Da.id,
                            audioStreams: e,
                            videoStreams: n,
                            textStreams: i,
                            imageStreams: t
                        }
                    }(e, t, n, {
                        start: f,
                        duration: m,
                        node: d,
                        zg: null == m || !h
                    }),
                    s.push(u),
                    t.Da.id && m && (e.ma[t.Da.id] = m),
                    null == m) {
                        u = null;
                        break
                    }
                    u = f + m
                }
            }
            if (a)
                for (n = (t = Ze(s)).next(); !n.done; n = t.next())
                    n = n.value.id,
                    e.G.includes(n) || e.G.push(n);
            else
                e.G = s.map(function(e) {
                    return e.id
                });
            return null != r ? {
                periods: s,
                duration: r + o,
                Hh: !1
            } : {
                periods: s,
                duration: u,
                Hh: !0
            }
        }
        function hg(e, t, n) {
            return e || !t.length ? [] : t.reduce(function(e, t) {
                return t.contentType != n || e.push.apply(e, et(t.streams)),
                e
            }, [])
        }
        function fg(i, e) {
            if ((e = ii(e, "urn:mpeg:dash:schema:urlparam:2014", "UrlQueryInfo")) && $(e, "useMPDUrlQuery", pi, !1)) {
                var t = e.attributes.queryTemplate;
                if (t)
                    return function() {
                        return "$querypart$" == t ? i.Z : t.split("&").map(function(e) {
                            if ("$querypart$" == e)
                                return i.Z;
                            if ((t = /\$query:(.*?)\$/g.exec(e)) && 2 == t.length) {
                                var t = t[1]
                                  , n = new me(i.Z).get(t);
                                if (n.length)
                                    return t + "=" + n[0]
                            }
                            return e
                        }).join("&")
                    }
            }
            return null
        }
        function pg(t) {
            var n, i;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return n = 0,
                    qe(e, 2),
                    We(e, og(t), 4);
                case 4:
                    n = e.h,
                    Je(e, 3);
                    break;
                case 2:
                    if (i = Qe(e),
                    t.j) {
                        if (t.g.raiseFatalErrorOnManifestUpdateRequestFailure)
                            return t.j.onError(i),
                            e.return();
                        i.severity = 1,
                        t.j.onError(i)
                    }
                case 3:
                    if (!t.j)
                        return e.return();
                    t.j.onManifestUpdated(),
                    gg(t, n),
                    Ye(e)
                }
            })
        }
        function gg(e, t) {
            var n;
            e.L < 0 || (n = e.L,
            0 <= e.g.dash.updatePeriod && (n = e.g.dash.updatePeriod),
            e.M.Y(Math.max(n - t, hn(e.Ba))))
        }
        function mg(e, t, n, i) {
            n = n || {
                contentType: "",
                mimeType: "",
                codecs: "",
                emsgSchemeIdUris: [],
                frameRate: void 0,
                pixelAspectRatio: void 0,
                Xe: null,
                audioSamplingRate: null,
                ob: 0,
                gf: 0
            },
            i = i || n.gb;
            var a, r = t.attributes.id, o = $n(t, "BaseURL"), s = !1;
            if (e.h)
                for (var u = (g = Ze(o)).next(); !u.done; u = g.next()) {
                    var u = (l = u.value).attributes.serviceLocation
                      , l = ei(l);
                    u && l && (Sp(e.h, r, u, l),
                    s = !0)
                }
            s && e.h || (a = o.map(ei)),
            g = t.attributes.contentType || n.contentType,
            u = t.attributes.mimeType || n.mimeType,
            l = [t.attributes.codecs || n.codecs];
            var c = ai(t, "urn:scte:dash:scte214-extensions", "supplementalCodecs")
              , d = (c && l.push(c),
            l = Fu(l).join(","),
            c = $(t, "frameRate", gi) || n.frameRate,
            t.attributes.sar || n.pixelAspectRatio)
              , h = function(e, t) {
                t = t.slice();
                for (var n = (e = Ze(e)).next(); !n.done; n = e.next())
                    n = n.value.attributes.schemeIdUri,
                    t.includes(n) || t.push(n);
                return t
            }($n(t, "InbandEventStream"), n.emsgSchemeIdUris)
              , f = function(e) {
                for (var t = (e = Ze(e)).next(); !t.done; t = e.next()) {
                    var n = (t = t.value).attributes.schemeIdUri;
                    if (n && (t = t.attributes.value))
                        switch (n) {
                        case "urn:mpeg:dash:outputChannelPositionList:2012":
                            return t.trim().split(/ +/).length;
                        case "urn:mpeg:dash:23003:3:audio_channel_configuration:2011":
                        case "urn:dts:dash:audio_channel_configuration:2012":
                            if (t = parseInt(t, 10))
                                return t;
                            continue;
                        case "tag:dolby.com,2015:dash:audio_channel_configuration:2015":
                            if (n = [2, 1, 2, 2, 2, 2, 1, 2, 2, 1, 1, 1, 1, 2, 1, 1, 2, 2],
                            !(t = parseInt(t, 16)))
                                continue;
                            for (var i = 0, a = 0; a < n.length; a++)
                                t & 1 << a && (i += n[a]);
                            if (i)
                                return i;
                            continue;
                        case "tag:dolby.com,2014:dash:audio_channel_configuration:2011":
                        case "urn:dolby:dash:audio_channel_configuration:2011":
                            if (n = [1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 2, 2, 1, 2, 1, 1].reverse(),
                            !(t = parseInt(t, 16)))
                                continue;
                            for (a = i = 0; a < n.length; a++)
                                t & 1 << a && (i += n[a]);
                            if (i)
                                return i;
                            continue;
                        case "urn:mpeg:mpegB:cicp:ChannelConfiguration":
                            if (n = [0, 1, 2, 3, 4, 5, 6, 8, 2, 3, 4, 7, 8, 24, 8, 12, 10, 12, 14, 12, 14],
                            (t = parseInt(t, 10)) && 0 < t && t < n.length)
                                return n[t]
                        }
                }
                return null
            }($n(t, "AudioChannelConfiguration")) || n.Xe
              , p = $(t, "audioSamplingRate", hi) || n.audioSamplingRate
              , g = g || bg(u, l)
              , m = ni(t, "SegmentBase")
              , v = ni(t, "SegmentTemplate")
              , y = m && $(m, "availabilityTimeOffset", fi) || 0
              , b = v && $(v, "availabilityTimeOffset", fi) || 0
              , T = o && o.length && $(o[0], "availabilityTimeOffset", fi) || 0
              , y = n.ob + T + y + b
              , b = null
              , T = ((T = ni(t, "SegmentSequenceProperties")) && (T = ni(T, "SAP")) && (b = $(T, "cadence", ci)),
            t.attributes.label)
              , w = $n(t, "Label");
            return w && w.length && (Zn(w = w[0]) && (T = Zn(w))),
            {
                gb: function() {
                    return Gt(i(), o.length ? e.h && s ? Ep(e.h, r) : a || [] : [])
                },
                Bd: m || n.Bd,
                mc: ni(t, "SegmentList") || n.mc,
                Bc: v || n.Bc,
                width: $(t, "width", hi) || n.width,
                height: $(t, "height", hi) || n.height,
                contentType: g,
                mimeType: u,
                codecs: l,
                frameRate: c,
                pixelAspectRatio: d,
                emsgSchemeIdUris: h,
                id: r,
                language: t.attributes.lang,
                Xe: f,
                audioSamplingRate: p,
                ob: y,
                Le: null,
                gf: b || n.gf,
                label: T || null
            }
        }
        function vg(t, n, i, a) {
            var r, o, s;
            return $e(function(e) {
                if (1 == e.g)
                    return r = [Pt(i)],
                    r = Gt(n(), r),
                    (r = xr(r, t.g.retryParameters)).method = a,
                    r = t.j.networkingEngine.request(4, r, {
                        isPreload: t.ea()
                    }),
                    wr(t.S, r),
                    We(e, r.promise, 2);
                if (r = e.h,
                "HEAD" == a) {
                    if (!r.headers || !r.headers.date)
                        return e.return(0);
                    o = r.headers.date
                } else
                    o = It(r.data);
                return s = Date.parse(o),
                isNaN(s) ? e.return(0) : e.return(s - Date.now())
            })
        }
        function yg(t, n, i, a, r) {
            var o, s, u;
            return $e(function(e) {
                return 1 == e.g ? (o = Mr,
                s = r ? 0 : 1,
                u = Gu(n, i, a, t.g.retryParameters),
                We(e, Tg(t, u, o, {
                    type: s
                }), 2)) : (u = e.h,
                e.return(u.data))
            })
        }
        function bg(e, t) {
            return ma(t = ia(e, t)) ? it : e.split("/")[0]
        }
        function Tg(e, t, n, i) {
            return (i = i || {}).isPreload = e.ea(),
            t = e.j.networkingEngine.request(n, t, i),
            wr(e.S, t),
            t.promise
        }
        function wg() {}
        (t = rg.prototype).configure = function(e, t) {
            var n = this.j && e.dash.updatePeriod != this.g.dash.updatePeriod && 0 <= e.dash.updatePeriod;
            this.g = e,
            t && (this.ea = t),
            n && this.i && this.i.presentationTimeline.T() && this.M.Ra(),
            this.h && this.h.configure(this.g),
            this.m && (this.m.pi(this.g.dash.multiTypeVariantsAllowed && yn()),
            this.m.Ai(this.g.dash.useStreamOnceInPeriodFlattening))
        }
        ,
        t.start = function(t, n) {
            var i, a = this;
            return $e(function(e) {
                if (1 == e.g)
                    return a.J = n.isLowLatencyMode(),
                    a.B = [t],
                    a.j = n,
                    We(e, og(a), 2);
                if (i = e.h,
                a.j && gg(a, i),
                a.j)
                    return e.return(a.i);
                throw new nt(2,7,7001)
            })
        }
        ,
        t.stop = function() {
            for (var e = Ze(Object.values(this.s)), t = e.next(); !t.done; t = e.next())
                (t = t.value).segmentIndex && t.segmentIndex.release();
            return this.m && this.m.release(),
            this.g = this.j = null,
            this.B = [],
            this.i = null,
            this.s = {},
            this.C = {},
            this.u.clear(),
            this.l = {
                Ve: "",
                type: "",
                profiles: [],
                ic: null,
                ob: 0,
                gb: null,
                Zd: 0
            },
            (this.m = null) != this.M && (this.M.stop(),
            this.M = null),
            this.h && this.h.destroy(),
            this.I && (this.I.release(),
            this.I = null),
            this.S.destroy()
        }
        ,
        t.update = function() {
            var t, n = this;
            return $e(function(e) {
                return 1 == e.g ? (qe(e, 2),
                We(e, og(n), 4)) : 2 != e.g ? Je(e, 0) : (t = Qe(e),
                n.j && t ? (n.j.onError(t),
                void Ye(e)) : e.return())
            })
        }
        ,
        t.onExpirationUpdated = function() {}
        ,
        t.onInitialVariantChosen = function(e) {
            var t, n;
            this.i && this.i.presentationTimeline.T() && ((t = e.video || e.audio) && t.segmentIndex && (e = this.i.presentationTimeline.tc(),
            null != (n = t.segmentIndex.find(e)) && (t = t.segmentIndex.get(n)) && (this.L = t.endTime - e,
            gg(this, 0))))
        }
        ,
        t.banLocation = function(e) {
            this.h && this.h.banLocation(e)
        }
        ,
        t.setMediaElement = function(e) {
            this.K = e
        }
        ,
        i("shaka.dash.DashParser", rg),
        ko["application/dash+xml"] = function() {
            return new rg
        }
        ,
        ko["video/vnd.mpeg.dash.mpd"] = function() {
            return new rg
        }
        ,
        i("shaka.dependencies", wg),
        wg.has = function(e) {
            return Ag.has(e)
        }
        ,
        wg.add = function(e, t) {
            if (!Eg[e])
                throw Error(e + " is not supported");
            e == Sg ? wn("mux.js", "mux.js is no longer used in Shaka Player.") : Ag.set(e, function() {
                return t
            })
        }
        ;
        var Sg = "muxjs"
          , Eg = {
            gm: Sg,
            ISOBoxer: "ISOBoxer"
        }
          , Ag = (wg.Allowed = Eg,
        new Map([["ISOBoxer", function() {
            return U.ISOBoxer
        }
        ]]));
        function xg(e, t, n) {
            this.type = e,
            this.ka = t,
            this.segments = n || null
        }
        function Ig(e, t, n, i) {
            this.id = e,
            this.name = t,
            this.attributes = n,
            this.value = void 0 === i ? null : i
        }
        function kg(e, t) {
            return t ? e.toString() : (t = (new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),
            e.toString(t))
        }
        function Cg(e, t) {
            return (e = e.attributes.filter(function(e) {
                return e.name == t
            })).length ? e[0] : null
        }
        function ct(e, t, n) {
            return (e = Cg(e, t)) ? e.value : n || null
        }
        function Mg(e, t) {
            if (e = Cg(e, t))
                return e.value;
            throw new nt(2,4,4023,t)
        }
        function Lg(e, t, n) {
            n = void 0 === n ? [] : n,
            this.ka = t,
            this.g = e,
            this.Xb = n
        }
        function Rg(e, t) {
            this.name = e,
            this.value = t
        }
        function Pg(e, t) {
            return e.filter(function(e) {
                return e.name == t
            })
        }
        function Dg(e, t) {
            return e.filter(function(e) {
                return Mg(e, "TYPE") == t
            })
        }
        function Ng(e, t) {
            for (var n = (e = Ze(e)).next(); !n.done; n = e.next())
                if ((n = n.value).name === t)
                    return n;
            return null
        }
        function _g(e, t, n) {
            return n = void 0 === n ? 0 : n,
            (e = Ng(e, t)) ? Number(e.value) : n
        }
        function Og(e, t, n) {
            return t ? Ug(e, [t], n) : []
        }
        function Ug(e, t, n) {
            if (!t.length)
                return [];
            t = Gt(e, t),
            e = [];
            for (var i = (t = Ze(t)).next(); !i.done; i = t.next())
                e.push(jg(i.value, n));
            return e
        }
        function jg(e, t) {
            if (!t || !t.size)
                return e;
            var n = (e = String(e).replace(/%7B/g, "{").replace(/%7D/g, "}")).match(/{\$\w*}/g);
            if (n)
                for (var i = (n = Ze(n)).next(); !i.done; i = n.next()) {
                    var a = (i = i.value).slice(2, i.length - 1)
                      , r = t.get(a);
                    if (!r)
                        throw new nt(2,4,4039,a);
                    e = e.replace(i, r)
                }
            return e
        }
        function Fg() {
            this.g = 0
        }
        function Bg(e, t) {
            var n = (t = (t = It(t)).replace(/\r\n|\r(?=[^\n]|$)/gm, "\n").trim()).split(/\n+/m);
            if (!/^#EXTM3U($|[ \t\n])/m.test(n[0]))
                throw new nt(2,4,4015);
            for (var i = !(t = 0), a = Ze(n), r = a.next(); !r.done; r = a.next())
                if (r = r.value,
                /^#(?!EXT)/m.test(r) || i)
                    i = !1;
                else {
                    if (r = Gg(e, r),
                    --e.g,
                    Vg.includes(r.name)) {
                        t = 1;
                        break
                    }
                    "EXT-X-STREAM-INF" == r.name && (i = !0)
                }
            for (a = [],
            i = !0,
            r = 0; r < n.length; r++) {
                var o = n[r]
                  , s = n[r + 1];
                if (/^#(?!EXT)/m.test(o) || i)
                    i = !1;
                else {
                    if (o = Gg(e, o),
                    Hg.includes(o.name)) {
                        if (1 != t)
                            throw new nt(2,4,4017);
                        o = n.splice(r, n.length - r);
                        for (var n = [], i = [], r = [], s = null, u = (o = Ze(o)).next(); !u.done; u = o.next())
                            u = u.value,
                            /^(#EXT)/.test(u) ? (u = Gg(e, u),
                            Vg.includes(u.name) ? a.push(u) : "EXT-X-MAP" == u.name ? s = u : "EXT-X-PART" == u.name ? r.push(u) : "EXT-X-PRELOAD-HINT" == u.name ? "PART" == ct(u, "TYPE") ? r.push(u) : "MAP" == ct(u, "TYPE") && (u.name = "EXT-X-MAP",
                            s = u) : i.push(u)) : /^#(?!EXT)/m.test(u) || (u = u.trim(),
                            s && i.push(s),
                            n.push(new Lg(u,i,r)),
                            i = [],
                            r = []);
                        return r.length && (s && i.push(s),
                        n.push(new Lg("",i,r))),
                        new xg(t,a,n)
                    }
                    a.push(o),
                    "EXT-X-STREAM-INF" == o.name && (o.attributes.push(new Rg("URI",s)),
                    i = !0)
                }
            }
            return new xg(t,a)
        }
        function Gg(e, t) {
            if (e = e.g++,
            !(r = t.match(/^#(EXT[^:]*)(?::(.*))?$/)))
                throw new nt(2,4,4016,t);
            t = r[1];
            var n, i, a = r[2], r = [];
            if (a) {
                (i = Bn(a = new jn(a), /^([^,=]+)(?:,|$)/g)) && (n = i[1]);
                for (var o = /([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g; i = Bn(a, o); )
                    r.push(new Rg(i[1],i[2] || i[3])),
                    Fn(a)
            }
            return new Ig(e,t,r,n)
        }
        Ig.prototype.toString = function(t) {
            var e = "#" + this.name
              , n = this.attributes ? this.attributes.filter(function(e) {
                return !t || !t.has(e.name)
            }).map(function(e) {
                return e.name + "=" + (isNaN(Number(e.value)) ? '"' + e.value + '"' : e.value)
            }) : [];
            return this.value && n.unshift(this.value),
            0 < n.length && (e += ":" + n.join(",")),
            e
        }
        ;
        var Vg = "EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" ")
          , Hg = "EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP".split(" ");
        function Kg() {}
        function zg(e) {
            try {
                var t = Xg(e);
                return vr({
                    uri: e,
                    originalUri: e,
                    data: t.data,
                    headers: {
                        "content-type": t.contentType
                    }
                })
            } catch (e) {
                return gr(e)
            }
        }
        function Xg(e) {
            var t = e.split(":");
            if (t.length < 2 || "data" != t[0])
                throw new nt(2,1,1004,e);
            if ((t = t.slice(1).join(":").split(",")).length < 2)
                throw new nt(2,1,1004,e);
            var n = t[0]
              , i = (e = U.decodeURIComponent(t.slice(1).join(",")),
            n = (t = n.split(";"))[0],
            !1);
            return 1 < t.length && "base64" == t[t.length - 1] && (i = !0,
            t.pop()),
            {
                data: (i ? Ut : Mt)(e),
                contentType: n
            }
        }
        function Wg() {
            var e = this;
            this.g = this.h = null,
            this.G = 1,
            this.B = new Map,
            this.J = new Map,
            this.P = new Map,
            this.P.set("video", new Map),
            this.P.set("audio", new Map),
            this.P.set(it, new Map),
            this.P.set("image", new Map),
            this.Ya = new Set,
            this.i = new Map,
            this.l = null,
            this.O = "",
            this.Oa = new Fg,
            this.K = -1,
            this.ha = 1 / 0,
            this.ea = this.yc = this.zc = !1,
            this.C = new C(function() {
                e.Z && !e.g.continueLoadingWhenPaused && (e.W.Ma(e.Z, "timeupdate"),
                e.Z.paused) ? e.W.oa(e.Z, "timeupdate", function() {
                    return xm(e)
                }) : xm(e)
            }
            ),
            this.Ca = _m,
            this.m = null,
            this.Ta = 0,
            this.s = 1 / 0,
            this.Ja = this.Ga = this.V = 0,
            this.aa = new Tr,
            this.H = new Map,
            this.I = new Map,
            this.ya = new Map,
            this.ma = new Map,
            this.M = new Map,
            this.Ba = new Map,
            this.ra = new Map,
            this.fc = this.L = !1,
            this.Lb = new dn(5),
            this.j = null,
            this.S = !0,
            this.Fa = new Set,
            this.W = new pn,
            this.u = this.Z = null,
            this.Nb = function() {
                return !1
            }
        }
        function Yg(e, t) {
            return Im(e) ? e.P.get(t.type) : t.Se
        }
        function qg(e, t, n) {
            n = void 0 !== n && n;
            for (var i = -1 == e.K, a = Ze(t), r = a.next(); !r.done; r = a.next()) {
                var o = (r = r.value).stream.segmentIndex
                  , s = Yg(e, r);
                if (o = cu(o))
                    for (var u = (s = Ze(s)).next(); !u.done; u = s.next()) {
                        var l = (u = Ze(u.value)).next().value;
                        if (u.next().value == o.startTime) {
                            i && (e.K = Math.max(e.K, l)),
                            r.Wf = l;
                            break
                        }
                    }
            }
            if (!(e.K < 0))
                for (i = (t = Ze(t)).next(); !i.done; i = t.next())
                    !sm(e, (i = i.value).type) && !n || (a = i.stream.segmentIndex) && 0 < (r = e.K - i.Wf) && (a.g.splice(0, r),
                    a = cu(a)) && (a = -a.startTime,
                    i.stream.segmentIndex.offset(a),
                    Jg(e, i, a))
        }
        function Jg(e, t, n) {
            t.Uc += n,
            t.hc += n;
            for (var i = Ze(e = Yg(e, t)), a = i.next(); !a.done; a = i.next()) {
                var a = (r = Ze(a.value)).next().value
                  , r = r.next().value;
                e.set(a, r + n)
            }
            t.R()
        }
        function Qg(e) {
            if (Im(e)) {
                if (e.Ca == Um) {
                    for (var t = 1 / 0, n = 1 / 0, i = Ze(e.i.values()), a = i.next(); !a.done; a = i.next())
                        (a = a.value).stream.segmentIndex && "text" != a.stream.type && !a.stream.isAudioMuxedInVideo && (t = Math.min(t, a.hc),
                        n = Math.min(n, a.Uc));
                    t = t - n || 0,
                    isNaN(e.g.availabilityWindowOverride) || (t = e.g.availabilityWindowOverride),
                    e.l.jf(t)
                }
            } else
                e.l.vb(am(e));
            if (!e.l.u)
                for (n = (t = Ze(e.i.values())).next(); !n.done; n = t.next())
                    !(n = n.value).stream.segmentIndex || "audio" != n.type && "video" != n.type || (n = cu(n.stream.segmentIndex)) && n.h && e.l.wi(n.h);
            e.l.Re()
        }
        function $g(e, t, n) {
            n = new pt(n).g;
            for (var i = new Map, a = (t = Ze(t)).next(); !a.done; a = t.next()) {
                var r = ct(s = a.value, "NAME")
                  , o = ct(s, "VALUE")
                  , a = ct(s, "QUERYPARAM")
                  , s = ct(s, "IMPORT");
                r && o && (i.has(r) || i.set(r, o)),
                a && (r = n.get(a)[0]) && !i.has(r) && i.set(a, r),
                s && (a = e.B.get(s)) && i.set(s, a)
            }
            return i
        }
        function Zg(t) {
            var n = new Set([ia(t.mimeType, t.codecs)]);
            t.segmentIndex && t.segmentIndex.Ub(function(e) {
                e.mimeType && n.add(ia(e.mimeType, t.codecs))
            }),
            t.fullMimeTypes = n
        }
        function em(e, t) {
            var n = ct(t, "CODECS") || "";
            return t = ct(t, "SUPPLEMENTAL-CODECS"),
            e.ea = 0 < n.length,
            e.ea || e.g.hls.disableCodecGuessing || (n = [],
            e.g.disableVideo || n.push(e.g.hls.defaultVideoCodec),
            e.g.disableAudio || n.push(e.g.hls.defaultAudioCodec),
            n = n.join(",")),
            e = n.split(/\s*,\s*/),
            t && (t = t.split(/\s*,\s*/).map(function(e) {
                return e.split("/")[0]
            }),
            e.push.apply(e, et(t))),
            Fu(e)
        }
        function tm(e, t, n, i) {
            i = void 0 === i || i;
            for (var a = [], r = [], o = new Map, s = Ze(t), u = s.next(); !u.done; u = s.next()) {
                var l = u.value
                  , u = i ? Mg(l, "URI") : ct(l, "URI") || "shaka://hls-muxed"
                  , l = Mg(l, "GROUP-ID");
                a.push(u),
                r.push(l),
                o.set(l, u)
            }
            if (i = r.sort().join(","),
            u = t[0],
            t = "",
            (s = "subtitles" == (s = Mg(u, "TYPE").toLowerCase()) ? it : s) == it)
                t = ct(u, "CODECS") || "";
            else
                for (l = (r = Ze(r)).next(); !l.done; l = r.next())
                    if (l = l.value,
                    e.I.has(l)) {
                        t = e.I.get(l);
                        break
                    }
            if (r = a.sort().join(","),
            e.i.has(r))
                return e.i.get(r);
            if (l = e.G++,
            e.j)
                for (var c = (o = Ze(o)).next(); !c.done; c = o.next()) {
                    var c = (d = Ze(c.value)).next().value
                      , d = d.next().value;
                    (c = n.get(c)) && Sp(e.j, l, c, d)
                }
            n = ct(u, "LANGUAGE"),
            o = ct(u, "NAME"),
            c = "YES" == ct(u, "DEFAULT"),
            d = "audio" == s && (d = ct(u, "CHANNELS")) ? parseInt(d.split("/")[0], 10) : null;
            var h = "audio" == s && (!!(h = ct(u, "CHANNELS")) && h.includes("/JOC"));
            return (a = im(e, l, a, t, s, n, c, o, d, null, ct(u, "CHARACTERISTICS"), "YES" == ct(u, "FORCED"), u = "audio" == s && (u = ct(u, "SAMPLE-RATE")) ? parseInt(u, 10) : null, h)).stream && (a.stream.groupId = i),
            e.J.has(i) ? e.J.get(i).push(a) : e.J.set(i, [a]),
            e.i.set(r, a),
            a
        }
        function nm(e, t) {
            var n = "video"
              , i = Mg(t, "URI")
              , a = ct(t, "CODECS") || "";
            if ("mjpg" == a && (n = "image"),
            e.i.has(i))
                return e.i.get(i);
            var r = ct(t, "LANGUAGE")
              , o = ct(t, "NAME")
              , s = ct(t, "CHARACTERISTICS")
              , n = im(e, e.G++, [i], a, n, r, !1, o, null, null, s, !1, null, !1);
            return a = (r = Ze((a = ct(t, "RESOLUTION")) ? a.split("x") : [null, null])).next().value,
            r = r.next().value,
            n.stream.width = Number(a) || void 0,
            n.stream.height = Number(r) || void 0,
            (t = ct(t, "BANDWIDTH")) && (n.stream.bandwidth = Number(t)),
            e.i.set(i, n),
            n
        }
        function im(m, e, t, v, y, b, T, w, S, E, A, x, I, k) {
            function n(t) {
                var n, i, a, r, o, s, u, l, c, d, h, f, p, g;
                return $e(function(e) {
                    switch (e.g) {
                    case 1:
                        return n = Wt,
                        qe(e, 2),
                        i = R.R(),
                        We(e, t.promise, 4);
                    case 4:
                        if (a = e.h,
                        t.aborted)
                            return e.return();
                        if ((s = a.uri) == a.originalUri || i.includes(s) || L.push(s),
                        1 != (a = Bg(m.Oa, a.data)).type)
                            throw new nt(2,4,4017);
                        return r = Pg(a.ka, "EXT-X-DEFINE"),
                        r = $g(m, r, s),
                        s = !1,
                        (!m.ea && m.g.hls.disableCodecGuessing || m.S && y == n.xa && !m.g.hls.disableClosedCaptionsDetection) && 0 < a.segments.length && (m.S = !1,
                        s = !0),
                        l = !m.ea && m.g.hls.disableCodecGuessing,
                        o = Im(m),
                        We(e, um(m, 0, r, a, C, v, y, b, T, w, S, E, A, x, I, k, void 0, s, l), 5);
                    case 5:
                        if (s = e.h,
                        t.aborted)
                            return e.return();
                        if (u = s.stream,
                        fm(m, a),
                        Im(m) && !o && gm(m, a),
                        R.Uc = s.Uc,
                        R.hc = s.hc,
                        R.xe = s.xe,
                        R.we = s.we,
                        R.Pd = s.Pd,
                        R.Se = s.Se,
                        R.Pb = s.Pb,
                        R.Qb = s.Qb,
                        R.Eg = !0,
                        M.segmentIndex = u.segmentIndex,
                        M.encrypted = u.encrypted,
                        M.drmInfos = u.drmInfos,
                        M.keyIds = u.keyIds,
                        M.mimeType = u.mimeType,
                        M.bandwidth = M.bandwidth || u.bandwidth,
                        M.codecs = M.codecs || u.codecs,
                        M.closedCaptions = M.closedCaptions || u.closedCaptions,
                        M.width = M.width || u.width,
                        M.height = M.height || u.height,
                        M.hdr = M.hdr || u.hdr,
                        M.colorGamut = M.colorGamut || u.colorGamut,
                        M.frameRate = M.frameRate || u.frameRate,
                        "und" == M.language && "und" != u.language && (M.language = u.language),
                        M.language = M.language || u.language,
                        M.channelsCount = M.channelsCount || u.channelsCount,
                        M.audioSamplingRate = M.audioSamplingRate || u.audioSamplingRate,
                        Zg(M),
                        M.drmInfos.length && m.h.newDrmInfo(M),
                        l = !1,
                        (!E && M.closedCaptions || E && M.closedCaptions && E.size != M.closedCaptions.size) && (l = !0),
                        m.m && l && m.h.makeTextStreamsForClosedCaptions(m.m),
                        y == n.xa || y == n.ba)
                            for (c = Ze(m.i.values()),
                            d = c.next(); !d.done; d = c.next())
                                (h = d.value).Eg || h.type != y || (h.stream.mimeType = u.mimeType,
                                Zg(h.stream));
                        y == n.Na && (p = cu(u.segmentIndex)) && p.na && (M.mimeType = "application/mp4",
                        Zg(M)),
                        f = Ou(M),
                        M.segmentIndex.Ub(function(e) {
                            e.na && (e.na.sd = f)
                        }),
                        !function(e) {
                            if (!e.m)
                                return;
                            for (var t = [], n = [], i = (e = Ze(e.m.variants)).next(); !i.done; i = e.next())
                                (i = i.value).video && t.push(i.video),
                                i.audio && n.push(i.audio);
                            return !(0 < t.length && !t.some(function(e) {
                                return e.segmentIndex
                            }) || 0 < n.length && !n.some(function(e) {
                                return e.segmentIndex
                            }))
                        }(m) || (m.yc ? om(m, [R]) : (m.yc = !0,
                        p = Array.from(m.i.values()),
                        g = p.filter(function(e) {
                            return e.stream.segmentIndex
                        }),
                        om(m, g),
                        Qg(m),
                        0 < (g = m.s) && m.C.Y(g))),
                        ym(m, a.ka, M.type, r, C),
                        m.m && (m.m.startTime = m.u),
                        Je(e, 0);
                        break;
                    case 2:
                        if (g = Qe(e),
                        M.closeSegmentIndex(),
                        7001 === g.code)
                            return e.return();
                        if (!m.h.disableStream(M))
                            throw g;
                        Ye(e)
                    }
                })
            }
            function C() {
                return m.j && 1 < t.length ? Ep(m.j, e) : L.concat(Ug([m.O], t, m.B))
            }
            var i, M = cm(m, v, y, b, T, w, S, E, A, x, I, k), L = (t.includes("shaka://hls-muxed") && (M.isAudioMuxedInVideo = !0,
            M.mimeType = "video/mp2t",
            Zg(M)),
            []), R = {
                stream: M,
                type: y,
                li: L,
                R: C,
                Uc: 0,
                hc: 0,
                Se: new Map,
                xe: !1,
                we: !1,
                Pd: !1,
                Wf: -1,
                Pb: -1,
                Qb: -1,
                Eg: !1
            }, a = null;
            return M.createSegmentIndex = function() {
                return a || (M.isAudioMuxedInVideo ? (M.segmentIndex = new lu([]),
                Promise.resolve()) : (i = Am(m, R.R(), !0),
                a = new Promise(function(e) {
                    e(n(i))
                }
                )))
            }
            ,
            M.closeSegmentIndex = function() {
                a && !M.segmentIndex && i.abort(),
                M.segmentIndex && (M.segmentIndex.release(),
                M.segmentIndex = null),
                a = null
            }
            ,
            R
        }
        function am(e) {
            for (var t = 1 / 0, n = (e = Ze(e.i.values())).next(); !n.done; n = e.next())
                (n = n.value).stream.segmentIndex && "text" != n.stream.type && !n.stream.isAudioMuxedInVideo && (t = Math.min(t, n.hc));
            return t
        }
        function rm(e, t) {
            for (var n = [], i = (t = Ze(t)).next(); !i.done; i = t.next())
                (i = i.value).segmentIndex && i.segmentIndex.Ub(function(e) {
                    n.push(e)
                });
            e.l.Xd(n)
        }
        function om(e, t) {
            if (!Im(e))
                for (var n = am(e), i = Ze(t), a = i.next(); !a.done; a = i.next())
                    a.value.stream.segmentIndex.jd(0, n);
            if (rm(e, t.map(function(e) {
                return e.stream
            })),
            n = Im(e) && !e.zc,
            e.g.hls.ignoreManifestProgramDateTime || n)
                qg(e, t, n);
            else {
                var r = e
                  , o = t;
                if (1 / 0 == r.ha)
                    for (var s = (o = Ze(o)).next(); !s.done; s = o.next())
                        null != (s = cu(s.value.stream.segmentIndex)) && null != s.h && (r.ha = Math.min(r.ha, s.h));
                if (1 / 0 != (o = r.ha))
                    for (var u = (s = Ze(r.i.values())).next(); !u.done; u = s.next())
                        if (!sm(r, (u = u.value).type)) {
                            var l = u.stream.segmentIndex;
                            if (null != l) {
                                var c = cu(l);
                                if (c)
                                    if (null == c.h)
                                        Y("Missing EXT-X-PROGRAM-DATE-TIME for stream", u.R(), "Expect AV sync issues!");
                                    else
                                        for (Jg(r, u, c.h - o - c.startTime),
                                        l = (u = Ze(l)).next(); !l.done; l = u.next())
                                            l.value.hh(o)
                            }
                        }
                0 < e.g.hls.ignoreManifestProgramDateTimeForTypes.length && qg(e, t)
            }
        }
        function sm(e, t) {
            return e.g.hls.ignoreManifestProgramDateTime || e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)
        }
        function um(D, e, N, _, O, U, j, F, B, G, V, H, K, z, X, W, Y, q, J) {
            var Q, $, Z, ee, te, ne, ie, ae, re, oe, se, ue, le, ce, de, he;
            return q = void 0 === q || q,
            J = void 0 === J || J,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (Q = _.segments || [],
                    Z = Q.every(function(e) {
                        return !!Ng(e.ka, "EXT-X-GAP")
                    }),
                    !Q.length || Z)
                        throw new nt(2,4,4053);
                    if (L = D,
                    P = Ng((R = _).ka, "EXT-X-PLAYLIST-TYPE"),
                    R = Ng(R.ka, "EXT-X-ENDLIST"),
                    R = P && "VOD" == P.value || R,
                    P = P && "EVENT" == P.value && !R,
                    P = !R && !P,
                    km(L, R ? _m : P ? Um : Om),
                    Im(D) && pm(D, _),
                    Q = Im(D) ? D.P.get(j) : new Map,
                    Z = bm(D, _, Q, N, O, j),
                    $ = Z.segments,
                    Z = Z.bandwidth,
                    ae = ie = ne = te = ee = null,
                    0 < $.length && q)
                        return We(e, (h = D,
                        f = $,
                        $e(function(e) {
                            switch (e.g) {
                            case 1:
                                if (p = Uu(h.g.hls.mediaPlaylistFullMimeType),
                                !f.length)
                                    return e.return(p);
                                if (m = Sm(h, f),
                                g = m.segment,
                                m = m.segmentIndex,
                                v = g.R(),
                                v = v[0],
                                v = new pt(v),
                                v = v.mb.split(".").pop(),
                                y = Rm[v])
                                    return e.return(Uu(y));
                                if (y = Mr,
                                T = b = null,
                                w = g.na)
                                    return E = Gu(w.R(), w.Jb(), w.Gb(), h.g.retryParameters),
                                    We(e, Cm(h, E, y, {
                                        type: 0
                                    }).promise, 3);
                                e.A(2);
                                break;
                            case 3:
                                if (S = e.h,
                                b = S.data,
                                w.aesKey)
                                    return We(e, Bu(b, w.aesKey, 0), 5);
                                e.A(4);
                                break;
                            case 5:
                                b = e.h;
                            case 4:
                                (T = S.headers["content-type"]) && (T = T.split(";")[0].toLowerCase());
                            case 2:
                                return E = Gu(g.R(), g.Jb(), g.Gb(), h.g.retryParameters),
                                We(e, Cm(h, E, y, {
                                    type: 1
                                }).promise, 6);
                            case 6:
                                if (A = e.h,
                                x = A.data,
                                g.aesKey)
                                    return We(e, Bu(x, g.aesKey, m), 8);
                                e.A(7);
                                break;
                            case 8:
                                x = e.h;
                            case 7:
                                if ((I = A.headers["content-type"]) && (I = I.split(";")[0].toLowerCase()),
                                k = "mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),
                                C = ["audio/mp4", "video/mp4", "video/iso.segment"],
                                gs(tt(x))) {
                                    var t = tt(o = x)
                                      , n = (t = (new ds).parse(t)).Ld()
                                      , i = (t = t.rg(),
                                    [])
                                      , a = !1
                                      , r = !1;
                                    switch (n.audio) {
                                    case "aac":
                                    case "aac-loas":
                                        i.push("mp4a.40.2"),
                                        a = !0;
                                        break;
                                    case "mp3":
                                        i.push("mp4a.40.34"),
                                        a = !0;
                                        break;
                                    case "ac3":
                                        i.push("ac-3"),
                                        a = !0;
                                        break;
                                    case "ec3":
                                        i.push("ec-3"),
                                        a = !0;
                                        break;
                                    case "opus":
                                        i.push("opus"),
                                        a = !0
                                    }
                                    switch (n.video) {
                                    case "avc":
                                        t.codec ? i.push(t.codec) : i.push("avc1.42E01E"),
                                        r = !0;
                                        break;
                                    case "hvc":
                                        t.codec ? i.push(t.codec) : i.push("hvc1.1.6.L93.90"),
                                        r = !0;
                                        break;
                                    case "av1":
                                        i.push("av01.0.01M.08"),
                                        r = !0
                                    }
                                    if (i.length) {
                                        if (n = a && !r,
                                        a = new Map,
                                        r) {
                                            (r = new Cn("video/mp2t")).i(o);
                                            for (var o, s = (o = Ze(r.j())).next(); !s.done; s = o.next())
                                                s = s.value,
                                                a.set(s, s);
                                            r.g()
                                        }
                                        t = {
                                            type: n ? "audio" : "video",
                                            mimeType: "video/mp2t",
                                            codecs: i.join(", "),
                                            language: null,
                                            height: t.height,
                                            width: t.width,
                                            channelCount: null,
                                            sampleRate: null,
                                            closedCaptions: a,
                                            ie: null,
                                            colorGamut: null,
                                            frameRate: t.frameRate
                                        }
                                    } else
                                        t = null;
                                    if (M = t)
                                        return e.return(M)
                                } else if ((k.includes(v) || C.includes(I) || T && C.includes(T)) && (M = ju(b, x)))
                                    return e.return(M);
                                return I ? e.return(Uu(I)) : T ? e.return(Uu(T)) : e.return(p)
                            }
                        })), 3);
                    e.A(2);
                    break;
                case 3:
                    re = e.h,
                    j = re.type,
                    F = re.language,
                    V = re.channelCount,
                    X = re.sampleRate,
                    D.g.disableText || (H = re.closedCaptions),
                    te = re.height,
                    ee = re.width,
                    ne = re.ie,
                    ie = re.colorGamut,
                    ae = re.frameRate,
                    J && (Y = re.mimeType,
                    U = re.codecs);
                case 2:
                    if (Y) {
                        e.A(4);
                        break
                    }
                    return We(e, (t = D,
                    n = j,
                    i = U,
                    a = $,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            return (r = Mr,
                            d = Sm(t, a),
                            2 == (d = d.segment).status) ? e.return(wm(n)) : (d = d.R(),
                            l = new pt(d[0]),
                            l = l.mb.split(".").pop(),
                            c = Pm[n],
                            (c = c[l]) || (c = Rm[l]) || (c = Tm(n, i)) ? e.return(c) : (s = 1,
                            u = xr(d, t.g.retryParameters),
                            qe(e, 2),
                            u.method = "HEAD",
                            We(e, Cm(t, u, r, {
                                type: s
                            }).promise, 4)));
                        case 4:
                            l = e.h,
                            o = l.headers["content-type"],
                            Je(e, 3);
                            break;
                        case 2:
                            if (!(c = Qe(e)) || 1002 != c.code && 1001 != c.code) {
                                e.A(3);
                                break
                            }
                            return u.method = "GET",
                            We(e, Cm(t, u, r, {
                                type: s
                            }).promise, 6);
                        case 6:
                            d = e.h,
                            o = d.headers["content-type"];
                        case 3:
                            return o ? e.return(o.toLowerCase().split(";")[0]) : e.return(wm(n))
                        }
                    })), 5);
                case 5:
                    Y = e.h;
                case 4:
                    return We(e, dm(D, _, Y, O, N), 6);
                case 6:
                    if (re = e.h,
                    ce = re.drmInfos,
                    ue = re.keyIds,
                    se = re.encrypted,
                    oe = re.Vi,
                    !se || ce.length || oe)
                        return (oe = cm(D, U, j, F, B, G, V, H, K, z, X, W)).encrypted = se,
                        oe.drmInfos = ce,
                        oe.keyIds = ue,
                        oe.mimeType = Y,
                        Z && (oe.bandwidth = Z),
                        Zg(oe),
                        "video" == j && (ee || te || ne || ie) && Em(oe, ee, te, ae, ne, null, ie),
                        Im(D) && pm(D, _),
                        se = $[0].startTime,
                        ce = $[$.length - 1],
                        ue = ce.endTime,
                        ce = new lu($),
                        oe.segmentIndex = ce,
                        le = !!(ce = Ng(_.ka, "EXT-X-SERVER-CONTROL")) && null != Cg(ce, "CAN-SKIP-UNTIL"),
                        ce = !!ce && null != Cg(ce, "CAN-BLOCK-RELOAD"),
                        he = _g(_.ka, "EXT-X-MEDIA-SEQUENCE", 0),
                        he = lm(he, $),
                        de = he.Pb,
                        he = he.Qb,
                        e.return({
                            stream: oe,
                            type: j,
                            li: [],
                            R: O,
                            Uc: se,
                            hc: ue,
                            xe: le,
                            we: ce,
                            Pd: !1,
                            Wf: -1,
                            Pb: de,
                            Qb: he,
                            Se: Q,
                            Eg: !1
                        });
                    throw new nt(2,4,4026)
                }
                var t, n, i, a, r, o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C, M, L, R, P
            })
        }
        function lm(e, t) {
            e = e + t.length - 1;
            var n = -1;
            if (!t.length)
                return {
                    Pb: ++e,
                    Qb: n
                };
            var i = (t = t[t.length - 1]).g;
            return t.g.length ? (n = i.length - 1,
            i[i.length - 1].isPreload() || (e++,
            n = 0),
            {
                Pb: e,
                Qb: n
            }) : {
                Pb: ++e,
                Qb: n = t.m ? 0 : n
            }
        }
        function cm(e, t, n, i, a, r, o, s, u, l, c, d) {
            var h = Tm(n, t) || wm(n)
              , f = [];
            if (u)
                for (var p = (u = Ze(u.split(","))).next(); !p.done; p = u.next())
                    f.push(p.value);
            return u = void 0,
            p = null,
            n == it ? u = f.includes("public.accessibility.transcribes-spoken-dialog") && f.includes("public.accessibility.describes-music-and-sound") ? "caption" : "subtitle" : f.includes("public.accessibility.describes-video") && (p = "visually impaired"),
            f.length || "subtitle" !== u || f.push("subtitle"),
            Zg(e = {
                id: e.G++,
                originalId: r,
                groupId: null,
                createSegmentIndex: function() {
                    return Promise.resolve()
                },
                segmentIndex: null,
                mimeType: h,
                codecs: t,
                kind: n == it ? "subtitle" : void 0,
                encrypted: !1,
                drmInfos: [],
                keyIds: new Set,
                language: en(i || "und"),
                originalLanguage: i,
                label: r,
                type: n,
                primary: a,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                frameRate: void 0,
                pixelAspectRatio: void 0,
                width: void 0,
                height: void 0,
                bandwidth: void 0,
                roles: f,
                forced: l,
                channelsCount: o,
                audioSamplingRate: c,
                spatialAudio: d,
                closedCaptions: s,
                hdr: void 0,
                colorGamut: void 0,
                videoLayout: void 0,
                tilesLayout: void 0,
                accessibilityPurpose: p,
                external: !1,
                fastSwitching: !1,
                fullMimeTypes: new Set,
                isAudioMuxedInVideo: !1
            }),
            e
        }
        function dm(t, n, i, a, r) {
            var o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x, I, k, C;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (o = new Map,
                    n.segments)
                        for (s = Ze(n.segments),
                        u = s.next(); !u.done; u = s.next())
                            if (l = u.value,
                            c = Pg(l.ka, "EXT-X-KEY"),
                            c.length)
                                for (d = mm(t, n, l.ka, a, r),
                                h = Ze(c),
                                f = h.next(); !f.done; f = h.next())
                                    p = f.value,
                                    o.set(p, d);
                    m = g = !1,
                    v = [],
                    y = new Set,
                    b = Ze(o),
                    T = b.next();
                case 2:
                    if (T.done) {
                        e.A(4);
                        break
                    }
                    if (S = T.value,
                    S = Ze(S),
                    w = S.next().value,
                    S = S.next().value,
                    S = S,
                    "NONE" == (x = Mg(w = w, "METHOD"))) {
                        e.A(3);
                        break
                    }
                    if (g = !0,
                    E = ct(w, "KEYFORMAT") || "identity",
                    A = null,
                    Mm(x)) {
                        m = !0,
                        e.A(3);
                        break
                    }
                    if ("identity" == E)
                        return We(e, Lm(t, w, i, a, S, r), 8);
                    A = (x = Nm[E]) ? x(w, i) : null,
                    e.A(6);
                    break;
                case 8:
                    A = e.h;
                case 6:
                    if (A) {
                        if (A.keyIds)
                            for (I = Ze(A.keyIds),
                            k = I.next(); !k.done; k = I.next())
                                C = k.value,
                                y.add(C);
                        v.push(A)
                    }
                case 3:
                    T = b.next(),
                    e.A(2);
                    break;
                case 4:
                    return e.return({
                        drmInfos: v,
                        keyIds: y,
                        encrypted: g,
                        Vi: m
                    })
                }
            })
        }
        function hm(i, a, e, r, o) {
            if (!U.crypto || !U.crypto.subtle)
                throw Q("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),
                new nt(2,4,4042);
            var t = 0
              , n = ct(a, "IV", "");
            if (n) {
                var s = jt(n.substr(2));
                if (16 != s.byteLength)
                    throw new nt(2,4,4048)
            } else
                t = _g(e.ka, "EXT-X-MEDIA-SEQUENCE", 0);
            if (e = a.toString() + "-" + t,
            !i.ma.has(e)) {
                var u = {
                    bitsKey: 128,
                    blockCipherMode: "CBC",
                    iv: s,
                    firstMediaSequenceNumber: t
                };
                switch (Mg(a, "METHOD")) {
                case "AES-256":
                    u.bitsKey = 256;
                    break;
                case "AES-256-CTR":
                    u.bitsKey = 256,
                    u.blockCipherMode = "CTR"
                }
                u.fetchKey = function() {
                    var t, n;
                    return $e(function(e) {
                        if (1 == e.g)
                            return t = Og(r(), Mg(a, "URI"), o),
                            n = t.sort().join(""),
                            i.M.has(n) || (t = xr(t, i.g.retryParameters),
                            t = Cm(i, t, 6).promise,
                            i.M.set(n, t)),
                            We(e, i.M.get(n), 2);
                        if (3 != e.g) {
                            if ((t = e.h).data && t.data.byteLength == u.bitsKey / 8)
                                return n = {
                                    name: "CTR" == u.blockCipherMode ? "AES-CTR" : "AES-CBC",
                                    length: u.bitsKey
                                },
                                We(e, U.crypto.subtle.importKey("raw", t.data, n, !0, ["decrypt"]), 3);
                            throw new nt(2,4,4049)
                        }
                        u.cryptoKey = e.h,
                        u.fetchKey = void 0,
                        Ye(e)
                    })
                }
                ,
                i.ma.set(e, u)
            }
            return i.ma.get(e)
        }
        function fm(e, t) {
            null == e.u && (t = Ng(t.ka, "EXT-X-START")) && (e.u = Number(Mg(t, "TIME-OFFSET")))
        }
        function pm(e, t) {
            var n = 1 / 0
              , i = t.segments;
            if (i.length)
                for (var a = i.length - 1; 0 <= a; ) {
                    var r = Ng(i[a].ka, "EXTINF");
                    if (r) {
                        n = Number(r.value.split(",")[0]);
                        break
                    }
                    a--
                }
            if (!(i = Ng(t.ka, "EXT-X-TARGETDURATION")))
                throw new nt(2,4,4024,"EXT-X-TARGETDURATION");
            i = Number(i.value),
            (a = Ng(t.ka, "EXT-X-PART-INF")) && (e.V = Number(Mg(a, "PART-TARGET"))),
            t = Ng(t.ka, "EXT-X-SERVER-CONTROL"),
            e.L && e.V ? (e.s = !e.fc || 5 * e.V <= n ? Math.min(e.V, e.s) : Math.min(n, e.s),
            e.Ja = t ? Number(Mg(t, "PART-HOLD-BACK")) : 0) : (e.s = Math.min(n, e.s),
            n = t ? Cg(t, "HOLD-BACK") : null,
            e.Ga = n ? Number(n.value) : 0),
            e.Ta = Math.max(i, e.Ta)
        }
        function gm(e, t) {
            var n = 0;
            if (e.g.defaultPresentationDelay)
                n = e.g.defaultPresentationDelay;
            else if (e.Ja)
                n = e.Ja;
            else if (e.Ga)
                n = e.Ga;
            else
                for (var i = t.segments.length, a = i - (a = i - 2 < (a = e.g.hls.liveSegmentsDelay) ? Math.max(1, i - 2) : a); a < i; a++)
                    var r = Ng(t.segments[a].ka, "EXTINF")
                      , n = r ? n + Math.ceil(Number(r.value.split(",")[0])) : n + e.Ta;
            e.u && e.u < 0 && (n = Math.min(-e.u, n),
            e.u += n),
            e.l.zi(0),
            e.l.Yg(n),
            e.l.Yc(!1)
        }
        function mm(e, t, n, i, a) {
            var r = Ng(n, "EXT-X-MAP");
            if (!r)
                return null;
            var o, s, u, l, c, d = Mg(r, "URI"), h = Og(i(), d, a), d = [h.toString(), ct(r, "BYTERANGE", "")].join("-");
            if (!e.ya.has(d)) {
                for (var f = void 0, p = null, g = (n = Ze(n)).next(); !g.done; g = n.next())
                    "EXT-X-KEY" == (g = g.value).name ? Mm(Mg(g, "METHOD")) && g.id < r.id && (f = hm(e, g, t, i, a)) : "EXT-X-BYTERANGE" == g.name && g.id < r.id && (p = g);
                o = h,
                h = p,
                u = f,
                l = 0,
                c = null,
                (s = !(s = ct(s = r, "BYTERANGE")) && h ? h.value : s) && (l = s.split("@"),
                c = Number(l[0]),
                l = Number(l[1]),
                c = l + c - 1,
                u && (h = c + 1 - l) % 16 && (c += 16 - h % 16)),
                t = new Ro(function() {
                    return o
                }
                ,l,c,null,null,null,u),
                e.ya.set(d, t)
            }
            return e.ya.get(d)
        }
        function vm(e, t) {
            var n = 0
              , i = null;
            return t && (n = t.split("@"),
            t = Number(n[0]),
            i = (n = n[1] ? Number(n[1]) : e.La + 1) + t - 1),
            [n, i]
        }
        function ym(e, t, n, i, a) {
            if ("video" == n || "audio" == n) {
                var r = e.l.m;
                if (r && !sm(e, n))
                    for (t = (t = Pg(t, "EXT-X-DATERANGE")).sort(function(e, t) {
                        return (e = Mg(e, "START-DATE")) < (t = Mg(t, "START-DATE")) ? -1 : t < e ? 1 : 0
                    }),
                    n = 0; n < t.length; n++) {
                        var o = t[n];
                        try {
                            var s = Mg(o, "ID");
                            if (!e.Fa.has(s)) {
                                var u = si(Mg(o, "START-DATE"));
                                if (!isNaN(u)) {
                                    var l = Math.max(0, u - r)
                                      , c = null
                                      , d = ct(o, "END-DATE");
                                    if (d) {
                                        var h = si(d);
                                        if (!isNaN(h) && (c = h - r) < 0)
                                            continue
                                    }
                                    if (null == c) {
                                        var f = ct(o, "DURATION") || ct(o, "PLANNED-DURATION");
                                        if (f) {
                                            var p = parseFloat(f);
                                            if (isNaN(p) || (c = l + p),
                                            u - r + p < 0)
                                                continue
                                        }
                                    }
                                    var g = ct(o, "CLASS") || "com.apple.quicktime.HLS"
                                      , m = "YES" == ct(o, "END-ON-NEXT");
                                    if (null == c && m) {
                                        for (var v = n + 1; v < t.length; v++)
                                            if (g == (ct(t[v], "CLASS") || "com.apple.quicktime.HLS")) {
                                                var y = si(Mg(t[v], "START-DATE"));
                                                if (!isNaN(y) && y && u < y) {
                                                    c = Math.max(0, y - r);
                                                    break
                                                }
                                            }
                                        if (null == c)
                                            continue
                                    }
                                    for (var v = ["CLASS", "START-DATE", "END-DATE", "DURATION", "END-ON-NEXT"], b = [], T = Ze(o.attributes), w = T.next(); !w.done; w = T.next()) {
                                        var S, E = w.value;
                                        v.includes(E.name) || (S = jg(E.value, i),
                                        "X-ASSET-URI" != E.name && "X-ASSET-LIST" != E.name || (S = Og(a(), E.value, i)[0]),
                                        b.push({
                                            key: E.name,
                                            description: "",
                                            data: S,
                                            mimeType: null,
                                            pictureType: null
                                        }))
                                    }
                                    1 < b.length && e.h.onMetadata(g, l, c, b),
                                    e.Fa.add(s)
                                }
                            }
                        } catch (e) {}
                    }
            }
        }
        function bm(e, t, n, i, a, r) {
            for (var o = t.segments, s = void 0, u = _g(t.ka, "EXT-X-DISCONTINUITY-SEQUENCE", -1), l = _g(t.ka, "EXT-X-MEDIA-SEQUENCE", 0), c = (g = Ng(t.ka, "EXT-X-SKIP")) ? Number(ct(g, "SKIPPED-SEGMENTS")) : 0, d = l + c, h = 0, f = (0 === (h = Im(e) && n.has(d) ? n.get(d) : h) && e.Ca == Um && 0 < n.size && !n.has(d) && null != e.l.i && (h = e.l.Ib()),
            []), p = null, g = [], m = 0; m < o.length; m++) {
                var v = o[m]
                  , y = 0 == m ? h : p.endTime
                  , d = l + c + m;
                Ng(v.ka, "EXT-X-DISCONTINUITY") && u++;
                for (var b = Ze(v.ka), T = b.next(); !T.done; T = b.next())
                    "EXT-X-KEY" == (T = T.value).name && (s = Mm(Mg(T, "METHOD")) ? hm(e, T, t, a, i) : void 0);
                n.set(d, y),
                b = mm(e, t, v.ka, a, i),
                !e.L && e.h.isAutoLowLatencyMode() && (e.h.enableLowLatencyMode(),
                e.L = e.h.isLowLatencyMode()),
                (y = function(e, t, n, i, a, r, o, s, u) {
                    function l(e) {
                        return e = new pt(e).mb.split(".").pop(),
                        Pm[o][e] || Rm[e]
                    }
                    var c = i.ka
                      , d = Ng(c, "EXTINF")
                      , h = 0
                      , f = 0
                      , p = null
                      , g = (i.Xb.length && (e.m.isLowLatency = !0),
                    null)
                      , m = (e.g.hls.ignoreManifestProgramDateTime || (y = Ng(c, "EXT-X-PROGRAM-DATE-TIME")) && y.value && (g = si(y.value),
                    e.zc = !0),
                    Do);
                    if (Ng(c, "EXT-X-GAP") && (e.m.gapCount++,
                    m = 2),
                    !d) {
                        if (0 == i.Xb.length)
                            throw new nt(2,4,4024,"EXTINF");
                        if (!e.L)
                            return null
                    }
                    var v = []
                      , y = !1
                      , b = null
                      , T = !1
                      , w = !1;
                    if (e.L && i.Xb.length)
                        for (var h = t && U.ReadableStream && e.g.hls.allowLowLatencyByteRangeOptimization, S = g, E = {}, A = 0; A < i.Xb.length; E = {
                            tf: void 0,
                            Ze: void 0
                        },
                        A++) {
                            var x, I, k, C, M = i.Xb[A], L = 0 == A ? n : v[v.length - 1], R = 0 == A ? a : L.endTime, P = Number(ct(M, "DURATION")) || e.V;
                            P && (x = R + P,
                            I = 0,
                            k = null,
                            "EXT-X-PRELOAD-HINT" == M.name ? (I = (I = ct(M, "BYTERANGE-START")) ? Number(I) : 0,
                            (L = ct(M, "BYTERANGE-LENGTH")) ? k = I + Number(L) - 1 : I && (k = Number.MAX_SAFE_INTEGER)) : (I = (k = Ze(vm(L, I = ct(M, "BYTERANGE")))).next().value,
                            k = k.next().value),
                            E.Ze = ct(M, "URI"),
                            E.Ze && (L = Do,
                            "YES" == ct(M, "GAP") && (e.m.gapCount++,
                            L = 2,
                            T = !0),
                            E.tf = null,
                            C = function(e) {
                                return function() {
                                    return null == e.tf && (e.tf = Og(s(), e.Ze, r)),
                                    e.tf
                                }
                            }(E),
                            h && 0 <= I && null != k && (b = C,
                            y = !0),
                            R = new at(R,x,C,I,k,t,0,0,1 / 0,[],"",null,S,L,u),
                            "EXT-X-PRELOAD-HINT" == M.name && (R.Fg(),
                            w = !0),
                            "YES" != ct(M, "INDEPENDENT") && 0 < A && R.rd(),
                            (E = l(E.Ze)) && (R.mimeType = E,
                            Dm.has(E) && (R.na = null)),
                            v.push(R),
                            S && (S += P)))
                        }
                    if (d) {
                        if (0 == (d = Number(d.value.split(",")[0])))
                            return null;
                        h = a + d
                    } else {
                        if (!v.length)
                            return null;
                        h = v[v.length - 1].endTime
                    }
                    y && (T || 0 != v[0].eb ? (y = !1,
                    b = null) : v = []),
                    (d = Ng(c, "EXT-X-BYTERANGE")) ? (f = (p = Ze(vm(n, d.value))).next().value,
                    p = p.next().value) : v.length && (f = v[0].eb,
                    p = v[v.length - 1].La),
                    n = "",
                    d = null,
                    "image" == o && (n = "1x1",
                    c = Ng(c, "EXT-X-TILES")) && (n = Mg(c, "LAYOUT"),
                    (c = ct(c, "DURATION")) && (d = Number(c)));
                    var D = null;
                    return t = new at(a,h,function() {
                        return b ? b() : (D = null == D ? Og(s(), i.g, r) : D) || []
                    }
                    ,f,p,t,0,0,1 / 0,v,n,d,g,m,u,0 < v.length && !!i.g),
                    (a = l(i.g)) && (t.mimeType = a,
                    Dm.has(a) && (t.na = null)),
                    y && (e.fc = !0,
                    t.Yh(),
                    w && t.Fg()),
                    t
                }(e, b, p, v, y, i, r, a, s)) && ((p = _g(v.ka, "EXT-X-BITRATE")) ? g.push({
                    bitrate: p,
                    duration: y.endTime - y.startTime
                }) : g.length && ((p = g.pop()).duration += y.endTime - y.startTime,
                g.push(p)),
                (p = y).i = u,
                sm(e, r) && null != e.K && d < e.K || f.push(y))
            }
            if (t = void 0,
            g.length && (t = g.reduce(function(e, t) {
                return e + t.duration
            }, 0),
            t = Math.round(g.reduce(function(e, t) {
                return e + t.bitrate * t.duration
            }, 0) / t * 1e3)),
            g = f.some(function(e) {
                return null != e.h
            }))
                for (n = {},
                i = 0; i < f.length; n = {
                    Be: void 0,
                    Ae: void 0,
                    se: void 0,
                    Wc: void 0,
                    re: void 0
                },
                i++)
                    if (n.Wc = f[i],
                    null == n.Wc.h)
                        for (n.Ae = 0,
                        n.Be = i,
                        a = function(t) {
                            return function() {
                                var e = f[t.Be];
                                if (e) {
                                    if (null != e.h)
                                        return e.h + t.Ae;
                                    t.Ae -= e.endTime - e.startTime,
                                    t.Be += 1
                                }
                                return null
                            }
                        }(n),
                        n.re = 0,
                        n.se = i,
                        o = function(t) {
                            return function() {
                                var e = f[t.se];
                                if (e) {
                                    if (e != t.Wc && (t.re += e.endTime - e.startTime),
                                    null != e.h)
                                        return e.h + t.re;
                                    --t.se
                                }
                                return null
                            }
                        }(n); null == n.Wc.h; )
                            n.Wc.h = o(),
                            null == n.Wc.h && (n.Wc.h = a());
            if (g)
                for (i = (n = Ze(f)).next(); !i.done; i = n.next())
                    for (i = (a = i.value).h,
                    o = (a = Ze(a.g)).next(); !o.done; o = a.next())
                        (o = o.value).h = i,
                        i += o.endTime - o.startTime;
            if (n = e.ha,
            g && 1 / 0 != n && !sm(e, r))
                for (r = (e = Ze(f)).next(); !r.done; r = e.next())
                    r.value.hh(n);
            return {
                segments: f,
                bandwidth: t
            }
        }
        function Tm(e, t) {
            if (e == it) {
                if ("vtt" == t || "wvtt" == t)
                    return "text/vtt";
                if (t && "" !== t)
                    return "application/mp4"
            }
            return "image" != e || t && "jpeg" != t ? "audio" == e && "mp4a.40.34" == t ? "audio/mpeg" : "mjpg" == t ? "application/mp4" : null : "image/jpeg"
        }
        function wm(e) {
            return e == it ? "text/vtt" : Pm[e].mp4
        }
        function Sm(e, t) {
            for (var n = t[e = Im(e) ? Math.trunc((t.length - 1) / 2) : 0]; 2 == n.uc() && e + 1 < t.length; )
                n = t[++e];
            return {
                segment: n,
                segmentIndex: e
            }
        }
        function Em(e, t, n, i, a, r, o) {
            e && (e.width = Number(t) || void 0,
            e.height = Number(n) || void 0,
            e.frameRate = Number(i) || void 0,
            e.hdr = a || void 0,
            e.videoLayout = r || void 0,
            e.colorGamut = o || void 0)
        }
        function Am(e, t, n) {
            return Cm(e, xr(t, e.g.retryParameters), 0, {
                type: n ? 2 : 3
            })
        }
        function xm(t) {
            var n, i;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return t.h ? (qe(e, 2),
                    n = Date.now(),
                    We(e, t.update(), 4)) : e.return();
                case 4:
                    i = Date.now(),
                    Im(t) && (i = (i - n) / 1e3,
                    t.Lb.sample(1, i),
                    i = 0 < t.g.hls.updatePeriod ? t.g.hls.updatePeriod : t.s,
                    i = Math.max(0, i - hn(t.Lb)),
                    t.C.Y(i)),
                    Je(e, 3);
                    break;
                case 2:
                    if (i = Qe(e),
                    !t.h)
                        return e.return();
                    if (t.g.raiseFatalErrorOnManifestUpdateRequestFailure)
                        return t.h.onError(i),
                        e.return();
                    i.severity = 1,
                    t.h.onError(i),
                    t.C.Y(.1);
                case 3:
                    if (!t.h)
                        return e.return();
                    t.h.onManifestUpdated(),
                    Ye(e)
                }
            })
        }
        function Im(e) {
            return e.Ca != _m
        }
        function km(e, t) {
            e.Ca = t,
            e.l && e.l.Yc(!Im(e)),
            Im(e) || e.C.stop()
        }
        function Cm(e, t, n, i) {
            if (e.aa)
                return (i = i || {}).isPreload = e.Nb(),
                t = e.h.networkingEngine.request(n, t, i),
                wr(e.aa, t),
                t;
            throw new nt(2,7,7001)
        }
        function Mm(e) {
            return "AES-128" == e || "AES-256" == e || "AES-256-CTR" == e
        }
        function Lm(i, a, r, o, s, u) {
            var l, c, d, h, f, p, g, m;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if ("video/mp2t" == r)
                        throw new nt(2,4,4040);
                    if (wt())
                        throw new nt(2,4,4041);
                    if (l = Mg(a, "METHOD"),
                    !["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(l))
                        return e.return(null);
                    if ((d = Og(o(), Mg(a, "URI"), u))[0].startsWith("data:text/plain;base64,")) {
                        c = Ft(Ut(d[0].split("data:text/plain;base64,").pop())),
                        e.A(2);
                        break
                    }
                    return p = d.sort().join(""),
                    i.Ba.has(p) || (d = xr(d, i.g.retryParameters),
                    d = Cm(i, d, 6).promise,
                    i.Ba.set(p, d)),
                    We(e, i.Ba.get(p), 3);
                case 3:
                    d = e.h,
                    c = Ft(d.data);
                case 2:
                    if (h = "00000000000000000000000000000000",
                    !s) {
                        e.A(4);
                        break
                    }
                    if (i.ra.has(s)) {
                        f = i.ra.get(s),
                        e.A(5);
                        break
                    }
                    return p = Gu(s.R(), s.Jb(), s.Gb(), i.g.retryParameters),
                    We(e, Cm(i, p, Mr, {
                        type: 0
                    }).promise, 6);
                case 6:
                    g = e.h,
                    t = g.data,
                    n = null,
                    (new Fr).box("moov", G).box("trak", G).box("mdia", G).box("minf", G).box("stbl", G).X("stsd", Br).box("encv", Gr).box("enca", Vr).box("sinf", G).box("schi", G).X("tenc", function(e) {
                        (e = e.reader).$(),
                        e.$(),
                        e.$(),
                        e.$(),
                        n = Ft(e.Rb(16))
                    }).parse(t, !0),
                    f = n,
                    i.ra.set(s, f);
                case 5:
                    f && (h = f);
                case 4:
                    return (g = new Map).set(h, c),
                    m = "SAMPLE-AES" == l ? "cbcs" : "cenc",
                    e.return(Ht(g, m))
                }
                var t, n
            })
        }
        i("shaka.net.DataUriPlugin", Kg),
        Er("data", Kg.parse = zg),
        (t = Wg.prototype).configure = function(e, t) {
            var n = this.h && e.hls.updatePeriod != this.g.hls.updatePeriod && 0 <= e.hls.updatePeriod;
            this.g = e,
            t && (this.Nb = t),
            this.j && this.j.configure(this.g),
            n && this.m && this.m.presentationTimeline.T() && this.C.Ra()
        }
        ,
        t.start = function(t, n) {
            var i, a = this;
            return $e(function(e) {
                return 1 == e.g ? (a.h = n,
                a.L = n.isLowLatencyMode(),
                We(e, Am(a, [t]).promise, 2)) : 3 != e.g ? (i = e.h,
                a.O = i.uri,
                We(e, (ve = a,
                ye = i.data,
                be = t,
                $e(function(e) {
                    switch (e.g) {
                    case 1:
                        if (De = Wt,
                        Te = Bg(ve.Oa, ye),
                        ke = Pg(Te.ka, "EXT-X-DEFINE"),
                        we = [],
                        Se = [],
                        Ee = [],
                        ve.l = new lt(null,0),
                        ve.l.Yc(!0),
                        Ae = function() {
                            return [be]
                        }
                        ,
                        xe = null,
                        Ie = new Map,
                        1 == Te.type)
                            return ve.S = !1,
                            Pe = Pg(Te.ka, "EXT-X-DEFINE"),
                            Ie = $g(ve, Pe, ve.O),
                            xe = De.xa,
                            Pe = "",
                            De = new Map,
                            We(e, um(ve, ve.G++, Ie, Te, Ae, "", xe, Pe, !0, "Media Playlist", null, De, null, !1, null, !1), 7);
                        for (var t = ve, O = ke, U = new pt(t.O).g, n = (O = Ze(O)).next(); !n.done; n = O.next()) {
                            var i = n.value
                              , j = (n = ct(i, "NAME"),
                            ct(i, "VALUE"));
                            i = ct(i, "QUERYPARAM"),
                            n && j && (t.B.has(n) || t.B.set(n, j)),
                            i && (n = U.get(i)[0]) && !t.B.has(n) && t.B.set(i, n)
                        }
                        De = Pg(Te.ka, "EXT-X-MEDIA"),
                        ke = Pg(Te.ka, "EXT-X-STREAM-INF"),
                        Ce = Pg(Te.ka, "EXT-X-IMAGE-STREAM-INF"),
                        Me = Pg(Te.ka, "EXT-X-I-FRAME-STREAM-INF"),
                        Le = Pg(Te.ka, "EXT-X-SESSION-KEY"),
                        Re = Pg(Te.ka, "EXT-X-SESSION-DATA"),
                        Ne = Pg(Te.ka, "EXT-X-CONTENT-STEERING");
                        for (var a = ve, F = Re, r = (F = Ze(F)).next(); !r.done; r = F.next()) {
                            var o = r.value
                              , s = ct(o, "DATA-ID")
                              , B = (r = ct(o, "URI"),
                            ct(o, "LANGUAGE"));
                            o = ct(o, "VALUE"),
                            s = (new Map).set("id", s),
                            r && s.set("uri", Og([a.O], r, a.B)[0]),
                            B && s.set("language", B),
                            o && s.set("value", o),
                            r = new Xe("sessiondata",s),
                            a.h && a.h.onEvent(r)
                        }
                        return We(e, (N = ve,
                        he = Ne,
                        $e(function(e) {
                            if (!N.h || !N.g)
                                return e.return();
                            for (pe = Ze(he),
                            ge = pe.next(); !ge.done; ge = pe.next())
                                if (_ = ge.value,
                                me = ct(_, "PATHWAY-ID"),
                                _ = ct(_, "SERVER-URI"),
                                me && _) {
                                    N.j = new Tp(N.h),
                                    N.j.configure(N.g),
                                    N.j.i = [N.O],
                                    N.j.setManifestType("HLS"),
                                    N.j.h = me,
                                    fe = wp(N.j, _);
                                    break
                                }
                            return We(e, fe, 0)
                        })), 4);
                    case 4:
                        for (var u = ve, G = ke, l = (G = Ze(G)).next(); !l.done; l = G.next()) {
                            var V, c = l.value, d = ct(c, "AUDIO"), h = (l = ct(c, "VIDEO"),
                            ct(c, "SUBTITLES"));
                            c = em(u, c),
                            h && (V = zt(it, c),
                            u.I.set(h, V),
                            _n(c, V)),
                            d && (h = (h = zt("audio", c)) || u.g.hls.defaultAudioCodec,
                            u.I.set(d, h)),
                            l && (d = (d = zt("video", c)) || u.g.hls.defaultVideoCodec,
                            u.I.set(l, d))
                        }
                        var f = ve
                          , p = De;
                        p = Dg(p, "CLOSED-CAPTIONS"),
                        f.S = 0 == p.length;
                        for (var g = (p = Ze(p)).next(); !g.done; g = p.next()) {
                            var m = g.value
                              , v = ct(m, "LANGUAGE");
                            g = en(v || "und"),
                            v || (v = ct(m, "NAME")) && (g = v),
                            v = Mg(m, "GROUP-ID"),
                            m = Mg(m, "INSTREAM-ID").replace("SERVICE", "svc"),
                            f.H.get(v) || f.H.set(v, new Map),
                            f.H.get(v).set(m, g)
                        }
                        return de = ve,
                        Re = Me.map(function(e) {
                            return "video" !== (e = nm(de, e)).stream.type ? null : e.stream
                        }).filter(function(e) {
                            return e
                        }),
                        We(e, (z = ke,
                        X = Le,
                        W = De,
                        Y = Ae,
                        q = (T = ve).B,
                        J = Re,
                        $e(function(e) {
                            switch (e.g) {
                            case 1:
                                if (Q = [],
                                $ = new Set,
                                !(0 < X.length)) {
                                    e.A(2);
                                    break
                                }
                                Z = Ze(X),
                                w = Z.next();
                            case 3:
                                if (w.done) {
                                    e.A(2);
                                    break
                                }
                                if (S = w.value,
                                A = Mg(S, "METHOD"),
                                ee = ct(S, "KEYFORMAT") || "identity",
                                E = null,
                                "NONE" == A) {
                                    e.A(4);
                                    break
                                }
                                if (Mm(A)) {
                                    A = Og(Y(), Mg(S, "URI"), q),
                                    x = A.sort().join(""),
                                    T.M.has(x) || (A = xr(A, T.g.retryParameters),
                                    A = Cm(T, A, 6).promise,
                                    T.M.set(x, A)),
                                    e.A(4);
                                    break
                                }
                                if ("identity" == ee)
                                    return We(e, Lm(T, S, "", Y, null, q), 9);
                                E = (x = Nm[ee]) ? x(S, "") : null,
                                e.A(6);
                                break;
                            case 9:
                                E = e.h;
                            case 6:
                                if (E) {
                                    if (E.keyIds)
                                        for (te = Ze(E.keyIds),
                                        I = te.next(); !I.done; I = te.next())
                                            ne = I.value,
                                            $.add(ne);
                                    Q.push(E)
                                }
                            case 4:
                                w = Z.next(),
                                e.A(3);
                                break;
                            case 2:
                                for (k = {},
                                ie = Ze(z),
                                C = ie.next(); !C.done; C = ie.next())
                                    M = C.value,
                                    L = kg(M, !T.j),
                                    k[L] ? k[L].push(M) : k[L] = [M];
                                for (re in ae = [],
                                k)
                                    oe = k[re],
                                    P = oe[0],
                                    se = ct(P, "FRAME-RATE"),
                                    ue = Number(ct(P, "AVERAGE-BANDWIDTH")) || Number(Mg(P, "BANDWIDTH")),
                                    R = ct(P, "RESOLUTION"),
                                    R = Ze(R ? R.split("x") : [null, null]),
                                    le = R.next().value,
                                    R = R.next().value,
                                    ce = ct(P, "VIDEO-RANGE"),
                                    (P = ct(P, "REQ-VIDEO-LAYOUT")) && P.includes(",") && (D = P.split(",").filter(function(e) {
                                        return "CH-STEREO" == e || "CH-MONO" == e
                                    }),
                                    P = D[0]),
                                    P = P || "CH-MONO",
                                    D = function(e, t, n) {
                                        for (var i = {
                                            audio: [],
                                            video: []
                                        }, a = new Map, r = [], o = !1, s = !1, u = Ze(t), l = u.next(); !l.done; l = u.next()) {
                                            var c = l.value
                                              , d = (l = ct(c, "AUDIO"),
                                            ct(c, "VIDEO"))
                                              , h = l || d;
                                            h && (r.includes(h) || r.push(h),
                                            (c = ct(c, "PATHWAY-ID")) && a.set(h, c),
                                            l ? o = !0 : d && (s = !0))
                                        }
                                        r.length && n.length && (n = n.filter(function(e) {
                                            return r.includes(Mg(e, "GROUP-ID"))
                                        }),
                                        function(e, t, n) {
                                            t = t.filter(function(e) {
                                                var t = ct(e, "URI") || "";
                                                return "SUBTITLES" != (e = ct(e, "TYPE")) && ("" != t || "AUDIO" == e)
                                            });
                                            for (var i, a = {}, r = (t = Ze(t)).next(); !r.done; r = t.next()) {
                                                var o = kg(r = r.value, !e.j);
                                                a[o] ? a[o].push(r) : a[o] = [r]
                                            }
                                            for (i in a)
                                                tm(e, a[i], n, !1)
                                        }(e, n, a)),
                                        n = (a = r.sort().join(",")) && e.J.has(a) ? e.J.get(a) : [],
                                        o ? i.audio.push.apply(i.audio, et(n)) : s && i.video.push.apply(i.video, et(n)),
                                        o = !1;
                                        var f = t.map(function(e) {
                                            return Mg(e, "URI")
                                        });
                                        return l = i.audio.find(function(e) {
                                            return e && e.R().find(function(e) {
                                                return f.includes(e)
                                            })
                                        }),
                                        s = em(e, t[0]),
                                        n = zt("video", s),
                                        (u = zt("audio", s)) && !n ? (l = "audio",
                                        o = 0 < i.audio.length) : !i.audio.length && !i.video.length && u && n ? (l = "video",
                                        s = [[n, u].join()]) : i.audio.length && l ? (l = "audio",
                                        o = !0) : l = i.video.length && !i.audio.length ? "audio" : "video",
                                        o || (e = function(e, t, n, i) {
                                            for (var a = e.G++, r = [], o = Ze(t), s = o.next(); !s.done; s = o.next()) {
                                                var u = s.value;
                                                s = Mg(u, "URI"),
                                                u = ct(u, "PATHWAY-ID"),
                                                e.j && u && Sp(e.j, a, u, s),
                                                r.push(s)
                                            }
                                            if (o = r.sort().join(","),
                                            e.i.has(o))
                                                return e.i.get(o);
                                            e: {
                                                if (t = ct(t[0], "CLOSED-CAPTIONS"),
                                                "video" == i) {
                                                    if (e.g.disableText) {
                                                        e.S = !1,
                                                        t = null;
                                                        break e
                                                    }
                                                    if (t) {
                                                        if ("NONE" != t) {
                                                            t = e.H.get(t);
                                                            break e
                                                        }
                                                        e.S = !1
                                                    } else if (!t && e.H.size)
                                                        for (t = Ze(e.H.keys()).next(); !t.done; ) {
                                                            t = e.H.get(t.value);
                                                            break e
                                                        }
                                                }
                                                t = null
                                            }
                                            return n = Kt(i, n),
                                            i = im(e, a, r, n, i, null, !1, null, null, t, null, !1, null, !1),
                                            e.i.set(o, i),
                                            i
                                        }(e, t, s, l),
                                        a && (e.stream.groupId = a),
                                        i[e.stream.type] = [e]),
                                        i
                                    }(T, oe, W),
                                    ae.push.apply(ae, et(function(e, t, n, i, a, r, o, s, u, l, c, d) {
                                        for (var h = Ze(n), f = h.next(); !f.done; f = h.next())
                                            Em(f.value.stream, a, r, o, s, u, null);
                                        a = e.g.disableAudio,
                                        t.length && !a || (t = [null]);
                                        a = e.g.disableVideo,
                                        n.length && !a || (n = [null]);
                                        for (a = [],
                                        t = Ze(t),
                                        r = t.next(); !r.done; r = t.next())
                                            for (r = r.value,
                                            o = Ze(n),
                                            s = o.next(); !s.done; s = o.next()) {
                                                var p = s.value
                                                  , g = ((s = r ? r.stream : null) && (s.drmInfos = l,
                                                s.keyIds = c),
                                                (u = p ? p.stream : null) && (u.drmInfos = l,
                                                u.keyIds = c,
                                                e.g.disableIFrames || za(u, d)),
                                                u && !s && (u.bandwidth = i),
                                                !u && s && (s.bandwidth = i),
                                                h = r ? r.stream.drmInfos : null,
                                                f = p ? p.stream.drmInfos : null,
                                                p = p ? p.R().sort().join(",") : "",
                                                r ? r.R().sort().join(",") : "");
                                                p = p + " - " + g,
                                                s && u && !gt(h, f) || e.Ya.has(p) || (s = {
                                                    id: e.G++,
                                                    language: s ? s.language : "und",
                                                    disabledUntilTime: 0,
                                                    primary: !!s && s.primary || !!u && u.primary,
                                                    audio: s,
                                                    video: u,
                                                    bandwidth: i,
                                                    allowedByApplication: !0,
                                                    allowedByKeySystem: !0,
                                                    decodingInfos: []
                                                },
                                                a.push(s),
                                                e.Ya.add(p))
                                            }
                                        return a
                                    }(T, D.audio, D.video, ue, le, R, se, ce, P, Q, $, J)));
                                return e.return(ae.filter(function(e) {
                                    return null != e
                                }))
                            }
                        })), 5);
                    case 5:
                        return we = e.h,
                        Se = function(t, e) {
                            var n = Dg(e, "SUBTITLES");
                            e = n.map(function(e) {
                                if (t.g.disableText)
                                    return null;
                                try {
                                    return tm(t, [e], new Map).stream
                                } catch (e) {
                                    if (t.g.hls.ignoreTextStreamFailures)
                                        return null;
                                    throw e
                                }
                            });
                            for (var i = (n = Ze(n)).next(); !i.done; i = n.next()) {
                                var a = Mg(i.value, "GROUP-ID");
                                if ((i = t.I.get(a)) && (a = t.J.get(a)))
                                    for (var r = (a = Ze(a)).next(); !r.done; r = a.next())
                                        (r = r.value).stream.codecs = i,
                                        r.stream.mimeType = Tm(it, i) || wm(it),
                                        Zg(r.stream)
                            }
                            return e.filter(function(e) {
                                return e
                            })
                        }(ve, De),
                        We(e, (y = ve,
                        H = Ce,
                        K = Me,
                        $e(function(e) {
                            return 1 == e.g ? (b = H.map(function(l) {
                                var c;
                                return $e(function(e) {
                                    if (1 == e.g)
                                        return y.g.disableThumbnails ? e.return(null) : (qe(e, 2),
                                        We(e, (t = y,
                                        n = l,
                                        $e(function(e) {
                                            return 1 == e.g ? (i = Mg(n, "URI"),
                                            o = ct(n, "CODECS", "jpeg") || "",
                                            t.i.has(i) ? e.return(t.i.get(i)) : (a = ct(n, "LANGUAGE"),
                                            r = ct(n, "NAME"),
                                            s = ct(n, "CHARACTERISTICS"),
                                            a = im(t, t.G++, [i], o, "image", a, !1, r, null, null, s, !1, null, !1),
                                            (r = ct(n, "RESOLUTION")) ? We(e, a.stream.createSegmentIndex(), 3) : e.A(2))) : (2 != e.g && (o = cu(a.stream.segmentIndex),
                                            s = o.tilesLayout) && (a.stream.width = Number(r.split("x")[0]) * Number(s.split("x")[0]),
                                            a.stream.height = Number(r.split("x")[1]) * Number(s.split("x")[1])),
                                            (u = ct(n, "BANDWIDTH")) && (a.stream.bandwidth = Number(u)),
                                            t.i.set(i, a),
                                            e.return(a))
                                        })), 4));
                                    var t, n, i, a, r, o, s, u;
                                    if (2 != e.g)
                                        return c = e.h,
                                        e.return(c.stream);
                                    if (c = Qe(e),
                                    y.g.hls.ignoreImageStreamFailures)
                                        return e.return(null);
                                    throw c
                                })
                            }).concat(K.map(function(e) {
                                if (y.g.disableThumbnails)
                                    return null;
                                try {
                                    var t = nm(y, e);
                                    return "image" !== t.stream.type ? null : t.stream
                                } catch (e) {
                                    if (y.g.hls.ignoreImageStreamFailures)
                                        return null;
                                    throw e
                                }
                            })),
                            We(e, Promise.all(b), 2)) : (b = e.h,
                            e.return(b.filter(function(e) {
                                return e
                            })))
                        })), 6);
                    case 6:
                        Ee = e.h,
                        e.A(3);
                        break;
                    case 7:
                        Ne = e.h,
                        ve.i.set(be, Ne),
                        Ne.stream && (_e = Ou(Ne.stream),
                        Ne.stream.segmentIndex.Ub(function(e) {
                            e.na && (e.na.sd = _e)
                        })),
                        xe = Ne.stream.type,
                        we.push({
                            id: 0,
                            language: en(Pe || "und"),
                            disabledUntilTime: 0,
                            primary: !0,
                            audio: "audio" == xe ? Ne.stream : null,
                            video: "video" == xe ? Ne.stream : null,
                            bandwidth: Ne.stream.bandwidth || 0,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: []
                        });
                    case 3:
                        if (!ve.h)
                            throw new nt(2,7,7001);
                        if (fm(ve, Te),
                        1 == Te.type && (Im(ve) && (gm(ve, Te),
                        Oe = ve.s,
                        ve.C.Y(Oe)),
                        Oe = Array.from(ve.i.values()),
                        om(ve, Oe),
                        Qg(ve),
                        ym(ve, Te.ka, xe, Ie, Ae)),
                        ve.m = {
                            presentationTimeline: ve.l,
                            variants: we,
                            textStreams: Se,
                            imageStreams: Ee,
                            offlineSessionIds: [],
                            minBufferTime: 0,
                            sequenceMode: ve.g.hls.sequenceMode,
                            ignoreManifestTimestampsInSegmentsMode: ve.g.hls.ignoreManifestTimestampsInSegmentsMode,
                            type: "HLS",
                            serviceDescription: null,
                            nextUrl: null,
                            periodCount: 1,
                            gapCount: 0,
                            isLowLatency: !1,
                            startTime: ve.u
                        },
                        ve.ea || !ve.g.hls.disableCodecGuessing) {
                            e.A(8);
                            break
                        }
                        for (Ue = [],
                        je = Ze(ve.m.variants),
                        Fe = je.next(); !Fe.done; Fe = je.next())
                            (Be = Fe.value).audio && "" === Be.audio.codecs && Ue.push(Be.audio.createSegmentIndex()),
                            Be.video && "" === Be.video.codecs && Ue.push(Be.video.createSegmentIndex());
                        return We(e, Promise.all(Ue), 8);
                    case 8:
                        if (ve.h.makeTextStreamsForClosedCaptions(ve.m),
                        1 == we.length) {
                            for (Ge = [],
                            Ve = we[0],
                            He = Ze([Ve.video, Ve.audio]),
                            Ke = He.next(); !Ke.done; Ke = He.next())
                                (ze = Ke.value) && !ze.segmentIndex && Ge.push(ze.createSegmentIndex());
                            if (0 < Ge.length)
                                return We(e, Promise.all(Ge), 0)
                        }
                        e.A(0)
                    }
                    var y, H, K, b, T, z, X, W, Y, q, J, Q, $, Z, w, S, ee, E, A, x, te, I, ne, k, ie, C, M, L, ae, re, oe, se, ue, le, R, ce, P, D, de, N, he, fe, pe, ge, me, _
                })), 3)) : e.return(a.m);
                var ve, ye, be, Te, we, Se, Ee, Ae, xe, Ie, ke, Ce, Me, Le, Re, Pe, De, Ne, _e, Oe, Ue, je, Fe, Be, Ge, Ve, He, Ke, ze
            })
        }
        ,
        t.stop = function() {
            this.C && (this.C.stop(),
            this.C = null);
            var e = [];
            return this.aa && (e.push(this.aa.destroy()),
            this.aa = null),
            this.g = this.h = null,
            this.Ya.clear(),
            this.m = null,
            this.i.clear(),
            this.J.clear(),
            this.I.clear(),
            this.B.clear(),
            this.ya.clear(),
            this.ma.clear(),
            this.M.clear(),
            this.Ba.clear(),
            this.ra.clear(),
            this.Fa.clear(),
            this.j && this.j.destroy(),
            this.W && (this.W.release(),
            this.W = null),
            Promise.all(e)
        }
        ,
        t.update = function() {
            var t, n, i, a, r, o, s, u, l, c, d = this;
            return $e(function(e) {
                if (1 == e.g) {
                    if (!Im(d))
                        return e.return();
                    for (t = [],
                    n = Array.from(d.i.values()),
                    d.s = 1 / 0,
                    d.m.gapCount = 0,
                    n = n.filter(function(e) {
                        return e.stream.segmentIndex
                    }),
                    i = Ze(n),
                    a = i.next(); !a.done; a = i.next())
                        r = a.value,
                        t.push(function(t, n) {
                            var i, a, r, o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S;
                            return $e(function(e) {
                                switch (e.g) {
                                case 1:
                                    if (n.stream.isAudioMuxedInVideo)
                                        return e.return();
                                    for (i = [],
                                    a = Ze(n.R()),
                                    r = a.next(); !r.done; r = a.next())
                                        o = r.value,
                                        o = new pt(o),
                                        s = o.g,
                                        n.we && (0 <= n.Pb && s.add("_HLS_msn", String(n.Pb)),
                                        0 <= n.Qb && s.add("_HLS_part", String(n.Qb))),
                                        n.xe && s.add("_HLS_skip", "YES"),
                                        ye(s) && se(o, s),
                                        i.push(o.toString());
                                    return qe(e, 2),
                                    We(e, Am(t, i, !0).promise, 4);
                                case 4:
                                    u = e.h,
                                    Je(e, 3);
                                    break;
                                case 2:
                                    throw c = Qe(e),
                                    t.h && t.h.disableStream(n.stream),
                                    c;
                                case 3:
                                    if (!n.stream.segmentIndex)
                                        return e.return();
                                    if (1 != (l = Bg(t.Oa, u.data)).type)
                                        throw new nt(2,4,4017);
                                    return (c = u.uri) == u.originalUri || n.R().includes(c) || n.li.push(c),
                                    d = Pg(l.ka, "EXT-X-DEFINE"),
                                    d = $g(t, d, c),
                                    h = n.stream,
                                    f = Yg(t, n),
                                    We(e, dm(t, l, h.mimeType, n.R, d), 5);
                                case 5:
                                    for (p = e.h,
                                    b = p.keyIds,
                                    p = p.drmInfos,
                                    function(e, t) {
                                        return e.size === t.size && [].concat(et(e)).every(function(e) {
                                            return t.has(e)
                                        })
                                    }(h.keyIds, b) || (h.keyIds = b,
                                    h.drmInfos = p,
                                    t.h.newDrmInfo(h)),
                                    b = bm(t, l, f, d, n.R, n.type),
                                    p = b.segments,
                                    (b = b.bandwidth) && (h.bandwidth = b),
                                    g = Ou(h),
                                    m = Ze(p),
                                    v = m.next(); !v.done; v = m.next())
                                        (y = v.value).na && (y.na.sd = g);
                                    h.segmentIndex.Wd(p, t.l.Ib()),
                                    p.length && (b = _g(l.ka, "EXT-X-MEDIA-SEQUENCE", 0),
                                    w = (w = Ng(l.ka, "EXT-X-SKIP")) ? Number(ct(w, "SKIPPED-SEGMENTS")) : 0,
                                    S = lm(b, p),
                                    T = S.Pb,
                                    S = S.Qb,
                                    n.Pb = T + w,
                                    n.Qb = S,
                                    T = f.get(b),
                                    h.segmentIndex.ab(T)),
                                    (w = cu(h.segmentIndex)) && (n.Uc = w.startTime,
                                    S = p[p.length - 1],
                                    n.hc = S.endTime),
                                    Ng(l.ka, "EXT-X-ENDLIST") && (n.Pd = !0),
                                    pm(t, l),
                                    ym(t, l.ka, h.type, d, n.R),
                                    Ye(e)
                                }
                            })
                        }(d, r));
                    return We(e, Promise.all(t), 2)
                }
                for (rm(d, n.map(function(e) {
                    return e.stream
                })),
                o = n.some(function(e) {
                    return 0 == e.Pd
                }),
                n.length && !o && (km(d, jm.Ri),
                s = n.map(function(e) {
                    return e.hc
                }),
                d.l.vb(Math.min.apply(Math, et(s))),
                d.h.updateDuration()),
                o && Qg(d),
                u = Ze(n),
                l = u.next(); !l.done; l = u.next())
                    (c = l.value).stream.isAudioMuxedInVideo || !c.stream.segmentIndex || cu(c.stream.segmentIndex) || d.h.disableStream(c.stream);
                Ye(e)
            })
        }
        ,
        t.onExpirationUpdated = function() {}
        ,
        t.onInitialVariantChosen = function() {}
        ,
        t.banLocation = function(e) {
            this.j && this.j.banLocation(e)
        }
        ,
        t.setMediaElement = function(e) {
            this.Z = e
        }
        ,
        i("shaka.hls.HlsParser", Wg);
        var Rm = {
            aac: "audio/aac",
            ac3: "audio/ac3",
            ec3: "audio/ec3",
            mp3: "audio/mpeg"
        }
          , Pm = {
            audio: {
                mp4: "audio/mp4",
                mp4a: "audio/mp4",
                m4s: "audio/mp4",
                m4i: "audio/mp4",
                m4a: "audio/mp4",
                m4f: "audio/mp4",
                cmfa: "audio/mp4",
                ts: "video/mp2t",
                tsa: "video/mp2t"
            },
            video: {
                mp4: "video/mp4",
                mp4v: "video/mp4",
                m4s: "video/mp4",
                m4i: "video/mp4",
                m4v: "video/mp4",
                m4f: "video/mp4",
                cmfv: "video/mp4",
                ts: "video/mp2t",
                tsv: "video/mp2t"
            },
            text: {
                mp4: "application/mp4",
                m4s: "application/mp4",
                m4i: "application/mp4",
                m4f: "application/mp4",
                cmft: "application/mp4",
                vtt: "text/vtt",
                webvtt: "text/vtt",
                ttml: "application/ttml+xml"
            },
            image: {
                jpg: "image/jpeg",
                png: "image/png",
                svg: "image/svg+xml",
                webp: "image/webp",
                avif: "image/avif"
            }
        }
          , Dm = new Set(["video/mp2t"].concat(et(pa)))
          , Nm = {
            "com.apple.streamingkeydelivery": function(e, t) {
                if ("video/mp2t" == t)
                    throw new nt(2,4,4040);
                if (wt())
                    throw new nt(2,4,4041);
                return t = Mg(e, "METHOD"),
                ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t) ? Vt("com.apple.fps", "SAMPLE-AES" == t ? "cbcs" : "cenc", [{
                    initDataType: "sinf",
                    initData: new Uint8Array(0),
                    keyId: null
                }], Mg(e, "URI")) : null
            },
            "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": function(e) {
                var t = Mg(e, "METHOD");
                if (!["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t))
                    return null;
                var n = Vt("com.widevine.alpha", n = "SAMPLE-AES" == t ? "cbcs" : "cenc", [{
                    initDataType: "cenc",
                    initData: t = tt((t = Xg((t = Mg(e, "URI")).split("?")[0])).data)
                }]);
                return (e = ct(e, "KEYID")) && (n.keyIds = new Set([e.toLowerCase().substr(2)])),
                n
            },
            "com.microsoft.playready": function(e) {
                var t = Mg(e, "METHOD");
                return ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t) ? Vt("com.microsoft.playready", "SAMPLE-AES" == t ? "cbcs" : "cenc", [{
                    initDataType: "cenc",
                    initData: e = Jr(e = tt((e = Xg((e = Mg(e, "URI")).split("?")[0])).data), new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]), new Set, 0)
                }]) : null
            }
        }
          , _m = "VOD"
          , Om = "EVENT"
          , Um = "LIVE"
          , jm = {
            Ri: _m,
            jl: Om,
            wl: Um
        };
        function Fm(e) {
            if (e = Bm(e))
                e: {
                    for (var t = (e = Ze(ti(e, "DATA"))).next(); !t.done; t = e.next())
                        if (t = ni(t.value, "LA_URL")) {
                            e = Zn(t);
                            break e
                        }
                    e = ""
                }
            else
                e = "";
            return e
        }
        function Bm(e) {
            return (e = function(e) {
                var t, n = 0, i = Ee(e);
                if (i.getUint32(0, !0) != e.byteLength)
                    return [];
                e: {
                    for (e = 6,
                    n = []; e < i.byteLength - 1; ) {
                        t = i.getUint16(e, !0),
                        e += 2;
                        var a = i.getUint16(e, !0);
                        if (e += 2,
                        0 != (1 & a) || a + e > i.byteLength) {
                            i = [];
                            break e
                        }
                        var r = tt(i, e, a);
                        n.push({
                            type: t,
                            value: r
                        }),
                        e += a
                    }
                    i = n
                }
                return i
            }(e = Ut(Zn(e))).filter(function(e) {
                return e.type === Gm
            })[0]) && (e = Yn(e = kt(e.value, !0), "WRMHEADER")) ? e : null
        }
        ko["application/x-mpegurl"] = function() {
            return new Wg
        }
        ,
        ko["application/vnd.apple.mpegurl"] = function() {
            return new Wg
        }
        ;
        var Gm = 1
          , Vm = (new Map).set("com.microsoft.playready", Fm).set("com.microsoft.playready.recommendation", Fm).set("com.microsoft.playready.software", Fm).set("com.microsoft.playready.hardware", Fm);
        function Hm(e) {
            var t, n, i;
            $m || ($m = !0,
            t = new Uint8Array([105, 115, 111, 109]),
            n = new Uint8Array([97, 118, 99, 49]),
            i = new Uint8Array([0, 0, 0, 1]),
            cv = b("ftyp", t, i, t, n),
            t = b("dref", dv),
            hv = b("dinf", t)),
            this.g = e
        }
        function Km(e) {
            for (var t = [], n = Ze(e.g), i = n.next(); !i.done; i = n.next()) {
                var a = t
                  , r = a.push
                  , o = i.value
                  , i = b
                  , s = o.id + 1
                  , u = o.stream.width || 0
                  , l = o.stream.height || 0
                  , c = ("audio" == o.type && (l = u = 0),
                o.duration * o.timescale)
                  , d = Math.floor(c / (Zm + 1))
                  , c = Math.floor(c % (Zm + 1));
                switch (s = b("tkhd", s = new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3].concat(et(Jm(s, 4)), [0, 0, 0, 0], et(Jm(d, 4)), et(Jm(c, 4)), [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0], et(Jm(u, 2)), [0, 0], et(Jm(l, 2)), [0, 0]))),
                u = b,
                d = o.duration * o.timescale,
                l = Math.floor(d / (Zm + 1)),
                d = Math.floor(d % (Zm + 1)),
                c = (c = o.stream.language).charCodeAt(0) - 96 << 10 | c.charCodeAt(1) - 96 << 5 | c.charCodeAt(2) - 96,
                l = b("mdhd", l = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3].concat(et(Jm(o.timescale, 4)), et(Jm(l, 4)), et(Jm(d, 4)), et(Jm(c, 2)), [0, 0]))),
                d = o,
                c = new Uint8Array([]),
                d.type) {
                case "video":
                    c = tv;
                    break;
                case "audio":
                    c = nv
                }
                d = b("hdlr", c);
                e: {
                    switch (o.type) {
                    case "video":
                        o = b("minf", b("vmhd", sv), hv, zm(o));
                        break e;
                    case "audio":
                        o = b("minf", b("smhd", uv), hv, zm(o));
                        break e
                    }
                    o = new Uint8Array([])
                }
                i = i("trak", s, o = u("mdia", l, d, o)),
                r.call(a, i)
            }
            for (t = Bt.apply(Nt, et(t)),
            n = b,
            i = (r = e.g[0]).duration * r.timescale,
            a = Math.floor(i / (Zm + 1)),
            i = Math.floor(i % (Zm + 1)),
            a = b("mvhd", a = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3].concat(et(Jm(r.timescale, 4)), et(Jm(a, 4)), et(Jm(i, 4)), [0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]))),
            i = [],
            u = (e = Ze(e.g)).next(); !u.done; u = e.next())
                s = (o = i).push,
                u = b("trex", u = new Uint8Array([0, 0, 0, 0].concat(et(Jm(u.value.id + 1, 4)), [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]))),
                s.call(o, u);
            if (e = b("mvex", e = Bt.apply(Nt, et(i))),
            i = [],
            r.encrypted) {
                for (o = (r = Ze(r.stream.drmInfos)).next(); !o.done; o = r.next())
                    if ((o = o.value).initData)
                        for (s = (o = Ze(o.initData)).next(); !s.done; s = o.next())
                            i.push(s.value.initData);
                r = Bt.apply(Nt, et(i))
            } else
                r = new Uint8Array([]);
            return e = n("moov", a, t, e, r),
            (t = new Uint8Array(cv.byteLength + e.byteLength)).set(cv),
            t.set(e, cv.byteLength),
            t
        }
        function zm(e) {
            var t = b
              , n = new Uint8Array([]);
            switch (e.type) {
            case "video":
                if (e.codecs.includes("avc1")) {
                    var n = e.stream.width || 0
                      , i = e.stream.height || 0;
                    if (0 < e.Sa.byteLength)
                        var a = b("avcC", e.Sa);
                    else {
                        for (var a = b, r = 7, o = [], s = [], u = 0, l = 0, c = 0, d = 0; d < e.xb.length; d++) {
                            var h = Qm(e.xb[d]);
                            switch (31 & h[0]) {
                            case 7:
                                o.push(h),
                                r += h.length + 2;
                                break;
                            case 8:
                                s.push(h),
                                r += h.length + 2
                            }
                        }
                        for (0 < o.length && (u = o[0][1],
                        c = o[0][2],
                        l = o[0][3]),
                        d = 0,
                        (r = new Uint8Array(r))[d++] = 1,
                        r[d++] = u,
                        r[d++] = c,
                        r[d++] = l,
                        r[d++] = 255,
                        r[d++] = 224 | o.length,
                        u = 0; u < o.length; u++)
                            r[d++] = (65280 & o[u].length) >> 8,
                            r[d++] = 255 & o[u].length,
                            r.set(o[u], d),
                            d += o[u].length;
                        for (r[d++] = s.length,
                        o = 0; o < s.length; o++)
                            r[d++] = (65280 & s[o].length) >> 8,
                            r[d++] = 255 & s[o].length,
                            r.set(s[o], d),
                            d += s[o].length;
                        a = a("avcC", r)
                    }
                    n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].concat(et(Jm(n, 2)), et(Jm(i, 2)), [0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17])),
                    i = "avc1",
                    s = Xm(e),
                    o = new Uint8Array([]),
                    e.encrypted && (o = Ym(e),
                    i = "encv"),
                    n = b(i, n, a, s, o)
                } else
                    e.codecs.includes("hvc1") && (i = e.stream.width || 0,
                    a = e.stream.height || 0,
                    n = new Uint8Array([]),
                    0 < e.Sa.byteLength && (n = b("hvcC", e.Sa)),
                    i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].concat(et(Jm(i, 2)), et(Jm(a, 2)), [0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17])),
                    a = "hvc1",
                    s = Xm(e),
                    o = new Uint8Array([]),
                    e.encrypted && (o = Ym(e),
                    a = "encv"),
                    n = b(a, i, n, s, o));
                break;
            case "audio":
                n = e = e.codecs.includes("mp3") ? b(".mp3", Wm(e)) : (a = (i = e.codecs.includes("ac-3") ? (n = b("dac3", e.Ea),
                "ac-3") : e.codecs.includes("ec-3") ? (n = b("dec3", e.Ea),
                "ec-3") : e.codecs.includes("opus") ? (n = b("dOps", e.Ea),
                "Opus") : (n = 0 < e.Ea.byteLength ? b("esds", e.Ea) : (n = b,
                i = e.id + 1,
                a = e.stream.channelsCount || 2,
                o = e.stream.audioSamplingRate || 44100,
                u = Kt("audio", e.codecs.split(",")),
                s = (l = {
                    96e3: 0,
                    88200: 1,
                    64e3: 2,
                    48e3: 3,
                    44100: 4,
                    32e3: 5,
                    24e3: 6,
                    22050: 7,
                    16e3: 8,
                    12e3: 9,
                    11025: 10,
                    8e3: 11,
                    7350: 12
                })[o],
                "mp4a.40.5" !== u && "mp4a.40.29" !== u || (s = l[2 * o]),
                o = parseInt(u.split(".").pop(), 10),
                n("esds", i = new Uint8Array([0, 0, 0, 0, 3, 25].concat(et(Jm(i, 2)), [0, 4, 17, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 2, o << 3 | s >>> 1, s << 7 | a << 3, 6, 1, 2])))),
                "mp4a"),
                new Uint8Array([])),
                e.encrypted && (a = Ym(e),
                i = "enca"),
                b(i, Wm(e), n, a))
            }
            return t("stbl", e = b("stsd", lv, n), b("stts", iv), b("stsc", av), b("stsz", ov), b("stco", rv))
        }
        function Xm(e) {
            if (!e.Xa && !e.$a)
                return new Uint8Array([]);
            var t = e.$a;
            return b("pasp", e = new Uint8Array([].concat(et(Jm(e.Xa, 4)), et(Jm(t, 4)))))
        }
        function Wm(e) {
            return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, e.stream.channelsCount || 2, 0, 16, 0, 0, 0, 0].concat(et(Jm(e.stream.audioSamplingRate || 44100, 2)), [0, 0]))
        }
        function Ym(e) {
            for (var t = b, n = e.codecs.substring(0, e.codecs.indexOf(".")), i = 0, a = 0; a < n.length; a += 1)
                i |= n.charCodeAt(a) << 8 * (n.length - a - 1);
            for (var n = b("frma", n = new Uint8Array([].concat(et(Jm(i, 4))))), i = b("schm", i = new Uint8Array([0, 0, 0, 0, 99, 101, 110, 99, 0, 1, 0, 0])), a = b, r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), o = (e = Ze(e.stream.drmInfos)).next(); !o.done; o = e.next())
                if ((o = o.value) && o.keyIds && o.keyIds.size)
                    for (var s = (o = Ze(o.keyIds)).next(); !s.done; s = o.next())
                        r = Qm(s.value);
            return t("sinf", n, i, a("schi", r = b("tenc", e = new Uint8Array([0, 0, 0, 0, 0, 0, 1, 8]), r)))
        }
        function qm(e) {
            for (var t = [], n = (e = Ze(e.g)).next(); !n.done; n = e.next()) {
                for (var n = n.value, i = t.push, a = i.apply, r = b, o = b("mfhd", new Uint8Array([0, 0, 0, 0].concat(et(Jm(n.data ? n.data.Sb : 0, 4))))), s = n.data ? n.data.ub : [], u = new Uint8Array(4 + s.length), l = 0; l < s.length; l++) {
                    var c = s[l].flags;
                    u[l + 4] = c.qb << 4 | c.sb << 2 | c.rb
                }
                var d = (s = b("sdtp", u)).length + 92
                  , u = b
                  , c = (l = b("tfhd", l = new Uint8Array([0, 0, 0, 58].concat(et(Jm(n.id + 1, 4)), [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]))),
                n.data ? n.data.baseMediaDecodeTime : 0)
                  , h = Math.floor(c % (Zm + 1))
                  , f = (c = b("tfdt", c = new Uint8Array([1, 0, 0, 0].concat(et(Jm(Math.floor(c / (Zm + 1)), 4)), et(Jm(h, 4))))),
                d)
                  , p = 12 + 16 * (h = (d = n.data ? n.data.ub : []).length)
                  , g = new Uint8Array(p);
                for (f += 8 + p,
                g.set(["video" === n.type ? 1 : 0, 0, 15, 1].concat(et(Jm(h, 4)), et(Jm(f, 4))), 0),
                f = 0; f < h; f++) {
                    var p = Jm((y = d[f]).duration, 4)
                      , m = Jm(y.size, 4)
                      , v = y.flags
                      , y = Jm(y.zb, 4);
                    g.set([].concat(et(p), et(m), [v.Ab << 2 | v.qb, v.sb << 6 | v.rb << 4 | v.Bb, 61440 & v.pb, 15 & v.pb], et(y)), 12 + 16 * f)
                }
                r = r("moof", o, s = u("traf", l, c, d = b("trun", g), s)),
                a.call(i, t, [r, (o = ((o = n).data ? o.data.ub : []).map(function(e) {
                    return e.data
                }),
                b("mdat", o = Bt.apply(Nt, et(o))))])
            }
            return Bt.apply(Nt, et(t))
        }
        function Jm(e, t) {
            var n = [];
            for (--t; 0 <= t; t--)
                n.push(e >> 8 * t & 255);
            return n
        }
        function Qm(e) {
            for (var t = new Uint8Array(e.length / 2), n = 0; n < e.length / 2; n += 1)
                t[n] = parseInt(String(e[2 * n] + e[2 * n + 1]), 16);
            return t
        }
        function b(e) {
            var t = P.apply(1, arguments)
              , n = ev[e];
            n || (n = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)],
            ev[e] = n);
            for (var i = 8, a = t.length - 1; 0 <= a; a--)
                i += t[a].byteLength;
            for ((a = new Uint8Array(i))[0] = i >> 24 & 255,
            a[1] = i >> 16 & 255,
            a[2] = i >> 8 & 255,
            a[3] = 255 & i,
            a.set(n, 4),
            n = 0,
            i = 8; n < t.length; n++)
                a.set(t[n], i),
                i += t[n].byteLength;
            return a
        }
        var $m = !1
          , Zm = Math.pow(2, 32) - 1
          , ev = {}
          , tv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0])
          , nv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0])
          , iv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , av = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , rv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , ov = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
          , sv = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
          , uv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , lv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1])
          , cv = new Uint8Array([])
          , dv = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1])
          , hv = new Uint8Array([]);
        function fv() {
            var e = this;
            this.h = this.g = null,
            this.l = [],
            this.j = null,
            this.u = 1,
            this.i = null,
            this.G = new dn(5),
            this.s = new C(function() {
                var t, n;
                t = e,
                $e(function(e) {
                    switch (e.g) {
                    case 1:
                        return qe(e, 2),
                        We(e, pv(t), 4);
                    case 4:
                        Je(e, 3);
                        break;
                    case 2:
                        n = Qe(e),
                        t.h && (n.severity = 1,
                        t.h.onError(n));
                    case 3:
                        if (!t.h)
                            return e.return();
                        Ye(e)
                    }
                })
            }
            ),
            this.C = new Tr,
            this.m = new Map,
            this.B = function() {
                return !1
            }
        }
        function pv(b) {
            var T, w, S, E;
            return $e(function(e) {
                if (1 == e.g)
                    return w = xr(b.l, b.g.retryParameters),
                    S = b.h.networkingEngine,
                    T = Date.now(),
                    S = S.request(0, w, {
                        type: 5,
                        isPreload: b.B()
                    }),
                    wr(b.C, S),
                    We(e, S.promise, 2);
                if (w = e.h,
                !b.h)
                    return e.return();
                w.uri && !b.l.includes(w.uri) && b.l.unshift(w.uri);
                var t = w.uri
                  , n = w.data
                  , i = b.g.mss.manifestPreprocessor;
                if (i != wl) {
                    if (wn("manifest.mss.manifestPreprocessor configuration", "Please Use manifest.mss.manifestPreprocessorTXml instead."),
                    !(n = ig(n, "SmoothStreamingMedia")))
                        throw new nt(2,4,4046,t);
                    i(n),
                    n = Mt(n.outerHTML)
                }
                var a = Wn(n, "SmoothStreamingMedia");
                if (!a)
                    throw new nt(2,4,4046,t);
                if ((t = b.g.mss.manifestPreprocessorTXml) != Sl && t(a),
                b.i || (b.i = new lt(null,0)),
                t = $(a, "IsLive", pi, !1))
                    throw new nt(2,4,4047);
                b.i.Yc(!t),
                i = $(a, "TimeScale", hi, 1e7),
                n = $(a, "DVRWindowLength", hi),
                t && (0 === n || isNaN(n)) && (n = 1 / 0);
                var r, o = $(a, "CanSeek", pi, !1);
                for (0 === n && o && (n = 1 / 0),
                o = null,
                n && 0 < n && (o = n / i),
                t && !isNaN(b.g.availabilityWindowOverride) && (o = b.g.availabilityWindowOverride),
                b.i.jf(o = null == o ? 1 / 0 : o),
                n = $(a, "Duration", hi, 1 / 0),
                t || b.i.vb(n / i),
                t = {
                    variants: [],
                    textStreams: [],
                    timescale: i,
                    duration: n / i
                },
                o = $n(a, "Protection"),
                i = b.g.mss.keySystemsBySystemId,
                n = [],
                r = (o = Ze(o)).next(); !r.done; r = o.next())
                    n = n.concat($n(r.value, "ProtectionHeader"));
                if (n.length) {
                    for (o = [],
                    r = 0; r < n.length; r++) {
                        var s = n[r]
                          , u = s.attributes.SystemID.toLowerCase()
                          , l = i[u];
                        if (l) {
                            if (c = Bm(s))
                                e: {
                                    for (var c, d = (c = Ze(ti(c, "DATA"))).next(); !d.done; d = c.next())
                                        if (d = ni(d.value, "KID")) {
                                            c = Ut(Zn(d)),
                                            c = Ft(c = new Uint8Array([c[3], c[2], c[1], c[0], c[5], c[4], c[7], c[6]].concat(et(c.slice(8)))));
                                            break e
                                        }
                                    c = null
                                }
                            else
                                c = null;
                            u = Vt(l, "cenc", u = [{
                                initData: Jr(d = Ut(Zn(s)), u = jt(u.replace(/-/g, "")), new Set, 0),
                                initDataType: "cenc",
                                keyId: c
                            }]),
                            c && u.keyIds.add(c),
                            (l = Vm.get(l)) && (u.licenseServerUri = l(s)),
                            o.push(u)
                        }
                    }
                    i = o
                } else
                    i = [];
                for (r = i,
                o = [],
                i = [],
                n = [],
                s = (a = Ze(a = $n(a, "StreamIndex"))).next(); !s.done; s = a.next()) {
                    l = $n(s = s.value, "QualityLevel"),
                    u = t.timescale,
                    c = t.duration;
                    for (var d = $n(s, "c"), h = [], f = 0, p = 0; p < d.length; ++p) {
                        var g = d[p]
                          , m = d[p + 1]
                          , v = $(g, "t", hi)
                          , y = $(g, "d", hi)
                          , g = $(g, "r", ci);
                        if (!y)
                            break;
                        if (v = null != v ? v : f,
                        (g = g || 0) && g--,
                        g < 0)
                            if (m) {
                                if (null == (m = $(m, "t", hi)))
                                    break;
                                if (m <= v)
                                    break;
                                g = Math.ceil((m - v) / y) - 1
                            } else {
                                if (1 / 0 == c)
                                    break;
                                if (c <= v / u)
                                    break;
                                g = Math.ceil((c * u - v) / y) - 1
                            }
                        for (m = 0; m <= g; ++m)
                            h.push({
                                start: v / u,
                                end: (f = v + y) / u,
                                nh: v
                            }),
                            v = f
                    }
                    for (u = h,
                    c = (l = Ze(l)).next(); !c.done; c = l.next())
                        (c = function(t, n, e, i, a, r) {
                            var o = n.attributes.Type;
                            if ("audio" !== o && "video" !== o && "text" !== o)
                                return Q("Ignoring unrecognized type:", o),
                                null;
                            var s = n.attributes.Language
                              , u = t.u++
                              , l = $(e, "Bitrate", di)
                              , c = $(e, "MaxWidth", di)
                              , d = $(e, "MaxHeight", di)
                              , h = $(e, "Channels", di)
                              , f = $(e, "SamplingRate", di)
                              , p = r.duration
                              , g = (i.length && (p = i[i.length - 1].end - i[0].start),
                            t.i.getDuration())
                              , m = (t.i.vb(Math.min(p, g)),
                            {
                                id: u,
                                originalId: n.attributes.Name || String(u),
                                groupId: null,
                                createSegmentIndex: function() {
                                    return Promise.resolve()
                                },
                                closeSegmentIndex: function() {
                                    return Promise.resolve()
                                },
                                segmentIndex: null,
                                mimeType: "",
                                codecs: "",
                                frameRate: void 0,
                                pixelAspectRatio: void 0,
                                bandwidth: l || 0,
                                width: c || void 0,
                                height: d || void 0,
                                kind: "",
                                encrypted: 0 < a.length,
                                drmInfos: a,
                                keyIds: new Set,
                                language: en(s || "und"),
                                originalLanguage: s,
                                label: "",
                                type: "",
                                primary: !1,
                                trickModeVideo: null,
                                emsgSchemeIdUris: [],
                                roles: [],
                                forced: !1,
                                channelsCount: h,
                                audioSamplingRate: f,
                                spatialAudio: !1,
                                closedCaptions: null,
                                hdr: void 0,
                                colorGamut: void 0,
                                videoLayout: void 0,
                                tilesLayout: void 0,
                                matchedStreams: [],
                                mssPrivateData: {
                                    duration: p,
                                    timescale: r.timescale,
                                    codecPrivateData: null
                                },
                                accessibilityPurpose: null,
                                external: !1,
                                fastSwitching: !1,
                                fullMimeTypes: new Set,
                                isAudioMuxedInVideo: !1
                            });
                            (a = n.attributes.Subtype) && ((a = mv[a]) && m.roles.push(a),
                            "main" === a && (m.primary = !0));
                            null !== (a = e.attributes.FourCC) && "" !== a || (a = n.attributes.FourCC);
                            if (!a)
                                if ("audio" === o)
                                    a = "AAC";
                                else if ("video" === o)
                                    return Q('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),
                                    null;
                            if (!gv.includes(a.toUpperCase()))
                                return Q("Codec not supported:", a),
                                null;
                            switch (e = function(e, t, n, i) {
                                if (e = e.attributes.CodecPrivateData)
                                    return e;
                                if ("audio" !== t)
                                    return null;
                                t = i.channelsCount || 2,
                                e = i.audioSamplingRate || 44100;
                                var a = {
                                    96e3: 0,
                                    88200: 1,
                                    64e3: 2,
                                    48e3: 3,
                                    44100: 4,
                                    32e3: 5,
                                    24e3: 6,
                                    22050: 7,
                                    16e3: 8,
                                    12e3: 9,
                                    11025: 10,
                                    8e3: 11,
                                    7350: 12
                                };
                                return i = a[e],
                                "AACH" === n ? (n = new Uint8Array(4),
                                e = a[2 * e],
                                n[0] = 40 | i >> 1,
                                n[1] = i << 7 | t << 3 | e >> 1,
                                n[2] = e << 7 | 8,
                                n[3] = 0,
                                (t = new Uint16Array(2))[0] = (n[0] << 8) + n[1],
                                t[1] = (n[2] << 8) + n[3],
                                t[0].toString(16) + t[1].toString(16)) : ((n = new Uint8Array(2))[0] = 16 | i >> 1,
                                n[1] = i << 7 | t << 3,
                                (t = new Uint16Array(1))[0] = (n[0] << 8) + n[1],
                                t[0].toString(16))
                            }(e, o, a, m),
                            m.mssPrivateData.codecPrivateData = e,
                            o) {
                            case "audio":
                                if (!e)
                                    return Q("Quality unsupported without CodecPrivateData", o),
                                    null;
                                m.type = "audio",
                                m.mimeType = "mss/audio/mp4",
                                m.codecs = function(e, t) {
                                    var n = "AACH" === e ? 5 : 0;
                                    return t ? 0 === n && (n = (248 & parseInt(t.substr(0, 2), 16)) >> 3) : n = "AACH" === e ? 5 : 2,
                                    "mp4a.40." + n
                                }(a, e);
                                break;
                            case "video":
                                if (!e)
                                    return Q("Quality unsupported without CodecPrivateData", o),
                                    null;
                                m.type = "video",
                                m.mimeType = "mss/video/mp4",
                                m.codecs = function(e) {
                                    var t = /00000001[0-9]7/.exec(e);
                                    return t.length && e ? "avc1." + e.substr(e.indexOf(t[0]) + 10, 6) : ""
                                }(e);
                                break;
                            case "text":
                                m.type = it,
                                m.mimeType = "application/mp4",
                                "TTML" !== a && "DFXP" !== a || (m.codecs = "stpp")
                            }
                            return m.fullMimeTypes.add(ia(m.mimeType, m.codecs)),
                            m.createSegmentIndex = function() {
                                return m.segmentIndex || (t.m.has(m.id) ? e = t.m.get(m.id) : (e = [],
                                "video" == m.type && (e = m.mssPrivateData.codecPrivateData.split("00000001").slice(1)),
                                e = Km(new Hm([e = {
                                    id: m.id,
                                    type: m.type,
                                    codecs: m.codecs,
                                    encrypted: m.encrypted,
                                    timescale: m.mssPrivateData.timescale,
                                    duration: m.mssPrivateData.duration,
                                    xb: e,
                                    Ea: new Uint8Array([]),
                                    Sa: new Uint8Array([]),
                                    Xa: 0,
                                    $a: 0,
                                    data: null,
                                    stream: m
                                }])),
                                t.m.set(m.id, e)),
                                e = function(t, e, n, i, a) {
                                    var r = i.attributes.Url.replace("{bitrate}", String(n.bandwidth));
                                    i = [];
                                    for (var o = (a = Ze(a)).next(), s = {}; !o.done; s = {
                                        mf: void 0
                                    },
                                    o = a.next())
                                        s.mf = o.value,
                                        i.push(new at(s.mf.start,s.mf.end,function(e) {
                                            return function() {
                                                return Gt(t.l, [r.replace("{start time}", String(e.mf.nh))])
                                            }
                                        }(s),0,null,e,0,0,n.mssPrivateData.duration));
                                    return i
                                }(t, new Ro(function() {
                                    return []
                                }
                                ,0,null,Ou(m),m.mssPrivateData.timescale,e), m, n, i),
                                m.segmentIndex = new lu(e)),
                                Promise.resolve();
                                var e
                            }
                            ,
                            m.closeSegmentIndex = function() {
                                m.segmentIndex && (m.segmentIndex.release(),
                                m.segmentIndex = null)
                            }
                            ,
                            m
                        }(b, s, c.value, u, r, t)) && ("audio" != c.type || b.g.disableAudio ? "video" != c.type || b.g.disableVideo ? c.type != it || b.g.disableText || n.push(c) : i.push(c) : o.push(c))
                }
                for (a = [],
                r = (o = Ze(0 < o.length ? o : [null])).next(); !r.done; r = o.next())
                    for (r = r.value,
                    h = (s = Ze(0 < i.length ? i : [null])).next(); !h.done; h = s.next())
                        u = (l = a).push,
                        d = r,
                        h = h.value,
                        p = 0,
                        d && d.bandwidth && 0 < d.bandwidth && (p += d.bandwidth),
                        h && h.bandwidth && 0 < h.bandwidth && (p += h.bandwidth),
                        c = {
                            id: (c = b).u++,
                            language: d ? d.language : "und",
                            disabledUntilTime: 0,
                            primary: !!d && d.primary || !!h && h.primary,
                            audio: d,
                            video: h,
                            bandwidth: p,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: []
                        },
                        u.call(l, c);
                t.variants = a,
                t.textStreams = n,
                b.j ? (b.j.variants = t.variants,
                b.j.textStreams = t.textStreams,
                b.h.filter(b.j)) : (b.j = {
                    presentationTimeline: b.i,
                    variants: t.variants,
                    textStreams: t.textStreams,
                    imageStreams: [],
                    offlineSessionIds: [],
                    minBufferTime: 0,
                    sequenceMode: b.g.mss.sequenceMode,
                    ignoreManifestTimestampsInSegmentsMode: !1,
                    type: "MSS",
                    serviceDescription: null,
                    nextUrl: null,
                    periodCount: 1,
                    gapCount: 0,
                    isLowLatency: !1,
                    startTime: null
                },
                b.i.Re()),
                Promise.resolve(),
                S = Date.now(),
                E = (S - T) / 1e3,
                b.G.sample(1, E),
                Ye(e)
            })
        }
        (t = fv.prototype).configure = function(e, t) {
            this.g = e,
            t && (this.B = t)
        }
        ,
        t.start = function(t, n) {
            var i = this;
            return $e(function(e) {
                if (1 == e.g)
                    return i.l = [t],
                    i.h = n,
                    We(e, pv(i), 2);
                if (i.h)
                    return e.return(i.j);
                throw new nt(2,7,7001)
            })
        }
        ,
        t.stop = function() {
            return this.g = this.h = null,
            this.l = [],
            (this.j = null) != this.s && (this.s.stop(),
            this.s = null),
            this.m.clear(),
            this.C.destroy()
        }
        ,
        t.update = function() {
            var t, n = this;
            return $e(function(e) {
                return 1 == e.g ? (qe(e, 2),
                We(e, pv(n), 4)) : 2 != e.g ? Je(e, 0) : (t = Qe(e),
                n.h && t ? (n.h.onError(t),
                void Ye(e)) : e.return())
            })
        }
        ,
        t.onExpirationUpdated = function() {}
        ,
        t.onInitialVariantChosen = function() {}
        ,
        t.banLocation = function() {}
        ,
        t.setMediaElement = function() {}
        ,
        i("shaka.mss.MssParser", fv);
        var gv = "AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" ")
          , mv = {
            CAPT: "main",
            SUBT: "alternate",
            DESC: "main"
        };
        function vv(e, t, n, i, a, r) {
            if (200 <= n && n <= 299 && 202 != n)
                return {
                    uri: a || i,
                    originalUri: i,
                    data: t,
                    status: n,
                    headers: e,
                    fromCache: !!e["x-shaka-from-cache"]
                };
            var o = null;
            try {
                o = Ct(t)
            } catch (e) {}
            throw new nt(401 == n || 403 == n ? 2 : 1,1,1001,i,n,o,e,r,a || i)
        }
        function yv() {}
        function bv(e, t, n, i, a, r) {
            var o, s, u, l, c, d, h, f, p, g, m, v, y, b, T, w, S, E, A, x = new xv, I = (Nr(t.headers).forEach(function(e, t) {
                x.append(t, e)
            }),
            new Ev), k = {
                xh: !1,
                Ji: !1
            };
            return o = e,
            s = n,
            u = {
                body: t.body || void 0,
                headers: x,
                method: t.method,
                signal: I.signal,
                credentials: t.allowCrossSiteCredentials ? "include" : void 0
            },
            l = k,
            c = i,
            d = a,
            h = t.streamDataCallback,
            f = r.minBytesForProgressEvents || 0,
            e = new pr(e = $e(function(e) {
                switch (e.g) {
                case 1:
                    return w = Sv,
                    p = Av,
                    y = v = 0,
                    b = Date.now(),
                    qe(e, 2),
                    We(e, w(o, u), 4);
                case 4:
                    if (g = e.h,
                    d(Tv(g.headers)),
                    "HEAD" != u.method)
                        return T = g.clone().body.getReader(),
                        S = (w = g.headers.get("Content-Length")) ? parseInt(w, 10) : 0,
                        new p({
                            start: function(o) {
                                !function t() {
                                    var n, i, a, r;
                                    $e(function(e) {
                                        switch (e.g) {
                                        case 1:
                                            return qe(e, 2),
                                            We(e, T.read(), 4);
                                        case 4:
                                            n = e.h,
                                            Je(e, 3);
                                            break;
                                        case 2:
                                            return Qe(e),
                                            e.return();
                                        case 3:
                                            if (n.done) {
                                                e.A(5);
                                                break
                                            }
                                            if (v += n.value.byteLength,
                                            h)
                                                return We(e, h(n.value), 5);
                                            e.A(5);
                                            break;
                                        case 5:
                                            i = Date.now(),
                                            a = v - y,
                                            (100 < i - b && f <= a || n.done) && (r = n.done ? 0 : S - v,
                                            c(i - b, a, r),
                                            y = v,
                                            b = i),
                                            n.done ? o.close() : (o.enqueue(n.value),
                                            t()),
                                            Ye(e)
                                        }
                                    })
                                }()
                            }
                        }),
                        We(e, g.arrayBuffer(), 6);
                    e.A(5);
                    break;
                case 6:
                    m = e.h;
                case 5:
                    Je(e, 3);
                    break;
                case 2:
                    if (E = Qe(e),
                    l.xh)
                        throw new nt(1,1,7001,o,s);
                    if (l.Ji)
                        throw new nt(1,1,1003,o,s);
                    throw new nt(1,1,1002,o,E,s);
                case 3:
                    return E = Tv(g.headers),
                    e.return(vv(E, m, g.status, o, g.url, s))
                }
            }),function() {
                return k.xh = !0,
                I.abort(),
                Promise.resolve()
            }
            ),
            (t = t.retryParameters.timeout) && ((A = new C(function() {
                k.Ji = !0,
                I.abort()
            }
            )).Y(t / 1e3),
            e.finally(function() {
                A.stop()
            })),
            e
        }
        function Tv(e) {
            var n = {};
            return e.forEach(function(e, t) {
                n[t.trim()] = e
            }),
            n
        }
        function wv() {
            if (!U.ReadableStream)
                return !1;
            try {
                new ReadableStream({})
            } catch (e) {
                return !1
            }
            return !!U.Response && (!!new Response("").body && !(!U.fetch || "polyfill"in U.fetch || !U.AbortController))
        }
        ko["application/vnd.ms-sstr+xml"] = function() {
            return new fv
        }
        ,
        i("shaka.net.HttpFetchPlugin", yv),
        yv.isSupported = wv,
        yv.parse = bv;
        var Sv = U.fetch
          , Ev = U.AbortController
          , Av = U.ReadableStream
          , xv = U.Headers;
        function Iv() {}
        function kv(o, n, s, u, i, l) {
            var c = new Mv
              , d = Date.now()
              , h = 0;
            return new pr(new Promise(function(a, r) {
                c.open(n.method, o, !0),
                c.responseType = "arraybuffer",
                c.timeout = n.retryParameters.timeout,
                c.withCredentials = n.allowCrossSiteCredentials;
                var e, t = !(c.onabort = function() {
                    r(new nt(1,1,7001,o,s))
                }
                );
                for (e in c.onreadystatechange = function() {
                    var e;
                    2 != c.readyState || t || (e = Cv(c),
                    i(e),
                    t = !0)
                }
                ,
                c.onload = function(e) {
                    var t = Cv(c)
                      , n = c.response;
                    try {
                        u(Date.now() - d, e.loaded - h, 0);
                        var i = vv(t, n, c.status, o, c.responseURL, s);
                        a(i)
                    } catch (e) {
                        r(e)
                    }
                }
                ,
                c.onerror = function(e) {
                    r(new nt(1,1,1002,o,e,s))
                }
                ,
                c.ontimeout = function() {
                    r(new nt(1,1,1003,o,s))
                }
                ,
                c.onprogress = function(e) {
                    var t = Date.now()
                      , n = l.minBytesForProgressEvents || 0
                      , i = e.loaded - h;
                    (100 < t - d && n <= i || e.lengthComputable && e.loaded == e.total) && (u(t - d, i, 4 == c.readyState ? 0 : e.total - e.loaded),
                    h = e.loaded,
                    d = t)
                }
                ,
                n.headers)
                    c.setRequestHeader(e.toLowerCase(), n.headers[e]);
                c.send(n.body)
            }
            ),function() {
                return c.abort(),
                Promise.resolve()
            }
            )
        }
        function Cv(e) {
            var t = e.getAllResponseHeaders().trim().split("\r\n");
            e = {};
            for (var n = (t = Ze(t)).next(); !n.done; n = t.next())
                e[(n = n.value.split(": "))[0].toLowerCase()] = n.slice(1).join(": ");
            return e
        }
        wv() && (Er("http", bv, 2, !0),
        Er("https", bv, 2, !0),
        Er("blob", bv, 2, !0)),
        i("shaka.net.HttpXHRPlugin", Iv);
        var Mv = U.XMLHttpRequest;
        function Lv(e, t, n, i) {
            this.g = e,
            this.i = t,
            this.groupId = n,
            this.h = i
        }
        function Rv(e) {
            return e.R().map(function(e) {
                return "{" + encodeURI(e.split("#xywh=")[0]) + "}"
            }).join("") + ":" + e.eb + ":" + e.La
        }
        function Pv() {
            this.h = this.j = this.i = 0,
            this.g = new Map,
            this.l = 0
        }
        function Dv(e, t) {
            e.i += t;
            var n = e.l;
            return e.l++,
            e.g.set(n, t),
            n
        }
        function Nv(e) {
            var t = this;
            this.s = e,
            this.j = new Map,
            this.i = new Pr(function() {
                return _v(t).catch(function() {})
            }
            ),
            this.h = [],
            this.m = function() {}
            ,
            this.l = function() {}
            ,
            this.g = new Pv
        }
        function _v(e) {
            var t = e.h.map(function(e) {
                return e()
            });
            return e.h = [],
            Promise.all(t)
        }
        function Ov(f, e, p, g, m, v) {
            Dr(f.i);
            var t = (f.j.get(e) || Promise.resolve()).then(function() {
                var s, u, l, c, d, h;
                return $e(function(e) {
                    if (1 == e.g)
                        return We(e, (t = f,
                        n = p,
                        $e(function(e) {
                            return 1 == e.g ? (i = t.s.request(Mr, n),
                            a = function() {
                                return i.abort()
                            }
                            ,
                            t.h.push(a),
                            We(e, i.promise, 2)) : (r = e.h,
                            _n(t.h, a),
                            e.return(r.data))
                        })), 2);
                    var t, n, i, a, r;
                    if (s = e.h,
                    f.i.g)
                        throw new nt(2,9,7001);
                    if (m)
                        for (c in u = tt(s),
                        (l = new qr(u)).data)
                            h = Number(c),
                            d = l.data[h],
                            h = l.g[h],
                            f.l(d, h);
                    f.g.close(g, s.byteLength);
                    var o = f.g;
                    return f.m(0 == o.i ? 0 : o.j / o.i, f.g.h),
                    e.return(v(s))
                })
            });
            f.j.set(e, t)
        }
        function Uv(e, t) {
            var n = this;
            this.i = e,
            this.h = e.objectStore(t),
            this.g = new fr,
            e.onabort = function(e) {
                e.preventDefault(),
                n.g.reject()
            }
            ,
            e.onerror = function(e) {
                e.preventDefault(),
                n.g.reject()
            }
            ,
            e.oncomplete = function() {
                n.g.resolve()
            }
        }
        function jv(t, a) {
            return new Promise(function(n, e) {
                var i = t.h.openCursor();
                i.onerror = e,
                i.onsuccess = function() {
                    var t;
                    return $e(function(e) {
                        if (1 == e.g)
                            return null == i.result ? (n(),
                            e.return()) : (t = i.result,
                            We(e, a(t.key, t.value, t), 2));
                        t.continue(),
                        Ye(e)
                    })
                }
            }
            )
        }
        function Fv(e) {
            this.h = e,
            this.g = []
        }
        function Bv(e, t) {
            return Gv(e, t, "readwrite")
        }
        function Gv(e, t, n) {
            var i = new Uv(n = e.h.transaction([t], n),t);
            return e.g.push(i),
            i.promise().then(function() {
                _n(e.g, i)
            }, function() {
                _n(e.g, i)
            }),
            i
        }
        function Vv(e, t, n) {
            this.h = new Fv(e),
            this.i = t,
            this.g = n
        }
        function Hv(e) {
            return Promise.reject(new nt(2,9,9011,"Cannot add new value to " + e))
        }
        function Kv(e, t, n, i) {
            t = (e = Bv(e.h, t)).store();
            for (var a = (n = Ze(n)).next(), r = {}; !a.done; r = {
                Bg: void 0
            },
            a = n.next())
                r.Bg = a.value,
                t.delete(r.Bg).onsuccess = function(e) {
                    return function() {
                        return i(e.Bg)
                    }
                }(r);
            return e.promise()
        }
        function zv(t, n, i) {
            var a, r, o, s, u, l, c;
            return $e(function(e) {
                if (1 == e.g) {
                    for (a = Gv(t.h, n, "readonly"),
                    r = a.store(),
                    o = {},
                    s = [],
                    u = Ze(i),
                    l = u.next(),
                    c = {}; !l.done; c = {
                        cf: void 0,
                        Pe: void 0
                    },
                    l = u.next())
                        c.Pe = l.value,
                        c.cf = r.get(c.Pe),
                        c.cf.onsuccess = function(e) {
                            return function() {
                                null == e.cf.result && s.push(e.Pe),
                                o[e.Pe] = e.cf.result
                            }
                        }(c);
                    return We(e, a.promise(), 2)
                }
                if (s.length)
                    throw new nt(2,9,9012,"Could not find values for " + s);
                return e.return(i.map(function(e) {
                    return o[e]
                }))
            })
        }
        function Xv(e) {
            this.g = new Fv(e)
        }
        function Wv() {
            this.g = new Map
        }
        function Yv(e) {
            var i = null;
            if (e.g.forEach(function(e, n) {
                e.getCells().forEach(function(e, t) {
                    e.hasFixedKeySpace() || i || (i = {
                        path: {
                            Ob: n,
                            fb: t
                        },
                        fb: e
                    })
                })
            }),
            i)
                return i;
            throw new nt(2,9,9013,"Could not find a cell that supports add-operations")
        }
        function qv(e, t, n) {
            if (!(e = e.g.get(t)))
                throw new nt(2,9,9013,"Could not find mechanism with name " + t);
            if (t = e.getCells().get(n))
                return t;
            throw new nt(2,9,9013,"Could not find cell with name " + n)
        }
        function Jv(e, t) {
            Qv.set(e, t)
        }
        Er("http", Iv.parse = kv, 1, !0),
        Er("https", kv, 1, !0),
        Er("blob", kv, 1, !0),
        Pv.prototype.close = function(e, t) {
            var n;
            this.g.has(e) && (n = this.g.get(e),
            this.g.delete(e),
            this.j += n,
            this.h += t)
        }
        ,
        Nv.prototype.destroy = function() {
            return this.i.destroy()
        }
        ,
        Uv.prototype.abort = function() {
            var t = this;
            return $e(function(e) {
                if (1 == e.g) {
                    try {
                        t.i.abort()
                    } catch (e) {}
                    return qe(e, 2),
                    We(e, t.g, 4)
                }
                if (2 != e.g)
                    return Je(e, 0);
                Qe(e),
                Ye(e)
            })
        }
        ,
        Uv.prototype.store = function() {
            return this.h
        }
        ,
        Uv.prototype.promise = function() {
            return this.g
        }
        ,
        Fv.prototype.destroy = function() {
            return Promise.all(this.g.map(function(e) {
                return e.abort()
            }))
        }
        ,
        (t = Vv.prototype).destroy = function() {
            return this.h.destroy()
        }
        ,
        t.hasFixedKeySpace = function() {
            return !0
        }
        ,
        t.addSegments = function() {
            return Hv(this.i)
        }
        ,
        t.removeSegments = function(e, t) {
            return Kv(this, this.i, e, t)
        }
        ,
        t.getSegments = function(t) {
            var n, i = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, zv(i, i.i, t), 2) : (n = e.h,
                e.return(n.map(function(e) {
                    return i.Dh(e)
                })))
            })
        }
        ,
        t.addManifests = function() {
            return Hv(this.g)
        }
        ,
        t.updateManifest = function() {
            return Promise.reject(new nt(2,9,9016,"Cannot modify values in " + this.g))
        }
        ,
        t.updateManifestExpiration = function(t, n) {
            var e = Bv(this.h, this.g)
              , i = e.store();
            return i.get(t).onsuccess = function(e) {
                (e = e.target.result) && (e.expiration = n,
                i.put(e, t))
            }
            ,
            e.promise()
        }
        ,
        t.removeManifests = function(e, t) {
            return Kv(this, this.g, e, t)
        }
        ,
        t.getManifests = function(t) {
            var n, i = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, zv(i, i.g, t), 2) : (n = e.h,
                e.return(Promise.all(n.map(function(e) {
                    return i.Id(e)
                }))))
            })
        }
        ,
        t.getAllManifests = function() {
            var t, a, r = this;
            return $e(function(e) {
                return 1 == e.g ? (t = Gv(r.h, r.g, "readonly"),
                a = new Map,
                We(e, jv(t, function(t, n) {
                    var i;
                    return $e(function(e) {
                        if (1 == e.g)
                            return We(e, r.Id(n), 2);
                        i = e.h,
                        a.set(t, i),
                        Ye(e)
                    })
                }), 2)) : 3 != e.g ? We(e, t.promise(), 3) : e.return(a)
            })
        }
        ,
        t.Dh = function(e) {
            return e
        }
        ,
        t.Id = function(e) {
            return Promise.resolve(e)
        }
        ,
        t.add = function(t, n) {
            var i, a, r, o, s, u, l, c = this;
            return $e(function(e) {
                if (1 != e.g)
                    return e.return(r);
                for (i = Bv(c.h, t),
                a = i.store(),
                r = [],
                o = Ze(n),
                s = o.next(),
                u = {}; !s.done; u = {
                    Qg: void 0
                },
                s = o.next())
                    l = s.value,
                    u.Qg = a.add(l),
                    u.Qg.onsuccess = function(e) {
                        return function() {
                            r.push(e.Qg.result)
                        }
                    }(u);
                return We(e, i.promise(), 2)
            })
        }
        ,
        Xv.prototype.destroy = function() {
            return this.g.destroy()
        }
        ,
        Xv.prototype.getAll = function() {
            var t, n, i = this;
            return $e(function(e) {
                return 1 == e.g ? (t = Gv(i.g, "session-ids", "readonly"),
                n = [],
                We(e, jv(t, function(e, t) {
                    n.push(t)
                }), 2)) : 3 != e.g ? We(e, t.promise(), 3) : e.return(n)
            })
        }
        ,
        Xv.prototype.add = function(e) {
            for (var t = Bv(this.g, "session-ids"), n = t.store(), i = (e = Ze(e)).next(); !i.done; i = e.next())
                n.add(i.value);
            return t.promise()
        }
        ,
        Xv.prototype.remove = function(i) {
            var t, n = this;
            return $e(function(e) {
                return 1 == e.g ? We(e, jv(t = Bv(n.g, "session-ids"), function(e, t, n) {
                    i.includes(t.sessionId) && n.delete()
                }), 2) : We(e, t.promise(), 0)
            })
        }
        ,
        Wv.prototype.destroy = function() {
            for (var e = [], t = Ze(this.g.values()), n = t.next(); !n.done; n = t.next())
                e.push(n.value.destroy());
            return this.g.clear(),
            Promise.all(e)
        }
        ,
        Wv.prototype.init = function() {
            var n = this;
            Qv.forEach(function(e, t) {
                (e = e()) && n.g.set(t, e)
            });
            for (var e = [], t = Ze(this.g.values()), i = t.next(); !i.done; i = t.next())
                e.push(i.value.init());
            return Promise.all(e)
        }
        ,
        i("shaka.offline.StorageMuxer", Wv),
        Wv.unregister = function(e) {
            Qv.delete(e)
        }
        ,
        Wv.register = Jv;
        var Qv = new Map;
        function $v() {
            Vv.apply(this, arguments)
        }
        function Zv(e) {
            var t;
            if ((t = /^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e)) || (t = /^offline:segment\/([0-9]+)$/.exec(e)))
                return Number(t[1]);
            throw new nt(2,9,9004,"Could not parse uri " + e)
        }
        function e0() {
            Vv.apply(this, arguments)
        }
        function t0() {
            Vv.apply(this, arguments)
        }
        function n0() {
            this.m = this.j = this.i = this.h = this.g = this.l = null
        }
        function i0(e, t, n, i) {
            this.g = e,
            this.i = t,
            this.h = n,
            this.l = i,
            this.j = ["offline:", e, "/", t, "/", n, "/", i].join("")
        }
        function a0(e) {
            if (null == (e = /^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))
                return null;
            var t = e[1];
            if ("manifest" != t && "segment" != t)
                return null;
            var n = e[2];
            if (!n)
                return null;
            var i = e[3];
            return i && null != t ? new i0(t,n,i,Number(e[4])) : null
        }
        function r0(e, t) {
            this.h = e,
            this.g = t
        }
        function o0(t, e) {
            var n = new lt(null,0)
              , i = (n.vb(e.duration),
            e.streams.filter(function(e) {
                return "audio" == e.type
            }))
              , a = e.streams.filter(function(e) {
                return "video" == e.type
            })
              , i = function(e, t, n, i) {
                for (var a = new Set, r = Ze(t), o = r.next(); !o.done; o = r.next())
                    for (var s = (o = Ze(o.value.variantIds)).next(); !s.done; s = o.next())
                        a.add(s.value);
                for (r = Ze(n),
                o = r.next(); !o.done; o = r.next())
                    for (o = Ze(o.value.variantIds),
                    s = o.next(); !s.done; s = o.next())
                        a.add(s.value);
                for (r = new Map,
                a = Ze(a),
                o = a.next(); !o.done; o = a.next())
                    o = o.value,
                    r.set(o, {
                        id: o,
                        language: "",
                        disabledUntilTime: 0,
                        primary: !1,
                        audio: null,
                        video: null,
                        bandwidth: 0,
                        allowedByApplication: !0,
                        allowedByKeySystem: !0,
                        decodingInfos: []
                    });
                for (t = Ze(t),
                a = t.next(); !a.done; a = t.next())
                    for (o = a.value,
                    a = s0(e, o, i),
                    o = Ze(o.variantIds),
                    s = o.next(); !s.done; s = o.next())
                        (s = r.get(s.value)).language = a.language,
                        s.primary = s.primary || a.primary,
                        s.audio = a;
                for (n = Ze(n),
                t = n.next(); !t.done; t = n.next())
                    for (a = t.value,
                    t = s0(e, a, i),
                    a = Ze(a.variantIds),
                    o = a.next(); !o.done; o = a.next())
                        (o = r.get(o.value)).primary = o.primary || t.primary,
                        o.video = t;
                return r
            }(t, i, a, n)
              , a = e.streams.filter(function(e) {
                return e.type == it
            }).map(function(e) {
                return s0(t, e, n)
            })
              , r = e.streams.filter(function(e) {
                return "image" == e.type
            }).map(function(e) {
                return s0(t, e, n)
            })
              , o = e.drmInfo ? [e.drmInfo] : [];
            if (e.drmInfo)
                for (var s = Ze(i.values()), u = s.next(); !u.done; u = s.next())
                    (u = u.value).audio && u.audio.encrypted && (u.audio.drmInfos = o),
                    u.video && u.video.encrypted && (u.video.drmInfos = o);
            return {
                presentationTimeline: n,
                minBufferTime: 2,
                offlineSessionIds: e.sessionIds,
                variants: Array.from(i.values()),
                textStreams: a,
                imageStreams: r,
                sequenceMode: e.sequenceMode || !1,
                ignoreManifestTimestampsInSegmentsMode: !1,
                type: e.type || "UNKNOWN",
                serviceDescription: null,
                nextUrl: null,
                periodCount: 1,
                gapCount: 0,
                isLowLatency: !1,
                startTime: null
            }
        }
        function s0(a, r, e) {
            var t = r.segments.map(function(e) {
                return e = e,
                n = r,
                i = new i0("segment",(t = a).h,t.g,e.dataKey),
                (t = new at(e.startTime,e.endTime,function() {
                    return [i.toString()]
                }
                ,0,null,null != e.initSegmentKey ? function(e, t) {
                    var n = new i0("segment",e.h,e.g,t);
                    return new Ro(function() {
                        return [n.toString()]
                    }
                    ,0,null)
                }(t, e.initSegmentKey) : null,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,[],e.tilesLayout || "")).mimeType = e.mimeType || n.mimeType || "",
                t.codecs = e.codecs || n.codecs || "",
                e.thumbnailSprite && t.lf(e.thumbnailSprite),
                t;
                var t, n, i
            });
            return e.Xd(t),
            {
                id: r.id,
                originalId: r.originalId,
                groupId: r.groupId,
                createSegmentIndex: function() {
                    return Promise.resolve()
                },
                segmentIndex: new lu(t),
                mimeType: r.mimeType,
                codecs: r.codecs,
                width: r.width || void 0,
                height: r.height || void 0,
                frameRate: r.frameRate,
                pixelAspectRatio: r.pixelAspectRatio,
                hdr: r.hdr,
                colorGamut: r.colorGamut,
                videoLayout: r.videoLayout,
                kind: r.kind,
                encrypted: r.encrypted,
                drmInfos: [],
                keyIds: r.keyIds,
                language: r.language,
                originalLanguage: r.originalLanguage || null,
                label: r.label,
                type: r.type,
                primary: r.primary,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                roles: r.roles,
                forced: r.forced,
                channelsCount: r.channelsCount,
                audioSamplingRate: r.audioSamplingRate,
                spatialAudio: r.spatialAudio,
                closedCaptions: r.closedCaptions,
                tilesLayout: r.tilesLayout,
                accessibilityPurpose: null,
                external: r.external,
                fastSwitching: r.fastSwitching,
                fullMimeTypes: new Set([ia(r.mimeType, r.codecs)]),
                isAudioMuxedInVideo: !1
            }
        }
        function u0() {
            this.g = null
        }
        function l0() {}
        function c0(e) {
            var t, n, i = a0(e);
            return e = i && "manifest" == i.g ? vr(e = {
                uri: e,
                originalUri: e,
                data: new ArrayBuffer(0),
                headers: {
                    "content-type": "application/x-offline-manifest"
                }
            }) : i && "segment" == i.g ? (i.key(),
            t = i,
            n = new Wv,
            vr(void 0).Va(function() {
                return n.init()
            }).Va(function() {
                return qv(n, t.Ob(), t.fb())
            }).Va(function(e) {
                return e.getSegments([t.key()])
            }).Va(function(e) {
                return {
                    uri: t,
                    data: e[0].data,
                    headers: {}
                }
            }).finally(function() {
                return n.destroy()
            })) : gr(new nt(2,1,9004,e))
        }
        function d0(g, m, v) {
            var y, b, T, w;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    y = [];
                    for (var t = [], n = Ze(v), i = n.next(); !i.done; i = n.next()) {
                        for (var i = i.value, a = !1, r = Ze(t), o = r.next(); !o.done; o = r.next())
                            if (o = o.value,
                            s = o.info,
                            f = i,
                            p = function(e, t) {
                                return e.robustness == t.robustness && e.contentType == t.contentType
                            }
                            ,
                            s.keySystem == f.keySystem && s.licenseUri == f.licenseUri && On(s.audioCapabilities, f.audioCapabilities, p) && On(s.videoCapabilities, f.videoCapabilities, p)) {
                                o.sessionIds.push(i.sessionId),
                                a = !0;
                                break
                            }
                        a || t.push({
                            info: i,
                            sessionIds: [i.sessionId]
                        })
                    }
                    b = Ze(t),
                    T = b.next();
                case 2:
                    if (T.done) {
                        e.A(4);
                        break
                    }
                    return w = T.value,
                    u = g,
                    l = m,
                    c = w,
                    w = $e(function(e) {
                        switch (e.g) {
                        case 1:
                            return d = new Qr({
                                jc: l,
                                onError: function() {},
                                Ye: function() {},
                                onExpirationUpdated: function() {},
                                onEvent: function() {}
                            }),
                            qe(e, 2),
                            d.configure(u),
                            We(e, (t = d,
                            n = c.info.keySystem,
                            i = c.info.licenseUri,
                            a = c.info.serverCertificate,
                            r = c.info.audioCapabilities,
                            o = c.info.videoCapabilities,
                            s = new Map,
                            (r = {
                                audioCapabilities: r,
                                videoCapabilities: o,
                                distinctiveIdentifier: "optional",
                                persistentState: "required",
                                sessionTypes: ["persistent-license"],
                                label: n
                            }).drmInfos = [{
                                keySystem: n,
                                licenseServerUri: i,
                                distinctiveIdentifierRequired: !1,
                                persistentStateRequired: !0,
                                audioRobustness: "",
                                videoRobustness: "",
                                serverCertificate: a,
                                serverCertificateUri: "",
                                initData: null,
                                keyIds: null
                            }],
                            s.set(n, r),
                            ao(t, s, [])), 4);
                        case 4:
                            Je(e, 3);
                            break;
                        case 2:
                            return Qe(e),
                            We(e, d.destroy(), 5);
                        case 5:
                            return e.return([]);
                        case 3:
                            return h = [],
                            We(e, Promise.all(c.sessionIds.map(function(o) {
                                return $e(function(e) {
                                    return 1 == e.g ? (qe(e, 2),
                                    We(e, (t = d,
                                    n = o,
                                    $e(function(e) {
                                        return 1 == e.g ? We(e, so(t, n, {
                                            initData: null,
                                            initDataType: null
                                        }), 2) : 3 != e.g ? (i = e.h) ? (a = [],
                                        (r = t.i.get(i)) && (r.Db = new fr,
                                        a.push(r.Db)),
                                        a.push(i.remove()),
                                        We(e, Promise.all(a), 3)) : e.return() : (t.i.delete(i),
                                        void Ye(e))
                                    })), 4)) : 2 != e.g ? (h.push(o),
                                    Je(e, 0)) : (Qe(e),
                                    void Ye(e));
                                    var t, n, i, a, r
                                })
                            })), 6);
                        case 6:
                            return We(e, d.destroy(), 7);
                        case 7:
                            return e.return(h)
                        }
                        var t, n, i, a, r, o, s
                    }),
                    We(e, w, 5);
                case 5:
                    w = e.h,
                    y = y.concat(w),
                    T = b.next(),
                    e.A(2);
                    break;
                case 4:
                    return e.return(y)
                }
                var u, l, c, d, h, s, f, p
            })
        }
        function h0(e, t) {
            var n = o0(new r0(e.Ob(),e.fb()), t)
              , i = t.appMetadata || {}
              , n = f0(n);
            return {
                offlineUri: e.toString(),
                originalManifestUri: t.originalManifestUri,
                duration: t.duration,
                size: t.size,
                expiration: t.expiration,
                tracks: n,
                appMetadata: i,
                isIncomplete: t.isIncomplete || !1
            }
        }
        function f0(e) {
            for (var t = [], n = Va(e.variants), i = (n = Ze(n)).next(); !i.done; i = n.next())
                t.push(Na(i.value));
            for (n = (e = Ze(e.textStreams)).next(); !n.done; n = e.next())
                t.push(_a(n.value));
            return t
        }
        function p0() {
            this.g = {}
        }
        function g0(e, t) {
            return e = null == (e = e.g[t]) ? 0 : e
        }
        function m0(e) {
            var o = this;
            if (e && e.constructor != g)
                throw new nt(2,9,9008);
            this.g = this.h = null,
            e ? (this.h = e.g,
            this.g = e.Hb()) : (this.h = bl(),
            this.g = new Sr),
            this.i = [],
            this.j = [];
            var s = !e;
            this.l = new Pr(function() {
                var t, n, i, a, r;
                return $e(function(e) {
                    switch (e.g) {
                    case 1:
                        return We(e, Promise.all(o.j.map(_v)), 2);
                    case 2:
                        for (t = function() {}
                        ,
                        n = [],
                        i = Ze(o.i),
                        a = i.next(); !a.done; a = i.next())
                            r = a.value,
                            n.push(r.then(t, t));
                        return We(e, Promise.all(n), 3);
                    case 3:
                        if (s)
                            return We(e, o.g.destroy(), 4);
                        e.A(4);
                        break;
                    case 4:
                        o.h = null,
                        o.g = null,
                        Ye(e)
                    }
                })
            }
            ),
            this.m = 1e9
        }
        function v0() {
            if (Pe())
                e: {
                    for (var e = Ze(Qv.values()), t = e.next(); !t.done; t = e.next())
                        if (t = (t = t.value)()) {
                            t.destroy(),
                            e = !0;
                            break e
                        }
                    e = !1
                }
            else
                e = !1;
            return e
        }
        function y0(t) {
            var n, i;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return We(e, (n = new Wv).init(), 2);
                case 2:
                    return We(e, Yv(n), 3);
                case 3:
                    return i = e.h,
                    i = new i0("manifest",i.path.Ob,i.path.fb,t),
                    We(e, n.destroy(), 4);
                case 4:
                    return We(e, (new m0).remove(i.toString()), 0)
                }
            })
        }
        function b0(t, n, i, a, r, o) {
            var s, u, l, c, d, h, f, p, g, m, v;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    for (s = !1,
                    qe(e, 2),
                    u = !0,
                    l = Ze(i.streams),
                    c = l.next(); !c.done; c = l.next())
                        for (d = c.value,
                        h = Ze(d.segments),
                        f = h.next(); !f.done; f = h.next())
                            p = f.value,
                            null != (g = p.pendingSegmentRefId ? a[p.pendingSegmentRefId] : null) && (p.dataKey = g,
                            p.pendingSegmentRefId = void 0),
                            null != (g = p.pendingInitSegmentRefId ? a[p.pendingInitSegmentRefId] : null) && (p.initSegmentKey = g,
                            p.pendingInitSegmentRefId = void 0),
                            p.pendingSegmentRefId && (u = !1),
                            p.pendingInitSegmentRefId && (u = !1);
                    return i.size += r,
                    u && (i.isIncomplete = !1),
                    We(e, t.updateManifest(n, i), 4);
                case 4:
                    s = !0,
                    o(),
                    Je(e, 0);
                    break;
                case 2:
                    return m = Qe(e),
                    We(e, y0(n), 5);
                case 5:
                    if (s) {
                        e.A(6);
                        break
                    }
                    return v = Object.values(a),
                    We(e, t.removeSegments(v, function() {}), 6);
                case 6:
                    throw m
                }
            })
        }
        function T0(e) {
            return e.variants.some(function(e) {
                var t = e.audio && e.audio.encrypted;
                return e.video && e.video.encrypted || t
            })
        }
        function w0(e) {
            return e.variants.some(function(e) {
                return (e.video ? e.video.drmInfos : []).concat(e.audio ? e.audio.drmInfos : []).some(function(e) {
                    return e.initData && e.initData.length
                })
            })
        }
        function S0(e, t, n, i) {
            if (t.expiration = n.Md(),
            n = io(n),
            t.sessionIds = i.offline.usePersistentLicense ? n : [],
            T0(e) && i.offline.usePersistentLicense && !n.length)
                throw new nt(2,9,9007)
        }
        function E0(e, t) {
            for (var n = [], i = Ze(e.streams), a = i.next(); !a.done; a = i.next())
                a = a.value,
                t && "video" == a.type ? n.push({
                    contentType: ia(a.mimeType, a.codecs),
                    robustness: e.drmInfo.videoRobustness
                }) : t || "audio" != a.type || n.push({
                    contentType: ia(a.mimeType, a.codecs),
                    robustness: e.drmInfo.audioRobustness
                });
            return n
        }
        function A0(t, n) {
            var i;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return qe(e, 2),
                    We(e, Nl(n, t.g, t.h.streaming.retryParameters), 4);
                case 4:
                    i = e.h,
                    Je(e, 3);
                    break;
                case 2:
                    Qe(e);
                case 3:
                    if (i)
                        return e.return(i);
                    throw new nt(1,2,2011,n)
                }
            })
        }
        function x0(e) {
            if (e.l.g)
                throw new nt(2,9,7001)
        }
        function I0() {
            if (!v0())
                throw new nt(2,9,9e3)
        }
        function k0(t, n) {
            return $e(function(e) {
                return 1 == e.g ? (t.i.push(n),
                A(e, 2),
                We(e, n, 4)) : 2 != e.g ? e.return(e.h) : (dt(e),
                _n(t.i, n),
                ht(e, 0))
            })
        }
        function C0(e) {
            for (var t = new Set, n = Ze(e.variants), i = n.next(); !i.done; i = n.next())
                (i = i.value).audio && t.add(i.audio),
                i.video && t.add(i.video);
            for (i = (n = Ze(e.textStreams)).next(); !i.done; i = n.next())
                t.add(i.value);
            for (n = (e = Ze(e.imageStreams)).next(); !n.done; n = e.next())
                t.add(n.value);
            return t
        }
        n($v, Vv),
        $v.prototype.updateManifestExpiration = function(t, n) {
            var i, a, r, o = this;
            return $e(function(e) {
                return i = Bv(o.h, o.g),
                a = i.store(),
                r = new fr,
                a.get(t).onsuccess = function(e) {
                    (e = e.target.result) ? (e.expiration = n,
                    a.put(e),
                    r.resolve()) : r.reject(new nt(2,9,9012,"Could not find values for " + t))
                }
                ,
                We(e, Promise.all([i.promise(), r]), 0)
            })
        }
        ,
        $v.prototype.Id = function(t) {
            var n, i, a, r;
            return $e(function(e) {
                if (1 != e.g)
                    return r = e.h,
                    e.return({
                        creationTime: 0,
                        originalManifestUri: t.originalManifestUri,
                        duration: t.duration,
                        size: t.size,
                        expiration: null == t.expiration ? 1 / 0 : t.expiration,
                        streams: r,
                        sessionIds: t.sessionIds,
                        drmInfo: t.drmInfo,
                        appMetadata: t.appMetadata,
                        sequenceMode: !1
                    });
                for (n = [],
                i = 0; i < t.periods.length; ++i)
                    a = i == t.periods.length - 1 ? t.duration : t.periods[i + 1].startTime,
                    a = a - t.periods[i].startTime,
                    a = function(o, s) {
                        !function(e) {
                            var t = e.streams.filter(function(e) {
                                return "audio" == e.contentType
                            });
                            if (e = e.streams.filter(function(e) {
                                return "video" == e.contentType
                            }),
                            !t.every(function(e) {
                                return e.variantIds
                            }) || !e.every(function(e) {
                                return e.variantIds
                            })) {
                                for (var n = Ze(t), i = n.next(); !i.done; i = n.next())
                                    i.value.variantIds = [];
                                for (n = Ze(e),
                                i = n.next(); !i.done; i = n.next())
                                    i.value.variantIds = [];
                                if (n = 0,
                                e.length && !t.length) {
                                    i = n++;
                                    for (var a = Ze(e), r = a.next(); !r.done; r = a.next())
                                        r.value.variantIds.push(i)
                                }
                                if (!e.length && t.length)
                                    for (i = n++,
                                    a = Ze(t),
                                    r = a.next(); !r.done; r = a.next())
                                        r.value.variantIds.push(i);
                                if (e.length && t.length)
                                    for (t = Ze(t),
                                    i = t.next(); !i.done; i = t.next())
                                        for (i = i.value,
                                        a = Ze(e),
                                        r = a.next(); !r.done; r = a.next()) {
                                            r = r.value;
                                            var o = n++;
                                            i.variantIds.push(o),
                                            r.variantIds.push(o)
                                        }
                            }
                        }(o);
                        for (var e = Ze(o.streams), t = e.next(); !t.done; t = e.next())
                            ;
                        return o.streams.map(function(e) {
                            return e = e,
                            n = o.startTime,
                            t = s,
                            i = e.initSegmentUri ? Zv(e.initSegmentUri) : null,
                            a = n + e.presentationTimeOffset,
                            r = n + t,
                            {
                                id: e.id,
                                originalId: null,
                                groupId: null,
                                primary: e.primary,
                                type: e.contentType,
                                mimeType: e.mimeType,
                                codecs: e.codecs,
                                frameRate: e.frameRate,
                                pixelAspectRatio: void 0,
                                hdr: void 0,
                                colorGamut: void 0,
                                videoLayout: void 0,
                                kind: e.kind,
                                language: e.language,
                                originalLanguage: e.language || null,
                                label: e.label,
                                width: e.width,
                                height: e.height,
                                initSegmentKey: i,
                                encrypted: e.encrypted,
                                keyIds: new Set([e.keyId]),
                                segments: e.segments.map(function(e) {
                                    var t = Zv(e.uri);
                                    return {
                                        startTime: n + e.startTime,
                                        endTime: n + e.endTime,
                                        dataKey: t,
                                        initSegmentKey: i,
                                        appendWindowStart: n,
                                        appendWindowEnd: r,
                                        timestampOffset: a,
                                        tilesLayout: "",
                                        mimeType: null,
                                        codecs: null,
                                        thumbnailSprite: null
                                    }
                                }),
                                variantIds: e.variantIds,
                                roles: [],
                                forced: !1,
                                audioSamplingRate: null,
                                channelsCount: null,
                                spatialAudio: !1,
                                closedCaptions: null,
                                tilesLayout: void 0,
                                external: !1,
                                fastSwitching: !1,
                                isAudioMuxedInVideo: !1
                            };
                            var n, t, i, a, r
                        })
                    }(t.periods[i], a),
                    n.push(a);
                return We(e, Ip(n), 2)
            })
        }
        ,
        $v.prototype.Dh = function(e) {
            return {
                data: e.data
            }
        }
        ,
        n(e0, Vv),
        e0.prototype.Id = function(r) {
            var o, s, u, l, c;
            return $e(function(e) {
                if (1 != e.g)
                    return c = e.h,
                    e.return({
                        appMetadata: r.appMetadata,
                        creationTime: 0,
                        drmInfo: r.drmInfo,
                        duration: r.duration,
                        expiration: null == r.expiration ? 1 / 0 : r.expiration,
                        originalManifestUri: r.originalManifestUri,
                        sessionIds: r.sessionIds,
                        size: r.size,
                        streams: c,
                        sequenceMode: !1
                    });
                for (o = [],
                s = 0; s < r.periods.length; ++s) {
                    u = s == r.periods.length - 1 ? r.duration : r.periods[s + 1].startTime,
                    l = u - r.periods[s].startTime;
                    for (var t = r.periods[s], n = [], i = Ze(t.streams), a = i.next(); !a.done; a = i.next())
                        0 != (a = a.value).variantIds.length && n.push(function(t, n, i) {
                            return {
                                id: t.id,
                                originalId: t.originalId,
                                groupId: null,
                                primary: t.primary,
                                type: t.contentType,
                                mimeType: t.mimeType,
                                codecs: t.codecs,
                                frameRate: t.frameRate,
                                pixelAspectRatio: t.pixelAspectRatio,
                                hdr: void 0,
                                colorGamut: void 0,
                                videoLayout: void 0,
                                kind: t.kind,
                                language: t.language,
                                originalLanguage: t.language || null,
                                label: t.label,
                                width: t.width,
                                height: t.height,
                                encrypted: t.encrypted,
                                keyIds: new Set([t.keyId]),
                                segments: t.segments.map(function(e) {
                                    return {
                                        startTime: n + e.startTime,
                                        endTime: n + e.endTime,
                                        initSegmentKey: t.initSegmentKey,
                                        appendWindowStart: n,
                                        appendWindowEnd: i,
                                        timestampOffset: n - t.presentationTimeOffset,
                                        dataKey: e.dataKey,
                                        tilesLayout: "",
                                        mimeType: null,
                                        codecs: null,
                                        thumbnailSprite: null
                                    }
                                }),
                                variantIds: t.variantIds,
                                roles: [],
                                forced: !1,
                                audioSamplingRate: null,
                                channelsCount: null,
                                spatialAudio: !1,
                                closedCaptions: null,
                                tilesLayout: void 0,
                                external: !1,
                                fastSwitching: !1,
                                isAudioMuxedInVideo: !1
                            }
                        }(a, t.startTime, t.startTime + l));
                    o.push(n)
                }
                return We(e, Ip(o), 2)
            })
        }
        ,
        n(t0, Vv),
        (t = t0.prototype).hasFixedKeySpace = function() {
            return !1
        }
        ,
        t.addSegments = function(e) {
            return this.add(this.i, e)
        }
        ,
        t.addManifests = function(e) {
            return this.add(this.g, e)
        }
        ,
        t.updateManifest = function(e, t) {
            return n = e,
            i = t,
            (a = (e = Bv((e = this).h, e.g)).store()).get(n).onsuccess = function() {
                a.put(i, n)
            }
            ,
            e.promise();
            var n, i, a
        }
        ,
        t.Id = function(e) {
            return null == e.expiration && (e.expiration = 1 / 0),
            Promise.resolve(e)
        }
        ,
        (t = n0.prototype).init = function() {
            var n = this
              , i = new fr
              , a = !1
              , r = new C(function() {
                a = !0,
                i.reject(new nt(2,9,9017))
            }
            )
              , o = (r.Y(5),
            U.indexedDB.open("shaka_offline_db", 5));
            return o.onsuccess = function() {
                var e, t;
                a || (e = o.result,
                t = (t = (n.l = e).objectStoreNames).contains("manifest") && t.contains("segment") ? new $v(e,"segment","manifest") : null,
                n.g = t,
                t = (t = e.objectStoreNames).contains("manifest-v2") && t.contains("segment-v2") ? new e0(e,"segment-v2","manifest-v2") : null,
                n.h = t,
                t = (t = e.objectStoreNames).contains("manifest-v3") && t.contains("segment-v3") ? new e0(e,"segment-v3","manifest-v3") : null,
                n.i = t,
                t = (t = e.objectStoreNames).contains("manifest-v5") && t.contains("segment-v5") ? new t0(e,"segment-v5","manifest-v5") : null,
                n.j = t,
                e = e.objectStoreNames.contains("session-ids") ? new Xv(e) : null,
                n.m = e,
                r.stop(),
                i.resolve())
            }
            ,
            o.onupgradeneeded = function() {
                for (var e = o.result, t = Ze(["segment-v5", "manifest-v5", "session-ids"]), n = t.next(); !n.done; n = t.next())
                    n = n.value,
                    e.objectStoreNames.contains(n) || e.createObjectStore(n, {
                        autoIncrement: !0
                    })
            }
            ,
            o.onerror = function(e) {
                a || (i.reject(new nt(2,9,9001,o.error)),
                r.stop(),
                e.preventDefault())
            }
            ,
            i
        }
        ,
        t.destroy = function() {
            var t = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (t.g)
                        return We(e, t.g.destroy(), 2);
                    e.A(2);
                    break;
                case 2:
                    if (t.h)
                        return We(e, t.h.destroy(), 4);
                    e.A(4);
                    break;
                case 4:
                    if (t.i)
                        return We(e, t.i.destroy(), 6);
                    e.A(6);
                    break;
                case 6:
                    if (t.j)
                        return We(e, t.j.destroy(), 8);
                    e.A(8);
                    break;
                case 8:
                    if (t.m)
                        return We(e, t.m.destroy(), 10);
                    e.A(10);
                    break;
                case 10:
                    t.l && t.l.close(),
                    Ye(e)
                }
            })
        }
        ,
        t.getCells = function() {
            var e = new Map;
            return this.g && e.set("v1", this.g),
            this.h && e.set("v2", this.h),
            this.i && e.set("v3", this.i),
            this.j && e.set("v5", this.j),
            e
        }
        ,
        t.getEmeSessionCell = function() {
            return this.m
        }
        ,
        t.erase = function() {
            var i = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (i.g)
                        return We(e, i.g.destroy(), 2);
                    e.A(2);
                    break;
                case 2:
                    if (i.h)
                        return We(e, i.h.destroy(), 4);
                    e.A(4);
                    break;
                case 4:
                    if (i.i)
                        return We(e, i.i.destroy(), 6);
                    e.A(6);
                    break;
                case 6:
                    if (i.j)
                        return We(e, i.j.destroy(), 8);
                    e.A(8);
                    break;
                case 8:
                    return i.l && i.l.close(),
                    We(e, (t = new fr,
                    (n = U.indexedDB.deleteDatabase("shaka_offline_db")).onblocked = function() {}
                    ,
                    n.onsuccess = function() {
                        t.resolve()
                    }
                    ,
                    n.onerror = function(e) {
                        t.reject(new nt(2,9,9001,n.error)),
                        e.preventDefault()
                    }
                    ,
                    t), 10);
                case 10:
                    return i.l = null,
                    i.g = null,
                    i.h = null,
                    i.i = null,
                    i.j = null,
                    We(e, i.init(), 0)
                }
                var t, n
            })
        }
        ,
        Jv("idb", function() {
            return (!Fe() || Fe() && yt()) && !_e() && U.indexedDB ? new n0 : null
        }),
        i0.prototype.Ob = function() {
            return this.i
        }
        ,
        i0.prototype.fb = function() {
            return this.h
        }
        ,
        i0.prototype.key = function() {
            return this.l
        }
        ,
        i0.prototype.toString = function() {
            return this.j
        }
        ,
        (t = u0.prototype).configure = function() {}
        ,
        t.start = function(t, n) {
            var i, a, r, o, s = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (i = a0(t),
                    null == (s.g = i) || "manifest" != i.g)
                        throw new nt(2,1,9004,t);
                    return a = new Wv,
                    A(e, 2),
                    We(e, a.init(), 4);
                case 4:
                    return We(e, qv(a, i.Ob(), i.fb()), 5);
                case 5:
                    return We(e, e.h.getManifests([i.key()]), 6);
                case 6:
                    return r = e.h,
                    r = r[0],
                    o = new r0(i.Ob(),i.fb()),
                    o = o0(o, r),
                    n.makeTextStreamsForClosedCaptions(o),
                    e.return(o);
                case 2:
                    return dt(e),
                    We(e, a.destroy(), 7);
                case 7:
                    ht(e, 0)
                }
            })
        }
        ,
        t.stop = function() {
            return Promise.resolve()
        }
        ,
        t.update = function() {}
        ,
        t.onExpirationUpdated = function(t, n) {
            var i, a, r, o, s, u = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return i = u.g,
                    a = new Wv,
                    qe(e, 2, 3),
                    We(e, a.init(), 5);
                case 5:
                    return We(e, qv(a, i.Ob(), i.fb()), 6);
                case 6:
                    return We(e, (r = e.h).getManifests([i.key()]), 7);
                case 7:
                    if (s = e.h,
                    s = s[0],
                    o = s.sessionIds.includes(t),
                    s = null == s.expiration || s.expiration > n,
                    o && s)
                        return We(e, r.updateManifestExpiration(i.key(), n), 3);
                    e.A(3);
                    break;
                case 3:
                    return dt(e),
                    We(e, a.destroy(), 10);
                case 10:
                    ht(e, 0);
                    break;
                case 2:
                    Qe(e),
                    e.A(3)
                }
            })
        }
        ,
        t.onInitialVariantChosen = function() {}
        ,
        t.banLocation = function() {}
        ,
        t.setMediaElement = function() {}
        ,
        ko["application/x-offline-manifest"] = function() {
            return new u0
        }
        ,
        i("shaka.offline.OfflineScheme", l0),
        Er("offline", l0.plugin = c0),
        (t = m0.prototype).destroy = function() {
            return this.l.destroy()
        }
        ,
        t.configure = function(e, t) {
            return 2 == arguments.length && "string" == typeof e && (e = dl(e, t)),
            Tl(this.h, e)
        }
        ,
        t.getConfiguration = function() {
            var e = bl();
            return Tl(e, this.h, bl()),
            e
        }
        ,
        t.Hb = function() {
            return this.g
        }
        ,
        t.store = function(n, e, i, t, a) {
            var Se, Ee, Ae, xe, Ie, ke, Ce, Me, Le, Re, Pe, De, Ne, _e, Oe, Ue, je, Fe, Be, Ge, Ve, He, Ke, ze, Xe, r, o, s = this, u = this.getConfiguration(), l = new Nv(this.g);
            return this.j.push(l),
            Se = this,
            Ee = n,
            Ae = e || {},
            xe = t || [],
            Ie = a || [],
            ke = function() {
                var t;
                return $e(function(e) {
                    return 1 == e.g ? i ? e.A(2) : We(e, Nl(n, s.g, u.manifest.retryParameters), 3) : (2 != e.g && (i = e.h),
                    t = Io(n, i || null),
                    e.return(t()))
                })
            }
            ,
            Ce = u,
            Me = l,
            (e = new pr(e = $e(function(e) {
                switch (e.g) {
                case 1:
                    return I0(),
                    Re = Le = null,
                    Pe = new Wv,
                    _e = Ne = De = null,
                    qe(e, 2, 3),
                    We(e, ke(), 5);
                case 5:
                    return Le = e.h,
                    We(e, (N = Se,
                    ve = Ee,
                    ye = Le,
                    be = Ce,
                    $e(function(e) {
                        if (1 == e.g)
                            return Te = null,
                            _ = N.g,
                            _ = {
                                networkingEngine: _,
                                filter: function() {
                                    return Promise.resolve()
                                },
                                makeTextStreamsForClosedCaptions: function() {},
                                onTimelineRegionAdded: function() {},
                                onEvent: function() {},
                                onError: function(e) {
                                    Te = e
                                },
                                isLowLatencyMode: function() {
                                    return !1
                                },
                                isAutoLowLatencyMode: function() {
                                    return !1
                                },
                                enableLowLatencyMode: function() {},
                                updateDuration: function() {},
                                newDrmInfo: function() {},
                                onManifestUpdated: function() {},
                                getBandwidthEstimate: function() {
                                    return be.abr.defaultBandwidthEstimate
                                },
                                onMetadata: function() {},
                                disableStream: function() {},
                                addFont: function() {}
                            },
                            ye.configure(be.manifest),
                            x0(N),
                            We(e, ye.start(ve, _), 2);
                        if (3 != e.g)
                            return we = e.h,
                            x0(N),
                            _ = C0(we),
                            We(e, Promise.all(ft(_, function(e) {
                                return e.createSegmentIndex()
                            })), 3);
                        if (x0(N),
                        Te)
                            throw Te;
                        return e.return(we)
                    })), 6);
                case 6:
                    if (Oe = e.h,
                    x0(Se),
                    !(!Oe.presentationTimeline.T() && !Oe.presentationTimeline.Qc()))
                        throw new nt(2,9,9005,Ee);
                    Ue = Ze(xe),
                    je = Ue.next();
                case 7:
                    if (je.done) {
                        e.A(9);
                        break
                    }
                    return Fe = je.value,
                    We(e, (o = Se,
                    s = Fe,
                    fe = Oe,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            return We(e, A0(o, s), 2);
                        case 2:
                            if ("text/vtt" != (k = e.h))
                                throw new nt(1,2,2017,s);
                            return We(e, (t = s,
                            n = o.g,
                            i = o.h.streaming.retryParameters,
                            $e(function(e) {
                                return 1 == e.g ? (r = Mr,
                                (a = xr([t], i)).method = "GET",
                                We(e, n.request(r, a).promise, 2)) : (r = e.h,
                                e.return(r.data))
                            })), 3);
                        case 3:
                            if (D = e.h,
                            !(C = ba[k]))
                                throw new nt(2,2,2014,k);
                            for (C = C(),
                            pe = {
                                periodStart: 0,
                                segmentStart: 0,
                                segmentEnd: fe.presentationTimeline.getDuration(),
                                vttOffset: 0
                            },
                            D = tt(D),
                            C = C.parseMedia(D, pe, s, []),
                            M = [],
                            ge = Ze(C),
                            me = ge.next(),
                            L = {}; !me.done; L = {
                                uf: void 0,
                                gd: void 0
                            },
                            me = ge.next())
                                L.gd = me.value,
                                L.uf = null,
                                R = function(e) {
                                    return function() {
                                        return null == e.uf && (e.uf = Gt([s], [e.gd.payload])),
                                        e.uf || []
                                    }
                                }(L),
                                R = new at(L.gd.startTime,L.gd.endTime,R,0,null,null,0,0,1 / 0),
                                L.gd.payload.includes("#xywh") && (4 === (P = L.gd.payload.split("#xywh=")[1].split(",")).length && R.lf({
                                    height: parseInt(P[3], 10),
                                    positionX: parseInt(P[0], 10),
                                    positionY: parseInt(P[1], 10),
                                    width: parseInt(P[2], 10)
                                })),
                                M.push(R);
                            if (D = k,
                            M.length)
                                return We(e, Nl(M[0].R()[0], o.g, o.h.manifest.retryParameters), 5);
                            e.A(4);
                            break;
                        case 5:
                            D = e.h;
                        case 4:
                            return e.return({
                                id: o.m++,
                                originalId: null,
                                groupId: null,
                                createSegmentIndex: function() {
                                    return Promise.resolve()
                                },
                                segmentIndex: new lu(M),
                                mimeType: D || "",
                                codecs: "",
                                kind: "",
                                encrypted: !1,
                                drmInfos: [],
                                keyIds: new Set,
                                language: "und",
                                originalLanguage: null,
                                label: null,
                                type: "image",
                                primary: !1,
                                trickModeVideo: null,
                                emsgSchemeIdUris: null,
                                roles: [],
                                forced: !1,
                                channelsCount: null,
                                audioSamplingRate: null,
                                spatialAudio: !1,
                                closedCaptions: null,
                                tilesLayout: "1x1",
                                accessibilityPurpose: null,
                                external: !0,
                                fastSwitching: !1,
                                fullMimeTypes: new Set([ia(D || "", "")]),
                                isAudioMuxedInVideo: !1
                            })
                        }
                        var t, n, i, a, r
                    })), 10);
                case 10:
                    Fe = e.h,
                    Oe.imageStreams.push(Fe),
                    x0(Se),
                    je = Ue.next(),
                    e.A(7);
                    break;
                case 9:
                    Be = Ze(Ie),
                    Ge = Be.next();
                case 11:
                    return Ge.done ? We(e, Se.ed(Oe, function(e) {
                        _e = _e || e
                    }, Ce), 15) : (Ve = Ge.value,
                    We(e, (oe = Se,
                    se = Oe,
                    ue = Ve.uri,
                    le = Ve.language,
                    ce = Ve.kind,
                    a = Ve.mime,
                    de = Ve.codecs,
                    $e(function(e) {
                        if (1 == e.g)
                            return a ? e.A(2) : We(e, A0(oe, ue), 3);
                        if (2 != e.g && (a = e.h),
                        r = {
                            id: oe.m++,
                            originalId: null,
                            groupId: null,
                            createSegmentIndex: function() {
                                return Promise.resolve()
                            },
                            segmentIndex: du(0, se.presentationTimeline.getDuration(), [ue]),
                            mimeType: a || "",
                            codecs: de || "",
                            kind: ce,
                            encrypted: !1,
                            drmInfos: [],
                            keyIds: new Set,
                            language: le,
                            originalLanguage: le,
                            label: null,
                            type: it,
                            primary: !1,
                            trickModeVideo: null,
                            emsgSchemeIdUris: null,
                            roles: [],
                            forced: !1,
                            channelsCount: null,
                            audioSamplingRate: null,
                            spatialAudio: !1,
                            closedCaptions: null,
                            accessibilityPurpose: null,
                            external: !0,
                            fastSwitching: !1,
                            fullMimeTypes: new Set([ia(a || "", de || "")]),
                            isAudioMuxedInVideo: !1
                        },
                        he = ia(r.mimeType, r.codecs),
                        ma(he))
                            return e.return(r);
                        throw new nt(2,2,2014,a)
                    })), 14));
                case 14:
                    Ve = e.h,
                    Oe.textStreams.push(Ve),
                    x0(Se),
                    Ge = Be.next(),
                    e.A(11);
                    break;
                case 15:
                    if (Re = e.h,
                    x0(Se),
                    _e)
                        throw _e;
                    return We(e, (u = Oe,
                    H = Re,
                    l = Ce,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            return d = {
                                width: 1 / 0,
                                height: 1 / 0
                            },
                            o = l.restrictions,
                            s = d,
                            u.variants = u.variants.filter(function(e) {
                                return Ia(e, o, s)
                            }),
                            We(e, Ca(H, u, l.offline.usePersistentLicense, l.drm.preferredKeySystems, l.drm.keySystemsMapping), 2);
                        case 2:
                            for (c = [],
                            d = l.preferredDecodingAttributes,
                            A = l.preferredVideoCodecs,
                            K = l.preferredAudioCodecs,
                            z = l.preferredTextFormats,
                            xa(u, A, K, d, z),
                            X = Ze(u.variants),
                            h = X.next(); !h.done; h = X.next())
                                W = h.value,
                                c.push(Na(W));
                            for (Y = Ze(u.textStreams),
                            T = Y.next(); !T.done; T = Y.next())
                                q = T.value,
                                c.push(_a(q));
                            for (J = Ze(u.imageStreams),
                            w = J.next(); !w.done; w = J.next())
                                Q = w.value,
                                c.push(Oa(Q));
                            return We(e, l.offline.trackSelectionCallback(c), 3);
                        case 3:
                            for ($ = e.h,
                            Z = u.presentationTimeline.getDuration(),
                            ee = 0,
                            te = Ze($),
                            S = te.next(); !S.done; S = te.next())
                                E = S.value,
                                E = E.bandwidth * Z / 8,
                                ee += E;
                            return qe(e, 4),
                            We(e, l.offline.downloadSizeCallback(ee), 6);
                        case 6:
                            if (!e.h)
                                throw new nt(2,9,9014);
                            Je(e, 5);
                            break;
                        case 4:
                            if ((A = Qe(e))instanceof nt)
                                throw A;
                            throw new nt(2,9,9015);
                        case 5:
                            for (ne = new Set,
                            ie = new Set,
                            ae = new Set,
                            re = Ze($),
                            x = re.next(); !x.done; x = re.next())
                                "variant" == (I = x.value).type && ne.add(I.id),
                                "text" == I.type && ie.add(I.id),
                                "image" == I.type && ae.add(I.id);
                            u.variants = u.variants.filter(function(e) {
                                return ne.has(e.id)
                            }),
                            u.textStreams = u.textStreams.filter(function(e) {
                                return ie.has(e.id)
                            }),
                            u.imageStreams = u.imageStreams.filter(function(e) {
                                return ae.has(e.id)
                            });
                            var t = u
                              , n = (t.variants.map(function(e) {
                                return e.video
                            }),
                            new Set(t.variants.map(function(e) {
                                return e.audio
                            })));
                            t = t.textStreams;
                            for (var i = Ze(n), a = i.next(); !a.done; a = i.next())
                                for (var r = (a = Ze(n)).next(); !r.done; r = a.next())
                                    ;
                            for (n = Ze(t),
                            i = n.next(); !i.done; i = n.next())
                                for (i = Ze(t),
                                a = i.next(); !a.done; a = i.next())
                                    ;
                            Ye(e)
                        }
                        var o, s
                    })), 16);
                case 16:
                    return We(e, Pe.init(), 17);
                case 17:
                    return x0(Se),
                    We(e, Yv(Pe), 18);
                case 18:
                    return De = e.h,
                    x0(Se),
                    Ke = function(n, e, t, i, a, r) {
                        var o = function(e, t, n) {
                            return {
                                offlineUri: null,
                                originalManifestUri: e,
                                duration: t.presentationTimeline.getDuration(),
                                size: 0,
                                expiration: 1 / 0,
                                tracks: t = f0(t),
                                appMetadata: n,
                                isIncomplete: !1
                            }
                        }(t, e, i)
                          , s = a.offline.progressCallback
                          , u = (function(e, t, n) {
                            e.m = t,
                            e.l = n
                        }(r, function(e, t) {
                            o.size = t,
                            s(o, e)
                        }, function(e, t) {
                            u && a.offline.usePersistentLicense && l == t && no(n, "cenc", e)
                        }),
                        T0(e) && !w0(e))
                          , l = null;
                        u && (l = M0.get(n.g.keySystem));
                        for (var c = new p0, d = Ze(e.textStreams), h = d.next(); !h.done; h = d.next())
                            c.g[h.value.id] = 52;
                        for (d = Ze(e.imageStreams),
                        h = d.next(); !h.done; h = d.next())
                            !function(e, t) {
                                e.g[t.id] = t.bandwidth || 2048
                            }(c, h.value);
                        for (d = Ze(e.variants),
                        h = d.next(); !h.done; h = d.next())
                            !function(e, t) {
                                var n, i, a = t.audio, r = t.video;
                                a && !r && (e.g[a.id] = a.bandwidth || t.bandwidth),
                                !a && r && (e.g[r.id] = r.bandwidth || t.bandwidth),
                                a && r && (n = a.bandwidth || 393216,
                                (i = r.bandwidth || t.bandwidth - n) <= 0 && (i = t.bandwidth),
                                e.g[a.id] = n,
                                e.g[r.id] = i)
                            }(c, h.value);
                        return c = function(e, t, n, i) {
                            for (var a = new Map, r = C0(n), o = new Map, s = (r = Ze(r)).next(); !s.done; s = r.next()) {
                                s = s.value;
                                var u = function(a, r, e, o, t, s) {
                                    var u = {
                                        id: o.id,
                                        originalId: o.originalId,
                                        groupId: o.groupId,
                                        primary: o.primary,
                                        type: o.type,
                                        mimeType: o.mimeType,
                                        codecs: o.codecs,
                                        frameRate: o.frameRate,
                                        pixelAspectRatio: o.pixelAspectRatio,
                                        hdr: o.hdr,
                                        colorGamut: o.colorGamut,
                                        videoLayout: o.videoLayout,
                                        kind: o.kind,
                                        language: o.language,
                                        originalLanguage: o.originalLanguage,
                                        label: o.label,
                                        width: o.width || null,
                                        height: o.height || null,
                                        encrypted: o.encrypted,
                                        keyIds: o.keyIds,
                                        segments: [],
                                        variantIds: [],
                                        roles: o.roles,
                                        forced: o.forced,
                                        channelsCount: o.channelsCount,
                                        audioSamplingRate: o.audioSamplingRate,
                                        spatialAudio: o.spatialAudio,
                                        closedCaptions: o.closedCaptions,
                                        tilesLayout: o.tilesLayout,
                                        external: o.external,
                                        fastSwitching: o.fastSwitching,
                                        isAudioMuxedInVideo: o.isAudioMuxedInVideo
                                    }
                                      , l = t.offline.numberOfParallelDownloads
                                      , c = 0 === l ? o.id : 0;
                                    return function(e, t, n) {
                                        if (null != (t = e.segmentIndex.find(t)))
                                            for (var i = e.segmentIndex.get(t); i; )
                                                n(i),
                                                i = e.segmentIndex.get(++t)
                                    }(o, e.presentationTimeline.Ib(), function(e) {
                                        var t, n = Rv(e), i = void 0;
                                        s.has(n) || (t = e.endTime - e.startTime,
                                        t = g0(r, o.id) * t,
                                        t = Dv(a.g, t),
                                        s.set(n, new Lv(e,t,c,!1))),
                                        e.na && (i = Rv(e.na),
                                        s.has(i) || (t = .5 * g0(r, o.id),
                                        t = Dv(a.g, t),
                                        s.set(i, new Lv(e.na,t,c,!0)))),
                                        u.segments.push({
                                            pendingInitSegmentRefId: i,
                                            initSegmentKey: i ? 0 : null,
                                            startTime: e.startTime,
                                            endTime: e.endTime,
                                            appendWindowStart: e.appendWindowStart,
                                            appendWindowEnd: e.appendWindowEnd,
                                            timestampOffset: e.timestampOffset,
                                            tilesLayout: e.tilesLayout,
                                            pendingSegmentRefId: n,
                                            dataKey: 0,
                                            mimeType: e.mimeType,
                                            codecs: e.codecs,
                                            thumbnailSprite: e.thumbnailSprite
                                        }),
                                        0 !== l && (c = (c + 1) % l)
                                    }),
                                    u
                                }(e, t, n, s, i, a);
                                o.set(s.id, u)
                            }
                            for (e = Ze(n.variants),
                            t = e.next(); !t.done; t = e.next())
                                (t = t.value).audio && o.get(t.audio.id).variantIds.push(t.id),
                                t.video && o.get(t.video.id).variantIds.push(t.id);
                            return {
                                streams: Array.from(o.values()),
                                kh: Array.from(a.values())
                            }
                        }(r, c, e, a),
                        r = c.streams,
                        c = c.kh,
                        d = n.g,
                        h = a.offline.usePersistentLicense,
                        d && h && (d.initData = []),
                        {
                            bk: {
                                creationTime: Date.now(),
                                originalManifestUri: t,
                                duration: e.presentationTimeline.getDuration(),
                                size: 0,
                                expiration: n.Md(),
                                streams: r,
                                sessionIds: h ? io(n) : [],
                                drmInfo: d,
                                appMetadata: i,
                                isIncomplete: !0,
                                sequenceMode: e.sequenceMode,
                                type: e.type
                            },
                            kh: c
                        }
                    }(Re, Oe, Ee, Ae, Ce, Me),
                    He = Ke.bk,
                    Ke = Ke.kh,
                    We(e, De.fb.addManifests([He]), 19);
                case 19:
                    if (ze = e.h,
                    x0(Se),
                    Ne = ze[0],
                    x0(Se),
                    _e)
                        throw _e;
                    return We(e, (f = Se,
                    t = Ke,
                    p = Ne,
                    g = He,
                    O = Me,
                    U = Ce,
                    m = De.fb,
                    v = Oe,
                    j = Re,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (y = {},
                            b = 0,
                            B = !(F = function(a, r) {
                                var o, s, u, l, c, d, h;
                                return $e(function(e) {
                                    if (1 != e.g)
                                        return r ? (x0(f),
                                        S0(v, g, j, U),
                                        We(e, m.updateManifest(p, g), 0)) : e.A(0);
                                    var t, n, i;
                                    for (o = Ze(a),
                                    s = o.next(),
                                    u = {}; !s.done; u = {
                                        hd: void 0
                                    },
                                    s = o.next())
                                        u.hd = s.value,
                                        n = u.hd,
                                        i = U,
                                        l = Gu(n.g.R(), n.g.eb, n.g.La, i.streaming.retryParameters),
                                        c = u.hd.i,
                                        d = u.hd.h,
                                        h = function(a) {
                                            return function(t) {
                                                var n, i;
                                                return $e(function(e) {
                                                    if (1 == e.g)
                                                        return We(e, m.addSegments([{
                                                            data: t
                                                        }]), 2);
                                                    n = e.h,
                                                    x0(f),
                                                    i = a.hd.g,
                                                    i = Rv(i),
                                                    y[i] = n[0],
                                                    b += t.byteLength,
                                                    Ye(e)
                                                })
                                            }
                                        }(u),
                                        Ov(O, u.hd.groupId, l, c, d, h);
                                    return We(e, (t = O,
                                    $e(function(e) {
                                        return 1 == e.g ? We(e, Promise.all(t.j.values()), 2) : e.return(t.g.h)
                                    })), 2)
                                })
                            }
                            ),
                            qe(e, 2),
                            T0(v) && B && !w0(v))
                                return We(e, F(t.filter(function(e) {
                                    return e.h
                                }), !0), 5);
                            e.A(4);
                            break;
                        case 5:
                            return x0(f),
                            t = t.filter(function(e) {
                                return !e.h
                            }),
                            n = y,
                            i = b,
                            y = {},
                            b = 0,
                            We(e, b0(m, p, g, n, i, function() {
                                x0(f)
                            }), 6);
                        case 6:
                            x0(f);
                        case 4:
                            if (B) {
                                e.A(7);
                                break
                            }
                            return We(e, F(t, !1), 8);
                        case 8:
                            return x0(f),
                            n = y,
                            i = b,
                            y = {},
                            b = 0,
                            We(e, b0(m, p, g, n, i, function() {
                                x0(f)
                            }), 9);
                        case 9:
                            x0(f);
                        case 7:
                            Je(e, 0);
                            break;
                        case 2:
                            return G = Qe(e),
                            V = Object.values(y),
                            We(e, m.removeSegments(V, function() {}), 10);
                        case 10:
                            throw G
                        }
                    })), 20);
                case 20:
                    return x0(Se),
                    S0(Oe, He, Re, Ce),
                    We(e, De.fb.updateManifest(Ne, He), 21);
                case 21:
                    return x0(Se),
                    ze = new i0("manifest",De.path.Ob,De.path.fb,Ne),
                    e.return(h0(ze, He));
                case 3:
                    return dt(e),
                    We(e, Pe.destroy(), 22);
                case 22:
                    if (Le)
                        return We(e, Le.stop(), 23);
                    e.A(23);
                    break;
                case 23:
                    if (Re)
                        return We(e, Re.destroy(), 25);
                    e.A(25);
                    break;
                case 25:
                    ht(e, 0);
                    break;
                case 2:
                    if (Xe = Qe(e),
                    null != Ne)
                        return We(e, y0(Ne), 27);
                    e.A(27);
                    break;
                case 27:
                    throw _e || Xe
                }
                var f, t, p, g, O, U, m, v, j, y, b, F, B, n, i, G, V, u, H, l, c, d, K, z, X, h, W, Y, T, q, J, w, Q, $, Z, ee, te, S, E, A, ne, ie, ae, re, x, I, oe, se, ue, le, ce, a, de, r, he, o, s, fe, k, pe, C, M, ge, me, L, R, P, D, N, ve, ye, be, Te, we, _
            }),function() {
                return _v(l)
            }
            )).finally(function() {
                _n(s.j, l)
            }),
            r = this,
            o = (t = e).promise,
            r.i.push(o),
            t.finally(function() {
                _n(r.i, o)
            })
        }
        ,
        t.remove = function(e) {
            return k0(this, (o = this,
            s = e,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (I0(),
                    null == (d = a0(s)) || "manifest" != d.g)
                        throw new nt(2,9,9004,s);
                    return d = d,
                    h = new Wv,
                    A(e, 2),
                    We(e, h.init(), 4);
                case 4:
                    return We(e, qv(h, d.Ob(), d.fb()), 5);
                case 5:
                    return We(e, (f = e.h).getManifests([d.key()]), 6);
                case 6:
                    return p = e.h,
                    p = p[0],
                    We(e, Promise.all([(u = o,
                    l = p,
                    c = h,
                    $e(function(e) {
                        return We(e, (t = u.g,
                        n = u.h.drm,
                        i = c,
                        a = l,
                        $e(function(e) {
                            return 1 == e.g ? a.drmInfo ? (r = function(e) {
                                var t = Array.from(e.g.keys());
                                if (t.length)
                                    return e.g.get(t[0]).getEmeSessionCell();
                                throw new nt(2,9,9e3,"No supported storage mechanisms found")
                            }(i),
                            o = a.sessionIds.map(function(e) {
                                return {
                                    sessionId: e,
                                    keySystem: a.drmInfo.keySystem,
                                    licenseUri: a.drmInfo.licenseServerUri,
                                    serverCertificate: a.drmInfo.serverCertificate,
                                    audioCapabilities: E0(a, !1),
                                    videoCapabilities: E0(a, !0)
                                }
                            }),
                            We(e, d0(n, t, o), 2)) : e.return() : 3 != e.g ? (s = e.h,
                            We(e, r.remove(s), 3)) : We(e, r.add(o.filter(function(e) {
                                return !s.includes(e.sessionId)
                            })), 0)
                        })), 0);
                        var t, n, i, a, r, o, s
                    })), (n = f,
                    i = d,
                    r = function(e) {
                        for (var t = new Set, n = (e = Ze(e.streams)).next(); !n.done; n = e.next())
                            for (var i = (n = Ze(n.value.segments)).next(); !i.done; i = n.next())
                                null != (i = i.value).initSegmentKey && t.add(i.initSegmentKey),
                                t.add(i.dataKey);
                        return Array.from(t)
                    }(a = p),
                    h0(i, a),
                    Promise.all([n.removeSegments(r, t), n.removeManifests([i.key()], t)]))]), 2);
                case 2:
                    return dt(e),
                    We(e, h.destroy(), 8);
                case 8:
                    ht(e, 0)
                }
                function t() {}
                var n, i, a, r, u, l, c
            })));
            var o, s, d, h, f, p
        }
        ,
        t.xk = function() {
            return k0(this, (n = this,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    return I0(),
                    i = n.g,
                    a = n.h.drm,
                    r = new Wv,
                    o = !1,
                    A(e, 2),
                    We(e, r.init(), 4);
                case 4:
                    s = [],
                    t = function(e) {
                        s.push(e)
                    }
                    ,
                    r.g.forEach(function(e) {
                        t(e.getEmeSessionCell())
                    }),
                    u = Ze(s),
                    l = u.next();
                case 5:
                    if (l.done) {
                        e.A(2);
                        break
                    }
                    return We(e, (c = l.value).getAll(), 8);
                case 8:
                    return d = e.h,
                    We(e, d0(a, i, d), 9);
                case 9:
                    return h = e.h,
                    We(e, c.remove(h), 10);
                case 10:
                    h.length != d.length && (o = !0),
                    l = u.next(),
                    e.A(5);
                    break;
                case 2:
                    return dt(e),
                    We(e, r.destroy(), 11);
                case 11:
                    ht(e, 3);
                    break;
                case 3:
                    return e.return(!o)
                }
                var t
            })));
            var n, i, a, r, o, s, u, l, c, d, h
        }
        ,
        t.list = function() {
            return k0(this, $e(function(e) {
                switch (e.g) {
                case 1:
                    return I0(),
                    a = [],
                    t = new Wv,
                    A(e, 2),
                    We(e, t.init(), 4);
                case 4:
                    return r = Promise.resolve(),
                    i = function(n, t) {
                        r = r.then(function() {
                            return $e(function(e) {
                                if (1 == e.g)
                                    return We(e, t.getAllManifests(), 2);
                                e.h.forEach(function(e, t) {
                                    e = h0(new i0("manifest",n.Ob,n.fb,t), e),
                                    a.push(e)
                                }),
                                Ye(e)
                            })
                        })
                    }
                    ,
                    t.g.forEach(function(e, n) {
                        e.getCells().forEach(function(e, t) {
                            i({
                                Ob: n,
                                fb: t
                            }, e)
                        })
                    }),
                    We(e, r, 2);
                case 2:
                    return dt(e),
                    We(e, t.destroy(), 6);
                case 6:
                    ht(e, 3);
                    break;
                case 3:
                    return e.return(a)
                }
                var i
            }));
            var a, t, r
        }
        ,
        t.ed = function(a, r, o) {
            var s, u = this;
            return $e(function(e) {
                return 1 == e.g ? ((s = new Qr({
                    jc: u.g,
                    onError: r,
                    Ye: function() {},
                    onExpirationUpdated: function() {},
                    onEvent: function() {}
                })).configure(o.drm),
                We(e, (t = s,
                n = a.variants,
                i = o.offline.usePersistentLicense,
                t.ma = !0,
                t.C = new Map,
                t.P = i,
                Zr(t, n)), 2)) : 3 != e.g ? We(e, to(s), 3) : e.return(s);
                var t, n, i
            })
        }
        ,
        i("shaka.offline.Storage", m0),
        m0.deleteAll = function() {
            var a;
            return $e(function(e) {
                return 1 == e.g ? (a = new Wv,
                A(e, 2),
                We(e, (t = a,
                $e(function(e) {
                    return 1 == e.g ? (n = Array.from(t.g.values()),
                    (i = 0 < n.length) || Qv.forEach(function(e) {
                        (e = e()) && n.push(e)
                    }),
                    We(e, Promise.all(n.map(function(e) {
                        return e.erase()
                    })), 2)) : i ? e.A(0) : We(e, Promise.all(n.map(function(e) {
                        return e.destroy()
                    })), 0)
                })), 2)) : 5 != e.g ? (dt(e),
                We(e, a.destroy(), 5)) : ht(e, 0);
                var t, n, i
            })
        }
        ,
        m0.prototype.removeEmeSessions = m0.prototype.xk,
        m0.prototype.getNetworkingEngine = m0.prototype.Hb,
        m0.support = v0;
        var M0 = (new Map).set("org.w3.clearkey", "1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha", "edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready", "9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation", "9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software", "9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware", "9a04f07998404286ab92e65be0885f95");
        function L0() {}
        function R0() {
            for (var e = Ze(D0), t = e.next(); !t.done; t = e.next()) {
                t = t.value;
                try {
                    t.callback()
                } catch (e) {
                    Q("Error installing polyfill!", e)
                }
            }
        }
        function P0(e, t) {
            for (e = {
                priority: t || 0,
                callback: e
            },
            t = 0; t < D0.length; t++)
                if (D0[t].priority < e.priority)
                    return void D0.splice(t, 0, e);
            D0.push(e)
        }
        yd.offline = v0,
        i("shaka.polyfill", L0),
        L0.register = P0,
        L0.installAll = R0;
        var D0 = [];
        function N0() {}
        function _0() {
            if (!Object.getOwnPropertyDescriptor(Element.prototype, "ariaHidden"))
                for (var e = Ze(["ariaHidden", "ariaLabel", "ariaPressed", "ariaSelected"]), t = e.next(); !t.done; t = e.next())
                    !function(e) {
                        var t = "aria-" + e.toLowerCase().replace(/^aria/, "");
                        Object.defineProperty(Element.prototype, e, {
                            get: function() {
                                return this.getAttribute(t)
                            },
                            set: function(e) {
                                null == e ? this.removeAttribute(t) : this.setAttribute(t, e)
                            }
                        })
                    }(t.value)
        }
        function O0() {}
        function U0() {
            He() || f("Sky_STB") || Kb()
        }
        function j0() {}
        function F0() {
            var e;
            U.Document && ((e = Element.prototype).requestFullscreen = e.requestFullscreen || e.mozRequestFullScreen || e.msRequestFullscreen || e.webkitRequestFullscreen,
            (e = Document.prototype).exitFullscreen = e.exitFullscreen || e.mozCancelFullScreen || e.msExitFullscreen || e.webkitCancelFullScreen,
            "fullscreenElement"in document || (Object.defineProperty(document, "fullscreenElement", {
                get: function() {
                    return document.mozFullScreenElement || document.msFullscreenElement || document.webkitCurrentFullScreenElement || document.webkitFullscreenElement
                }
            }),
            Object.defineProperty(document, "fullscreenEnabled", {
                get: function() {
                    return document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitFullscreenEnabled
                }
            })),
            document.addEventListener("webkitfullscreenchange", B0),
            document.addEventListener("webkitfullscreenerror", B0),
            document.addEventListener("mozfullscreenchange", B0),
            document.addEventListener("mozfullscreenerror", B0),
            document.addEventListener("MSFullscreenChange", B0),
            document.addEventListener("MSFullscreenError", B0))
        }
        function B0(e) {
            var t = e.type.replace(/^(webkit|moz|MS)/, "").toLowerCase()
              , n = document.createEvent("Event");
            n.initEvent(t, e.bubbles, e.cancelable),
            e.target.dispatchEvent(n)
        }
        function G0() {}
        function V0() {
            var e = !0;
            !Fe() || Fe() && yt() || Fe() && f("Fuchsia") || (e = !1),
            (e = Ge() || Ve() || He() || je() || Oe() || f("PC=EOS") || Ke() || f("WPE") ? !1 : e) && navigator.mediaCapabilities || (navigator.mediaCapabilities || (navigator.mediaCapabilities = {}),
            J0 = navigator.mediaCapabilities,
            navigator.mediaCapabilities.decodingInfo = H0)
        }
        function H0(f) {
            var p, g, m, v, y;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (p = {
                        supported: !1,
                        powerEfficient: !0,
                        smooth: !0,
                        keySystemAccess: null,
                        configuration: f
                    },
                    g = f.video,
                    m = f.audio,
                    "media-source" != f.type) {
                        if ("file" != f.type)
                            return e.return(p);
                        if (g && (v = g.contentType,
                        !De(v)) || m && (v = m.contentType,
                        !De(v)))
                            return e.return(p);
                        e.A(2);
                        break
                    }
                    if (!Pe())
                        return e.return(p);
                    if (g)
                        return We(e, (d = g,
                        $e(function(e) {
                            return 1 == e.g ? Fe() ? We(e, (t = d,
                            $e(function(e) {
                                if (1 != e.g)
                                    return 2 != e.g && (a = e.h,
                                    Q0[n] = a),
                                    e.return(a);
                                if (!(U.cast && cast.__platform__ && cast.__platform__.canDisplayType))
                                    return e.return(vn(t.contentType));
                                switch (n = t.contentType,
                                t.width && t.height && (1280 < t.width || 720 < t.height) && (n += "; width=" + t.width + "; height=" + t.height),
                                t.framerate && ((i = Math.round(t.framerate)) < 24 || 30 < i) && (n += "; framerate=" + t.framerate),
                                t.transferFunction || "") {
                                case "":
                                case "srgb":
                                    break;
                                case "pq":
                                    n += "; eotf=smpte2084";
                                    break;
                                case "hlg":
                                    n += "; eotf=arib-std-b67";
                                    break;
                                default:
                                    return e.return(!1)
                                }
                                return a = !1,
                                n in Q0 ? (a = Q0[n],
                                e.A(2)) : We(e, cast.__platform__.canDisplayType(n), 3)
                            })), 3) : Oe() ? (h = d.contentType,
                            d.width && d.height && (h = (h += "; width=" + d.width) + ("; height=" + d.height)),
                            d.framerate && (h += "; framerate=" + d.framerate),
                            d.bitrate && (h += "; bitrate=" + d.bitrate),
                            e.return(vn(h))) : e.A(2) : 2 != e.g ? (h = e.h,
                            e.return(h)) : e.return(vn(d.contentType));
                            var t, n, i, a
                        })), 4);
                    e.A(3);
                    break;
                case 4:
                    if (!e.h)
                        return e.return(p);
                case 3:
                    if (m) {
                        var t = m.contentType;
                        if (Fe() && m.spatialRendering && (t += "; spatialRendering=true"),
                        !vn(t))
                            return e.return(p)
                    }
                case 2:
                    return f.keySystemConfiguration ? (y = f.keySystemConfiguration,
                    We(e, (n = g,
                    i = m,
                    a = y,
                    $e(function(e) {
                        switch (e.g) {
                        case 1:
                            if (s = [],
                            u = [],
                            a.audio && (r = {
                                robustness: a.audio.robustness || "",
                                contentType: i.contentType
                            },
                            Oe() && i.contentType.includes('codecs="ac-3"') && (r.contentType = 'audio/mp4; codecs="ec-3"'),
                            a.audio.encryptionScheme && (r.encryptionScheme = a.audio.encryptionScheme),
                            s.push(r)),
                            a.video && (r = {
                                robustness: a.video.robustness || "",
                                contentType: n.contentType
                            },
                            a.video.encryptionScheme && (r.encryptionScheme = a.video.encryptionScheme),
                            u.push(r)),
                            o = {
                                initDataTypes: [a.initDataType],
                                distinctiveIdentifier: a.distinctiveIdentifier,
                                persistentState: a.persistentState,
                                sessionTypes: a.sessionTypes
                            },
                            s.length && (o.audioCapabilities = s),
                            u.length && (o.videoCapabilities = u),
                            s = n ? n.contentType : "",
                            u = i ? i.contentType : "",
                            s = la(s) + ";" + ua(s),
                            u = la(u) + ";" + ua(u),
                            l = a.keySystem,
                            c = null,
                            qe(e, 2),
                            Le.has(s + "#" + u + "#" + l)) {
                                c = Le.get(s + "#" + u + "#" + l) || null,
                                e.A(4);
                                break
                            }
                            return We(e, navigator.requestMediaKeySystemAccess(a.keySystem, [o]), 5);
                        case 5:
                            c = e.h,
                            Le.set(s + "#" + u + "#" + l, c);
                        case 4:
                            Je(e, 3);
                            break;
                        case 2:
                            Qe(e);
                        case 3:
                            return e.return(c)
                        }
                    })), 6)) : (p.supported = !0,
                    e.return(p));
                case 6:
                    (y = e.h) && (p.supported = !0,
                    p.keySystemAccess = y);
                case 5:
                    return e.return(p)
                }
                var n, i, a, r, o, s, u, l, c, d, h
            })
        }
        P0((L0.Aria = N0).install = _0),
        P0((L0.EncryptionScheme = O0).install = U0, -2),
        P0((L0.Fullscreen = j0).install = F0),
        (L0.MediaCapabilities = G0).install = V0;
        var K0, z0, X0, W0, Y0, q0, J0 = null, Q0 = (G0.originalMcap = J0,
        {});
        function $0() {}
        function Z0() {
            var t, n, i, a, r, e = mt();
            (U.MediaSource || U.ManagedMediaSource) && (e && U.MediaSource ? e <= 10 ? U.MediaSource = null : e <= 12 ? (ey(),
            ty()) : e <= 15 && ey() : f("DT_STB_BCM") ? (ey(),
            ty()) : f("Tizen 2") || Ue() || f("Tizen 4") ? (t = MediaSource.isTypeSupported.bind(MediaSource),
            MediaSource.isTypeSupported = function(e) {
                return "opus" != ua(e) && t(e)
            }
            ,
            U.ManagedMediaSource && (n = ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource),
            U.ManagedMediaSource.isTypeSupported = function(e) {
                return "opus" != ua(e) && n(e)
            }
            )) : f("WPE") && (ey(),
            ty()));
            (U.MediaSource || U.ManagedMediaSource) && (U.MediaSource && (i = MediaSource.isTypeSupported.bind(MediaSource),
            MediaSource.isTypeSupported = function(e) {
                return "mp2t" != oa(e) && i(e)
            }
            ),
            U.ManagedMediaSource && (a = ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource),
            U.ManagedMediaSource.isTypeSupported = function(e) {
                return "mp2t" != oa(e) && a(e)
            }
            ));
            U.MediaSource && MediaSource.isTypeSupported('video/webm; codecs="vp9"') && !MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"') && (r = MediaSource.isTypeSupported,
            je() || (MediaSource.isTypeSupported = function(e) {
                var t = e.split(/ *; */)
                  , n = t.findIndex(function(e) {
                    return e.startsWith("codecs=")
                });
                if (n < 0)
                    return r(e);
                var i = t[n].replace("codecs=", "").replace(/"/g, "").split(/\s*,\s*/)
                  , a = i.findIndex(function(e) {
                    return e.startsWith("vp09")
                });
                return 0 <= a && (i[a] = "vp9",
                t[n] = 'codecs="' + i.join(",") + '"',
                e = t.join("; ")),
                r(e)
            }
            ))
        }
        function ey() {
            var t = MediaSource.prototype.addSourceBuffer;
            MediaSource.prototype.addSourceBuffer = function() {
                var e = t.apply(this, P.apply(0, arguments));
                return e.abort = function() {}
                ,
                e
            }
        }
        function ty() {
            var n = SourceBuffer.prototype.remove;
            SourceBuffer.prototype.remove = function(e, t) {
                return n.call(this, e, t - .001)
            }
        }
        function ny() {}
        function iy() {
            function t() {
                switch (U.orientation) {
                case -90:
                    n.type = "landscape-secondary",
                    n.angle = 270;
                    break;
                case 0:
                    n.type = "portrait-primary",
                    n.angle = 0;
                    break;
                case 90:
                    n.type = "landscape-primary",
                    n.angle = 90;
                    break;
                case 180:
                    n.type = "portrait-secondary",
                    n.angle = 180
                }
            }
            var n;
            screen.orientation && screen.orientation.unlock || (null != screen.orientation ? (void 0 === screen.orientation.lock && (screen.orientation.lock = function() {
                return Promise.resolve()
            }
            ),
            void 0 === screen.orientation.unlock && (screen.orientation.unlock = function() {}
            )) : null != U.orientation && (n = new ay,
            screen.orientation = n,
            t(),
            U.addEventListener("orientationchange", function() {
                t();
                var e = new Xe("change");
                n.dispatchEvent(e)
            })))
        }
        function ay() {
            h.call(this),
            this.type = "",
            this.angle = 0
        }
        function ry() {}
        function oy(e, t) {
            try {
                var n = new ly(e,t);
                return Promise.resolve(n)
            } catch (e) {
                return Promise.reject(e)
            }
        }
        function sy(e) {
            var t = this.mediaKeys;
            return t && t != e && dy(t, null),
            delete this.mediaKeys,
            (this.mediaKeys = e) ? dy(e, this) : Promise.resolve()
        }
        function uy(e) {
            if (Ee(e = tt(e.initData)).getUint32(0, !0) + 4 != e.byteLength)
                throw new RangeError("Malformed FairPlay init data");
            e = Mt(e = kt(e.subarray(4), !0));
            var t = new Event("encrypted");
            t.initDataType = "skd",
            t.initData = we(e),
            this.dispatchEvent(t)
        }
        function ly(e, t) {
            if ((this.keySystem = e).startsWith("com.apple.fps"))
                for (t = (e = Ze(t)).next(); !t.done; t = e.next()) {
                    var n = t.value;
                    if ("required" == n.persistentState)
                        t = null;
                    else {
                        var i = !(t = {
                            audioCapabilities: [],
                            videoCapabilities: [],
                            persistentState: "optional",
                            distinctiveIdentifier: "optional",
                            initDataTypes: n.initDataTypes,
                            sessionTypes: ["temporary"],
                            label: n.label
                        })
                          , a = !1;
                        if (n.audioCapabilities)
                            for (var r = Ze(n.audioCapabilities), o = r.next(); !o.done; o = r.next())
                                (o = o.value).contentType && (i = !0,
                                WebKitMediaKeys.isTypeSupported(this.keySystem, o.contentType.split(";")[0]) && (t.audioCapabilities.push(o),
                                a = !0));
                        if (n.videoCapabilities)
                            for (r = (n = Ze(n.videoCapabilities)).next(); !r.done; r = n.next())
                                (r = r.value).contentType && (i = !0,
                                WebKitMediaKeys.isTypeSupported(this.keySystem, r.contentType.split(";")[0]) && (t.videoCapabilities.push(r),
                                a = !0));
                        t = (a = i ? a : WebKitMediaKeys.isTypeSupported(this.keySystem, "video/mp4")) ? t : null
                    }
                    if (t)
                        return void (this.g = t)
                }
            throw (e = Error("Unsupported keySystem")).name = "NotSupportedError",
            e.code = DOMException.NOT_SUPPORTED_ERR,
            e
        }
        function cy(e) {
            this.h = new WebKitMediaKeys(e),
            this.g = new pn
        }
        function dy(e, t) {
            if (e.g.cb(),
            !t)
                return Promise.resolve();
            e.g.o(t, "webkitneedkey", uy);
            try {
                return qs(t, HTMLMediaElement.HAVE_METADATA, e.g, function() {
                    t.webkitSetMediaKeys(e.h)
                }),
                Promise.resolve()
            } catch (e) {
                return Promise.reject(e)
            }
        }
        function hy(e) {
            h.call(this),
            this.i = null,
            this.l = e,
            this.g = this.h = null,
            this.j = new pn,
            this.sessionId = "",
            this.expiration = NaN,
            this.closed = new fr,
            this.keyStatuses = new py
        }
        function fy(e, t) {
            var n = e.keyStatuses;
            n.size = null == t ? 0 : 1,
            n.g = t,
            t = new Xe("keystatuseschange"),
            e.dispatchEvent(t)
        }
        function py() {
            this.size = 0,
            this.g = void 0
        }
        G0.memoizedCanDisplayTypeRequests_ = Q0,
        P0(V0, -1),
        P0((L0.MediaSource = $0).install = Z0),
        (L0.Orientation = ny).install = iy,
        n(ay, h),
        ay.prototype.lock = function(e) {
            function t(e) {
                return screen.lockOrientation ? screen.lockOrientation(e) : screen.mozLockOrientation ? screen.mozLockOrientation(e) : !!screen.msLockOrientation && screen.msLockOrientation(e)
            }
            var n = !1;
            switch (e) {
            case "natural":
                n = t("default");
                break;
            case "any":
                n = !0,
                this.unlock();
                break;
            default:
                n = t(e)
            }
            return n ? Promise.resolve() : ((e = Error("screen.orientation.lock() is not available on this device")).name = "NotSupportedError",
            e.code = DOMException.NOT_SUPPORTED_ERR,
            Promise.reject(e))
        }
        ,
        ay.prototype.unlock = function() {
            screen.unlockOrientation ? screen.unlockOrientation() : screen.mozUnlockOrientation ? screen.mozUnlockOrientation() : screen.msUnlockOrientation && screen.msUnlockOrientation()
        }
        ,
        P0(iy),
        (L0.PatchedMediaKeysApple = ry).uninstall = function() {
            K0 && (K0 = !1,
            Object.defineProperty(HTMLMediaElement.prototype, "mediaKeys", z0),
            HTMLMediaElement.prototype.setMediaKeys = X0,
            U.MediaKeys = W0,
            U.MediaKeySystemAccess = Y0,
            navigator.requestMediaKeySystemAccess = q0,
            z0 = q0 = X0 = Y0 = W0 = null,
            U.shakaMediaKeysPolyfill = "")
        }
        ,
        ry.install = function(e) {
            U.HTMLVideoElement && U.WebKitMediaKeys && (void 0 !== e && e && (K0 = !0,
            z0 = Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, "mediaKeys"),
            X0 = HTMLMediaElement.prototype.setMediaKeys,
            W0 = U.MediaKeys,
            Y0 = U.MediaKeySystemAccess,
            q0 = navigator.requestMediaKeySystemAccess),
            delete HTMLMediaElement.prototype.mediaKeys,
            HTMLMediaElement.prototype.mediaKeys = null,
            HTMLMediaElement.prototype.setMediaKeys = sy,
            U.MediaKeys = cy,
            U.MediaKeySystemAccess = ly,
            navigator.requestMediaKeySystemAccess = oy,
            U.shakaMediaKeysPolyfill = gy)
        }
        ,
        ly.prototype.createMediaKeys = function() {
            var e = new cy(this.keySystem);
            return Promise.resolve(e)
        }
        ,
        ly.prototype.getConfiguration = function() {
            return this.g
        }
        ,
        cy.prototype.createSession = function(e) {
            if ("temporary" != (e = e || "temporary"))
                throw new TypeError("Session type " + e + " is unsupported on this platform.");
            return new hy(this.h)
        }
        ,
        cy.prototype.setServerCertificate = function() {
            return Promise.resolve(!1)
        }
        ,
        cy.prototype.getStatusForPolicy = function() {
            return Promise.resolve("usable")
        }
        ,
        n(hy, h),
        (t = hy.prototype).generateRequest = function(e, t) {
            var n = this;
            this.h = new fr;
            try {
                var i = this.l.createSession("video/mp4", tt(t));
                this.i = i,
                this.sessionId = i.sessionId || "",
                this.j.o(this.i, "webkitkeymessage", function(e) {
                    n.h && (n.h.resolve(),
                    n.h = null),
                    e = new Xe("message",e = (new Map).set("messageType", null == n.keyStatuses.uc() ? "license-request" : "license-renewal").set("message", we(e.message))),
                    n.dispatchEvent(e)
                }),
                this.j.o(i, "webkitkeyadded", function() {
                    n.g && (fy(n, "usable"),
                    n.g.resolve(),
                    n.g = null)
                }),
                this.j.o(i, "webkitkeyerror", function() {
                    var e = Error("EME PatchedMediaKeysApple key error");
                    if (e.errorCode = n.i.error,
                    null != n.h)
                        n.h.reject(e),
                        n.h = null;
                    else if (null != n.g)
                        n.g.reject(e),
                        n.g = null;
                    else
                        switch (n.i.error.code) {
                        case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:
                        case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:
                            fy(n, "output-not-allowed");
                            break;
                        default:
                            fy(n, "internal-error")
                        }
                }),
                fy(this, "status-pending")
            } catch (e) {
                this.h.reject(e)
            }
            return this.h
        }
        ,
        t.load = function() {
            return Promise.reject(Error("MediaKeySession.load not yet supported"))
        }
        ,
        t.update = function(e) {
            this.g = new fr;
            try {
                this.i.update(tt(e))
            } catch (e) {
                this.g.reject(e)
            }
            return this.g
        }
        ,
        t.close = function() {
            try {
                this.i.close(),
                this.closed.resolve(),
                this.j.cb()
            } catch (e) {
                this.closed.reject(e)
            }
            return this.closed
        }
        ,
        t.remove = function() {
            return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))
        }
        ,
        (t = py.prototype).uc = function() {
            return this.g
        }
        ,
        t.forEach = function(e) {
            this.g && e(this.g, Me.value())
        }
        ,
        t.get = function(e) {
            if (this.has(e))
                return this.g
        }
        ,
        t.has = function(e) {
            var t = Me.value();
            return !(!this.g || !Te(e, t))
        }
        ,
        t.entries = function() {}
        ,
        t.keys = function() {}
        ,
        t.values = function() {}
        ;
        var gy = "apple";
        function my() {}
        function vy() {
            U.MediaKeys && (!MediaKeys.prototype.setServerCertificate || Ue() || f("Tizen 4") || f("Tizen 5.0") || je() && 38 === Be()) && (MediaKeys.prototype.setServerCertificate = yy)
        }
        function yy() {
            return Promise.resolve(!1)
        }
        function by() {}
        function Ty() {
            !U.HTMLVideoElement || navigator.requestMediaKeySystemAccess && MediaKeySystemAccess.prototype.getConfiguration || (navigator.requestMediaKeySystemAccess = wy,
            delete HTMLMediaElement.prototype.mediaKeys,
            HTMLMediaElement.prototype.mediaKeys = null,
            HTMLMediaElement.prototype.setMediaKeys = Sy,
            U.MediaKeys = Ey,
            U.MediaKeySystemAccess = Ay,
            U.shakaMediaKeysPolyfill = xy)
        }
        function wy() {
            return Promise.reject(Error("The key system specified is not supported."))
        }
        function Sy(e) {
            return null == e ? Promise.resolve() : Promise.reject(Error("MediaKeys not supported."))
        }
        function Ey() {
            throw new TypeError("Illegal constructor.")
        }
        function Ay() {
            throw this.keySystem = "",
            new TypeError("Illegal constructor.")
        }
        P0((L0.PatchedMediaKeysCert = my).install = vy),
        (L0.PatchedMediaKeysNop = by).install = Ty,
        Ey.prototype.createSession = function() {}
        ,
        Ey.prototype.setServerCertificate = function() {}
        ,
        Ey.prototype.getStatusForPolicy = function() {
            return Promise.resolve("usable")
        }
        ,
        Ay.prototype.getConfiguration = function() {}
        ,
        Ay.prototype.createMediaKeys = function() {}
        ;
        var xy = "nop";
        function Iy() {}
        function ky() {
            if (!(!U.HTMLVideoElement || navigator.requestMediaKeySystemAccess && MediaKeySystemAccess.prototype.getConfiguration)) {
                if (HTMLMediaElement.prototype.webkitGenerateKeyRequest)
                    Fy = "webkit";
                else if (!HTMLMediaElement.prototype.generateKeyRequest)
                    return;
                navigator.requestMediaKeySystemAccess = My,
                delete HTMLMediaElement.prototype.mediaKeys,
                HTMLMediaElement.prototype.mediaKeys = null,
                HTMLMediaElement.prototype.setMediaKeys = Ly,
                U.MediaKeys = Py,
                U.MediaKeySystemAccess = Ry,
                U.shakaMediaKeysPolyfill = By
            }
        }
        function Cy(e) {
            return Fy ? Fy + e.charAt(0).toUpperCase() + e.slice(1) : e
        }
        function My(e, t) {
            try {
                var n = new Ry(e,t);
                return Promise.resolve(n)
            } catch (e) {
                return Promise.reject(e)
            }
        }
        function Ly(e) {
            var t = this.mediaKeys;
            return t && t != e && Dy(t, null),
            delete this.mediaKeys,
            (this.mediaKeys = e) && Dy(e, this),
            Promise.resolve()
        }
        function Ry(e, t) {
            for (var n = !1, i = ("org.w3.clearkey" == (this.g = this.keySystem = e) && (n = !(this.g = "webkit-org.w3.clearkey")),
            !1), a = (a = document.getElementsByTagName("video")).length ? a[0] : document.createElement("video"), r = (t = Ze(t)).next(); !r.done; r = t.next()) {
                var o = {
                    audioCapabilities: [],
                    videoCapabilities: [],
                    persistentState: "optional",
                    distinctiveIdentifier: "optional",
                    initDataTypes: (r = r.value).initDataTypes,
                    sessionTypes: ["temporary"],
                    label: r.label
                }
                  , s = !1;
                if (r.audioCapabilities)
                    for (var u = Ze(r.audioCapabilities), l = u.next(); !l.done; l = u.next())
                        (l = l.value).contentType && (s = !0,
                        a.canPlayType(l.contentType.split(";")[0], this.g) && (o.audioCapabilities.push(l),
                        i = !0));
                if (r.videoCapabilities)
                    for (l = (u = Ze(r.videoCapabilities)).next(); !l.done; l = u.next())
                        (l = l.value).contentType && (s = !0,
                        a.canPlayType(l.contentType, this.g) && (o.videoCapabilities.push(l),
                        i = !0));
                if (s || (i = a.canPlayType("video/mp4", this.g) || a.canPlayType("video/webm", this.g)),
                "required" == r.persistentState && (n ? (o.persistentState = "required",
                o.sessionTypes = ["persistent-license"]) : i = !1),
                i)
                    return void (this.h = o)
            }
            throw n = "org.w3.clearkey" != e && "com.widevine.alpha" != e ? "Unsupported keySystem" : "None of the requested configurations were supported.",
            (e = Error(n)).name = "NotSupportedError",
            e.code = DOMException.NOT_SUPPORTED_ERR,
            e
        }
        function Py(e) {
            this.l = e,
            this.h = null,
            this.g = new pn,
            this.i = [],
            this.j = new Map
        }
        function Dy(a, e) {
            a.h = e,
            a.g.cb();
            var t = Fy;
            e && (a.g.o(e, t + "needkey", function(e) {
                var t = new CustomEvent("encrypted");
                t.initDataType = "cenc",
                t.initData = we(e.initData),
                a.h.dispatchEvent(t)
            }),
            a.g.o(e, t + "keymessage", function(e) {
                var t = Ny(a, e.sessionId);
                t && (e = new Xe("message",e = (new Map).set("messageType", null == t.keyStatuses.uc() ? "licenserequest" : "licenserenewal").set("message", e.message)),
                t.h && (t.h.resolve(),
                t.h = null),
                t.dispatchEvent(e))
            }),
            a.g.o(e, t + "keyadded", function(e) {
                (e = Ny(a, e.sessionId)) && e.ready()
            }),
            a.g.o(e, t + "keyerror", function(e) {
                var t, n, i = Ny(a, e.sessionId);
                i && (t = Error("EME v0.1b key error"),
                (n = e.errorCode).systemCode = e.systemCode,
                t.errorCode = n,
                !e.sessionId && i.h ? (45 == e.systemCode && (t.message = "Unsupported session type."),
                i.h.reject(t),
                i.h = null) : e.sessionId && i.g ? (i.g.reject(t),
                i.g = null) : (t = e.systemCode,
                e.errorCode.code == MediaKeyError.MEDIA_KEYERR_OUTPUT ? Uy(i, "output-restricted") : Uy(i, 1 == t ? "expired" : "internal-error")))
            }))
        }
        function Ny(e, t) {
            var n = e.j.get(t);
            return n || ((n = e.i.shift()) ? (n.sessionId = t,
            e.j.set(t, n),
            n) : null)
        }
        function _y(e, t, n) {
            h.call(this),
            this.j = e,
            this.m = !1,
            this.g = this.h = null,
            this.i = t,
            this.l = n,
            this.sessionId = "",
            this.expiration = NaN,
            this.closed = new fr,
            this.keyStatuses = new jy
        }
        function Oy(t, e, n) {
            if (t.m)
                return Promise.reject(Error("The session is already initialized."));
            t.m = !0;
            try {
                var i;
                i = "persistent-license" == t.l ? n ? tt(Mt("LOAD_SESSION|" + n)) : Bt(Mt("PERSISTENT|"), e) : tt(e)
            } catch (e) {
                return Promise.reject(e)
            }
            t.h = new fr;
            var a = Cy("generateKeyRequest");
            try {
                t.j[a](t.i, i)
            } catch (e) {
                if ("InvalidStateError" != e.name)
                    return t.h = null,
                    Promise.reject(e);
                new C(function() {
                    try {
                        t.j[a](t.i, i)
                    } catch (e) {
                        t.h.reject(e),
                        t.h = null
                    }
                }
                ).Y(.01)
            }
            return t.h
        }
        function Uy(e, t) {
            var n = e.keyStatuses;
            n.size = null == t ? 0 : 1,
            n.g = t,
            t = new Xe("keystatuseschange"),
            e.dispatchEvent(t)
        }
        function jy() {
            this.size = 0,
            this.g = void 0
        }
        P0(Ty, -10),
        (L0.PatchedMediaKeysWebkit = Iy).install = ky,
        Ry.prototype.createMediaKeys = function() {
            var e = new Py(this.g);
            return Promise.resolve(e)
        }
        ,
        Ry.prototype.getConfiguration = function() {
            return this.h
        }
        ,
        Py.prototype.createSession = function(e) {
            if ("temporary" != (e = e || "temporary") && "persistent-license" != e)
                throw new TypeError("Session type " + e + " is unsupported on this platform.");
            var t = this.h || document.createElement("video");
            return t.src || (t.src = "about:blank"),
            e = new _y(t,this.l,e),
            this.i.push(e),
            e
        }
        ,
        Py.prototype.setServerCertificate = function() {
            return Promise.resolve(!1)
        }
        ,
        Py.prototype.getStatusForPolicy = function() {
            return Promise.resolve("usable")
        }
        ,
        n(_y, h),
        (t = _y.prototype).ready = function() {
            Uy(this, "usable"),
            this.g && this.g.resolve(),
            this.g = null
        }
        ,
        t.generateRequest = function(e, t) {
            return Oy(this, t, null)
        }
        ,
        t.load = function(e) {
            return "persistent-license" == this.l ? Oy(this, null, e) : Promise.reject(Error("Not a persistent session."))
        }
        ,
        t.update = function(e) {
            var t = new fr;
            return function e(t, n, i) {
                if (t.g)
                    t.g.then(function() {
                        return e(t, n, i)
                    }).catch(function() {
                        return e(t, n, i)
                    });
                else {
                    t.g = n,
                    r = "webkit-org.w3.clearkey" == t.i ? (a = It(i),
                    "oct" != (r = JSON.parse(a)).keys[0].kty && (t.g.reject(Error("Response is not a valid JSON Web Key Set.")),
                    t.g = null),
                    a = Ut(r.keys[0].k),
                    Ut(r.keys[0].kid)) : (a = tt(i),
                    null);
                    var a, r, o = Cy("addKey");
                    try {
                        t.j[o](t.i, a, r, t.sessionId)
                    } catch (e) {
                        t.g.reject(e),
                        t.g = null
                    }
                }
            }(this, t, e),
            t
        }
        ,
        t.close = function() {
            if ("persistent-license" != this.l) {
                if (!this.sessionId)
                    return this.closed.reject(Error("The session is not callable.")),
                    this.closed;
                var e = Cy("cancelKeyRequest");
                try {
                    this.j[e](this.i, this.sessionId)
                } catch (e) {}
            }
            return this.closed.resolve(),
            this.closed
        }
        ,
        t.remove = function() {
            return "persistent-license" != this.l ? Promise.reject(Error("Not a persistent session.")) : this.close()
        }
        ,
        (t = jy.prototype).uc = function() {
            return this.g
        }
        ,
        t.forEach = function(e) {
            this.g && e(this.g, Me.value())
        }
        ,
        t.get = function(e) {
            if (this.has(e))
                return this.g
        }
        ,
        t.has = function(e) {
            var t = Me.value();
            return !(!this.g || !Te(e, t))
        }
        ,
        t.entries = function() {}
        ,
        t.keys = function() {}
        ,
        t.values = function() {}
        ;
        var Fy = ""
          , By = "webkit";
        function Gy() {}
        function Vy() {
            var e;
            !U.HTMLVideoElement || (e = HTMLVideoElement.prototype).requestPictureInPicture && document.exitPictureInPicture || !e.webkitSupportsPresentationMode || (document.pictureInPictureEnabled = !0,
            document.pictureInPictureElement = null,
            e.requestPictureInPicture = Ky,
            Object.defineProperty(e, "disablePictureInPicture", {
                get: Xy,
                set: Wy,
                enumerable: !0,
                configurable: !0
            }),
            document.exitPictureInPicture = zy,
            document.addEventListener("webkitpresentationmodechanged", Hy, !0))
        }
        function Hy(e) {
            var t = "picture-in-picture" == (e = e.target).webkitPresentationMode ? (document.pictureInPictureElement = e,
            new Event("enterpictureinpicture")) : (document.pictureInPictureElement == e && (document.pictureInPictureElement = null),
            new Event("leavepictureinpicture"));
            e.dispatchEvent(t)
        }
        function Ky() {
            return this.webkitSupportsPresentationMode("picture-in-picture") ? (this.webkitSetPresentationMode("picture-in-picture"),
            document.pictureInPictureElement = this,
            Promise.resolve()) : Promise.reject(Error("PiP not allowed by video element"))
        }
        function zy() {
            var e = document.pictureInPictureElement;
            return e ? (e.webkitSetPresentationMode("inline"),
            document.pictureInPictureElement = null,
            Promise.resolve()) : Promise.reject(Error("No picture in picture element found"))
        }
        function Xy() {
            return !!this.hasAttribute("disablePictureInPicture") || !this.webkitSupportsPresentationMode("picture-in-picture")
        }
        function Wy(e) {
            e ? this.setAttribute("disablePictureInPicture", "") : this.removeAttribute("disablePictureInPicture")
        }
        function Yy() {}
        function qy() {
            !U.crypto || "randomUUID"in U.crypto || (U.crypto.randomUUID = Jy)
        }
        function Jy() {
            var e = URL.createObjectURL(new Blob)
              , t = e.toString();
            return URL.revokeObjectURL(e),
            t.substr(t.lastIndexOf("/") + 1)
        }
        function Qy() {}
        function $y() {
            var e = Symbol.prototype;
            "description"in e || Object.defineProperty(e, "description", {
                get: Zy
            })
        }
        function Zy() {
            var e = /\((.*)\)/.exec(this.toString());
            return e ? e[1] : void 0
        }
        function e1() {}
        function t1() {
            var t;
            U.HTMLMediaElement && (t = HTMLMediaElement.prototype.play,
            HTMLMediaElement.prototype.play = function() {
                var e = t.apply(this);
                return e && e.catch(function() {}),
                e
            }
            )
        }
        function n1() {}
        function i1() {
            var e;
            U.HTMLVideoElement && !(e = HTMLVideoElement.prototype).getVideoPlaybackQuality && ("webkitDroppedFrameCount"in e || je() && 38 === Be()) && (e.getVideoPlaybackQuality = a1)
        }
        function a1() {
            return {
                droppedVideoFrames: this.webkitDroppedFrameCount,
                totalVideoFrames: this.webkitDecodedFrameCount,
                corruptedVideoFrames: 0,
                creationTime: NaN,
                totalFrameDelay: 0
            }
        }
        function r1() {}
        function o1() {
            if (!U.VTTCue && U.TextTrackCue) {
                var i = null
                  , e = TextTrackCue.length;
                if (3 == e)
                    i = s1;
                else if (6 == e)
                    i = u1;
                else {
                    try {
                        var t = !!s1(1, 2, "")
                    } catch (e) {
                        t = !1
                    }
                    t && (i = s1)
                }
                i && (U.VTTCue = function(e, t, n) {
                    return i(e, t, n)
                }
                )
            }
        }
        function s1(e, t, n) {
            return new U.TextTrackCue(e,t,n)
        }
        function u1(e, t, n) {
            return new U.TextTrackCue(e + "-" + t + "-" + n,e,t,n)
        }
        function l1() {}
        P0(ky),
        P0((L0.PiPWebkit = Gy).install = Vy),
        P0((L0.RandomUUID = Yy).install = qy),
        P0((L0.Symbol = Qy).install = $y),
        P0((L0.VideoPlayPromise = e1).install = t1),
        P0((L0.VideoPlaybackQuality = n1).install = i1),
        P0((L0.VTTCue = r1).install = o1),
        l1.prototype.parseInit = function() {}
        ,
        l1.prototype.setSequenceMode = function() {}
        ,
        l1.prototype.setManifestType = function() {}
        ,
        l1.prototype.parseMedia = function(e, t) {
            for (var n, i = null, a = [], r = (e = Ze(e = It(e).split(/\r?\n/))).next(); !r.done; r = e.next())
                (r = r.value) && !/^\s+$/.test(r) && (r = c1.exec(r)) && (n = d1.exec(r[1]),
                r = new Ei(n = 60 * parseInt(n[1], 10) + parseFloat(n[2].replace(",", ".")),t.segmentEnd || n + 2,r[2]),
                i && (i.endTime = n,
                a.push(i)),
                i = r);
            return i && a.push(i),
            a
        }
        ,
        i("shaka.text.LrcTextParser", l1);
        var c1 = /^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/
          , d1 = /^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;
        function h1() {}
        function f1(e) {
            var t = e.match(/rgba\(([^)]+)\)/);
            return t && 4 == (t = t[1].split(",")).length ? (t[3] = String(Number(t[3]) / 255),
            "rgba(" + t.join(",") + ")") : e
        }
        function p1(e, t, n, i, a, r, o, s) {
            if ("rtl" == m1(t, n, r, "direction", o = o || s) && (e.direction = "rtl"),
            "tb" == (s = m1(t, n, r, "writingMode", o)) || "tblr" == s ? e.writingMode = "vertical-lr" : "tbrl" == s ? e.writingMode = "vertical-rl" : "rltb" == s || "rl" == s ? e.direction = "rtl" : s && (e.direction = Ni),
            (s = m1(t, n, r, "textAlign", !0)) ? (e.positionAlign = U1[s],
            e.lineAlign = O1[s],
            e.textAlign = Ri[s.toUpperCase()]) : e.textAlign = Li,
            (s = m1(t, n, r, "displayAlign", !0)) && (e.displayAlign = Di[s.toUpperCase()]),
            (s = m1(t, n, r, "color", o)) && (e.color = f1(s)),
            (s = m1(t, n, r, "backgroundColor", o)) && (e.backgroundColor = f1(s)),
            (s = m1(t, n, r, "border", o)) && (e.border = s),
            s = m1(t, n, r, "fontFamily", o))
                switch (s) {
                case "monospaceSerif":
                    e.fontFamily = "Courier New,Liberation Mono,Courier,monospace";
                    break;
                case "proportionalSansSerif":
                    e.fontFamily = "Arial,Helvetica,Liberation Sans,sans-serif";
                    break;
                case "sansSerif":
                    e.fontFamily = "sans-serif";
                    break;
                case "monospaceSansSerif":
                    e.fontFamily = "Consolas,monospace";
                    break;
                case "proportionalSerif":
                    e.fontFamily = "serif";
                    break;
                default:
                    e.fontFamily = s.split(",").filter(function(e) {
                        return "default" != e
                    }).join(",")
                }
            switch ((s = m1(t, n, r, "fontWeight", o)) && "bold" == s && (e.fontWeight = Vi),
            s = m1(t, n, r, "wrapOption", o),
            e.wrapLine = !s || "noWrap" != s,
            (s = m1(t, n, r, "lineHeight", o)) && s.match(C1) && (e.lineHeight = s),
            (s = m1(t, n, r, "fontSize", o)) && (s.match(C1) || s.match(k1)) && (e.fontSize = s),
            (s = m1(t, n, r, "fontStyle", o)) && (e.fontStyle = zi[s.toUpperCase()]),
            i ? (a = i.attributes.imageType || i.attributes.imagetype,
            s = i.attributes.encoding,
            i = Zn(i).trim(),
            "PNG" == a && "Base64" == s && i && (e.backgroundImage = "data:image/png;base64," + i)) : a && (e.backgroundImage = a),
            (i = m1(t, n, r, "textOutline", o)) && ((i = i.split(" "))[0].match(C1) ? e.textStrokeColor = e.color : (e.textStrokeColor = f1(i[0]),
            i.shift()),
            i[0] && i[0].match(C1) ? e.textStrokeWidth = i[0] : e.textStrokeColor = ""),
            (i = m1(t, n, r, "letterSpacing", o)) && i.match(C1) && (e.letterSpacing = i),
            (i = m1(t, n, r, "linePadding", o)) && i.match(C1) && (e.linePadding = i),
            (i = m1(t, n, r, "opacity", o)) && (e.opacity = parseFloat(i)),
            (i = v1(n, r, "textDecoration")) && g1(e, i),
            (i = y1(t, r, "textDecoration")) && g1(e, i),
            (i = m1(t, n, r, "textCombine", o)) && (e.textCombineUpright = i),
            m1(t, n, r, "ruby", o)) {
            case "container":
                e.rubyTag = "ruby";
                break;
            case "text":
                e.rubyTag = "rt"
            }
        }
        function g1(e, t) {
            for (var n = (t = Ze(t.split(" "))).next(); !n.done; n = t.next())
                switch (n.value) {
                case "underline":
                    e.textDecoration.includes(Xi) || e.textDecoration.push(Xi);
                    break;
                case "noUnderline":
                    e.textDecoration.includes(Xi) && _n(e.textDecoration, Xi);
                    break;
                case "lineThrough":
                    e.textDecoration.includes("lineThrough") || e.textDecoration.push("lineThrough");
                    break;
                case "noLineThrough":
                    e.textDecoration.includes("lineThrough") && _n(e.textDecoration, "lineThrough");
                    break;
                case "overline":
                    e.textDecoration.includes("overline") || e.textDecoration.push("overline");
                    break;
                case "noOverline":
                    e.textDecoration.includes("overline") && _n(e.textDecoration, "overline")
                }
        }
        function m1(e, t, n, i, a) {
            return a = void 0 === a || a,
            (e = y1(e, n, i)) ? e : a ? v1(t, n, i) : null
        }
        function v1(e, t, n) {
            if (!e)
                return null;
            var i = oi(e, F1, n);
            return i || b1(e, t, n)
        }
        function y1(e, t, n) {
            var i = oi(e, F1, n);
            return i || b1(e, t, n)
        }
        function b1(e, t, n) {
            e = T1(e, "style", t, "");
            for (var i = null, a = 0; a < e.length; a++) {
                var r = ai(e[a], "urn:ebu:tt:style", n);
                (r = (r = r || oi(e[a], F1, n)) || y1(e[a], t, n)) && (i = r)
            }
            return i
        }
        function T1(e, t, n, i, a) {
            var r = [];
            if (!e || n.length < 1)
                return r;
            var o = e;
            for (e = null; !e && !(e = a ? ai(o, a, t) : o.attributes[t]) && (o = o.parent); )
                ;
            if (t = e)
                for (a = (t = Ze(t.split(" "))).next(); !a.done; a = t.next())
                    for (a = a.value,
                    o = (e = Ze(n)).next(); !o.done; o = e.next())
                        if (i + (o = o.value).attributes["xml:id"] == a) {
                            r.push(o);
                            break
                        }
            return r
        }
        function w1(e, t, n, i) {
            return e = S1(e, t),
            null == n ? n = e.start : null != e.start && (n += e.start),
            null == i ? i = e.end : null != e.start && (i += e.start),
            {
                start: n,
                end: i
            }
        }
        function S1(e, t) {
            var n = E1(e.attributes.begin, t)
              , i = E1(e.attributes.end, t);
            return e = E1(e.attributes.dur, t),
            {
                start: n,
                end: i = null == i && null != e ? n + e : i
            }
        }
        function E1(e, t) {
            var n = null;
            if (L1.test(e)) {
                e = L1.exec(e);
                var n = Number(e[1])
                  , i = Number(e[2])
                  , a = Number(e[3])
                  , r = Number(e[4]);
                n = (a += (r += (Number(e[5]) || 0) / t.h) / t.frameRate) + 60 * i + 3600 * n
            } else if (R1.test(e))
                n = A1(R1, e);
            else if (P1.test(e))
                n = A1(P1, e);
            else if (D1.test(e))
                e = D1.exec(e),
                n = Number(e[1]) / t.frameRate;
            else if (N1.test(e))
                e = N1.exec(e),
                n = Number(e[1]) / t.g;
            else if (_1.test(e))
                n = A1(_1, e);
            else if (e)
                throw new nt(2,2,2001,"Could not parse cue time range in TTML");
            return n
        }
        function A1(e, t) {
            return null == (e = e.exec(t)) || "" == e[0] ? null : (Number(e[4]) || 0) / 1e3 + (Number(e[3]) || 0) + 60 * (Number(e[2]) || 0) + 3600 * (Number(e[1]) || 0)
        }
        function x1(e, t, n, i) {
            this.frameRate = Number(e) || 30,
            this.h = Number(t) || 1,
            this.g = Number(i),
            0 == this.g && (this.g = e ? this.frameRate * this.h : 1),
            n && (e = /^(\d+) (\d+)$/g.exec(n)) && (this.frameRate *= Number(e[1]) / Number(e[2]))
        }
        ba["application/x-subtitle-lrc"] = function() {
            return new l1
        }
        ,
        h1.prototype.parseInit = function() {}
        ,
        h1.prototype.setSequenceMode = function() {}
        ,
        h1.prototype.setManifestType = function() {}
        ,
        h1.prototype.parseMedia = function(e, t, n, i) {
            var a = It(e);
            if (e = [],
            "" == a)
                return e;
            var r = Yn(a, "tt", !0);
            if (!r)
                throw new nt(2,2,2005,"Failed to parse TTML.");
            if (!(a = ti(r, "body")[0]))
                return [];
            var o, s = oi(r, j1, "frameRate"), u = oi(r, j1, "subFrameRate"), l = oi(r, j1, "frameRateMultiplier"), c = oi(r, j1, "tickRate"), d = oi(r, j1, "cellResolution"), h = r.attributes["xml:space"] || "default", f = oi(r, F1, "extent");
            if ("default" != h && "preserve" != h)
                throw new nt(2,2,2005,"Invalid xml:space value: " + h);
            for (var h = "default" == h, s = new x1(s,u,l,c), d = (o = (o = d) && /^(\d+) (\d+)$/.exec(o)) ? {
                Hc: parseInt(o[1], 10),
                rows: parseInt(o[2], 10)
            } : null, u = ((u = ti(r, "metadata")[0]) ? u.children : []).filter(function(e) {
                return "\n" != e
            }), l = ti(r, "style"), c = [], p = Ze(r = ti(r, "region")), g = p.next(); !g.done; g = p.next())
                (g = function(e, t, n) {
                    var i = new Rn
                      , a = e.attributes["xml:id"];
                    if (!a)
                        return null;
                    i.id = a,
                    a = null,
                    n && (a = I1.exec(n) || M1.exec(n)),
                    n = a ? Number(a[1]) : null,
                    a = a ? Number(a[2]) : null;
                    var r, o = v1(e, t, "extent");
                    {
                        var s;
                        !o || null != (s = (r = I1.exec(o)) || M1.exec(o)) && (i.width = Number(s[1]),
                        i.height = Number(s[2]),
                        r || (null != n && (i.width = 100 * i.width / n),
                        null != a && (i.height = 100 * i.height / a)),
                        i.widthUnits = r || null != n ? Pn : 0,
                        i.heightUnits = r || null != a ? Pn : 0)
                    }
                    (e = v1(e, t, "origin")) && null != (s = (r = I1.exec(e)) || M1.exec(e)) && (i.viewportAnchorX = Number(s[1]),
                    i.viewportAnchorY = Number(s[2]),
                    r ? o || (i.width = 100 - i.viewportAnchorX,
                    i.widthUnits = Pn,
                    i.height = 100 - i.viewportAnchorY,
                    i.heightUnits = Pn) : (null != a && (i.viewportAnchorY = 100 * i.viewportAnchorY / a),
                    null != n && (i.viewportAnchorX = 100 * i.viewportAnchorX / n)),
                    i.viewportAnchorUnits = r || null != n ? Pn : 0);
                    return i
                }(g.value, l, f)) && c.push(g);
            if ($n(a, "p").length)
                throw new nt(2,2,2001,"<p> can only be inside <div> in TTML");
            for (p = (f = Ze($n(a, "div"))).next(); !p.done; p = f.next())
                if ($n(p.value, "span").length)
                    throw new nt(2,2,2001,"<span> can only be inside <p> in TTML");
            return (t = function e(t, n, i, a, r, o, s, u, l, c, d, h, f) {
                var p = c;
                if (Jn(t)) {
                    if (!d)
                        return null;
                    var g = {
                        tagName: "span",
                        children: [Zn(t)],
                        attributes: {},
                        parent: null
                    }
                } else
                    g = t;
                for (var m = null, v = Ze(B1), y = v.next(); !y.done && !(m = T1(g, "backgroundImage", a, "#", y.value)[0]); y = v.next())
                    ;
                v = null;
                y = oi(g, B1, "backgroundImage");
                var b = /^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;
                if (y && b.test(y)) {
                    if ((v = parseInt(y.split(":").pop(), 10) - 1) >= f.length)
                        return null;
                    v = f[v]
                } else
                    h && y && !y.startsWith("#") && (b = new pt(h),
                    y = new pt(y),
                    (y = b.resolve(y).toString()) && (v = y));
                ("p" == t.tagName || m || v) && (d = !0);
                t = d;
                y = "default" == (g.attributes["xml:space"] || (u ? "default" : "preserve"));
                b = g.children.every(Jn);
                u = [];
                if (!b)
                    for (var T = Ze(g.children), w = T.next(); !w.done; w = T.next())
                        (w = e(w.value, n, i, a, r, o, s, y, l, g, d, h, f)) && u.push(w);
                a = null != c;
                h = Zn(g);
                h = g.children.length && h && /\S/.test(h);
                T = g.attributes.begin || g.attributes.end || g.attributes.dur;
                if (!(T || h || "br" == g.tagName || 0 != u.length || a && !y))
                    return null;
                f = S1(g, i);
                h = f.start;
                for (f = f.end; p && p.tagName && "tt" != p.tagName; )
                    f = w1(p, i, h, f),
                    h = f.start,
                    f = f.end,
                    p = p.parent;
                null == h && (h = 0);
                h += n.periodStart;
                f = null == f ? 1 / 0 : f + n.periodStart;
                h = Math.max(h, n.segmentStart);
                f = Math.min(f, n.segmentEnd);
                if (!T && 0 < u.length)
                    for (h = 1 / 0,
                    f = 0,
                    n = Ze(u),
                    i = n.next(); !i.done; i = n.next())
                        i = i.value,
                        h = Math.min(h, i.startTime),
                        f = Math.max(f, i.endTime);
                if ("br" == g.tagName)
                    return r = new Ei(h,f,""),
                    r.lineBreak = !0,
                    r;
                n = "";
                b && (n = Pt(Zn(g) || ""),
                y && (n = n.replace(/\s+/g, " ")));
                n = new Ei(h,f,n);
                n.nestedCues = u;
                d || (n.isContainer = !0);
                l && (n.cellResolution = l);
                l = T1(g, "region", o, "")[0];
                {
                    var S;
                    g.attributes.region && l && l.attributes["xml:id"] && (S = l.attributes["xml:id"],
                    n.region = s.filter(function(e) {
                        return e.id == S
                    })[0])
                }
                s = l;
                c && a && !g.attributes.region && !g.attributes.style && (s = T1(c, "region", o, "")[0]);
                p1(n, g, s, m, v, r, t, 0 == u.length);
                return n
            }(a, t, s, u, l, r, c, h, d, null, !1, n, i)) && (t.backgroundColor || (t.backgroundColor = "transparent"),
            e.push(t)),
            e
        }
        ,
        i("shaka.text.TtmlTextParser", h1);
        var I1 = /^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/
          , k1 = /^(\d{1,4}(?:\.\d+)?|100)%$/
          , C1 = /^(\d+px|\d+em|\d*\.?\d+c)$/
          , M1 = /^(\d+)px (\d+)px$/
          , L1 = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/
          , R1 = /^(?:(\d{2,}):)?(\d{2}):(\d{2})$/
          , P1 = /^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/
          , D1 = /^(\d*(?:\.\d*)?)f$/
          , N1 = /^(\d*(?:\.\d*)?)t$/
          , _1 = RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$")
          , O1 = {
            left: Ui,
            center: "center",
            right: "end",
            start: Ui,
            end: "end"
        }
          , U1 = {
            left: "line-left",
            center: "center",
            right: "line-right"
        }
          , j1 = ["http://www.w3.org/ns/ttml#parameter", "http://www.w3.org/2006/10/ttaf1#parameter"]
          , F1 = ["http://www.w3.org/ns/ttml#styling", "http://www.w3.org/2006/10/ttaf1#styling"]
          , B1 = ["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt", "http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];
        function G1() {
            this.g = new h1
        }
        function V1() {
            this.g = "UNKNOWN"
        }
        function H1(e, t, n) {
            var i, a, r;
            (i = /^align:(start|middle|center|end|left|right)$/.exec(t)) ? (t = i[1],
            e.textAlign = "middle" == t ? Li : Ri[t.toUpperCase()]) : (i = /^vertical:(lr|rl)$/.exec(t)) ? e.writingMode = "lr" == i[1] ? "vertical-lr" : "vertical-rl" : (i = /^size:([\d.]+)%$/.exec(t)) ? e.size = Number(i[1]) : (i = /^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t)) ? (e.position = Number(i[1]),
            i[2] && (t = i[2],
            e.positionAlign = "line-left" == t || "start" == t ? "line-left" : "line-right" == t || "end" == t ? "line-right" : "center" == t || "middle" == t ? "center" : Mi)) : (i = /^region:(.*)$/.exec(t)) ? (a = n,
            r = i[1],
            (t = (a = a.filter(function(e) {
                return e.id == r
            })).length ? a[0] : null) && (e.region = t)) : (n = /^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t)) ? (e.lineInterpretation = 1,
            e.line = Number(n[1]),
            n[2] && (e.lineAlign = ji[n[2].toUpperCase()])) : (n = /^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)) && (e.lineInterpretation = Oi,
            e.line = Number(n[1]),
            n[2] && (e.lineAlign = ji[n[2].toUpperCase()]))
        }
        function K1() {
            this.g = null
        }
        function z1() {}
        function X1() {
            this.g = new V1
        }
        function W1(e) {
            var t = "WEBVTT\n\n";
            if ("" == e)
                return t;
            for (var n = (e = Ze((e = (e = e.replace(/\r+/g, "")).trim()).split("\n\n"))).next(); !n.done; n = e.next())
                (n = n.value.split(/\n/))[0].match(/\d+/) && n.shift(),
                n[0] = n[0].replace(/,/g, "."),
                t += n.join("\n").replace(/{b}/g, "<b>").replace(/{\/b}/g, "</b>").replace(/{i}/g, "<i>").replace(/{\/i}/g, "</i>").replace(/{u}/g, "<u>").replace(/{\/u}/g, "</u>") + "\n\n";
            return t
        }
        function Y1() {}
        function q1(e) {
            return 0 <= (e = parseInt(e.replace("&H", ""), 16)) ? "rgba(" + (255 & e) + "," + (e >> 8 & 255) + "," + (e >> 16 & 255) + "," + (e >> 24 & 255 ^ 255) / 255 + ")" : null
        }
        function J1(e) {
            return 3600 * ((e = eb.exec(e))[1] ? parseInt(e[1].replace(":", ""), 10) : 0) + 60 * parseInt(e[2], 10) + parseFloat(e[3])
        }
        ba["application/ttml+xml"] = function() {
            return new h1
        }
        ,
        G1.prototype.parseInit = function(e) {
            var t = !1;
            if ((new Fr).box("moov", G).box("trak", G).box("mdia", G).box("minf", G).box("stbl", G).X("stsd", Br).box("stpp", function(e) {
                t = !0,
                e.parser.stop()
            }).parse(e),
            !t)
                throw new nt(2,2,2007)
        }
        ,
        G1.prototype.setSequenceMode = function() {}
        ,
        G1.prototype.setManifestType = function() {}
        ,
        G1.prototype.parseMedia = function(e, o, s) {
            var u = this
              , l = !1
              , c = []
              , d = [];
            if ((new Fr).box("moof", G).box("traf", G).X("subs", function(e) {
                d = [];
                for (var t = e.reader, n = t.U(), i = 0; i < n; i++) {
                    t.U();
                    for (var a = t.za(), r = 0; r < a; r++)
                        1 == e.version ? d.push(t.U()) : d.push(t.za()),
                        t.$(),
                        t.$(),
                        t.U()
                }
            }).box("mdat", Hr(function(e) {
                if (l = !0,
                d.length) {
                    for (var t = tt(e, 0, d[0]), n = [], i = d[0], a = 1; a < d.length; a++) {
                        var r = _t(tt(e, i, d[a]));
                        n.push("data:image/png;base64," + r),
                        i += d[a]
                    }
                    c = c.concat(u.g.parseMedia(t, o, s, n))
                } else
                    c = c.concat(u.g.parseMedia(e, o, s, []))
            })).parse(e, !1),
            l)
                return c;
            throw new nt(2,2,2007)
        }
        ,
        i("shaka.text.Mp4TtmlParser", G1),
        ba['application/mp4; codecs="stpp"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.im1i"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.im1t"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.im2i"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.im2t"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.etd1"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.etd1|im1t"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.ttml.im1t|etd1"'] = function() {
            return new G1
        }
        ,
        ba['application/mp4; codecs="stpp.TTML.im1t"'] = function() {
            return new G1
        }
        ,
        V1.prototype.parseInit = function() {}
        ,
        V1.prototype.setSequenceMode = function() {}
        ,
        V1.prototype.setManifestType = function(e) {
            this.g = e
        }
        ,
        V1.prototype.parseMedia = function(e, t) {
            var n = (e = (e = It(e)).replace(/\r\n|\r(?=[^\n]|$)/gm, "\n")).split(/\n{2,}/m);
            if (!/^WEBVTT($|[ \t\n])/m.test(n[0]))
                throw new nt(2,2,2e3);
            if (e = t.vttOffset,
            "HLS" == this.g)
                if (n[0].includes("X-TIMESTAMP-MAP")) {
                    if (e = (i = n[0]).match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),
                    i = i.match(/MPEGTS:(\d+)/m),
                    !e || !i)
                        throw new nt(2,2,2e3);
                    if (null == (e = Hn(e[1])))
                        throw new nt(2,2,2e3);
                    for (var i = Number(i[1]), a = t.segmentStart - t.periodStart; 95443.7176888889 <= a; )
                        a -= 95443.7176888889,
                        i += 8589934592;
                    e = t.periodStart + i / 9e4 - e
                } else
                    t.periodStart && t.vttOffset == t.periodStart && (e = 0);
            for (t = [],
            a = (i = Ze(n[0].split("\n"))).next(); !a.done; a = i.next())
                if (a = a.value,
                /^Region:/.test(a)) {
                    var a = new jn(a)
                      , r = new Rn;
                    Gn(a),
                    Fn(a);
                    for (var o = Gn(a); o; ) {
                        var s = r
                          , u = o;
                        (o = /^id=(.*)$/.exec(u)) ? s.id = o[1] : (o = /^width=(\d{1,2}|100)%$/.exec(u)) ? s.width = Number(o[1]) : (o = /^lines=(\d+)$/.exec(u)) ? (s.height = Number(o[1]),
                        s.heightUnits = 2) : (o = /^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u)) ? (s.regionAnchorX = Number(o[1]),
                        s.regionAnchorY = Number(o[2])) : (o = /^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u)) ? (s.viewportAnchorX = Number(o[1]),
                        s.viewportAnchorY = Number(o[2])) : /^scroll=up$/.exec(u) && (s.scroll = "up"),
                        Fn(a),
                        o = Gn(a)
                    }
                    t.push(r)
                }
            for (ki(i = new Map),
            a = [],
            r = (n = Ze(n.slice(1))).next(); !r.done; r = n.next()) {
                if ((1 != (r = r.value.split("\n")).length || r[0]) && !/^NOTE($|[ \t])/.test(r[0]) && "STYLE" == r[0]) {
                    for (s = [],
                    o = -1,
                    u = 1; u < r.length; u++)
                        r[u].includes("::cue") && (s.push([]),
                        o = s.length - 1),
                        -1 != o && (s[o].push(r[u]),
                        r[u].includes("}") && (o = -1));
                    for (o = (s = Ze(s)).next(); !o.done; o = s.next()) {
                        var l = o.value
                          , o = "global";
                        (u = l[0].match(/\((.*)\)/)) && (o = u.pop()),
                        u = l.slice(1, -1),
                        l[0].includes("}") && (l = /\{(.*?)\}/.exec(l[0])) && (u = l[1].split(";")),
                        (l = i.get(o)) || (l = new Ei(0,0,""));
                        for (var c = !1, d = 0; d < u.length; d++) {
                            var h = /^\s*([^:]+):\s*(.*)/.exec(u[d]);
                            if (h) {
                                var f = h[2].trim().replace(";", "");
                                switch (h[1].trim()) {
                                case "background-color":
                                case "background":
                                    c = !0,
                                    l.backgroundColor = f;
                                    break;
                                case "color":
                                    c = !0,
                                    l.color = f;
                                    break;
                                case "font-family":
                                    c = !0,
                                    l.fontFamily = f;
                                    break;
                                case "font-size":
                                    c = !0,
                                    l.fontSize = f;
                                    break;
                                case "font-weight":
                                    (700 <= parseInt(f, 10) || "bold" == f) && (c = !0,
                                    l.fontWeight = Vi);
                                    break;
                                case "font-style":
                                    switch (f) {
                                    case "normal":
                                        c = !0,
                                        l.fontStyle = Hi;
                                        break;
                                    case "italic":
                                        c = !0,
                                        l.fontStyle = Ki;
                                        break;
                                    case "oblique":
                                        c = !0,
                                        l.fontStyle = "oblique"
                                    }
                                    break;
                                case "opacity":
                                    c = !0,
                                    l.opacity = parseFloat(f);
                                    break;
                                case "text-combine-upright":
                                    c = !0,
                                    l.textCombineUpright = f;
                                    break;
                                case "text-shadow":
                                    c = !0,
                                    l.textShadow = f;
                                    break;
                                case "white-space":
                                    c = !0,
                                    l.wrapLine = "noWrap" != f
                                }
                            }
                        }
                        c && i.set(o, l)
                    }
                }
                if (c = e,
                1 == (l = r).length && !l[0] || /^NOTE($|[ \t])/.test(l[0]) || "STYLE" == l[0] || "REGION" == l[0])
                    r = null;
                else if (r = null,
                l[0].includes("--\x3e") || (r = l[0],
                l.splice(0, 1)),
                o = Vn(s = new jn(l[0])),
                d = Bn(s, /[ \t]+--\x3e[ \t]+/g),
                u = Vn(s),
                null == o || null == d || null == u)
                    Q("Failed to parse VTT time code. Cue skipped:", r, l),
                    r = null;
                else {
                    for (o += c,
                    u += c,
                    c = l.slice(1).join("\n").trim(),
                    i.has("global") ? ((l = i.get("global").clone()).startTime = o,
                    l.endTime = u,
                    l.payload = c) : l = new Ei(o,u,c),
                    Fn(s),
                    o = Gn(s); o; )
                        H1(l, o, t),
                        Fn(s),
                        o = Gn(s);
                    Ii(l, i),
                    null != r && (l.id = r),
                    r = l
                }
                r && a.push(r)
            }
            return a
        }
        ,
        i("shaka.text.VttTextParser", V1),
        ba["text/vtt"] = function() {
            return new V1
        }
        ,
        ba['text/vtt; codecs="vtt"'] = function() {
            return new V1
        }
        ,
        ba['text/vtt; codecs="wvtt"'] = function() {
            return new V1
        }
        ,
        K1.prototype.parseInit = function(e) {
            var t = this
              , n = !1;
            if ((new Fr).box("moov", G).box("trak", G).box("mdia", G).X("mdhd", function(e) {
                e = $o(e.reader, e.version),
                t.g = e.timescale
            }).box("minf", G).box("stbl", G).X("stsd", Br).box("wvtt", function() {
                n = !0
            }).parse(e),
            !this.g)
                throw new nt(2,2,2008);
            if (!n)
                throw new nt(2,2,2008)
        }
        ,
        K1.prototype.setSequenceMode = function() {}
        ,
        K1.prototype.setManifestType = function() {}
        ,
        K1.prototype.parseMedia = function(e, t) {
            if (!e.length)
                return [];
            if (!this.g)
                throw new nt(2,2,2008);
            var n, i = 0, a = [], r = [], o = !1, s = !1, u = !1, l = null;
            if ((new Fr).box("moof", G).box("traf", G).X("tfdt", function(e) {
                o = !0,
                i = Qo(e.reader, e.version).baseMediaDecodeTime
            }).X("tfhd", function(e) {
                l = Jo(e.reader, e.flags).Kd
            }).X("trun", function(e) {
                s = !0,
                a = Zo(e.reader, e.version, e.flags).oi
            }).box("mdat", Hr(function(e) {
                u = !0,
                n = e
            })).parse(e, !1),
            !u && !o && !s)
                throw new nt(2,2,2008);
            e = i;
            for (var c = new Or(n,0), d = Ze(a), h = d.next(); !h.done; h = d.next()) {
                var f = (h = h.value).Tg || l
                  , p = h.df ? i + h.df : e
                  , g = (e = p + (f || 0),
                0);
                do {
                    var m = c.U();
                    g += m;
                    var v = null;
                    "vttc" == zr(c.U()) ? 8 < m && (v = c.Rb(m - 8)) : c.skip(m - 8),
                    f && v && (m = function(e, t, n) {
                        var i, a, r;
                        return (new Fr).box("payl", Hr(function(e) {
                            i = It(e)
                        })).box("iden", Hr(function(e) {
                            a = It(e)
                        })).box("sttg", Hr(function(e) {
                            r = It(e)
                        })).parse(e),
                        i ? function(e, t, n, i, a) {
                            if (Ii(e = new Ei(i,a,e)),
                            t && (e.id = t),
                            n)
                                for (t = new jn(n),
                                n = Gn(t); n; )
                                    H1(e, n, []),
                                    Fn(t),
                                    n = Gn(t);
                            return e
                        }(i, a, r, t, n) : null
                    }(v, t.periodStart + p / this.g, t.periodStart + e / this.g),
                    r.push(m))
                } while (h.sampleSize && g < h.sampleSize)
            }
            return r.filter(Sa)
        }
        ,
        i("shaka.text.Mp4VttParser", K1),
        ba['application/mp4; codecs="wvtt"'] = function() {
            return new K1
        }
        ,
        z1.prototype.parseInit = function() {}
        ,
        z1.prototype.setSequenceMode = function() {}
        ,
        z1.prototype.setManifestType = function() {}
        ,
        z1.prototype.parseMedia = function(e) {
            var t = It(e).replace(/\r+/g, "");
            if (e = [],
            "" == (t = t.trim()))
                return e;
            for (var n = (t = Ze(t.split("\n\n"))).next(); !n.done; n = t.next()) {
                var i = Vn(r = new jn((n = n.value.split("\n"))[0]))
                  , a = Bn(r, /,/g)
                  , r = Vn(r);
                if (null == i || null == a || null == r)
                    throw new nt(2,2,2001,"Could not parse cue time range in SubViewer");
                e.push(new Ei(i,r,n.slice(1).join("\n").trim()))
            }
            return e
        }
        ,
        i("shaka.text.SbvTextParser", z1),
        ba["text/x-subviewer"] = function() {
            return new z1
        }
        ,
        X1.prototype.parseInit = function() {}
        ,
        X1.prototype.setSequenceMode = function() {}
        ,
        X1.prototype.setManifestType = function() {}
        ,
        X1.prototype.parseMedia = function(e, t, n) {
            return e = tt(Mt(e = W1(e = It(e)))),
            this.g.parseMedia(e, t, n, [])
        }
        ,
        i("shaka.text.SrtTextParser", X1),
        X1.srt2webvtt = W1,
        ba["text/srt"] = function() {
            return new X1
        }
        ,
        Y1.prototype.parseInit = function() {}
        ,
        Y1.prototype.setSequenceMode = function() {}
        ,
        Y1.prototype.setManifestType = function() {}
        ,
        Y1.prototype.parseMedia = function(e) {
            var t = ""
              , n = ""
              , i = null
              , a = null;
            for (a = (e = Ze(a = It(e).split(/\r?\n\s*\r?\n/))).next(); !a.done; a = e.next()) {
                var r = a.value
                  , a = r;
                (r = Q1.exec(r)) && (i = r[1],
                a = r[2]),
                "V4 Styles" == i || "V4+ Styles" == i ? (t = a,
                t = n ? t + "\n" + a : a) : "Events" == i && (n = n ? n + "\n" + a : a)
            }
            for (i = [],
            a = null,
            e = (t = Ze(t.split(/\r?\n/))).next(); !e.done; e = t.next())
                if (e = e.value,
                !/^\s*;/.test(e) && (r = $1.exec(e)))
                    if (e = r[1].trim(),
                    r = r[2].trim(),
                    "Format" == e)
                        a = r.split(Z1);
                    else if ("Style" == e) {
                        e = r.split(Z1);
                        for (var r = {}, o = 0; o < a.length && o < e.length; o++)
                            r[a[o]] = e[o];
                        i.push(r)
                    }
            for (a = [],
            t = null,
            r = (n = Ze(n.split(/\r?\n/))).next(),
            e = {}; !r.done; e = {
                Di: void 0
            },
            r = n.next())
                if (r = r.value,
                !/^\s*;/.test(r) && (o = $1.exec(r)))
                    if (r = o[1].trim(),
                    o = o[2].trim(),
                    "Format" == r)
                        t = o.split(Z1);
                    else if ("Dialogue" == r) {
                        o = o.split(Z1),
                        r = {};
                        for (var s = 0; s < t.length && s < o.length; s++)
                            r[t[s]] = o[s];
                        o = new Ei(s = J1(r.Start),J1(r.End),o.slice(t.length - 1).join(",").replace(/\\N/g, "\n").replace(/\{[^}]+\}/g, ""));
                        if (e.Di = r.Style,
                        e = i.find(function(t) {
                            return function(e) {
                                return e.Name == t.Di
                            }
                        }(e))) {
                            u = void 0;
                            l = void 0;
                            c = void 0;
                            var u = o;
                            var l = e;
                            var c = l.Fontname;
                            c && (u.fontFamily = c),
                            (c = l.Fontsize) && (u.fontSize = c + "px");
                            (c = l.PrimaryColour) && (c = q1(c)) && (u.color = c);
                            (c = l.BackColour) && (c = q1(c)) && (u.backgroundColor = c);
                            l.Bold && (u.fontWeight = Vi),
                            l.Italic && (u.fontStyle = Ki),
                            l.Underline && u.textDecoration.push(Xi),
                            (c = l.Spacing) && (u.letterSpacing = c + "px");
                            if (c = l.Alignment)
                                switch (parseInt(c, 10)) {
                                case 1:
                                    u.displayAlign = Pi,
                                    u.textAlign = "start";
                                    break;
                                case 2:
                                    u.displayAlign = Pi,
                                    u.textAlign = Li;
                                    break;
                                case 3:
                                    u.displayAlign = Pi,
                                    u.textAlign = "end";
                                    break;
                                case 5:
                                    u.displayAlign = "before",
                                    u.textAlign = "start";
                                    break;
                                case 6:
                                    u.displayAlign = "before",
                                    u.textAlign = Li;
                                    break;
                                case 7:
                                    u.displayAlign = "before",
                                    u.textAlign = "end";
                                    break;
                                case 9:
                                    u.displayAlign = "center",
                                    u.textAlign = "start";
                                    break;
                                case 10:
                                    u.displayAlign = "center",
                                    u.textAlign = Li;
                                    break;
                                case 11:
                                    u.displayAlign = "center",
                                    u.textAlign = "end"
                                }
                            (l = l.AlphaLevel) && (u.opacity = parseFloat(l))
                        }
                        a.push(o)
                    }
            return a
        }
        ,
        i("shaka.text.SsaTextParser", Y1);
        var Q1 = /^\s*\[([^\]]+)\]\r?\n([\s\S]*)/
          , $1 = /^\s*([^:]+):\s*(.*)/
          , Z1 = /\s*,\s*/
          , eb = /^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;
        function tb(e, t) {
            var n = 1 & e[t + 1] ? 7 : 9;
            return t + n <= e.length && 0 < (e = ((3 & e[t + 3]) << 11 | e[t + 4] << 3 | (224 & e[t + 5]) >>> 5) - n) ? {
                Je: n,
                sa: e
            } : null
        }
        function nb(e, t) {
            var n = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]
              , i = (60 & e[t + 2]) >>> 2;
            if (n.length - 1 < i)
                return null;
            var a = 1 + ((192 & e[t + 2]) >>> 6)
              , r = (1 & e[t + 2]) << 2;
            return r |= (192 & e[t + 3]) >>> 6,
            {
                sampleRate: n[i],
                channelCount: r,
                codec: "mp4a.40." + a
            }
        }
        function ib(e, t) {
            if (t + 1 < e.length && 255 === e[t] && 240 == (246 & e[t + 1])) {
                var n = 1 & e[t + 1] ? 7 : 9;
                if (t + n >= e.length)
                    return;
                var i = (3 & e[t + 3]) << 11 | e[t + 4] << 3 | (224 & e[t + 5]) >>> 5;
                return i <= n ? void 0 : (t += i) === e.length || t + 1 < e.length && 255 === e[t] && 240 == (246 & e[t + 1])
            }
        }
        function ab(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function rb(e, t) {
            if (t + 8 > e.length || 11 !== e[t] || 119 !== e[t + 1])
                return null;
            var n = e[t + 4] >> 6;
            if (3 <= n)
                return null;
            var i = 63 & e[t + 4]
              , a = 2 * [64, 69, 96, 64, 70, 96, 80, 87, 120, 80, 88, 120, 96, 104, 144, 96, 105, 144, 112, 121, 168, 112, 122, 168, 128, 139, 192, 128, 140, 192, 160, 174, 240, 160, 175, 240, 192, 208, 288, 192, 209, 288, 224, 243, 336, 224, 244, 336, 256, 278, 384, 256, 279, 384, 320, 348, 480, 320, 349, 480, 384, 417, 576, 384, 418, 576, 448, 487, 672, 448, 488, 672, 512, 557, 768, 512, 558, 768, 640, 696, 960, 640, 697, 960, 768, 835, 1152, 768, 836, 1152, 896, 975, 1344, 896, 976, 1344, 1024, 1114, 1536, 1024, 1115, 1536, 1152, 1253, 1728, 1152, 1254, 1728, 1280, 1393, 1920, 1280, 1394, 1920][3 * i + n];
            if (t + a > e.length)
                return null;
            var r = e[t + 6] >> 5
              , o = 0
              , s = (2 == r ? o += 2 : (1 & r && 1 != r && (o += 2),
            4 & r && (o += 2)),
            o = (e[t + 6] << 8 | e[t + 7]) >> 12 - o & 1,
            7 & e[t + 5]);
            return e = new Uint8Array([n << 6 | e[t + 5] >> 3 << 1 | s >> 2, (3 & s) << 6 | r << 3 | o << 2 | i >> 4, i << 4 & 224]),
            {
                sampleRate: [48e3, 44100, 32e3][n],
                channelCount: [2, 1, 2, 3, 3, 4, 4, 5][r] + o,
                Ea: e,
                sa: a
            }
        }
        function ob(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function sb(e, t) {
            if (t + 8 > e.length || 2935 != (e[t] << 8 | e[t + 1] << 0))
                return null;
            os(s = new as(e.subarray(t + 2)), 2),
            os(s, 3);
            var n = rt(s, 11) + 1 << 1
              , i = rt(s, 2)
              , a = 3 == i ? (i = [24e3, 22060, 16e3][i = rt(s, 2)],
            3) : (i = [48e3, 44100, 32e3][i],
            rt(s, 2))
              , r = rt(s, 3)
              , o = rt(s, 1)
              , s = rt(s, 5);
            return t + n > e.byteLength ? null : (e = Math.floor(n * i / (16 * [1, 2, 3, 6][a])),
            e = new Uint8Array([(8160 & e) >> 5, (31 & e) << 3, i << 6 | s << 1 | 0, 0 | r << 1 | o << 0, 0]),
            {
                sampleRate: i,
                channelCount: [2, 1, 2, 3, 3, 4, 4, 5][r] + o,
                Ea: e,
                sa: n
            })
        }
        function ub(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function lb(e) {
            for (var t, n = !1, i = [], a = e.find(function(e) {
                return 7 == e.type
            }), r = !1, o = (e = Ze(e)).next(); !o.done; o = e.next()) {
                var s = !1;
                switch ((o = o.value).type) {
                case 1:
                    var s = r = !0
                      , u = o.data;
                    a && 4 < u.length && (ut(t = new as(u)),
                    ot(t),
                    2 === (u = ot(t)) || 4 === u || 7 === u || 9 === u) && (n = !0);
                    break;
                case 5:
                    n = s = r = !0;
                    break;
                case 6:
                case 7:
                case 8:
                    s = !0;
                    break;
                case 9:
                    r = s = !0;
                    break;
                case 12:
                    s = !0;
                    break;
                default:
                    s = !1
                }
                r && s && (s = o.fullData.byteLength,
                (u = new Uint8Array(4))[0] = s >> 24 & 255,
                u[1] = s >> 16 & 255,
                u[2] = s >> 8 & 255,
                u[3] = 255 & s,
                i.push(u),
                i.push(o.fullData))
            }
            return i.length ? {
                data: Bt.apply(Nt, et(i)),
                Td: n
            } : null
        }
        ba["text/x-ssa"] = function() {
            return new Y1
        }
        ,
        (t = ab.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        t.isSupported = function(e) {
            return "audio/aac" == e.toLowerCase().split(";")[0] && vn(this.convertCodecs("audio", e))
        }
        ,
        t.convertCodecs = function(e, t) {
            return "audio/aac" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="' + (ca(t) || "mp4a.40.2") + '"' : t
        }
        ,
        t.getOriginalMimeType = function() {
            return this.i
        }
        ,
        t.transmux = function(e, t, n, i) {
            for (var a = tt(e), r = qo(a), o = r.length; o < a.length && !ib(a, o); o++)
                ;
            if (e = 1e3 * n.endTime,
            (r = Yo(r)).length && n && (r = r.find(function(e) {
                return "com.apple.streaming.transportStreamTimestamp" === e.description
            })) && (e = r.data),
            !(r = nb(a, o)))
                return Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null));
            t.audioSamplingRate = r.sampleRate,
            t.channelsCount = r.channelCount;
            for (var s = []; o < a.length; ) {
                var u = tb(a, o);
                if (!u)
                    return Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null));
                var l = u.Je + u.sa;
                o + l <= a.length && s.push({
                    data: a.subarray(o + u.Je, o + l),
                    size: u.sa,
                    duration: 1024,
                    zb: 0,
                    flags: {
                        Ab: 0,
                        sb: 0,
                        rb: 0,
                        pb: 0,
                        qb: 2,
                        Bb: 0
                    }
                }),
                o += l
            }
            return a = r.sampleRate,
            e = Math.floor(e * a / 1e3),
            i = new Hm([i = {
                id: t.id,
                type: "audio",
                codecs: r.codec,
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: a,
                duration: i,
                xb: [],
                Ea: new Uint8Array([]),
                Sa: new Uint8Array([]),
                Xa: 0,
                $a: 0,
                data: {
                    Sb: this.h,
                    baseMediaDecodeTime: e,
                    ub: s
                },
                stream: t
            }]),
            n = t.id + "_" + n.i,
            this.g.has(n) ? t = this.g.get(n) : (t = Km(i),
            this.g.set(n, t)),
            n = qm(i),
            this.h++,
            t = Bt(t, n),
            Promise.resolve(t)
        }
        ,
        i("shaka.transmuxer.AacTransmuxer", ab),
        qi("audio/aac", function() {
            return new ab("audio/aac")
        }, $i),
        (t = ob.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        t.isSupported = function(e) {
            return "audio/ac3" == e.toLowerCase().split(";")[0] && vn(this.convertCodecs("audio", e))
        }
        ,
        t.convertCodecs = function(e, t) {
            return "audio/ac3" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="ac-3"' : t
        }
        ,
        t.getOriginalMimeType = function() {
            return this.i
        }
        ,
        t.transmux = function(e, t, n, i) {
            for (var a = qo(e = tt(e)), r = a.length; r < e.length && !function(e, t) {
                if (11 === e[t] && 119 === e[t + 1]) {
                    var n = 0
                      , i = 5;
                    for (t += i; 0 < i; ) {
                        var a = e[t]
                          , r = Math.min(i, 8)
                          , o = 8 - r;
                        a = (a & 4278190080 >>> 24 + o << o) >> o,
                        n = n ? n << r | a : a,
                        t += 1,
                        i -= r
                    }
                    if (n < 16)
                        return 1
                }
            }(e, r); r++)
                ;
            var o = 1e3 * n.endTime;
            (a = Yo(a)).length && n && (a = a.find(function(e) {
                return "com.apple.streaming.transportStreamTimestamp" === e.description
            })) && (o = a.data),
            a = 0;
            for (var s = new Uint8Array([]), u = []; r < e.length; ) {
                var l = rb(e, r);
                if (!l)
                    return Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null));
                t.audioSamplingRate = l.sampleRate,
                t.channelsCount = l.channelCount,
                a = l.sampleRate,
                s = l.Ea,
                u.push({
                    data: e.subarray(r, r + l.sa),
                    size: l.sa,
                    duration: 1536,
                    zb: 0,
                    flags: {
                        Ab: 0,
                        sb: 0,
                        rb: 0,
                        pb: 0,
                        qb: 2,
                        Bb: 0
                    }
                }),
                r += l.sa
            }
            return e = Math.floor(o * a / 1e3),
            i = new Hm([i = {
                id: t.id,
                type: "audio",
                codecs: "ac-3",
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: a,
                duration: i,
                xb: [],
                Ea: s,
                Sa: new Uint8Array([]),
                Xa: 0,
                $a: 0,
                data: {
                    Sb: this.h,
                    baseMediaDecodeTime: e,
                    ub: u
                },
                stream: t
            }]),
            n = t.id + "_" + n.i,
            this.g.has(n) ? t = this.g.get(n) : (t = Km(i),
            this.g.set(n, t)),
            n = qm(i),
            this.h++,
            t = Bt(t, n),
            Promise.resolve(t)
        }
        ,
        i("shaka.transmuxer.Ac3Transmuxer", ob),
        qi("audio/ac3", function() {
            return new ob("audio/ac3")
        }, $i),
        (t = ub.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        t.isSupported = function(e) {
            return "audio/ec3" == e.toLowerCase().split(";")[0] && vn(this.convertCodecs("audio", e))
        }
        ,
        t.convertCodecs = function(e, t) {
            return "audio/ec3" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="ec-3"' : t
        }
        ,
        t.getOriginalMimeType = function() {
            return this.i
        }
        ,
        t.transmux = function(e, t, n, i) {
            for (var a = qo(e = tt(e)), r = a.length; r < e.length && 2935 != (e[r] << 8 | e[r + 1] << 0); r++)
                ;
            var o = 1e3 * n.endTime;
            (a = Yo(a)).length && n && (a = a.find(function(e) {
                return "com.apple.streaming.transportStreamTimestamp" === e.description
            })) && (o = a.data),
            a = 0;
            for (var s = new Uint8Array([]), u = []; r < e.length; ) {
                var l = sb(e, r);
                if (!l)
                    return Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null));
                t.audioSamplingRate = l.sampleRate,
                t.channelsCount = l.channelCount,
                a = l.sampleRate,
                s = l.Ea,
                u.push({
                    data: e.subarray(r, r + l.sa),
                    size: l.sa,
                    duration: 1536,
                    zb: 0,
                    flags: {
                        Ab: 0,
                        sb: 0,
                        rb: 0,
                        pb: 0,
                        qb: 2,
                        Bb: 0
                    }
                }),
                r += l.sa
            }
            return e = Math.floor(o * a / 1e3),
            i = new Hm([i = {
                id: t.id,
                type: "audio",
                codecs: "ec-3",
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: a,
                duration: i,
                xb: [],
                Ea: s,
                Sa: new Uint8Array([]),
                Xa: 0,
                $a: 0,
                data: {
                    Sb: this.h,
                    baseMediaDecodeTime: e,
                    ub: u
                },
                stream: t
            }]),
            n = t.id + "_" + n.i,
            this.g.has(n) ? t = this.g.get(n) : (t = Km(i),
            this.g.set(n, t)),
            n = qm(i),
            this.h++,
            t = Bt(t, n),
            Promise.resolve(t)
        }
        ,
        i("shaka.transmuxer.Ec3Transmuxer", ub),
        qi("audio/ec3", function() {
            return new ub("audio/ec3")
        }, $i);
        var cb = [100, 110, 122, 244, 44, 83, 86, 118, 128, 138, 139, 134];
        function db(e) {
            if (!e.length)
                return null;
            var t = e.find(function(e) {
                return 32 == e.type
            })
              , n = e.find(function(e) {
                return 33 == e.type
            })
              , i = e.find(function(e) {
                return 34 == e.type
            });
            if (!t || !n || !i)
                return null;
            o = t.fullData,
            ut(a = new as(o,!0)),
            ut(a),
            rt(a, 4),
            rt(a, 2),
            rt(a, 6),
            o = rt(a, 3),
            a = st(a);
            var a, r, o = {
                Hg: o + 1,
                ih: a
            }, s = (e = function(e) {
                ut(e = new as(e,!0)),
                ut(e);
                var t = 0
                  , n = 0
                  , i = 0
                  , a = 0
                  , r = (rt(e, 4),
                rt(e, 3));
                st(e);
                for (var o = rt(e, 2), s = rt(e, 1), u = rt(e, 5), l = ut(e), c = ut(e), d = ut(e), h = ut(e), f = ut(e), p = ut(e), g = ut(e), m = ut(e), v = ut(e), y = ut(e), b = ut(e), T = [], w = [], S = 0; S < r; S++)
                    T.push(st(e)),
                    w.push(st(e));
                if (0 < r)
                    for (S = r; S < 8; S++)
                        rt(e, 2);
                for (S = 0; S < r; S++)
                    T[S] && rt(e, 88),
                    w[S] && ut(e);
                ot(e),
                3 == (T = ot(e)) && rt(e, 1),
                w = ot(e),
                S = ot(e),
                st(e) && (t += ot(e),
                n += ot(e),
                i += ot(e),
                a += ot(e));
                var E = ot(e)
                  , A = ot(e)
                  , x = ot(e);
                if (st(e))
                    for (var I = 0; I <= r; I++)
                        ot(e),
                        ot(e),
                        ot(e);
                else
                    ot(e),
                    ot(e),
                    ot(e);
                if (ot(e),
                ot(e),
                ot(e),
                ot(e),
                ot(e),
                ot(e),
                st(e) && st(e))
                    for (I = 0; I < 4; I++)
                        for (var k = 0; k < (3 === I ? 2 : 6); k++)
                            if (st(e)) {
                                var C = Math.min(64, 1 << 4 + (I << 1));
                                1 < I && ls(e);
                                for (var M = 0; M < C; M++)
                                    ls(e)
                            } else
                                ot(e);
                for (st(e),
                st(e),
                st(e) && (ut(e),
                ot(e),
                ot(e),
                st(e)),
                I = ot(e),
                C = k = 0; C < I; C++)
                    if (M = !1,
                    M = 0 !== C ? st(e) : M) {
                        C === I && ot(e),
                        st(e),
                        ot(e);
                        for (var L = M = 0; L <= k; L++) {
                            var R = st(e)
                              , P = !1;
                            R || (P = st(e)),
                            (R || P) && M++
                        }
                        k = M
                    } else {
                        for (L = ot(e),
                        M = ot(e),
                        k = L + M,
                        R = 0; R < L; R++)
                            ot(e),
                            st(e);
                        for (L = 0; L < M; L++)
                            ot(e),
                            st(e)
                    }
                if (st(e))
                    for (I = ot(e),
                    k = 0; k < I; k++) {
                        for (C = 0; C < x + 4; C++)
                            rt(e, 1);
                        rt(e, 1)
                    }
                if (I = x = 1,
                k = 0,
                st(e),
                st(e),
                st(e)) {
                    if (st(e) && (C = ut(e),
                    M = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2],
                    L = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1],
                    0 < C && C <= 16 ? (x = M[C - 1],
                    I = L[C - 1]) : 255 === C && (x = rt(e, 16),
                    I = rt(e, 16))),
                    st(e) && st(e),
                    st(e) && (rt(e, 3),
                    st(e),
                    st(e) && (ut(e),
                    ut(e),
                    ut(e))),
                    st(e) && (ot(e),
                    ot(e)),
                    st(e),
                    st(e),
                    st(e),
                    (C = st(e)) && (ot(e),
                    ot(e),
                    ot(e),
                    ot(e)),
                    st(e) && (rt(e, 32),
                    rt(e, 32),
                    st(e) && ot(e),
                    st(e)))
                        for (L = !1,
                        C = st(e),
                        M = st(e),
                        (C || M) && ((L = st(e)) && (ut(e),
                        rt(e, 5),
                        st(e),
                        rt(e, 5)),
                        rt(e, 4),
                        rt(e, 4),
                        L && rt(e, 4),
                        rt(e, 5),
                        rt(e, 5),
                        rt(e, 5)),
                        R = 0; R <= r; R++) {
                            var D = !0
                              , N = (P = 1,
                            st(e) || (D = st(e)),
                            !1);
                            if (D ? ot(e) : N = st(e),
                            N || (P = ot(e) + 1),
                            C) {
                                for (D = 0; D < P; D++)
                                    ot(e),
                                    ot(e),
                                    L && (ot(e),
                                    ot(e));
                                st(e)
                            }
                            if (M) {
                                for (D = 0; D < P; D++)
                                    ot(e),
                                    ot(e),
                                    L && (ot(e),
                                    ot(e));
                                st(e)
                            }
                        }
                    st(e) && (st(e),
                    st(e),
                    st(e),
                    k = ot(e),
                    ot(e),
                    ot(e),
                    ot(e),
                    ot(e))
                }
                return {
                    dg: b,
                    jg: o,
                    kg: s,
                    ig: u,
                    eg: l,
                    fg: c,
                    gg: d,
                    hg: h,
                    Xf: f,
                    Yf: p,
                    Zf: g,
                    $f: m,
                    ag: v,
                    cg: y,
                    Ue: k,
                    Qf: 0,
                    Of: T,
                    Kf: E,
                    Jf: A,
                    width: w - (t + n) * (1 === T || 2 === T ? 2 : 1),
                    height: S - (i + a) * (1 === T ? 2 : 1),
                    Ek: x,
                    Dk: I
                }
            }(n.fullData),
            a = i.fullData,
            ut(s = new as(a,!0)),
            ut(s),
            ot(s),
            ot(s),
            st(s),
            st(s),
            rt(s, 3),
            st(s),
            st(s),
            ot(s),
            ot(s),
            ls(s),
            st(s),
            st(s),
            st(s) && ot(s),
            ls(s),
            ls(s),
            st(s),
            st(s),
            st(s),
            st(s),
            a = st(s),
            s = st(s),
            r = 1,
            s && a ? r = 0 : s ? r = 3 : a && (r = 2),
            {
                Kg: r
            });
            return a = t.fullData,
            r = n.fullData,
            n = i.fullData,
            i = {
                Hg: o.Hg,
                ih: o.ih,
                jg: e.jg,
                kg: e.kg,
                dg: e.dg,
                ig: e.ig,
                eg: e.eg,
                fg: e.fg,
                gg: e.gg,
                hg: e.hg,
                Xf: e.Xf,
                Yf: e.Yf,
                Zf: e.Zf,
                $f: e.$f,
                ag: e.ag,
                cg: e.cg,
                Qf: e.Qf,
                Ue: e.Ue,
                Of: e.Of,
                Kf: e.Kf,
                Jf: e.Jf,
                Kg: s.Kg
            },
            (o = new Uint8Array(23 + (5 + a.byteLength) + (5 + r.byteLength) + (5 + n.byteLength)))[0] = 1,
            o[1] = (3 & i.jg) << 6 | (i.kg ? 1 : 0) << 5 | 31 & i.ig,
            o[2] = i.eg,
            o[3] = i.fg,
            o[4] = i.gg,
            o[5] = i.hg,
            o[6] = i.Xf,
            o[7] = i.Yf,
            o[8] = i.Zf,
            o[9] = i.$f,
            o[10] = i.ag,
            o[11] = i.cg,
            o[12] = i.dg,
            o[13] = 240 | (3840 & i.Ue) >> 8,
            o[14] = 255 & i.Ue,
            o[15] = 252 | 3 & i.Kg,
            o[16] = 252 | 3 & i.Of,
            o[17] = 248 | 7 & i.Kf,
            o[18] = 248 | 7 & i.Jf,
            o[19] = 0,
            o[20] = 0,
            o[21] = (3 & i.Qf) << 6 | (7 & i.Hg) << 3 | (i.ih ? 1 : 0) << 2 | 3,
            o[22] = 3,
            o[23] = 160,
            o[24] = 0,
            o[25] = 1,
            o[26] = (65280 & a.byteLength) >> 8,
            o[27] = (255 & a.byteLength) >> 0,
            o.set(a, 28),
            o[23 + (5 + a.byteLength)] = 161,
            o[a.byteLength + 29] = 0,
            o[a.byteLength + 30] = 1,
            o[a.byteLength + 31] = (65280 & r.byteLength) >> 8,
            o[a.byteLength + 32] = (255 & r.byteLength) >> 0,
            o.set(r, a.byteLength + 33),
            o[23 + (a.byteLength + 10 + r.byteLength)] = 162,
            o[a.byteLength + 10 + r.byteLength + 24] = 0,
            o[a.byteLength + 10 + r.byteLength + 25] = 1,
            o[a.byteLength + 10 + r.byteLength + 26] = (65280 & n.byteLength) >> 8,
            o[a.byteLength + 10 + r.byteLength + 27] = (255 & n.byteLength) >> 0,
            o.set(n, a.byteLength + 10 + r.byteLength + 28),
            t = o,
            {
                height: e.height,
                width: e.width,
                Sa: t,
                Xa: e.Ek,
                $a: e.Dk
            }
        }
        function hb(e, t) {
            var n, i, a, r, o = e[t + 1] >> 3 & 3, s = e[t + 1] >> 1 & 3, u = e[t + 2] >> 4 & 15, l = e[t + 2] >> 2 & 3;
            return 1 !== o && 0 !== u && 15 !== u && 3 !== l ? (n = e[t + 3] >> 6,
            u = 1e3 * gb[14 * (3 === o ? 3 - s : 3 == s ? 3 : 4) + u - 1],
            l = mb[3 * (3 === o ? 0 : 2 === o ? 1 : 2) + l],
            o = vb[o][s],
            i = yb[s],
            a = Math.floor(o * u / l + (e[t + 2] >> 1 & 1)) * i,
            (r = (r = (navigator.userAgent || "").match(/Chrome\/(\d+)/i)) ? parseInt(r[1], 10) : 0) && r <= 87 && 2 == s && 224e3 <= u && 0 == n && (e[t + 3] |= 128),
            {
                sampleRate: l,
                channelCount: 3 == n ? 1 : 2,
                sa: a,
                Ck: 8 * o * i
            }) : null
        }
        function fb(e, t) {
            return 255 === e[t] && 224 == (224 & e[t + 1]) && 0 != (6 & e[t + 1])
        }
        function pb(e, t) {
            var n, i;
            if (t + 1 < e.length && fb(e, t))
                return i = 4,
                (t += i = (n = hb(e, t)) && n.sa ? n.sa : i) === e.length || t + 1 < e.length && fb(e, t)
        }
        var gb = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160]
          , mb = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3]
          , vb = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]]
          , yb = [0, 1, 1, 4];
        function bb(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function Tb(e) {
            this.h = e,
            this.g = null
        }
        function wb(e) {
            function n() {
                this._procFullBox(),
                1 & this.flags && (this._procField("AlgorithmID", "uint", 24),
                this._procField("IV_size", "uint", 8),
                this._procFieldArray("KID", 16, "uint", 8)),
                this._procField("sample_count", "uint", 32),
                this._procEntries("entry", this.sample_count, function(e) {
                    this._procEntryField(e, "InitializationVector", "data", 8),
                    2 & this.flags && (this._procEntryField(e, "NumberOfEntries", "uint", 16),
                    this._procSubEntries(e, "clearAndCryptedData", e.NumberOfEntries, function(e) {
                        this._procEntryField(e, "BytesOfClearData", "uint", 16),
                        this._procEntryField(e, "BytesOfEncryptedData", "uint", 32)
                    }))
                })
            }
            this.h = e,
            (this.g = Ag.get("ISOBoxer")()) && ((e = this).g.addBoxProcessor("saio", function() {
                this._procFullBox(),
                1 & this.flags && (this._procField("aux_info_type", "uint", 32),
                this._procField("aux_info_type_parameter", "uint", 32)),
                this._procField("entry_count", "uint", 32),
                this._procFieldArray("offset", this.entry_count, "uint", 1 === this.version ? 64 : 32)
            }),
            e.g.addBoxProcessor("saiz", function() {
                this._procFullBox(),
                1 & this.flags && (this._procField("aux_info_type", "uint", 32),
                this._procField("aux_info_type_parameter", "uint", 32)),
                this._procField("default_sample_info_size", "uint", 8),
                this._procField("sample_count", "uint", 32),
                0 === this.default_sample_info_size && this._procFieldArray("sample_info_size", this.sample_count, "uint", 8)
            }),
            e.g.addBoxProcessor("senc", n),
            e.g.addBoxProcessor("uuid", function() {
                for (var e = !0, t = 0; t < 16; t++)
                    this.usertype[t] !== Eb[t] && (e = !1);
                e && (this._parsing && (this.type = "sepiff"),
                n.call(this))
            }))
        }
        function Sb(e, t) {
            for (var n = 8, i = 0; i < e.boxes.length && e.boxes[i].type !== t; i++)
                n += e.boxes[i].size;
            return n
        }
        (t = bb.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        t.isSupported = function(e) {
            return "audio/mpeg" == e.toLowerCase().split(";")[0] && vn(this.convertCodecs("audio", e))
        }
        ,
        t.convertCodecs = function(e, t) {
            return "audio/mpeg" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="mp3"' : t
        }
        ,
        t.getOriginalMimeType = function() {
            return this.i
        }
        ,
        t.transmux = function(e, t, n, i) {
            for (var a, r = tt(e), o = qo(r).length; o < r.length && !pb(r, o); o++)
                ;
            for (e = []; o < r.length; ) {
                var s = hb(r, o);
                if (!s)
                    return Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null));
                a = a || s,
                o + s.sa <= r.length && e.push({
                    data: r.subarray(o, o + s.sa),
                    size: s.sa,
                    duration: 1152,
                    zb: 0,
                    flags: {
                        Ab: 0,
                        sb: 0,
                        rb: 0,
                        pb: 0,
                        qb: 2,
                        Bb: 0
                    }
                }),
                o += s.sa
            }
            return a ? (r = 9e4 * a.Ck / a.sampleRate * this.h,
            i = new Hm([i = {
                id: t.id,
                type: "audio",
                codecs: "mp3",
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: a.sampleRate,
                duration: i,
                xb: [],
                Ea: new Uint8Array([]),
                Sa: new Uint8Array([]),
                Xa: 0,
                $a: 0,
                data: {
                    Sb: this.h,
                    baseMediaDecodeTime: r,
                    ub: e
                },
                stream: t
            }]),
            n = t.id + "_" + n.i,
            this.g.has(n) ? t = this.g.get(n) : (t = Km(i),
            this.g.set(n, t)),
            n = qm(i),
            this.h++,
            t = Bt(t, n),
            Promise.resolve(t)) : Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null))
        }
        ,
        i("shaka.transmuxer.Mp3Transmuxer", bb),
        qi("audio/mpeg", function() {
            return new bb("audio/mpeg")
        }, $i),
        (t = Tb.prototype).destroy = function() {}
        ,
        t.isSupported = function(e) {
            if ("video/mp2t" != e.toLowerCase().split(";")[0])
                return !1;
            var t = zt("audio", n = ca(e).split(","))
              , n = zt("video", n);
            return !(!t || n || "mp3" != sa(t)) && vn(this.convertCodecs("audio", e))
        }
        ,
        t.convertCodecs = function(e, t) {
            return "video/mp2t" == t.toLowerCase().split(";")[0] ? "audio/mpeg" : t
        }
        ,
        t.getOriginalMimeType = function() {
            return this.h
        }
        ,
        t.transmux = function(e, t, n, i, a) {
            if (this.g ? this.g.clearData() : this.g = new ds,
            e = tt(e),
            "mp3" != (e = this.g.parse(e)).Ld().audio || "audio" != a)
                return Promise.reject(new nt(2,3,3018,n ? n.R()[0] : null));
            for (n = new Uint8Array([]),
            e = (a = Ze(e.sc())).next(); !e.done; e = a.next())
                if (e = e.value.data)
                    for (t = 0; t < e.length; )
                        (i = hb(e, t)) ? (t + i.sa <= e.length && (n = Bt(n, e.subarray(t, t + i.sa))),
                        t += i.sa) : t++;
            return Promise.resolve(n)
        }
        ,
        i("shaka.transmuxer.MpegTsTransmuxer", Tb),
        qi("video/mp2t", function() {
            return new Tb("video/mp2t")
        }, Zi),
        (t = wb.prototype).destroy = function() {}
        ,
        t.isSupported = function(e, t) {
            var n = e.startsWith("mss/");
            return !(!this.g || !n) && (t ? vn(this.convertCodecs(t, e)) : (t = this.convertCodecs("audio", e),
            e = this.convertCodecs("video", e),
            vn(t) || vn(e)))
        }
        ,
        t.convertCodecs = function(e, t) {
            return t.replace("mss/", "")
        }
        ,
        t.getOriginalMimeType = function() {
            return this.h
        }
        ,
        t.transmux = function(e, t, n) {
            if (!n)
                return Promise.resolve(tt(e));
            if (!t.mssPrivateData)
                return Promise.reject(new nt(2,3,3020,n ? n.R()[0] : null));
            try {
                var i, a = this.g.parseBuffer(e), r = a.fetch("tfhd"), o = (r.track_ID = t.id + 1,
                a.fetch("tfdt")), s = a.fetch("traf"), u = (null === o && ((o = this.g.createFullBox("tfdt", s, r)).version = 1,
                o.flags = 0,
                o.baseMediaDecodeTime = Math.floor(n.startTime * t.mssPrivateData.timescale)),
                a.fetch("trun")), l = a.fetch("tfxd"), c = (l && l._parent.boxes.splice(l._parent.boxes.indexOf(l), 1),
                a.fetch("tfrf")), d = (c && c._parent.boxes.splice(c._parent.boxes.indexOf(c), 1),
                a.fetch("sepiff"));
                if (null !== d) {
                    d.type = "senc",
                    d.usertype = void 0;
                    var h = a.fetch("saio");
                    if (null === h) {
                        (h = this.g.createFullBox("saio", s)).version = 0,
                        h.flags = 0,
                        h.entry_count = 1,
                        h.offset = [0];
                        var f = this.g.createFullBox("saiz", s);
                        if (f.version = 0,
                        f.flags = 0,
                        f.sample_count = d.sample_count,
                        f.default_sample_info_size = 0,
                        f.sample_info_size = [],
                        2 & d.flags)
                            for (i = 0; i < d.sample_count; i += 1)
                                f.sample_info_size[i] = 10 + 6 * d.entry[i].NumberOfEntries;
                        else
                            f.default_sample_info_size = 8
                    }
                }
                r.flags &= 16777214,
                r.flags |= 131072,
                u.flags |= 1;
                var p = a.fetch("moof")
                  , g = (u.data_offset = p.getLength() + 8,
                a.fetch("saio"))
                  , m = (null !== g && (g.offset[0] = Sb(p, "traf") + Sb(s, "senc") + 16),
                tt(a.write()));
                return Promise.resolve(m)
            } catch (e) {
                return e instanceof nt ? Promise.reject(e) : Promise.reject(new nt(2,3,3022,n ? n.R()[0] : null))
            }
        }
        ,
        i("shaka.transmuxer.MssTransmuxer", wb);
        var Eb = new Uint8Array([162, 57, 79, 82, 90, 155, 79, 20, 162, 68, 108, 66, 124, 100, 141, 244]);
        function Ab(e) {
            this.l = e,
            this.g = 0,
            this.i = new Map,
            this.h = this.j = null
        }
        qi("mss/audio/mp4", function() {
            return new wb("mss/audio/mp4")
        }, $i),
        qi("mss/video/mp4", function() {
            return new wb("mss/video/mp4")
        }, $i),
        (t = Ab.prototype).destroy = function() {
            this.i.clear(),
            this.h && this.h.destroy()
        }
        ,
        t.isSupported = function(e, t) {
            if ("video/mp2t" != e.toLowerCase().split(";")[0])
                return !1;
            var n = e
              , n = zt("audio", i = ca(n = t ? this.convertCodecs(t, e) : n).split(","))
              , i = zt("video", i);
            return !(n && (n = sa(n),
            !kb.includes(n)) || i && (n = sa(i),
            !Cb.includes(n))) && (t ? vn(this.convertCodecs(t, e)) : (t = this.convertCodecs("audio", e),
            e = this.convertCodecs("video", e),
            vn(t) || vn(e)))
        }
        ,
        t.convertCodecs = function(e, t) {
            return "video/mp2t" == t.toLowerCase().split(";")[0] ? (t = ca(t).replace("mp4a.40.34", "mp3").split(",").map(function(e) {
                return Pa(e, "audio/mp4")
            }).map(Da).join(","),
            "audio" == e ? 'audio/mp4; codecs="' + t + '"' : 'video/mp4; codecs="' + t + '"') : t
        }
        ,
        t.getOriginalMimeType = function() {
            return this.l
        }
        ,
        t.transmux = function(O, e, t, n, U) {
            var i = tt(O);
            if ("audio" == U && !gs(i)) {
                for (var a = qo(i), r = a.length; r < i.length; r++)
                    if (pb(i, r))
                        return Promise.reject(new nt(2,3,3018,t ? t.R()[0] : null));
                for (r = a.length; r < i.length; r++)
                    if (ib(i, r))
                        return this.h || (this.h = new ab("audio/aac")),
                        this.h.transmux(O, e, t, n, U);
                return Promise.reject(new nt(2,3,3018,t ? t.R()[0] : null))
            }
            this.j ? this.j.clearData() : this.j = new ds;
            var o = this.j.parse(i)
              , a = []
              , s = o.Ld();
            try {
                var u = null;
                if ("video" == U) {
                    switch (s.video) {
                    case "avc":
                        var j = []
                          , F = null
                          , B = []
                          , l = o.Mc();
                        if (!l.length)
                            throw new nt(2,3,3023,t ? t.R()[0] : null);
                        for (var c = 0; c < l.length; c++) {
                            var G, d = l[c], V = d.nalus, h = (B.push.apply(B, et(V)),
                            lb(V));
                            h && (null == F && (F = d.dts),
                            G = void 0,
                            G = c + 1 < l.length ? (l[c + 1].dts || 0) - (d.dts || 0) : 1 < l.length ? (d.dts || 0) - (l[c - 1].dts || 0) : 9e4 * (t.endTime - t.startTime),
                            j.push({
                                data: h.data,
                                size: h.data.byteLength,
                                duration: G,
                                zb: Math.round((d.pts || 0) - (d.dts || 0)),
                                flags: {
                                    Ab: 0,
                                    sb: 0,
                                    rb: 0,
                                    pb: 0,
                                    qb: h.Td ? 2 : 1,
                                    Bb: h.Td ? 0 : 1
                                }
                            }))
                        }
                        var f = function(e) {
                            if (!e.length)
                                return null;
                            var t = e.find(function(e) {
                                return 7 == e.type
                            });
                            if (e = e.find(function(e) {
                                return 8 == e.type
                            }),
                            !t || !e)
                                return null;
                            var n = new as(t.data)
                              , i = ut(n);
                            if (ut(n),
                            ut(n),
                            us(n),
                            cb.includes(i) && (3 === (i = ot(n)) && os(n, 1),
                            us(n),
                            us(n),
                            os(n, 1),
                            st(n)))
                                for (var i = 3 !== i ? 8 : 12, a = 0; a < i; a++)
                                    st(n) && cs(n, a < 6 ? 16 : 64);
                            if (us(n),
                            0 === (i = ot(n)))
                                ot(n);
                            else if (1 === i)
                                for (os(n, 1),
                                us(n),
                                us(n),
                                i = ot(n),
                                a = 0; a < i; a++)
                                    us(n);
                            us(n),
                            os(n, 1);
                            var r, o = ot(n), s = ot(n), u = rt(n, 1), l = (0 === u && os(n, 1),
                            os(n, 1),
                            0), c = 0, d = 0, h = 0;
                            return st(n) && (l = ot(n),
                            c = ot(n),
                            d = ot(n),
                            h = ot(n)),
                            a = i = 1,
                            st(n) && st(n) && (0 < (r = ut(n)) && r <= 16 ? (i = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2][r - 1],
                            a = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1][r - 1]) : 255 === r && (i = rt(n, 16),
                            a = rt(n, 16))),
                            n = (2 - u) * (s + 1) * 16 - 2 * d - 2 * h,
                            o = 16 * (o + 1) - 2 * l - 2 * c,
                            t = t.fullData,
                            (l = []).push(t.byteLength >>> 8 & 255),
                            l.push(255 & t.byteLength),
                            l = l.concat.apply(l, et(t)),
                            e = e.fullData,
                            (t = []).push(e.byteLength >>> 8 & 255),
                            t.push(255 & e.byteLength),
                            t = t.concat.apply(t, et(e)),
                            {
                                height: n,
                                width: o,
                                Sa: e = new Uint8Array([1, l[3], l[4], l[5], 255, 225].concat(l, [1], t)),
                                Xa: i,
                                $a: a
                            }
                        }(B);
                        if (!f || null == F)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        e.height = f.height,
                        e.width = f.width,
                        u = {
                            id: e.id,
                            type: "video",
                            codecs: "avc1",
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: 9e4,
                            duration: n,
                            xb: [],
                            Ea: new Uint8Array([]),
                            Sa: f.Sa,
                            Xa: f.Xa,
                            $a: f.$a,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: F,
                                ub: j
                            },
                            stream: e
                        };
                        break;
                    case "hvc":
                        var H = []
                          , K = null
                          , z = []
                          , p = o.Mc();
                        if (!p.length)
                            throw new nt(2,3,3023,t ? t.R()[0] : null);
                        for (var g = 0; g < p.length; g++) {
                            var m = p[g]
                              , X = m.nalus;
                            z.push.apply(z, et(X));
                            for (var W = !1, Y = [], q = !1, J = Ze(X), Q = J.next(); !Q.done; Q = J.next()) {
                                var v, y, $ = Q.value;
                                switch ($.type) {
                                case 1:
                                case 0:
                                    var b = q = !0;
                                    break;
                                case 19:
                                case 20:
                                case 21:
                                    W = b = q = !0;
                                    break;
                                case 32:
                                case 33:
                                case 34:
                                    b = !0;
                                    break;
                                case 35:
                                    q = b = !0;
                                    break;
                                case 39:
                                case 40:
                                    b = !0;
                                    break;
                                default:
                                    b = !1
                                }
                                q && b && (v = $.fullData.byteLength,
                                (y = new Uint8Array(4))[0] = v >> 24 & 255,
                                y[1] = v >> 16 & 255,
                                y[2] = v >> 8 & 255,
                                y[3] = 255 & v,
                                Y.push(y),
                                Y.push($.fullData))
                            }
                            var Z, T = Y.length ? {
                                data: Bt.apply(Nt, et(Y)),
                                Td: W
                            } : null;
                            T && (null == K && null != m.dts && (K = m.dts),
                            Z = void 0,
                            Z = g + 1 < p.length ? (p[g + 1].dts || 0) - (m.dts || 0) : 1 < p.length ? (m.dts || 0) - (p[g - 1].dts || 0) : 9e4 * (t.endTime - t.startTime),
                            H.push({
                                data: T.data,
                                size: T.data.byteLength,
                                duration: Z,
                                zb: Math.round((m.pts || 0) - (m.dts || 0)),
                                flags: {
                                    Ab: 0,
                                    sb: 0,
                                    rb: 0,
                                    pb: 0,
                                    qb: T.Td ? 2 : 1,
                                    Bb: T.Td ? 0 : 1
                                }
                            }))
                        }
                        var w = db(z);
                        if (!w || null == K)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        e.height = w.height,
                        e.width = w.width,
                        u = {
                            id: e.id,
                            type: "video",
                            codecs: "hvc1",
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: 9e4,
                            duration: n,
                            xb: [],
                            Ea: new Uint8Array([]),
                            Sa: w.Sa,
                            Xa: w.Xa,
                            $a: w.$a,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: K,
                                ub: H
                            },
                            stream: e
                        }
                    }
                    u && (a.push(u),
                    u = null)
                }
                if ("audio" == U) {
                    switch (s.audio) {
                    case "aac":
                        for (var ee = [], S = null, te = Ze(o.sc()), ne = te.next(); !ne.done; ne = te.next()) {
                            var ie = ne.value
                              , E = ie.data;
                            if (E) {
                                var A, x = 0;
                                if (!(A = nb(E, x)))
                                    throw new nt(2,3,3018,t ? t.R()[0] : null);
                                for (e.audioSamplingRate = A.sampleRate,
                                e.channelsCount = A.channelCount,
                                null == S && null !== ie.pts && (S = ie.pts); x < E.length; ) {
                                    var ae, re = tb(E, x);
                                    re ? (x + (ae = re.Je + re.sa) <= E.length && ee.push({
                                        data: E.subarray(x + re.Je, x + ae),
                                        size: re.sa,
                                        duration: 1024,
                                        zb: 0,
                                        flags: {
                                            Ab: 0,
                                            sb: 0,
                                            rb: 0,
                                            pb: 0,
                                            qb: 2,
                                            Bb: 0
                                        }
                                    }),
                                    x += ae) : x++
                                }
                            }
                        }
                        if (!A || null == S) {
                            if (!o.Mc().length)
                                throw new nt(2,3,3018,t ? t.R()[0] : null);
                            var S = 9e4 * t.startTime
                              , oe = zt("audio", e.codecs.split(","));
                            if (!oe || !e.channelsCount || !e.audioSamplingRate)
                                throw new nt(2,3,3018,t ? t.R()[0] : null);
                            A = {
                                sampleRate: e.audioSamplingRate,
                                channelCount: e.channelsCount,
                                codec: oe
                            };
                            var se = function(e, t) {
                                if ("mp4a.40.2" === e) {
                                    if (1 === t)
                                        return new Uint8Array([0, 200, 0, 128, 35, 128]);
                                    if (2 === t)
                                        return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                                    if (3 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                                    if (4 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                                    if (5 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                                    if (6 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224])
                                } else {
                                    if (1 === t)
                                        return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                                    if (2 === t || 3 === t)
                                        return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])
                                }
                                return null
                            }(oe, e.channelsCount);
                            if (!se)
                                throw new nt(2,3,3018,t ? t.R()[0] : null);
                            for (var ue = S + 9e4 * (t.endTime - t.startTime), le = S; le < ue; )
                                ee.push({
                                    data: se,
                                    size: se.byteLength,
                                    duration: 1024,
                                    zb: 0,
                                    flags: {
                                        Ab: 0,
                                        sb: 0,
                                        rb: 0,
                                        pb: 0,
                                        qb: 2,
                                        Bb: 0
                                    }
                                }),
                                le += 1024 / A.sampleRate * 9e4
                        }
                        var ce = A.sampleRate
                          , de = S / 9e4 * ce
                          , u = {
                            id: e.id,
                            type: "audio",
                            codecs: A.codec,
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: ce,
                            duration: n,
                            xb: [],
                            Ea: new Uint8Array([]),
                            Sa: new Uint8Array([]),
                            Xa: 0,
                            $a: 0,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: de,
                                ub: ee
                            },
                            stream: e
                        };
                        break;
                    case "ac3":
                        for (var he = [], fe = 0, pe = new Uint8Array([]), ge = null, me = Ze(o.sc()), ve = me.next(); !ve.done; ve = me.next()) {
                            var ye = ve.value
                              , be = ye.data;
                            null == ge && null !== ye.pts && (ge = ye.pts);
                            for (var I = 0; I < be.length; ) {
                                var k = rb(be, I);
                                k ? (e.audioSamplingRate = k.sampleRate,
                                e.channelsCount = k.channelCount,
                                fe = k.sampleRate,
                                pe = k.Ea,
                                he.push({
                                    data: be.subarray(I, I + k.sa),
                                    size: k.sa,
                                    duration: 1536,
                                    zb: 0,
                                    flags: {
                                        Ab: 0,
                                        sb: 0,
                                        rb: 0,
                                        pb: 0,
                                        qb: 2,
                                        Bb: 0
                                    }
                                }),
                                I += k.sa) : I++
                            }
                        }
                        if (0 == fe || 0 == pe.byteLength || null == ge)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        var Te = ge / 9e4 * fe;
                        u = {
                            id: e.id,
                            type: "audio",
                            codecs: "ac-3",
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: fe,
                            duration: n,
                            xb: [],
                            Ea: pe,
                            Sa: new Uint8Array([]),
                            Xa: 0,
                            $a: 0,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: Te,
                                ub: he
                            },
                            stream: e
                        };
                        break;
                    case "ec3":
                        for (var we = [], Se = 0, Ee = new Uint8Array([]), Ae = null, xe = Ze(o.sc()), Ie = xe.next(); !Ie.done; Ie = xe.next()) {
                            var ke = Ie.value
                              , Ce = ke.data;
                            null == Ae && null !== ke.pts && (Ae = ke.pts);
                            for (var C = 0; C < Ce.length; ) {
                                var M = sb(Ce, C);
                                M ? (e.audioSamplingRate = M.sampleRate,
                                e.channelsCount = M.channelCount,
                                Se = M.sampleRate,
                                Ee = M.Ea,
                                we.push({
                                    data: Ce.subarray(C, C + M.sa),
                                    size: M.sa,
                                    duration: 1536,
                                    zb: 0,
                                    flags: {
                                        Ab: 0,
                                        sb: 0,
                                        rb: 0,
                                        pb: 0,
                                        qb: 2,
                                        Bb: 0
                                    }
                                }),
                                C += M.sa) : C++
                            }
                        }
                        if (0 == Se || 0 == Ee.byteLength || null == Ae)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        var Me = Ae / 9e4 * Se;
                        u = {
                            id: e.id,
                            type: "audio",
                            codecs: "ec-3",
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: Se,
                            duration: n,
                            xb: [],
                            Ea: Ee,
                            Sa: new Uint8Array([]),
                            Xa: 0,
                            $a: 0,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: Me,
                                ub: we
                            },
                            stream: e
                        };
                        break;
                    case "mp3":
                        for (var Le, Re = [], Pe = null, De = Ze(o.sc()), Ne = De.next(); !Ne.done; Ne = De.next()) {
                            var _e = Ne.value
                              , Oe = _e.data;
                            if (Oe) {
                                null == Pe && null !== _e.pts && (Pe = _e.pts);
                                for (var L = 0; L < Oe.length; ) {
                                    var R = hb(Oe, L);
                                    R ? (Le = Le || R,
                                    L + R.sa <= Oe.length && Re.push({
                                        data: Oe.subarray(L, L + R.sa),
                                        size: R.sa,
                                        duration: 1152,
                                        zb: 0,
                                        flags: {
                                            Ab: 0,
                                            sb: 0,
                                            rb: 0,
                                            pb: 0,
                                            qb: 2,
                                            Bb: 0
                                        }
                                    }),
                                    L += R.sa) : L++
                                }
                            }
                        }
                        if (!Le || null == Pe)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        var Ue = Le.sampleRate
                          , je = Pe / 9e4 * Ue;
                        u = {
                            id: e.id,
                            type: "audio",
                            codecs: "mp3",
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: Ue,
                            duration: n,
                            xb: [],
                            Ea: new Uint8Array([]),
                            Sa: new Uint8Array([]),
                            Xa: 0,
                            $a: 0,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: je,
                                ub: Re
                            },
                            stream: e
                        };
                        break;
                    case "opus":
                        var Fe = []
                          , Be = null
                          , P = o.H;
                        if (!P)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        var D = [];
                        switch (P.Zi) {
                        case 1:
                        case 2:
                            D = [0];
                            break;
                        case 0:
                            D = [255, 1, 1, 0, 1];
                            break;
                        case 128:
                            D = [255, 2, 0, 0, 1];
                            break;
                        case 3:
                            D = [1, 2, 1, 0, 2, 1];
                            break;
                        case 4:
                            D = [1, 2, 2, 0, 1, 2, 3];
                            break;
                        case 5:
                            D = [1, 3, 2, 0, 4, 1, 2, 3];
                            break;
                        case 6:
                            D = [1, 4, 2, 0, 4, 1, 2, 3, 5];
                            break;
                        case 7:
                            D = [1, 4, 2, 0, 4, 1, 2, 3, 5, 6];
                            break;
                        case 8:
                            D = [1, 5, 3, 0, 6, 1, 2, 3, 4, 5, 7];
                            break;
                        case 130:
                            D = [1, 1, 2, 0, 1];
                            break;
                        case 131:
                            D = [1, 1, 3, 0, 1, 2];
                            break;
                        case 132:
                            D = [1, 1, 4, 0, 1, 2, 3];
                            break;
                        case 133:
                            D = [1, 1, 5, 0, 1, 2, 3, 4];
                            break;
                        case 134:
                            D = [1, 1, 6, 0, 1, 2, 3, 4, 5];
                            break;
                        case 135:
                            D = [1, 1, 7, 0, 1, 2, 3, 4, 5, 6];
                            break;
                        case 136:
                            D = [1, 1, 8, 0, 1, 2, 3, 4, 5, 6, 7]
                        }
                        for (var Ge = new Uint8Array([0, P.channelCount, 0, 0, P.sampleRate >>> 24 & 255, P.sampleRate >>> 17 & 255, P.sampleRate >>> 8 & 255, P.sampleRate >>> 0 & 255, 0, 0].concat(et(D))), Ve = P.sampleRate, He = Ze(o.sc()), Ke = He.next(); !Ke.done; Ke = He.next()) {
                            var ze = Ke.value
                              , N = ze.data;
                            null == Be && null !== ze.pts && (Be = ze.pts);
                            for (var Xe = 0; Xe < N.length; ) {
                                for (var We = 0 != (16 & N[Xe + 1]), Ye = 0 != (8 & N[Xe + 1]), _ = Xe + 2, qe = 0; 255 === N[_]; )
                                    qe += 255,
                                    _ += 1;
                                qe += N[_];
                                var _ = (_ += 1) + (We ? 2 : 0) + (Ye ? 2 : 0)
                                  , Je = N.slice(_, _ + qe);
                                Fe.push({
                                    data: Je,
                                    size: Je.byteLength,
                                    duration: 960,
                                    zb: 0,
                                    flags: {
                                        Ab: 0,
                                        sb: 0,
                                        rb: 0,
                                        pb: 0,
                                        qb: 2,
                                        Bb: 0
                                    }
                                }),
                                Xe = _ + qe
                            }
                        }
                        if (0 == Ge.byteLength || null == Be)
                            throw new nt(2,3,3018,t ? t.R()[0] : null);
                        e.audioSamplingRate = P.sampleRate,
                        e.channelsCount = P.channelCount;
                        var Qe = Be / 9e4 * Ve;
                        u = {
                            id: e.id,
                            type: "audio",
                            codecs: "opus",
                            encrypted: e.encrypted && 0 < e.drmInfos.length,
                            timescale: Ve,
                            duration: n,
                            xb: [],
                            Ea: Ge,
                            Sa: new Uint8Array([]),
                            Xa: 0,
                            $a: 0,
                            data: {
                                Sb: this.g,
                                baseMediaDecodeTime: Qe,
                                ub: Fe
                            },
                            stream: e
                        }
                    }
                    u && (a.push(u),
                    u = null)
                }
            } catch (e) {
                return e && 3023 == e.code ? Promise.resolve(new Uint8Array([])) : Promise.reject(e)
            }
            if (!a.length)
                return Promise.reject(new nt(2,3,3018,t ? t.R()[0] : null));
            var $e, s = new Hm(a), a = e.id + "_" + t.i, a = (this.i.has(a) ? $e = this.i.get(a) : ($e = Km(s),
            this.i.set(a, $e)),
            qm(s)), s = (this.g++,
            Bt($e, a));
            return Promise.resolve(s)
        }
        ,
        i("shaka.transmuxer.TsTransmuxer", Ab);
        var xb, Ib, kb = ["aac", "ac-3", "ec-3", "mp3", "opus"], Cb = ["avc", "hevc"];
        function Mb() {}
        function Lb() {
            xb || navigator.emeEncryptionSchemePolyfilled ? console.debug("EmeEncryptionSchemePolyfill: Already installed.") : navigator.requestMediaKeySystemAccess && MediaKeySystemAccess.prototype.getConfiguration ? (xb = navigator.requestMediaKeySystemAccess,
            console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),
            navigator.requestMediaKeySystemAccess = Rb,
            navigator.emeEncryptionSchemePolyfilled = !0) : console.debug("EmeEncryptionSchemePolyfill: EME not found")
        }
        function Rb(t, n) {
            var i, a = this;
            return $e(function(e) {
                return 1 == e.g ? (console.assert(a == navigator, 'bad "this" for requestMediaKeySystemAccess'),
                We(e, xb.call(a, t, n), 2)) : Gb(i = e.h) ? (console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),
                navigator.requestMediaKeySystemAccess = xb,
                e.return(i)) : (console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),
                navigator.requestMediaKeySystemAccess = Pb,
                e.return(Pb.call(a, t, n)))
            })
        }
        function Pb(t, n) {
            var i, a, r, o, s, u, l, c, d, h, f = this;
            return $e(function(e) {
                if (1 != e.g)
                    return c = e.h,
                    h = d = null,
                    a[0] && (a[0].videoCapabilities && (d = a[0].videoCapabilities[0].encryptionScheme),
                    a[0].audioCapabilities && (h = a[0].audioCapabilities[0].encryptionScheme)),
                    e.return(new Fb(c,d,h));
                for (console.assert(f == navigator, 'bad "this" for requestMediaKeySystemAccess'),
                i = Bb(t),
                a = [],
                r = Ze(n),
                o = r.next(); !o.done; o = r.next())
                    l = o.value,
                    s = Db(l.videoCapabilities, i),
                    u = Db(l.audioCapabilities, i),
                    l.videoCapabilities && l.videoCapabilities.length && !s.length || l.audioCapabilities && l.audioCapabilities.length && !u.length || ((l = Object.assign({}, l)).videoCapabilities = s,
                    l.audioCapabilities = u,
                    a.push(l));
                if (a.length)
                    return We(e, xb.call(f, t, a), 2);
                throw (c = Error("Unsupported keySystem or supportedConfigurations.")).name = "NotSupportedError",
                c.code = DOMException.NOT_SUPPORTED_ERR,
                c
            })
        }
        function Db(e, t) {
            return e && e.filter(function(e) {
                return Vb(e.encryptionScheme, t)
            })
        }
        function Nb() {}
        function _b() {
            Ib || navigator.mediaCapabilitiesEncryptionSchemePolyfilled ? console.debug("McEncryptionSchemePolyfill: Already installed.") : navigator.mediaCapabilities ? (Ib = navigator.mediaCapabilities.decodingInfo,
            console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),
            navigator.mediaCapabilities.decodingInfo = Ob,
            navigator.mediaCapabilitiesEncryptionSchemePolyfilled = !0) : console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")
        }
        function Ob(t) {
            var n, i, a = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return console.assert(a == navigator.mediaCapabilities, 'bad "this" for decodingInfo'),
                    We(e, Ib.call(a, t), 2);
                case 2:
                    if (n = e.h,
                    !t.keySystemConfiguration)
                        return e.return(n);
                    if ((i = n.keySystemAccess) && Gb(i))
                        return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),
                        navigator.mediaCapabilities.decodingInfo = Ib,
                        e.return(n);
                    if (console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),
                    navigator.mediaCapabilities.decodingInfo = Ub,
                    i) {
                        e.A(3);
                        break
                    }
                    return We(e, jb(t), 4);
                case 4:
                    return n.keySystemAccess = e.h,
                    e.return(n);
                case 3:
                    return e.return(Ub.call(a, t))
                }
            })
        }
        function Ub(t) {
            var n, i, a, r, o, s = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    return console.assert(s == navigator.mediaCapabilities, 'bad "this" for decodingInfo'),
                    i = n = null,
                    !t.keySystemConfiguration || (a = t.keySystemConfiguration,
                    r = a.keySystem,
                    i = a.audio && a.audio.encryptionScheme,
                    n = a.video && a.video.encryptionScheme,
                    a = Bb(r),
                    r = {
                        powerEfficient: !1,
                        smooth: !1,
                        supported: !1,
                        keySystemAccess: null,
                        configuration: t
                    },
                    Vb(i, a) && Vb(n, a)) ? We(e, Ib.call(s, t), 2) : e.return(r);
                case 2:
                    if ((o = e.h).keySystemAccess) {
                        o.keySystemAccess = new Fb(o.keySystemAccess,n,i),
                        e.A(3);
                        break
                    }
                    if (t.keySystemConfiguration)
                        return We(e, jb(t), 5);
                    e.A(3);
                    break;
                case 5:
                    o.keySystemAccess = e.h;
                case 3:
                    return e.return(o)
                }
            })
        }
        function jb(a) {
            var r;
            return $e(function(e) {
                var t, n, i;
                return 1 == e.g ? (n = [],
                i = [],
                (t = a.keySystemConfiguration).audio && n.push({
                    robustness: t.audio.robustness || "",
                    contentType: a.audio.contentType,
                    encryptionScheme: t.audio.encryptionScheme
                }),
                t.video && i.push({
                    robustness: t.video.robustness || "",
                    contentType: a.video.contentType,
                    encryptionScheme: t.video.encryptionScheme
                }),
                t = {
                    initDataTypes: t.initDataType ? [t.initDataType] : [],
                    distinctiveIdentifier: t.distinctiveIdentifier,
                    persistentState: t.persistentState,
                    sessionTypes: t.sessionTypes
                },
                n.length && (t.audioCapabilities = n),
                i.length && (t.videoCapabilities = i),
                r = t,
                We(e, navigator.requestMediaKeySystemAccess(a.keySystemConfiguration.keySystem, [r]), 2)) : (r = e.h,
                e.return(r))
            })
        }
        function Fb(e, t, n) {
            this.g = e,
            this.i = t || null,
            this.h = n || null,
            this.keySystem = e.keySystem
        }
        function Bb(e) {
            return e.startsWith("com.widevine") || e.startsWith("com.microsoft") || e.startsWith("com.chromecast") || e.startsWith("com.adobe") || e.startsWith("org.w3") ? "cenc" : e.startsWith("com.apple") ? "cbcs" : (console.warn("EmeEncryptionSchemePolyfill: Unknown key system:", e, "Please contribute!"),
            null)
        }
        function Gb(e) {
            var t = (e = e.getConfiguration()).audioCapabilities && e.audioCapabilities[0];
            return !(!(e = e.videoCapabilities && e.videoCapabilities[0] || t) || void 0 === e.encryptionScheme)
        }
        function Vb(e, t) {
            return !e || e == t || !("cbcs" != e && "cbcs-1-9" != e || !(Xb || Wb || zb))
        }
        function Hb() {}
        function Kb() {
            Lb(),
            _b()
        }
        qi("video/mp2t", function() {
            return new Ab("video/mp2t")
        }, ea),
        i("EmeEncryptionSchemePolyfill", Mb),
        Mb.install = Lb,
        i("McEncryptionSchemePolyfill", Nb),
        Nb.install = _b,
        Fb.prototype.getConfiguration = function() {
            var e = this.g.getConfiguration();
            if (e.videoCapabilities)
                for (var t = Ze(e.videoCapabilities), n = t.next(); !n.done; n = t.next())
                    n.value.encryptionScheme = this.i;
            if (e.audioCapabilities)
                for (n = (t = Ze(e.audioCapabilities)).next(); !n.done; n = t.next())
                    n.value.encryptionScheme = this.h;
            return e
        }
        ,
        Fb.prototype.createMediaKeys = function() {
            return this.g.createMediaKeys()
        }
        ,
        i("EncryptionSchemePolyfills", Hb),
        Hb.install = Kb;
        var zb = navigator.userAgent.includes("CrKey")
          , Xb = 100 <= parseInt(navigator.userAgent.split("Firefox/").pop(), 10)
          , vd = navigator.userAgent || ""
          , Wb = !!vd.includes("Web0S") && (!!(vd = vd.match(/Chrome\/(\d+)/)) && 79 <= parseInt(vd[1], 10));
        void 0 !== o && o.exports && (o.exports = Hb);
        for (var Yb = {
            ach: {
                D: "Lwo",
                F: "Acholi"
            },
            ady: {
                D: "Адыгэбзэ",
                F: "Adyghe"
            },
            af: {
                D: "Afrikaans",
                F: "Afrikaans"
            },
            "af-NA": {
                D: "Afrikaans (Namibia)",
                F: "Afrikaans (Namibia)"
            },
            "af-ZA": {
                D: "Afrikaans (South Africa)",
                F: "Afrikaans (South Africa)"
            },
            ak: {
                D: "Tɕɥi",
                F: "Akan"
            },
            ar: {
                D: "العربية",
                F: "Arabic"
            },
            "ar-AR": {
                D: "العربية",
                F: "Arabic"
            },
            "ar-MA": {
                D: "العربية",
                F: "Arabic (Morocco)"
            },
            "ar-SA": {
                D: "العربية (السعودية)",
                F: "Arabic (Saudi Arabia)"
            },
            "ay-BO": {
                D: "Aymar aru",
                F: "Aymara"
            },
            az: {
                D: "Azərbaycan dili",
                F: "Azerbaijani"
            },
            "az-AZ": {
                D: "Azərbaycan dili",
                F: "Azerbaijani"
            },
            "be-BY": {
                D: "Беларуская",
                F: "Belarusian"
            },
            bg: {
                D: "Български",
                F: "Bulgarian"
            },
            "bg-BG": {
                D: "Български",
                F: "Bulgarian"
            },
            bn: {
                D: "বাংলা",
                F: "Bengali"
            },
            "bn-IN": {
                D: "বাংলা (ভারত)",
                F: "Bengali (India)"
            },
            "bn-BD": {
                D: "বাংলা(বাংলাদেশ)",
                F: "Bengali (Bangladesh)"
            },
            "bs-BA": {
                D: "Bosanski",
                F: "Bosnian"
            },
            ca: {
                D: "Català",
                F: "Catalan"
            },
            "ca-ES": {
                D: "Català",
                F: "Catalan"
            },
            cak: {
                D: "Maya Kaqchikel",
                F: "Kaqchikel"
            },
            "ck-US": {
                D: "ᏣᎳᎩ (tsalagi)",
                F: "Cherokee"
            },
            cs: {
                D: "Čeština",
                F: "Czech"
            },
            "cs-CZ": {
                D: "Čeština",
                F: "Czech"
            },
            cy: {
                D: "Cymraeg",
                F: "Welsh"
            },
            "cy-GB": {
                D: "Cymraeg",
                F: "Welsh"
            },
            da: {
                D: "Dansk",
                F: "Danish"
            },
            "da-DK": {
                D: "Dansk",
                F: "Danish"
            },
            de: {
                D: "Deutsch",
                F: "German"
            },
            "de-AT": {
                D: "Deutsch (Österreich)",
                F: "German (Austria)"
            },
            "de-DE": {
                D: "Deutsch (Deutschland)",
                F: "German (Germany)"
            },
            "de-CH": {
                D: "Deutsch (Schweiz)",
                F: "German (Switzerland)"
            },
            dsb: {
                D: "Dolnoserbšćina",
                F: "Lower Sorbian"
            },
            el: {
                D: "Ελληνικά",
                F: "Greek"
            },
            "el-GR": {
                D: "Ελληνικά",
                F: "Greek (Greece)"
            },
            en: {
                D: "English",
                F: "English"
            },
            "en-GB": {
                D: "English (UK)",
                F: "English (UK)"
            },
            "en-AU": {
                D: "English (Australia)",
                F: "English (Australia)"
            },
            "en-CA": {
                D: "English (Canada)",
                F: "English (Canada)"
            },
            "en-IE": {
                D: "English (Ireland)",
                F: "English (Ireland)"
            },
            "en-IN": {
                D: "English (India)",
                F: "English (India)"
            },
            "en-PI": {
                D: "English (Pirate)",
                F: "English (Pirate)"
            },
            "en-UD": {
                D: "English (Upside Down)",
                F: "English (Upside Down)"
            },
            "en-US": {
                D: "English (US)",
                F: "English (US)"
            },
            "en-ZA": {
                D: "English (South Africa)",
                F: "English (South Africa)"
            },
            "en@pirate": {
                D: "English (Pirate)",
                F: "English (Pirate)"
            },
            eo: {
                D: "Esperanto",
                F: "Esperanto"
            },
            "eo-EO": {
                D: "Esperanto",
                F: "Esperanto"
            },
            es: {
                D: "Español",
                F: "Spanish"
            },
            "es-AR": {
                D: "Español (Argentine)",
                F: "Spanish (Argentina)"
            },
            "es-419": {
                D: "Español (Latinoamérica)",
                F: "Spanish (Latin America)"
            },
            "es-CL": {
                D: "Español (Chile)",
                F: "Spanish (Chile)"
            },
            "es-CO": {
                D: "Español (Colombia)",
                F: "Spanish (Colombia)"
            },
            "es-EC": {
                D: "Español (Ecuador)",
                F: "Spanish (Ecuador)"
            },
            "es-ES": {
                D: "Español (España)",
                F: "Spanish (Spain)"
            },
            "es-LA": {
                D: "Español (Latinoamérica)",
                F: "Spanish (Latin America)"
            },
            "es-NI": {
                D: "Español (Nicaragua)",
                F: "Spanish (Nicaragua)"
            },
            "es-MX": {
                D: "Español (México)",
                F: "Spanish (Mexico)"
            },
            "es-US": {
                D: "Español (Estados Unidos)",
                F: "Spanish (United States)"
            },
            "es-VE": {
                D: "Español (Venezuela)",
                F: "Spanish (Venezuela)"
            },
            et: {
                D: "eesti keel",
                F: "Estonian"
            },
            "et-EE": {
                D: "Eesti (Estonia)",
                F: "Estonian (Estonia)"
            },
            eu: {
                D: "Euskara",
                F: "Basque"
            },
            "eu-ES": {
                D: "Euskara",
                F: "Basque"
            },
            fa: {
                D: "فارسی",
                F: "Persian"
            },
            "fa-IR": {
                D: "فارسی",
                F: "Persian"
            },
            "fb-LT": {
                D: "Leet Speak",
                F: "Leet"
            },
            ff: {
                D: "Fulah",
                F: "Fulah"
            },
            fi: {
                D: "Suomi",
                F: "Finnish"
            },
            "fi-FI": {
                D: "Suomi",
                F: "Finnish"
            },
            "fo-FO": {
                D: "Føroyskt",
                F: "Faroese"
            },
            fr: {
                D: "Français",
                F: "French"
            },
            "fr-CA": {
                D: "Français (Canada)",
                F: "French (Canada)"
            },
            "fr-FR": {
                D: "Français (France)",
                F: "French (France)"
            },
            "fr-BE": {
                D: "Français (Belgique)",
                F: "French (Belgium)"
            },
            "fr-CH": {
                D: "Français (Suisse)",
                F: "French (Switzerland)"
            },
            "fy-NL": {
                D: "Frysk",
                F: "Frisian (West)"
            },
            ga: {
                D: "Gaeilge",
                F: "Irish"
            },
            "ga-IE": {
                D: "Gaeilge (Gaelic)",
                F: "Irish (Gaelic)"
            },
            gl: {
                D: "Galego",
                F: "Galician"
            },
            "gl-ES": {
                D: "Galego",
                F: "Galician"
            },
            "gn-PY": {
                D: "Avañe'ẽ",
                F: "Guarani"
            },
            "gu-IN": {
                D: "ગુજરાતી",
                F: "Gujarati"
            },
            "gx-GR": {
                D: "Ἑλληνική ἀρχαία",
                F: "Classical Greek"
            },
            he: {
                D: "עברית‏",
                F: "Hebrew"
            },
            "he-IL": {
                D: "עברית‏",
                F: "Hebrew"
            },
            hi: {
                D: "हिन्दी",
                F: "Hindi"
            },
            "hi-IN": {
                D: "हिन्दी",
                F: "Hindi"
            },
            hr: {
                D: "Hrvatski",
                F: "Croatian"
            },
            "hr-HR": {
                D: "Hrvatski",
                F: "Croatian"
            },
            hsb: {
                D: "Hornjoserbšćina",
                F: "Upper Sorbian"
            },
            ht: {
                D: "Kreyòl",
                F: "Haitian Creole"
            },
            hu: {
                D: "Magyar",
                F: "Hungarian"
            },
            "hu-HU": {
                D: "Magyar",
                F: "Hungarian"
            },
            "hy-AM": {
                D: "Հայերեն",
                F: "Armenian"
            },
            id: {
                D: "Bahasa Indonesia",
                F: "Indonesian"
            },
            "id-ID": {
                D: "Bahasa Indonesia",
                F: "Indonesian"
            },
            is: {
                D: "Íslenska",
                F: "Icelandic"
            },
            "is-IS": {
                D: "Íslenska (Iceland)",
                F: "Icelandic (Iceland)"
            },
            it: {
                D: "Italiano",
                F: "Italian"
            },
            "it-IT": {
                D: "Italiano",
                F: "Italian"
            },
            ja: {
                D: "日本語",
                F: "Japanese"
            },
            "ja-JP": {
                D: "日本語",
                F: "Japanese"
            },
            "jv-ID": {
                D: "Basa Jawa",
                F: "Javanese"
            },
            "ka-GE": {
                D: "ქართული",
                F: "Georgian"
            },
            "kk-KZ": {
                D: "Қазақша",
                F: "Kazakh"
            },
            km: {
                D: "ភាសាខ្មែរ",
                F: "Khmer"
            },
            "km-KH": {
                D: "ភាសាខ្មែរ",
                F: "Khmer"
            },
            kab: {
                D: "Taqbaylit",
                F: "Kabyle"
            },
            kn: {
                D: "ಕನ್ನಡ",
                F: "Kannada"
            },
            "kn-IN": {
                D: "ಕನ್ನಡ (India)",
                F: "Kannada (India)"
            },
            ko: {
                D: "한국어",
                F: "Korean"
            },
            "ko-KR": {
                D: "한국어 (韩国)",
                F: "Korean (Korea)"
            },
            ku: {
                D: "Kurdî",
                F: "Kurdish"
            },
            "ku-TR": {
                D: "Kurdî",
                F: "Kurdish"
            },
            la: {
                D: "Latin",
                F: "Latin"
            },
            "la-VA": {
                D: "Latin",
                F: "Latin"
            },
            lb: {
                D: "Lëtzebuergesch",
                F: "Luxembourgish"
            },
            "li-NL": {
                D: "Lèmbörgs",
                F: "Limburgish"
            },
            lt: {
                D: "Lietuvių",
                F: "Lithuanian"
            },
            "lt-LT": {
                D: "Lietuvių",
                F: "Lithuanian"
            },
            lv: {
                D: "Latviešu",
                F: "Latvian"
            },
            "lv-LV": {
                D: "Latviešu",
                F: "Latvian"
            },
            mai: {
                D: "मैथिली, মৈথিলী",
                F: "Maithili"
            },
            "mg-MG": {
                D: "Malagasy",
                F: "Malagasy"
            },
            mk: {
                D: "Македонски",
                F: "Macedonian"
            },
            "mk-MK": {
                D: "Македонски (Македонски)",
                F: "Macedonian (Macedonian)"
            },
            ml: {
                D: "മലയാളം",
                F: "Malayalam"
            },
            "ml-IN": {
                D: "മലയാളം",
                F: "Malayalam"
            },
            "mn-MN": {
                D: "Монгол",
                F: "Mongolian"
            },
            mr: {
                D: "मराठी",
                F: "Marathi"
            },
            "mr-IN": {
                D: "मराठी",
                F: "Marathi"
            },
            ms: {
                D: "Bahasa Melayu",
                F: "Malay"
            },
            "ms-MY": {
                D: "Bahasa Melayu",
                F: "Malay"
            },
            mt: {
                D: "Malti",
                F: "Maltese"
            },
            "mt-MT": {
                D: "Malti",
                F: "Maltese"
            },
            my: {
                D: "ဗမာစကာ",
                F: "Burmese"
            },
            nb: {
                D: "Norsk (bokmål)",
                F: "Norwegian (bokmal)"
            },
            "nb-NO": {
                D: "Norsk (bokmål)",
                F: "Norwegian (bokmal)"
            },
            ne: {
                D: "नेपाली",
                F: "Nepali"
            },
            "ne-NP": {
                D: "नेपाली",
                F: "Nepali"
            },
            nl: {
                D: "Nederlands",
                F: "Dutch"
            },
            "nl-BE": {
                D: "Nederlands (België)",
                F: "Dutch (Belgium)"
            },
            "nl-NL": {
                D: "Nederlands (Nederland)",
                F: "Dutch (Netherlands)"
            },
            "nn-NO": {
                D: "Norsk (nynorsk)",
                F: "Norwegian (nynorsk)"
            },
            no: {
                D: "Norsk",
                F: "Norwegian"
            },
            oc: {
                D: "Occitan",
                F: "Occitan"
            },
            "or-IN": {
                D: "ଓଡ଼ିଆ",
                F: "Oriya"
            },
            pa: {
                D: "ਪੰਜਾਬੀ",
                F: "Punjabi"
            },
            "pa-IN": {
                D: "ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",
                F: "Punjabi (India)"
            },
            pl: {
                D: "Polski",
                F: "Polish"
            },
            "pl-PL": {
                D: "Polski",
                F: "Polish"
            },
            "ps-AF": {
                D: "پښتو",
                F: "Pashto"
            },
            pt: {
                D: "Português",
                F: "Portuguese"
            },
            "pt-BR": {
                D: "Português (Brasil)",
                F: "Portuguese (Brazil)"
            },
            "pt-PT": {
                D: "Português (Portugal)",
                F: "Portuguese (Portugal)"
            },
            "qu-PE": {
                D: "Qhichwa",
                F: "Quechua"
            },
            "rm-CH": {
                D: "Rumantsch",
                F: "Romansh"
            },
            ro: {
                D: "Română",
                F: "Romanian"
            },
            "ro-RO": {
                D: "Română",
                F: "Romanian"
            },
            ru: {
                D: "Русский",
                F: "Russian"
            },
            "ru-RU": {
                D: "Русский",
                F: "Russian"
            },
            "sa-IN": {
                D: "संस्कृतम्",
                F: "Sanskrit"
            },
            "se-NO": {
                D: "Davvisámegiella",
                F: "Northern Sámi"
            },
            "si-LK": {
                D: "පළාත",
                F: "Sinhala (Sri Lanka)"
            },
            sk: {
                D: "Slovenčina",
                F: "Slovak"
            },
            "sk-SK": {
                D: "Slovenčina (Slovakia)",
                F: "Slovak (Slovakia)"
            },
            sl: {
                D: "Slovenščina",
                F: "Slovenian"
            },
            "sl-SI": {
                D: "Slovenščina",
                F: "Slovenian"
            },
            "so-SO": {
                D: "Soomaaliga",
                F: "Somali"
            },
            sq: {
                D: "Shqip",
                F: "Albanian"
            },
            "sq-AL": {
                D: "Shqip",
                F: "Albanian"
            },
            sr: {
                D: "Српски",
                F: "Serbian"
            },
            "sr-RS": {
                D: "Српски (Serbia)",
                F: "Serbian (Serbia)"
            },
            su: {
                D: "Basa Sunda",
                F: "Sundanese"
            },
            sv: {
                D: "Svenska",
                F: "Swedish"
            },
            "sv-SE": {
                D: "Svenska",
                F: "Swedish"
            },
            sw: {
                D: "Kiswahili",
                F: "Swahili"
            },
            "sw-KE": {
                D: "Kiswahili",
                F: "Swahili (Kenya)"
            },
            ta: {
                D: "தமிழ்",
                F: "Tamil"
            },
            "ta-IN": {
                D: "தமிழ்",
                F: "Tamil"
            },
            te: {
                D: "తెలుగు",
                F: "Telugu"
            },
            "te-IN": {
                D: "తెలుగు",
                F: "Telugu"
            },
            tg: {
                D: "забо́ни тоҷикӣ́",
                F: "Tajik"
            },
            "tg-TJ": {
                D: "тоҷикӣ",
                F: "Tajik"
            },
            th: {
                D: "ภาษาไทย",
                F: "Thai"
            },
            "th-TH": {
                D: "ภาษาไทย (ประเทศไทย)",
                F: "Thai (Thailand)"
            },
            tl: {
                D: "Filipino",
                F: "Filipino"
            },
            "tl-PH": {
                D: "Filipino",
                F: "Filipino"
            },
            tlh: {
                D: "tlhIngan-Hol",
                F: "Klingon"
            },
            tr: {
                D: "Türkçe",
                F: "Turkish"
            },
            "tr-TR": {
                D: "Türkçe",
                F: "Turkish"
            },
            "tt-RU": {
                D: "татарча",
                F: "Tatar"
            },
            uk: {
                D: "Українська",
                F: "Ukrainian"
            },
            "uk-UA": {
                D: "Українська",
                F: "Ukrainian"
            },
            ur: {
                D: "اردو",
                F: "Urdu"
            },
            "ur-PK": {
                D: "اردو",
                F: "Urdu"
            },
            uz: {
                D: "O'zbek",
                F: "Uzbek"
            },
            "uz-UZ": {
                D: "O'zbek",
                F: "Uzbek"
            },
            vi: {
                D: "Tiếng Việt",
                F: "Vietnamese"
            },
            "vi-VN": {
                D: "Tiếng Việt",
                F: "Vietnamese"
            },
            "xh-ZA": {
                D: "isiXhosa",
                F: "Xhosa"
            },
            yi: {
                D: "ייִדיש",
                F: "Yiddish"
            },
            "yi-DE": {
                D: "ייִדיש (German)",
                F: "Yiddish (German)"
            },
            zh: {
                D: "中文",
                F: "Chinese"
            },
            "zh-HANS": {
                D: "中文简体",
                F: "Chinese Simplified"
            },
            "zh-HANT": {
                D: "中文繁體",
                F: "Chinese Traditional"
            },
            "zh-CN": {
                D: "中文（中国）",
                F: "Chinese Simplified (China)"
            },
            "zh-HK": {
                D: "中文（香港）",
                F: "Chinese Traditional (Hong Kong)"
            },
            "zh-SG": {
                D: "中文（新加坡）",
                F: "Chinese Simplified (Singapore)"
            },
            "zh-TW": {
                D: "中文（台灣）",
                F: "Chinese Traditional (Taiwan)"
            },
            "zu-ZA": {
                D: "isiZulu",
                F: "Zulu"
            }
        }, qb = Ze(Object.keys(Yb)), Jb = qb.next(); !Jb.done; Jb = qb.next()) {
            var Qb = Jb.value;
            Yb[Qb.toLowerCase()] = Yb[Qb]
        }
        function p(e, t) {
            var n = this;
            this.parent = e,
            this.controls = t,
            this.eventManager = new pn,
            this.localization = this.controls.ya,
            this.player = this.controls.nd(),
            this.video = this.controls.vc(),
            this.adManager = this.player.Ce(),
            this.ad = t.getAd(),
            this.eventManager.o(this.adManager, "ad-started", function(e) {
                n.ad = e.ad
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.ad = null
            })
        }
        function $b(e) {
            return Zb(e, "shaka-back-to-overflow-button")
        }
        function Zb(e, t) {
            return (e = e.getElementsByClassName(t)).length ? e[0] : null
        }
        function eT(e) {
            (e = e && Zb(e, "shaka-chosen-item")) && e.parentElement.focus()
        }
        function tT() {
            var e = k("i");
            return e.classList.add("material-icons-round"),
            e.classList.add("shaka-chosen-item"),
            e.textContent = "done",
            e.ariaHidden = "true",
            e
        }
        function m(e, t) {
            e && (t ? e.classList.remove("shaka-hidden") : e.classList.add("shaka-hidden"))
        }
        function nT(e, t) {
            var n = Math.floor(e / 3600)
              , i = Math.floor(e / 60 % 60);
            return e = i + ":" + (e = (e = Math.floor(e % 60)) < 10 ? "0" + e : e),
            e = t ? n + ":" + (e = i < 10 ? "0" + e : e) : e
        }
        function iT(e, t) {
            p.call(this, e, t);
            var n = this;
            this.i = k("div"),
            this.i.classList.add("shaka-ad-counter"),
            this.parent.appendChild(this.i),
            this.h = k("span"),
            this.h.classList.add("shaka-ad-counter-span"),
            this.i.appendChild(this.h),
            this.g = new C(function() {
                var e, t;
                n.ad.isLinear() && (e = Math.round(n.ad.getRemainingTime()),
                t = n.ad.getDuration(),
                -1 != e && -1 != t && (0 < e ? (e = nT(t - e, !1) + " / " + nT(t, !1),
                1 < n.ad.getSequenceLength() ? n.h.textContent = e : (t = n.localization.resolve("AD_TIME"),
                n.h.textContent = t.replace("[AD_TIME]", e))) : (n.g.stop(),
                n.h.textContent = "")))
            }
            ),
            this.eventManager.o(this.localization, "locale-updated", function() {}),
            this.eventManager.o(this.localization, "locale-changed", function() {}),
            this.eventManager.o(this.adManager, "ad-started", function() {
                n.g.Ra(),
                n.g.Aa(.5)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.g.stop(),
                n.h.textContent = ""
            }),
            this.ad && (this.g.Ra(),
            this.g.Aa(.5))
        }
        function aT(e, t) {
            p.call(this, e, t);
            var n = this;
            this.g = k("div"),
            this.g.classList.add("shaka-ad-position"),
            m(this.g, !1),
            this.parent.appendChild(this.g),
            this.h = k("span"),
            this.h.classList.add("shaka-ad-position-span"),
            this.g.appendChild(this.h),
            this.eventManager.o(this.localization, "locale-updated", function() {
                n.ad && rT(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                n.ad && rT(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                rT(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.h.textContent = "",
                m(n.g, !1)
            }),
            this.ad && rT(this)
        }
        function rT(e) {
            var t, n = e.ad.getSequenceLength();
            1 < n && e.ad.isLinear() && (t = e.ad.getPositionInSequence(),
            e.h.textContent = e.localization.resolve("AD_PROGRESS").replace("[AD_ON]", String(t)).replace("[NUM_ADS]", String(n)),
            m(e.g, !0))
        }
        function oT(e, t) {
            p.call(this, e, t);
            for (var n = this, i = (this.j = this.controls.g,
            this.h = this.controls.i,
            this.i = [],
            this.g = k("div"),
            this.g.classList.add("shaka-no-propagation"),
            this.g.classList.add("shaka-context-menu"),
            this.g.classList.add("shaka-hidden"),
            this.h.appendChild(this.g),
            this.eventManager.o(this.h, "contextmenu", function(e) {
                var t;
                n.g.classList.contains("shaka-hidden") ? (e.preventDefault(),
                t = n.h.getBoundingClientRect(),
                n.g.style.left = e.clientX - t.left + "px",
                n.g.style.top = e.clientY - t.top + "px",
                m(n.g, !0)) : m(n.g, !1)
            }),
            this.eventManager.o(U, "click", function() {
                m(n.g, !1)
            }),
            this), a = Ze(i.j.contextMenuElements), r = a.next(); !r.done; r = a.next()) {
                r = r.value;
                var o = uT.get(r);
                o ? i.i.push(o.create(i.g, i.controls)) : Q("Unrecognized context menu element:", r)
            }
        }
        function sT(e, t) {
            uT.set(e, t)
        }
        p.prototype.release = function() {
            this.eventManager.release(),
            this.ad = this.adManager = this.video = this.player = this.localization = this.eventManager = this.controls = this.parent = null
        }
        ,
        i("shaka.ui.Element", p),
        n(iT, p),
        iT.prototype.release = function() {
            this.g.stop(),
            this.g = null,
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.AdCounter", iT),
        n(aT, p),
        i("shaka.ui.AdPosition", aT),
        n(oT, p),
        oT.prototype.release = function() {
            this.h = null;
            for (var e = Ze(this.i), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.i = [],
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.ContextMenu", oT),
        oT.registerElement = sT;
        var uT = new Map;
        function lT(e, t) {
            p.call(this, e, t);
            var n = this;
            this.button = Go(),
            this.parent.appendChild(this.button),
            this.eventManager.o(this.localization, "locale-updated", function() {
                n.g()
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                n.g()
            }),
            this.eventManager.o(this.video, "play", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.video, "pause", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.video, "seeking", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-paused", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-resumed", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.button, "click", function() {
                n.ad && (ew(n.controls),
                n.ad.isLinear()) || ZT(n.controls)
            }),
            this.ad && (this.g(),
            this.h())
        }
        function cT(e, t) {
            lT.call(this, e, t),
            this.button.classList.add("shaka-play-button"),
            this.button.classList.add("shaka-no-propagation"),
            this.h(),
            this.g()
        }
        function dT(e, t) {
            p.call(this, e, t);
            var n = this;
            this.m = null,
            this.s = !1,
            this.j = new C(function() {
                0 != parseInt(n.h.textContent, 10) && (n.video.currentTime = n.controls.ng() + parseInt(n.h.textContent, 10)),
                n.g.style.opacity = "0",
                n.s = !1,
                n.h.textContent = "0s"
            }
            ),
            this.g = k("div"),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.g, "touchend", function(e) {
                n.controls.wc() && (n.controls.Fd() ? (e.preventDefault(),
                n.controls.Nc()) : 0 < n.controls.g.tapSeekDistance && (e.preventDefault(),
                e = n.controls.g.tapSeekDistance,
                n.s ? n.m + 1e3 > Date.now() && (n.j.stop(),
                n.m = Date.now(),
                n.h.textContent = (n.l ? parseInt(n.h.textContent, 10) - e : parseInt(n.h.textContent, 10) + e).toString() + "s",
                n.g.style.opacity = "1",
                n.j.Y(1)) : (n.s = !0,
                n.m = Date.now(),
                n.j.Y(1))))
            }),
            this.h = k("span"),
            this.h.textContent = "0s",
            this.g.appendChild(this.h),
            this.i = k("span"),
            this.i.classList.add("shaka-forward-rewind-container-icon"),
            this.g.appendChild(this.i),
            this.l = !1
        }
        function hT(e, t) {
            dT.call(this, e, t),
            this.g.classList.add("shaka-fast-foward-container"),
            this.i.textContent = "fast_forward",
            this.l = !1
        }
        function fT(e, t) {
            dT.call(this, e, t),
            this.g.classList.add("shaka-rewind-container"),
            this.i.textContent = "fast_rewind",
            this.l = !0
        }
        function pT(e, t, n, i) {
            p.call(this, e, t);
            var a = this;
            this.container = k("div"),
            this.container.classList.add("shaka-range-container"),
            this.container.classList.add.apply(this.container.classList, et(n)),
            this.h = !1,
            this.bar = document.createElement("input"),
            this.I = new C(function() {
                a.onChangeEnd(),
                a.h = !1
            }
            ),
            this.bar.classList.add("shaka-range-element"),
            this.bar.classList.add.apply(this.bar.classList, et(i)),
            this.bar.type = "range",
            this.bar.step = "any",
            this.bar.min = "0",
            this.bar.max = "1",
            this.bar.value = "0",
            this.container.appendChild(this.bar),
            this.parent.appendChild(this.container),
            this.eventManager.o(this.bar, "mousedown", function(e) {
                a.controls.wc() && (a.h = !0,
                a.onChangeStart()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.bar, "touchstart", function(e) {
                a.controls.wc() && (a.h = !0,
                gT(a, e),
                a.onChangeStart()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.bar, "input", function() {
                a.onChange()
            }),
            this.eventManager.o(this.bar, "touchmove", function(e) {
                a.h && (gT(a, e),
                a.onChange()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.bar, "touchend", function(e) {
                a.h && (a.h = !1,
                gT(a, e),
                a.onChangeEnd()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.bar, "touchcancel", function(e) {
                a.h && (a.h = !1,
                gT(a, e),
                a.onChangeEnd()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.bar, "mouseup", function(e) {
                a.h && (a.h = !1,
                a.onChangeEnd()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.bar, "blur", function() {
                a.h && (a.h = !1,
                a.onChangeEnd())
            }),
            this.eventManager.o(this.bar, "contextmenu", function(e) {
                e.preventDefault(),
                e.stopPropagation()
            })
        }
        function gT(e, t) {
            t.preventDefault();
            var n = t.changedTouches[0]
              , i = e.bar.getBoundingClientRect()
              , a = (t = parseFloat(e.bar.min),
            parseFloat(e.bar.max));
            (n = t + (a - t) / i.width * (n.clientX - i.left)) < t ? n = t : a < n && (n = a),
            e.bar.value = n
        }
        function mT(e, t) {
            pT.call(this, e, t, ["shaka-seek-bar-container"], ["shaka-seek-bar", "shaka-no-propagation", "shaka-show-controls-on-mouse-over"]);
            var i = this;
            this.H = k("div"),
            this.H.classList.add("shaka-ad-markers"),
            this.container.insertBefore(this.H, this.container.childNodes[0]),
            this.J = this.controls.g,
            this.u = new C(function() {
                var e = i.getValue();
                i.player.T() || e == i.video.duration && (e -= .001),
                i.video.currentTime = e
            }
            ),
            this.C = new C(function() {
                vT(i)
            }
            ),
            this.L = !1,
            this.i = k("div"),
            this.i.id = "shaka-player-ui-thumbnail-container",
            this.g = k("img"),
            this.g.id = "shaka-player-ui-thumbnail-image",
            this.g.draggable = !1,
            this.B = k("div"),
            this.B.id = "shaka-player-ui-thumbnail-time",
            this.i.appendChild(this.g),
            this.i.appendChild(this.B),
            this.container.appendChild(this.i),
            this.j = k("div"),
            this.j.id = "shaka-player-ui-time-container",
            this.container.appendChild(this.j),
            this.l = this.m = null,
            this.K = !1,
            this.s = new C(function() {
                ST(i)
            }
            ),
            this.G = [],
            this.eventManager.o(this.localization, "locale-updated", function() {
                return TT(i)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                return TT(i)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                bT(i) || m(i.container, !1)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                bT(i) && m(i.container, !0)
            }),
            this.eventManager.o(this.adManager, "ad-cue-points-changed", function(e) {
                i.G = e.cuepoints,
                yT(i)
            }),
            this.eventManager.o(this.player, "unloading", function() {
                i.G = [],
                yT(i),
                i.l && (i.l.abort(),
                i.l = null),
                i.m = null,
                ST(i),
                ET(i)
            }),
            this.eventManager.o(this.bar, "mousemove", function(e) {
                var t = i.bar.getBoundingClientRect()
                  , n = parseFloat(i.bar.min);
                e = e.clientX - t.left,
                t = Math.round(n + (parseFloat(i.bar.max) - n) / t.width * e),
                i.player.De().length ? (ET(i),
                wT(i, e, t)) : (ST(i),
                n = i.j.clientWidth,
                i.j.style.width = "auto",
                i.j.style.height = "20px",
                i.j.style.top = "-30px",
                i.j.style.left = Math.min(i.bar.offsetWidth - n, Math.max(0, e - n / 2)) + "px",
                i.j.style.right = "",
                i.j.style.visibility = "visible",
                e = i.player.Ia(),
                i.player.T() ? (e = e.end - t) < 1 ? (i.j.textContent = i.localization.resolve("LIVE"),
                i.j.style.left = "",
                i.j.style.right = "0px") : i.j.textContent = "-" + AT(e) : i.j.textContent = AT(t - e.start))
            }),
            this.eventManager.o(this.container, "mouseleave", function() {
                ET(i),
                i.s.stop(),
                i.s.Y(.25)
            }),
            this.setValue(this.video.currentTime),
            this.update(),
            TT(this),
            this.ad && m(this.container, !1)
        }
        function vT(e) {
            if (e.G.length) {
                for (var t, n, i = e.player.Ia(), a = i.end - i.start, r = ["to right"], o = [], s = e.J.seekBarColors.adBreaks, u = !1, l = Ze(e.G), c = l.next(); !c.done; c = l.next())
                    -1 != (c = c.value).start || c.end ? (!c.end && c.start >= i.start || "number" == typeof c.end && c.end > i.start) && (n = (t = (Math.max(c.start, i.start) - i.start) / a || 0) + .01,
                    c.end && (n = (c.end - i.start) / a || 0),
                    o.push({
                        start: t,
                        end: n
                    })) : u = !0;
                for (a = (i = Ze(o = o.sort(function(e, t) {
                    return e.start - t.start
                }))).next(); !a.done; a = i.next())
                    a = a.value,
                    r.push("transparent " + 100 * a.start + "%"),
                    r.push(s + " " + 100 * a.start + "%"),
                    r.push(s + " " + 100 * a.end + "%"),
                    r.push("transparent " + 100 * a.end + "%");
                u && (r.push("transparent 99%"),
                r.push(s + " 99%")),
                e.H.style.background = "linear-gradient(" + r.join(",") + ")"
            } else
                e.H.style.background = "transparent",
                e.C.stop()
        }
        function yT(t) {
            function e() {
                vT(t);
                var e = (e = t.player.Ia()).end - e.start;
                t.player.T() && 5 < e && t.C.Aa(.25)
            }
            t.player.Uh() ? e() : t.eventManager.oa(t.player, "loaded", e)
        }
        function bT(e) {
            var t = (t = e.player.Ia()).end - t.start;
            return (!e.player.T() || !(t < 5) && isFinite(t)) && (null == e.ad || !e.ad.isLinear())
        }
        function TT(e) {
            e.bar.ariaLabel = e.localization.resolve("SEEK")
        }
        function wT(t, n, i) {
            var a, r, o, s, u, l, c, d, h, f, p, g;
            $e(function(e) {
                switch (e.g) {
                case 1:
                    return (a = function(e) {
                        var t = e.player.De();
                        if (!t.length)
                            return null;
                        for (var n = Ze(["image/avif", "image/webp", "image/jpeg", "image/png", "image/svg+xml"]), i = n.next(), a = {}; !i.done; a = {
                            ai: void 0,
                            estimatedBandwidth: void 0
                        },
                        i = n.next())
                            if (a.ai = i.value,
                            a.estimatedBandwidth = e.player.getStats().estimatedBandwidth,
                            (i = t.filter(function(t) {
                                return function(e) {
                                    return e.mimeType.toLowerCase() === t.ai && e.bandwidth < .01 * t.estimatedBandwidth
                                }
                            }(a)).sort(function(e, t) {
                                return t.bandwidth - e.bandwidth
                            })) && i.length)
                                return i[0];
                        return t.find(function(e) {
                            return "application/mp4" == e.mimeType && "mjpg" == e.codecs
                        }) || t[0]
                    }(t)) ? (i < 0 && (i = 0),
                    r = t.player.Ia(),
                    s = Math.max(Math.ceil(r.start), Math.min(Math.floor(r.end), i)),
                    We(e, t.player.qg(a.id, s), 2)) : (ST(t),
                    e.return());
                case 2:
                    if (!(o = e.h) || !o.uris.length)
                        return ST(t),
                        e.return();
                    if (t.player.T() ? (s = r.end - i,
                    t.B.textContent = s < 1 ? t.localization.resolve("LIVE") : "-" + AT(s)) : t.B.textContent = AT(i),
                    u = -10,
                    l = t.i.clientWidth,
                    c = Math.floor(9 * l / 16),
                    t.i.style.height = c + "px",
                    t.i.style.top = -(c - u) + "px",
                    h = Math.min(t.bar.offsetWidth - l, Math.max(0, n - l / 2)),
                    t.i.style.left = h + "px",
                    t.i.style.visibility = "visible",
                    d = o.uris[0].split("#xywh=")[0],
                    t.m && d === t.m.uris[0].split("#xywh=")[0] && o.segment.Jb() == t.m.segment.Jb() && o.segment.Gb() == t.m.segment.Gb()) {
                        e.A(3);
                        break
                    }
                    if (t.m = o,
                    t.l && (t.l.abort(),
                    t.l = null),
                    "mjpg" == a.codecs || d.startsWith("offline:"))
                        return t.g.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',
                        qe(e, 5),
                        h = Mr,
                        f = Gu(o.segment.R(), o.segment.Jb(), o.segment.Gb(), t.player.getConfiguration().streaming.retryParameters),
                        t.l = t.player.Hb().request(h, f, {
                            type: 1
                        }),
                        We(e, t.l.promise, 7);
                    e.A(4);
                    break;
                case 7:
                    h = e.h,
                    t.l = null,
                    "mjpg" == a.codecs ? (new Fr).box("mdat", Hr(function(e) {
                        d = URL.createObjectURL(new Blob([e],{
                            type: "image/jpeg"
                        }))
                    })).parse(h.data, !1) : (f = a.mimeType || "image/jpeg",
                    p = new Blob([h.data],{
                        type: f
                    }),
                    d = URL.createObjectURL(p)),
                    Je(e, 4);
                    break;
                case 5:
                    if (7001 == (p = Qe(e)).code)
                        return e.return();
                    throw p;
                case 4:
                    try {
                        t.i.removeChild(t.g)
                    } catch (e) {}
                    t.g = k("img"),
                    t.g.id = "shaka-player-ui-thumbnail-image",
                    t.g.draggable = !1,
                    t.g.src = d,
                    t.g.onload = function() {
                        d.startsWith("blob:") && URL.revokeObjectURL(d)
                    }
                    ,
                    t.i.insertBefore(t.g, t.i.firstChild);
                case 3:
                    g = l / o.width,
                    o.imageHeight ? t.g.height = o.imageHeight : o.sprite || (t.g.style.height = "100%",
                    t.g.style.objectFit = "contain"),
                    o.imageWidth ? t.g.width = o.imageWidth : o.sprite || (t.g.style.width = "100%",
                    t.g.style.objectFit = "contain"),
                    t.g.style.left = "-" + g * o.positionX + "px",
                    t.g.style.top = "-" + g * o.positionY + "px",
                    t.g.style.transform = "scale(" + g + ")",
                    t.g.style.transformOrigin = "left top",
                    c = Math.floor(l * o.height / o.width),
                    t.i.style.height = c + "px",
                    t.i.style.top = -(c - u) + "px",
                    Ye(e)
                }
            })
        }
        function ST(e) {
            e.i.style.visibility = "hidden",
            e.B.textContent = ""
        }
        function ET(e) {
            e.j.style.visibility = "hidden"
        }
        function AT(e) {
            var t = Math.round(e)
              , n = (e = Math.floor(t / 3600),
            Math.floor((t - 3600 * e) / 60));
            return (t = t - 3600 * e - 60 * n) < 10 && (t = "0" + t),
            0 < e ? e + ":" + (n = n < 10 ? "0" + n : n) + ":" + t : n + ":" + t
        }
        function xT() {}
        function IT(e, t) {
            p.call(this, e, t);
            var n = this;
            this.j = k("div"),
            this.j.classList.add("shaka-skip-ad-container"),
            this.parent.appendChild(this.j),
            this.h = k("div"),
            this.h.classList.add("shaka-skip-ad-counter"),
            m(this.h, !1),
            this.j.appendChild(this.h),
            this.g = Go(),
            this.g.classList.add("shaka-skip-ad-button"),
            this.g.disabled = !0,
            m(this.g, !1),
            this.g.classList.add("shaka-no-propagation"),
            this.j.appendChild(this.g),
            kT(this),
            this.i = new C(function() {
                var e;
                n.ad.isSkippable() ? 0 < (e = Math.round(n.ad.getTimeUntilSkippable())) ? n.h.textContent = e : (n.i.stop(),
                m(n.h, !1)) : MT(n)
            }
            ),
            this.eventManager.o(this.localization, "locale-updated", function() {
                kT(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                kT(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                CT(n)
            }),
            this.eventManager.o(this.adManager, "ad-skip-state-changed", function() {
                n.ad.isSkippable() ? n.ad.canSkipNow() && (n.g.disabled = !1,
                n.i.stop(),
                m(n.h, !1)) : MT(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                MT(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.ad.skip()
            }),
            this.ad && CT(this)
        }
        function kT(e) {
            e.g.textContent = e.localization.resolve("SKIP_AD")
        }
        function CT(e) {
            e.ad.isSkippable() && e.ad.needsSkipUI() && (m(e.g, !0),
            m(e.h, !0),
            e.h.textContent = "",
            e.i.Ra(),
            e.i.Aa(.5))
        }
        function MT(e) {
            e.i.stop(),
            e.g.disabled = !0,
            m(e.g, !1),
            m(e.h, !1)
        }
        function LT() {
            var e = new Float32Array(16);
            return e[0] = 1,
            e[5] = 1,
            e[10] = 1,
            e[15] = 1,
            e
        }
        function RT(e, t, n) {
            t = 1 / Math.tan(t / 2),
            e[0] = t / n,
            e[1] = 0,
            e[2] = 0,
            e[3] = 0,
            e[4] = 0,
            e[5] = t,
            e[6] = 0,
            e[7] = 0,
            e[8] = 0,
            e[9] = 0,
            e[11] = -1,
            e[12] = 0,
            e[13] = 0,
            e[15] = 0,
            e[10] = 100.1 * (n = 1 / -99.9),
            e[14] = 20 * n
        }
        function PT(e, t, n) {
            var i = t[0]
              , a = t[1]
              , r = t[2]
              , o = t[3]
              , s = t[4]
              , u = t[5]
              , l = t[6]
              , c = t[7]
              , d = t[8]
              , h = t[9]
              , f = t[10]
              , p = t[11]
              , g = t[12]
              , m = t[13]
              , v = t[14]
              , y = (t = t[15],
            n[0])
              , b = n[1]
              , T = n[2]
              , w = n[3];
            e[0] = y * i + b * s + T * d + w * g,
            e[1] = y * a + b * u + T * h + w * m,
            e[2] = y * r + b * l + T * f + w * v,
            e[3] = y * o + b * c + T * p + w * t,
            y = n[4],
            b = n[5],
            T = n[6],
            w = n[7],
            e[4] = y * i + b * s + T * d + w * g,
            e[5] = y * a + b * u + T * h + w * m,
            e[6] = y * r + b * l + T * f + w * v,
            e[7] = y * o + b * c + T * p + w * t,
            y = n[8],
            b = n[9],
            T = n[10],
            w = n[11],
            e[8] = y * i + b * s + T * d + w * g,
            e[9] = y * a + b * u + T * h + w * m,
            e[10] = y * r + b * l + T * f + w * v,
            e[11] = y * o + b * c + T * p + w * t,
            y = n[12],
            b = n[13],
            T = n[14],
            w = n[15],
            e[12] = y * i + b * s + T * d + w * g,
            e[13] = y * a + b * u + T * h + w * m,
            e[14] = y * r + b * l + T * f + w * v,
            e[15] = y * o + b * c + T * p + w * t
        }
        function DT(e, t) {
            var n = new Float32Array(3)
              , i = t[0]
              , a = t[1]
              , r = t[2]
              , o = t[4]
              , s = t[5]
              , u = t[6]
              , l = t[8]
              , c = t[9]
              , d = t[10];
            n[0] = Math.sqrt(i * i + a * a + r * r),
            n[1] = Math.sqrt(o * o + s * s + u * u),
            n[2] = Math.sqrt(l * l + c * c + d * d),
            u = 1 / n[0],
            l = 1 / n[1],
            c = 1 / n[2],
            o = t[0] * u,
            n = t[1] * l,
            i = t[2] * c,
            a = t[4] * u,
            s = t[5] * l,
            r = t[6] * c,
            u *= t[8],
            l *= t[9],
            0 < (c = o + s + (t = t[10] * c)) ? (t = 2 * Math.sqrt(c + 1),
            e[3] = .25 * t,
            e[0] = (r - l) / t,
            e[1] = (u - i) / t,
            e[2] = (n - a) / t) : s < o && t < o ? (t = 2 * Math.sqrt(1 + o - s - t),
            e[3] = (r - l) / t,
            e[0] = .25 * t,
            e[1] = (n + a) / t,
            e[2] = (u + i) / t) : t < s ? (t = 2 * Math.sqrt(1 + s - o - t),
            e[3] = (u - i) / t,
            e[0] = (n + a) / t,
            e[1] = .25 * t,
            e[2] = (r + l) / t) : (t = 2 * Math.sqrt(1 + t - o - s),
            e[3] = (n - a) / t,
            e[0] = (u + i) / t,
            e[1] = (r + l) / t,
            e[2] = .25 * t)
        }
        function NT(e, t) {
            var n = t[0]
              , i = t[1]
              , a = t[2]
              , r = n + n
              , o = i + i
              , s = a + a
              , u = (n *= r,
            i * r)
              , l = (i *= o,
            a * r)
              , c = a * o;
            r *= t = t[3],
            o *= t,
            t *= s,
            e[0] = 1 - i - (a *= s),
            e[1] = u + t,
            e[2] = l - o,
            e[3] = 0,
            e[4] = u - t,
            e[5] = 1 - n - a,
            e[6] = c + r,
            e[7] = 0,
            e[8] = l + o,
            e[9] = c - r,
            e[10] = 1 - n - i,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1
        }
        function _T() {
            var e = new Float32Array(4);
            return e[3] = 1,
            e
        }
        function OT(e, t, n, i, a) {
            this.m = e,
            this.ma = t,
            this.l = n,
            this.g = i,
            this.s = new pn,
            this.L = _T(),
            this.h = _T(),
            this.ea = this.ha = this.aa = this.j = null,
            this.G = LT(),
            this.I = LT(),
            this.M = LT(),
            this.W = LT(),
            this.B = null,
            this.O = !1,
            this.J = this.u = null,
            this.Ba = this.ra = 0,
            this.Z = this.P = this.S = this.K = null,
            this.H = 0,
            this.i = 75,
            this.V = 0,
            this.C = a;
            var e = x = this
              , r = e.G
              , t = [0, 0, 0]
              , n = [1, 0, 0]
              , i = [0, 1, 0]
              , o = t[0]
              , a = t[1]
              , s = (t = t[2],
            i[0])
              , u = i[1]
              , l = i[2]
              , c = n[0]
              , d = (i = n[1],
            n[2]);
            if (Math.abs(o - c) < 1e-6 && Math.abs(a - i) < 1e-6 && Math.abs(t - d) < 1e-6)
                for (o = 0; o < 16; o++)
                    r[o] = 0 == o % 5 ? 1 : 0;
            else {
                n = o - c,
                i = a - i,
                c = t - d;
                var h = 1 / Math.sqrt(n * n + i * i + c * c)
                  , f = (d = u * (c *= h) - l * (i *= h),
                l = l * (n *= h) - s * c,
                s = s * i - u * n,
                (h = Math.sqrt(d * d + l * l + s * s)) ? (d *= h = 1 / h,
                l *= h,
                s *= h) : s = l = d = 0,
                u = i * s - c * l,
                c * d - n * s)
                  , p = n * l - i * d;
                (h = Math.sqrt(u * u + f * f + p * p)) ? (u *= h = 1 / h,
                f *= h,
                p *= h) : p = f = u = 0,
                r[0] = d,
                r[1] = u,
                r[2] = n,
                r[3] = 0,
                r[4] = l,
                r[5] = f,
                r[6] = i,
                r[7] = 0,
                r[8] = s,
                r[9] = p,
                r[10] = c,
                r[11] = 0,
                r[12] = -(d * o + l * a + s * t),
                r[13] = -(u * o + f * a + p * t),
                r[14] = -(n * o + i * a + c * t),
                r[15] = 1
            }
            DT(e.L, e.G),
            e = r = e.W,
            o = (t = [4, 4, 4])[0],
            a = t[1],
            t = t[2],
            r[0] = e[0] * o,
            r[1] = e[1] * o,
            r[2] = e[2] * o,
            r[3] = e[3] * o,
            r[4] = e[4] * a,
            r[5] = e[5] * a,
            r[6] = e[6] * a,
            r[7] = e[7] * a,
            r[8] = e[8] * t,
            r[9] = e[9] * t,
            r[10] = e[10] * t,
            r[11] = e[11] * t,
            r[12] = e[12],
            r[13] = e[13],
            r[14] = e[14],
            r[15] = e[15];
            h = x,
            FT(h),
            h.g.viewport(0, 0, h.g.drawingBufferWidth, h.g.drawingBufferHeight),
            h.g.clearColor(0, 0, 0, 1),
            h.g.enable(h.g.CULL_FACE),
            h.g.cullFace(h.g.FRONT),
            h.g.clear(h.g.COLOR_BUFFER_BIT),
            d = x,
            l = UT(d, d.g.VERTEX_SHADER),
            s = UT(d, d.g.FRAGMENT_SHADER),
            d.j = d.g.createProgram(),
            d.g.attachShader(d.j, l),
            d.g.attachShader(d.j, s),
            d.g.linkProgram(d.j),
            "cubemap" == d.C ? (d.S = d.g.getAttribLocation(d.j, "aVertexPosition"),
            d.P = d.g.getAttribLocation(d.j, "aTextureCoord")) : (d.S = d.g.getAttribLocation(d.j, "a_vPosition"),
            d.g.enableVertexAttribArray(d.S),
            d.P = d.g.getAttribLocation(d.j, "a_TexCoordinate"),
            d.g.enableVertexAttribArray(d.P)),
            u = x;
            if ("cubemap" == u.C)
                var g = {
                    Li: [-1, -1, -1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, 1, 1, -1, 1, 1, 1, 1, -1, 1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, -1, 1, -1, -1, -1, 1, -1, -1, 1, -1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1],
                    Ii: [2 / 3, .5, 1 / 3, .5, 1 / 3, 0, 2 / 3, 0, 2 / 3, .5, 2 / 3, 0, 1, 0, 1, .5, 1, 1, 2 / 3, 1, 2 / 3, .5, 1, .5, 0, .5, 0, 0, 1 / 3, 0, 1 / 3, .5, 0, .5, 1 / 3, .5, 1 / 3, 1, 0, 1, 1 / 3, 1, 1 / 3, .5, 2 / 3, .5, 2 / 3, 1],
                    indices: [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23]
                };
            else {
                g = [];
                for (var m = [], v = [], y = 0; y <= 100; y++) {
                    var b = y / 100
                      , T = b * Math.PI
                      , w = Math.sin(T);
                    T = Math.cos(T);
                    for (var S = 0; S <= 100; S++) {
                        var E = S / 100
                          , A = E * Math.PI * 2;
                        g.push(-1 * Math.cos(A) * w, T, Math.sin(A) * w),
                        m.push(E),
                        m.push(b)
                    }
                }
                for (y = 0; y < 100; y++)
                    for (b = 0; b < 100; b++)
                        T = (w = 101 * y + b) + 1,
                        E = (S = 101 * (y + 1) + b) + 1,
                        v.push(w, S, T),
                        v.push(T, S, E);
                g = {
                    Li: g,
                    Ii: m,
                    indices: v
                }
            }
            u.K = g,
            u.aa = u.g.createBuffer(),
            u.g.bindBuffer(u.g.ARRAY_BUFFER, u.aa),
            u.g.bufferData(u.g.ARRAY_BUFFER, new Float32Array(u.K.Li), u.g.STATIC_DRAW),
            u.ha = u.g.createBuffer(),
            u.g.bindBuffer(u.g.ARRAY_BUFFER, u.ha),
            u.g.bufferData(u.g.ARRAY_BUFFER, new Float32Array(u.K.Ii), u.g.STATIC_DRAW),
            u.ea = u.g.createBuffer(),
            u.g.bindBuffer(u.g.ELEMENT_ARRAY_BUFFER, u.ea),
            u.g.bufferData(u.g.ELEMENT_ARRAY_BUFFER, new Uint16Array(u.K.indices), u.g.STATIC_DRAW);
            var x, f = x;
            f.Z = f.g.createTexture(),
            f.g.bindTexture(f.g.TEXTURE_2D, f.Z),
            f.g.texParameteri(f.g.TEXTURE_2D, f.g.TEXTURE_WRAP_S, f.g.CLAMP_TO_EDGE),
            f.g.texParameteri(f.g.TEXTURE_2D, f.g.TEXTURE_WRAP_T, f.g.CLAMP_TO_EDGE),
            f.g.texParameteri(f.g.TEXTURE_2D, f.g.TEXTURE_MIN_FILTER, f.g.NEAREST),
            f.g.texParameteri(f.g.TEXTURE_2D, f.g.TEXTURE_MAG_FILTER, f.g.NEAREST),
            x.s.oa(x.m, "loadeddata", function() {
                var n;
                x.s.o(x.m, "canplaythrough", function() {
                    jT(x)
                }),
                x.s.o(x.m, "playing", function() {
                    if (x.u && x.u.stop(),
                    !n)
                        for (var e = x.ma.Kb(), t = (e = Ze(e)).next(); !t.done; t = e.next())
                            (t = t.value.frameRate) && (!n || n < t) && (n = t);
                    n = n || 60,
                    jT(x),
                    x.u = new C(function() {
                        jT(x)
                    }
                    ).Ra().Aa(1 / n)
                }),
                x.s.o(x.m, "pause", function() {
                    x.u && x.u.stop(),
                    x.u = null,
                    jT(x)
                }),
                x.s.o(x.m, "seeked", function() {
                    jT(x)
                }),
                x.s.o(document, "visibilitychange", function() {
                    jT(x)
                })
            })
        }
        function UT(e, t) {
            switch (t) {
            case e.g.VERTEX_SHADER:
                var n = "cubemap" == e.C ? "attribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vLighting;\nvoid main(void) {\n  gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}" : "attribute vec4 a_vPosition;\n// Per-vertex texture coordinate info\nattribute vec2 a_TexCoordinate;\nuniform mat4 u_VPMatrix;\n// Passed into the fragment shader.\nvarying vec2 v_TexCoordinate;\nvarying vec3 pass_position;\nvoid main()\n{\n gl_Position = u_VPMatrix * a_vPosition;\n // Pass through texture coord\n v_TexCoordinate = a_TexCoordinate;\n pass_position = a_vPosition.xyz;\n}";
                break;
            case e.g.FRAGMENT_SHADER:
                n = "cubemap" == e.C ? "varying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\nvoid main(void) {\n  highp vec4 texelColor = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(texelColor.rgb , texelColor.a);\n}" : "precision highp float;\n#define PI 3.141592653589793238462643383279\nvarying vec2 v_TexCoordinate;\nvarying vec3 pass_position;\nuniform sampler2D uSampler;\nvoid main(void) {\nhighp float xValue =\n      (PI + atan(pass_position.z, pass_position.x)) / (2.0 * PI);\n vec2 tc = vec2(xValue, v_TexCoordinate.t);\n tc = vec2(tc.x , tc.y);\nhighp vec4 texelColor =\n      texture2D(uSampler, tc);\n  gl_FragColor = vec4(texelColor.rgb, texelColor.a);\n}";
                break;
            default:
                return null
            }
            return t = e.g.createShader(t),
            e.g.shaderSource(t, n),
            e.g.compileShader(t),
            t
        }
        function jT(e, t) {
            t = void 0 === t || t;
            var n = e.ma.md() == gd;
            !e.m || e.m.readyState < 2 || !n && 0 == e.m.playbackRate || (RT(e.I, e.i * Math.PI / 180, 1.5625),
            "cubemap" == e.C ? RT(e.I, e.i * Math.PI / 180, 2.5) : RT(e.I, e.i * Math.PI / 180, 1.5625),
            e.g.useProgram(e.j),
            e.g.clear(e.g.COLOR_BUFFER_BIT),
            FT(e),
            t && (e.g.activeTexture(e.g.TEXTURE0),
            e.g.bindTexture(e.g.TEXTURE_2D, e.Z),
            e.g.pixelStorei(e.g.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0),
            e.g.texImage2D(e.g.TEXTURE_2D, 0, e.g.RGBA, e.g.RGBA, e.g.UNSIGNED_BYTE, e.m)),
            "equirectangular" == e.C && (PT(e.M, e.G, e.W),
            PT(e.M, e.I, e.M)),
            e.g.bindBuffer(e.g.ARRAY_BUFFER, e.aa),
            e.g.vertexAttribPointer(e.S, 3, e.g.FLOAT, !1, 0, 0),
            e.g.enableVertexAttribArray(e.S),
            e.g.bindBuffer(e.g.ARRAY_BUFFER, e.ha),
            e.g.vertexAttribPointer(e.P, 2, e.g.FLOAT, !1, 0, 0),
            e.g.enableVertexAttribArray(e.P),
            e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER, e.ea),
            "cubemap" == e.C ? (e.g.uniformMatrix4fv(e.g.getUniformLocation(e.j, "uProjectionMatrix"), !1, e.I),
            e.g.uniformMatrix4fv(e.g.getUniformLocation(e.j, "uModelViewMatrix"), !1, e.M)) : e.g.uniformMatrix4fv(e.g.getUniformLocation(e.j, "u_VPMatrix"), !1, e.M),
            e.g.uniform1i(e.g.getUniformLocation(e.j, "uSampler"), 0),
            e.O && e.g.viewport(0, 0, e.l.width / 2, e.l.height),
            e.g.drawElements(e.g.TRIANGLES, e.K.indices.length, e.g.UNSIGNED_SHORT, 0),
            e.O && (e.g.viewport(e.l.width / 2, 0, e.l.width / 2, e.l.height),
            e.g.drawElements(e.g.TRIANGLES, e.K.indices.length, e.g.UNSIGNED_SHORT, 0)))
        }
        function FT(e) {
            var t, n, i, a, r = (r = e.m.videoWidth) || e.l.scrollWidth, o = (o = e.m.videoHeight) || e.l.scrollHeight;
            e.ra === r && e.Ba === o || (e.l.width = r,
            e.l.height = o,
            t = (e.ra = r) / (e.Ba = o),
            (n = e.I)[0] = 0 * (a = 1 / (t - (i = -t))),
            n[1] = 0,
            n[2] = 0,
            n[3] = 0,
            n[4] = 0,
            n[5] = 0,
            n[6] = 0,
            n[7] = 0,
            n[8] = (t + i) * a,
            n[9] = 0,
            n[10] = -1,
            n[11] = -1,
            n[12] = 0,
            n[13] = 0,
            n[14] = -0,
            n[15] = 0,
            e.I = n,
            e.g.viewport(0, 0, r, o))
        }
        function BT(e, t, n, i) {
            var a = 90 * Math.PI / 180
              , r = "cubemap" == e.C ? e.M : e.G
              , o = Math.sin(t)
              , s = (t = Math.cos(t),
            r[0])
              , u = r[1]
              , l = r[2]
              , c = r[3]
              , d = r[8]
              , h = r[9]
              , f = r[10]
              , p = r[11];
            r != r && (r[4] = r[4],
            r[5] = r[5],
            r[6] = r[6],
            r[7] = r[7],
            r[12] = r[12],
            r[13] = r[13],
            r[14] = r[14],
            r[15] = r[15]),
            r[0] = s * t - d * o,
            r[1] = u * t - h * o,
            r[2] = l * t - f * o,
            r[3] = c * t - p * o,
            r[8] = s * o + d * t,
            r[9] = u * o + h * t,
            r[10] = l * o + f * t,
            r[11] = c * o + p * t,
            e.H += n,
            e.H < a && e.H > -a ? (a = LT(),
            o = LT(),
            t = -1 * n,
            n = Math.sin(t),
            t = Math.cos(t),
            s = o[4],
            u = o[5],
            l = o[6],
            c = o[7],
            d = o[8],
            h = o[9],
            f = o[10],
            p = o[11],
            o !== a && (a[0] = o[0],
            a[1] = o[1],
            a[2] = o[2],
            a[3] = o[3],
            a[12] = o[12],
            a[13] = o[13],
            a[14] = o[14],
            a[15] = o[15]),
            a[4] = s * t + d * n,
            a[5] = u * t + h * n,
            a[6] = l * t + f * n,
            a[7] = c * t + p * n,
            a[8] = d * t - s * n,
            a[9] = h * t - u * n,
            a[10] = f * t - l * n,
            a[11] = p * t - c * n,
            PT(r, a, r)) : e.H -= n,
            n = LT(),
            a = LT(),
            o = Math.sin(i),
            i = Math.cos(i),
            t = a[0],
            s = a[1],
            u = a[2],
            l = a[3],
            c = a[4],
            d = a[5],
            h = a[6],
            f = a[7],
            a !== n && (n[8] = a[8],
            n[9] = a[9],
            n[10] = a[10],
            n[11] = a[11],
            n[12] = a[12],
            n[13] = a[13],
            n[14] = a[14],
            n[15] = a[15]),
            n[0] = t * i + c * o,
            n[1] = s * i + d * o,
            n[2] = u * i + h * o,
            n[3] = l * i + f * o,
            n[4] = c * i - t * o,
            n[5] = d * i - s * o,
            n[6] = h * i - u * o,
            n[7] = f * i - l * o,
            PT(r, n, r),
            jT(e, !1)
        }
        function GT(e, t) {
            var n, i, a, r, o, s;
            void 0 !== t && !t || (DT(e.h, e.G),
            e.V = 0,
            e.B = _T(),
            e.B[0] = (e.h[0] - e.L[0]) / 20,
            e.B[1] = (e.h[1] - e.L[1]) / 20,
            e.B[2] = (e.h[2] - e.L[2]) / 20,
            e.B[3] = (e.h[3] - e.L[3]) / 20),
            e.h[0] -= e.B[0],
            e.h[1] -= e.B[1],
            e.h[2] -= e.B[2],
            e.h[3] -= e.B[3],
            t = LT(),
            n = e.h,
            i = e.h,
            a = i[0],
            r = i[1],
            o = i[2],
            0 < (s = a * a + r * r + o * o + (i = i[3]) * i) && (s = 1 / Math.sqrt(s)),
            n[0] = a * s,
            n[1] = r * s,
            n[2] = o * s,
            n[3] = i * s,
            NT(t, e.h),
            e.G = t,
            e.J && (e.J.stop(),
            e.J = null),
            e.V < 20 ? e.J = new C(function() {
                GT(e, !1),
                e.H = 0,
                e.V++,
                jT(e, !1)
            }
            ).Y(.025) : (NT(t, e.L),
            e.G = t)
        }
        function VT(e, t, n, i, a) {
            h.call(this);
            var r = this;
            this.i = e,
            this.m = t,
            this.L = n,
            this.K = i,
            this.u = a,
            this.s = new pn,
            this.h = new pn,
            this.G = function(e) {
                if (!e.m || bt())
                    return null;
                for (var t = Ze(["webgl2", "webgl"]), n = t.next(); !n.done; n = t.next())
                    if (n = e.m.getContext(n.value))
                        return n;
                return null
            }(this),
            this.g = null,
            this.j = !1,
            this.J = this.I = this.H = this.C = this.B = 0,
            this.l = null,
            this.s.o(i, "loading", function() {
                r.g && GT(r.g),
                HT(r)
            }),
            this.s.o(i, "spatialvideoinfo", function(e) {
                switch (e.detail.projection) {
                case "hequ":
                case "fish":
                    r.l = "equirectangular";
                    break;
                default:
                    r.l = null
                }
                HT(r)
            }),
            this.s.o(i, "nospatialvideoinfo", function() {
                r.l = null,
                HT(r)
            }),
            this.s.o(i, "unloading", function() {
                r.l = null,
                HT(r)
            }),
            HT(this)
        }
        function HT(e) {
            var t;
            e.m && (e.u.displayInVrMode || e.l ? (t = e.l || e.u.defaultVrProjectionMode,
            e.g ? e.g.C != t && (e.h.cb(),
            e.g.release(),
            KT(e, t)) : (e.m.style.display = "",
            KT(e, t),
            e.dispatchEvent(new Xe("vrstatuschanged",(new Map).set("newStatus", e.Mb()))))) : e.u.displayInVrMode || e.l || !e.g || (e.m.style.display = "none",
            e.h.cb(),
            e.g.release(),
            e.g = null,
            e.dispatchEvent(new Xe("vrstatuschanged",(new Map).set("newStatus", e.Mb())))))
        }
        function KT(e, t) {
            var i, n, a;
            e.G && e.m && (e.g = new OT(e.L,e.K,e.m,e.G,t),
            (i = e).h.o(i.i, "mousedown", function(e) {
                var t;
                i.j || (t = e.clientX,
                e = e.clientY,
                i.j = !0,
                i.B = t,
                i.C = e)
            }),
            0 < navigator.maxTouchPoints && i.h.o(i.i, "touchstart", function(e) {
                var t;
                i.j || (t = e.touches[0].clientX,
                e = e.touches[0].clientY,
                i.j = !0,
                i.B = t,
                i.C = e)
            }),
            i.h.o(i.i, "wheel", function(e) {
                var t, n;
                i.j || (t = i.g,
                n = e.deltaY,
                n /= 50,
                20 <= t.i && t.i <= 100 && (t.i += n),
                t.i < 20 ? t.i = 20 : 100 < t.i && (t.i = 100),
                jT(t, !1),
                e.preventDefault(),
                e.stopPropagation())
            }),
            i.h.o(i.i, "mousemove", function(e) {
                i.j && XT(i, e.clientX, e.clientY)
            }),
            0 < navigator.maxTouchPoints && i.h.o(i.i, "touchmove", function(e) {
                i.j && XT(i, e.touches[0].clientX, e.touches[0].clientY),
                e.preventDefault()
            }),
            i.h.o(i.i, "mouseleave", function() {
                i.j = !1
            }),
            i.h.o(i.i, "mouseup", function() {
                i.j = !1
            }),
            0 < navigator.maxTouchPoints && i.h.o(i.i, "touchend", function() {
                i.j = !1
            }),
            n = !1,
            U.DeviceOrientationEvent && ("function" == typeof DeviceMotionEvent.requestPermission ? (a = function() {
                DeviceMotionEvent.requestPermission().then(function(e) {
                    "granted" !== e || n || (n = !0,
                    zT(i))
                })
            }
            ,
            DeviceMotionEvent.requestPermission().then(function(e) {
                i.h.Ma(i.i, "click", a),
                i.h.Ma(i.i, "mouseup", a),
                0 < navigator.maxTouchPoints && i.h.Ma(i.i, "touchend", a),
                "granted" !== e ? (i.h.oa(i.i, "click", a),
                i.h.oa(i.i, "mouseup", a),
                0 < navigator.maxTouchPoints && i.h.oa(i.i, "touchend", a)) : (n = !0,
                zT(i))
            }).catch(function() {
                i.h.Ma(i.i, "click", a),
                i.h.Ma(i.i, "mouseup", a),
                0 < navigator.maxTouchPoints && i.h.Ma(i.i, "touchend", a),
                i.h.oa(i.i, "click", a),
                i.h.oa(i.i, "mouseup", a),
                0 < navigator.maxTouchPoints && i.h.oa(i.i, "touchend", a)
            })) : (n = !0,
            zT(i))))
        }
        function zT(a) {
            a.h.o(U, "deviceorientation", function(e) {
                var t = (e.alpha || 0) - a.H
                  , n = (e.beta || 0) - a.I
                  , i = (e.gamma || 0) - a.J;
                (10 < Math.abs(t) || 10 < Math.abs(n) || 5 < Math.abs(i)) && (n = i = t = 0),
                a.H = e.alpha || 0,
                a.I = e.beta || 0,
                a.J = e.gamma || 0,
                e = screen.orientation.angle,
                BT(a.g, t * WT * -1, 90 == e || -90 == e ? i * WT * -1 : n * WT, 0)
            })
        }
        function XT(e, t, n) {
            var i = -.6 * Math.PI / 180;
            BT(e.g, (t - e.B) * i, -1 * (n - e.C) * i, 0),
            e.B = t,
            e.C = n
        }
        n(lT, p),
        lT.prototype.isPaused = function() {
            var e = this.ad && this.ad.isLinear() ? this.ad.isPaused() : (e = this.controls).B.paused && !e.W;
            return e
        }
        ,
        lT.prototype.isEnded = function() {
            return (!this.ad || !this.ad.isLinear()) && this.video.ended
        }
        ,
        lT.prototype.g = function() {}
        ,
        lT.prototype.h = function() {}
        ,
        i("shaka.ui.PlayButton", lT),
        n(cT, lT),
        cT.prototype.h = function() {
            this.isPaused() ? this.button.setAttribute("icon", "play") : this.button.setAttribute("icon", "pause")
        }
        ,
        cT.prototype.g = function() {
            var e = this.isPaused() ? "PLAY" : "PAUSE";
            this.button.ariaLabel = this.localization.resolve(e)
        }
        ,
        i("shaka.ui.BigPlayButton", cT),
        n(dT, p),
        i("shaka.ui.HiddenSeekButton", dT),
        n(hT, dT),
        i("shaka.ui.HiddenFastForwardButton", hT),
        n(fT, dT),
        i("shaka.ui.HiddenRewindButton", fT),
        n(pT, p),
        (t = pT.prototype).release = function() {
            this.I && (this.I.stop(),
            this.I = null),
            p.prototype.release.call(this)
        }
        ,
        t.setRange = function(e, t) {
            this.bar.min = e,
            this.bar.max = t
        }
        ,
        t.onChangeStart = function() {}
        ,
        t.onChange = function() {}
        ,
        t.onChangeEnd = function() {}
        ,
        t.changeTo = function(e) {
            this.h || (this.h = !0,
            this.onChangeStart());
            var t = parseFloat(this.bar.min)
              , n = parseFloat(this.bar.max);
            this.bar.value = n < e ? n : e < t ? t : e,
            this.onChange(),
            this.I.Y(.5)
        }
        ,
        t.getValue = function() {
            return parseFloat(this.bar.value)
        }
        ,
        t.setValue = function(e) {
            this.h || (this.bar.value = e)
        }
        ,
        i("shaka.ui.RangeElement", pT),
        n(mT, pT),
        (t = mT.prototype).release = function() {
            this.u && (this.u.stop(),
            this.u = null,
            this.C.stop(),
            this.C = null),
            pT.prototype.release.call(this)
        }
        ,
        t.onChangeStart = function() {
            this.L = !this.video.paused,
            this.controls.dh(!0),
            this.video.pause(),
            this.s.stop(),
            this.K = !0
        }
        ,
        t.onChange = function() {
            var e, t, n, i;
            this.video.duration && (this.update(),
            this.u.Y(.125),
            this.player.De().length ? (e = parseFloat(this.bar.min),
            t = parseFloat(this.bar.max),
            n = this.bar.getBoundingClientRect(),
            i = Math.round(this.getValue()),
            wT(this, (i - e) / ((t - e) / n.width), i)) : ST(this))
        }
        ,
        t.onChangeEnd = function() {
            this.u.Ra(),
            this.controls.dh(!1),
            this.L && this.video.play(),
            this.K && (this.K = !1,
            this.s.stop(),
            this.s.Y(.25))
        }
        ,
        t.isShowing = function() {
            return !this.container.classList.contains("shaka-hidden")
        }
        ,
        t.update = function() {
            var e = this.J.seekBarColors
              , t = this.getValue()
              , n = this.video.buffered.length
              , i = n ? this.video.buffered.start(0) : 0
              , a = n ? this.video.buffered.end(n - 1) : 0
              , r = this.player.Ia()
              , o = r.end - r.start;
            this.setRange(r.start, r.end),
            bT(this) ? (m(this.container, !0),
            0 == n ? this.container.style.background = e.base : (n = (Math.max(i, r.start) - r.start) / o || 0,
            a = (Math.min(a, r.end) - r.start) / o || 0,
            t = (Math.min(Math.max(t, r.start), r.end) - r.start) / o || 0,
            this.container.style.background = "linear-gradient(" + ["to right", (this.J.showUnbufferedStart ? e.base : e.played) + " " + 100 * n + "%", e.played + " " + 100 * n + "%", e.played + " " + 100 * t + "%", e.buffered + " " + 100 * t + "%", e.buffered + " " + 100 * a + "%", e.base + " " + 100 * a + "%"].join() + ")")) : m(this.container, !1)
        }
        ,
        i("shaka.ui.SeekBar", mT),
        xT.prototype.create = function(e, t) {
            return new mT(e,t)
        }
        ,
        mT.Factory = xT,
        n(IT, p),
        IT.prototype.release = function() {
            this.i.stop(),
            this.i = null,
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.SkipAdButton", IT),
        OT.prototype.release = function() {
            this.s && (this.s.release(),
            this.s = null),
            this.u && (this.u.stop(),
            this.u = null),
            this.J && (this.J.stop(),
            this.J = null)
        }
        ,
        OT.prototype.Ed = function() {
            (this.O = !this.O) || this.g.viewport(0, 0, this.l.width, this.l.height),
            jT(this, !1)
        }
        ,
        n(VT, h),
        (t = VT.prototype).release = function() {
            this.s && (this.s.release(),
            this.s = null),
            this.h && (this.h.release(),
            this.h = null),
            this.g && (this.g.release(),
            this.g = null),
            h.prototype.release.call(this)
        }
        ,
        t.configure = function(e) {
            this.u = e,
            HT(this)
        }
        ,
        t.Mf = function() {
            return !!this.G
        }
        ,
        t.Mb = function() {
            return !!this.g
        }
        ,
        t.Ed = function() {
            this.g ? this.g.Ed() : Q("Not playing VR content")
        }
        ,
        t.vg = function(e) {
            this.g ? BT(this.g, e * WT, 0, 0) : Q("Not playing VR content")
        }
        ,
        t.sg = function(e) {
            this.g ? BT(this.g, 0, e * WT, 0) : Q("Not playing VR content")
        }
        ,
        t.ug = function(e) {
            this.g ? BT(this.g, 0, 0, e * WT) : Q("Not playing VR content")
        }
        ;
        var WT = Math.PI / 180;
        function a(e, t, n, i, a) {
            h.call(this);
            var o, r = this, s = (this.Z = !0,
            this.g = a,
            this.C = new Eh(n,e,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),
            this.ra = !0,
            this.B = this.C.vc(),
            this.m = n,
            this.G = this.C.nd(),
            this.aa = e,
            this.l = t,
            this.Nb = i,
            this.ma = this.G.Ce(),
            this.s = this.h = null,
            this.W = !1,
            this.K = [],
            this.Ta = [],
            this.Oa = !1,
            this.S = new C(function() {
                r.l.classList.add("no-cursor"),
                r.Oa = !1,
                nw(r)
            }
            ),
            this.ea = new C(function() {
                r.i.removeAttribute("shown"),
                r.O.Y(2)
            }
            ),
            this.O = new C(function() {
                for (var e = Ze(r.K), t = e.next(); !t.done; t = e.next())
                    m(t.value, !1)
            }
            ),
            this.Ca = new C(function() {
                r.wc() && uw(r)
            }
            ),
            this.J = null,
            this.I = [],
            this.ya = ((a = new un("en")).Qa("ar", new Map([["AD_DURATION", "مدة الإعلان"], ["AD_PROGRESS", "الإعلان [AD_ON] من [NUM_ADS]"], ["AD_STATISTICS", "إحصاءات الإعلانات"], ["AD_TIME", "الإعلان: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "تلقائي"], ["BACK", "رجوع"], ["CAPTIONS", "الترجمة والشرح"], ["CAST", "إرسال..."], ["CHAPTERS", "الفصول"], ["DOWNLOAD_VIDEO_FRAME", "حفظ إطار الفيديو"], ["ENTER_LOOP_MODE", "تكرار الفيديو الحالي"], ["ENTER_PICTURE_IN_PICTURE", 'الدخول في وضع "نافذة ضمن نافذة"'], ["EXIT_FULL_SCREEN", "إنهاء وضع ملء الشاشة"], ["EXIT_LOOP_MODE", "إيقاف تكرار الفيديو الحالي"], ["EXIT_PICTURE_IN_PICTURE", 'الخروج من وضع "نافذة ضمن نافذة"'], ["FAST_FORWARD", "تقديم سريع"], ["FULL_SCREEN", "ملء الشاشة"], ["LANGUAGE", "اللغة"], ["LIVE", "مباشر"], ["LOOP", "تكرار"], ["MORE_SETTINGS", "مزيد من الإعدادات"], ["MULTIPLE_LANGUAGES", "لغات متعددة"], ["MUTE", "كتم الصوت"], ["NOT_APPLICABLE", "غير سارٍ"], ["OFF", "إيقاف"], ["ON", "تشغيل"], ["PAUSE", "إيقاف مؤقت"], ["PICTURE_IN_PICTURE", "نافذة ضمن النافذة"], ["PLAY", "التشغيل"], ["PLAYBACK_RATE", "سرعة التشغيل"], ["QUALITY", "الجودة"], ["RECENTER_VR", "إعادة التوسيط"], ["REPLAY", "إعادة التشغيل"], ["RESOLUTION", "درجة الدقة"], ["REWIND", "ترجيع"], ["SEEK", "البحث بالتمرير"], ["SKIP_AD", "تخطّي الإعلان"], ["SKIP_TO_LIVE", "الانتقال إلى بث مباشر"], ["STATISTICS", "الإحصاءات"], ["SUBTITLE_FORCED", "عرض إجباري"], ["SURROUND", "صوت محيطي"], ["TOGGLE_STEREOSCOPIC", "إيقاف العرض المجسّم أو تفعيله"], ["UNDETERMINED_LANGUAGE", "غير محدد"], ["UNMUTE", "إعادة الصوت"], ["UNRECOGNIZED_LANGUAGE", "غير معروف"], ["VOLUME", "مستوى الصوت"]])),
            a.Qa("de", new Map([["AD_DURATION", "Dauer der Werbeanzeige"], ["AD_PROGRESS", "Werbung [AD_ON] von [NUM_ADS]"], ["AD_STATISTICS", "Anzeigenstatistiken"], ["AD_TIME", "Werbeanzeige: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automatisch"], ["BACK", "Zurück"], ["CAPTIONS", "Untertitel"], ["CAST", "Streamen..."], ["CHAPTERS", "Kapitel"], ["DOWNLOAD_VIDEO_FRAME", "Videoframe speichern"], ["ENTER_LOOP_MODE", "In Endlosschleife spielen"], ["ENTER_PICTURE_IN_PICTURE", "Bild im Bild aktivieren"], ["EXIT_FULL_SCREEN", "Vollbildmodus beenden"], ["EXIT_LOOP_MODE", "Endlosschleife stoppen"], ["EXIT_PICTURE_IN_PICTURE", "Bild im Bild beenden"], ["FAST_FORWARD", "Vorspulen"], ["FULL_SCREEN", "Vollbildmodus"], ["LANGUAGE", "Sprache"], ["LIVE", "Live"], ["LOOP", "Schleife"], ["MORE_SETTINGS", "Weitere Einstellungen"], ["MULTIPLE_LANGUAGES", "Mehrere Sprachen"], ["MUTE", "Stummschalten"], ["NOT_APPLICABLE", "Nicht zutreffend"], ["OFF", "Aus"], ["ON", "Ein"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Bild im Bild"], ["PLAY", "Wiedergabe"], ["PLAYBACK_RATE", "Geschwindigkeit"], ["QUALITY", "Qualität"], ["RECENTER_VR", "Zentrieren"], ["REPLAY", "Noch einmal wiedergeben"], ["RESOLUTION", "Auflösung"], ["REWIND", "Zurückspulen"], ["SEEK", "Suche"], ["SKIP_AD", "Überspringen"], ["SKIP_TO_LIVE", "Zum Live-Videostream wechseln"], ["STATISTICS", "Statistiken"], ["SUBTITLE_FORCED", "Erzwungen"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Einstellung „stereoskopisch“ ein‑/ausschalten"], ["UNDETERMINED_LANGUAGE", "Unbestimmt"], ["UNMUTE", "Stummschaltung aufheben"], ["UNRECOGNIZED_LANGUAGE", "Unbekannt"], ["VOLUME", "Lautstärke"]])),
            a.Qa("en", new Map([["AD_DURATION", "Ad duration"], ["AD_PROGRESS", "Ad [AD_ON] of [NUM_ADS]"], ["AD_STATISTICS", "Ad statistics"], ["AD_TIME", "Ad: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Auto"], ["BACK", "Back"], ["CAPTIONS", "Captions"], ["CAST", "Cast..."], ["CHAPTERS", "Chapters"], ["DOWNLOAD_VIDEO_FRAME", "Save video frame"], ["ENTER_LOOP_MODE", "Loop the current video"], ["ENTER_PICTURE_IN_PICTURE", "Enter Picture-in-Picture"], ["EXIT_FULL_SCREEN", "Exit full screen"], ["EXIT_LOOP_MODE", "Stop looping the current video"], ["EXIT_PICTURE_IN_PICTURE", "Exit Picture-in-Picture"], ["FAST_FORWARD", "Fast-forward"], ["FULL_SCREEN", "Full screen"], ["LANGUAGE", "Language"], ["LIVE", "Live"], ["LOOP", "Loop"], ["MORE_SETTINGS", "More settings"], ["MULTIPLE_LANGUAGES", "Multiple languages"], ["MUTE", "Mute"], ["NOT_APPLICABLE", "Not applicable"], ["OFF", "Off"], ["ON", "On"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Picture-in-Picture"], ["PLAY", "Play"], ["PLAYBACK_RATE", "Playback speed"], ["QUALITY", "Quality"], ["RECENTER_VR", "Recenter"], ["REPLAY", "Replay"], ["RESOLUTION", "Resolution"], ["REWIND", "Rewind"], ["SEEK", "Seek"], ["SKIP_AD", "Skip Ad"], ["SKIP_TO_LIVE", "Skip ahead to live"], ["STATISTICS", "Statistics"], ["SUBTITLE_FORCED", "Forced"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Toggle stereoscopic"], ["UNDETERMINED_LANGUAGE", "Undetermined"], ["UNMUTE", "Unmute"], ["UNRECOGNIZED_LANGUAGE", "Unrecognized"], ["VOLUME", "Volume"]])),
            a.Qa("en-GB", new Map([["AD_DURATION", "Ad duration"], ["AD_PROGRESS", "Ad [AD_ON] of [NUM_ADS]"], ["AD_STATISTICS", "Ad statistics"], ["AD_TIME", "Ad: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Auto"], ["BACK", "Back"], ["CAPTIONS", "Captions"], ["CAST", "Cast..."], ["CHAPTERS", "Chapters"], ["DOWNLOAD_VIDEO_FRAME", "Save video frame"], ["ENTER_LOOP_MODE", "Loop the current video"], ["ENTER_PICTURE_IN_PICTURE", "Enter picture-in-picture"], ["EXIT_FULL_SCREEN", "Exit full screen"], ["EXIT_LOOP_MODE", "Stop looping the current video"], ["EXIT_PICTURE_IN_PICTURE", "Exit picture-in-picture"], ["FAST_FORWARD", "Fast-forward"], ["FULL_SCREEN", "Full screen"], ["LANGUAGE", "Language"], ["LIVE", "Live"], ["LOOP", "Loop"], ["MORE_SETTINGS", "More settings"], ["MULTIPLE_LANGUAGES", "Multiple languages"], ["MUTE", "Mute"], ["NOT_APPLICABLE", "Not applicable"], ["OFF", "Off"], ["ON", "On"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Picture-in-picture"], ["PLAY", "Play"], ["PLAYBACK_RATE", "Playback speed"], ["QUALITY", "Quality"], ["RECENTER_VR", "Recentre"], ["REPLAY", "Replay"], ["RESOLUTION", "Resolution"], ["REWIND", "Rewind"], ["SEEK", "Seek"], ["SKIP_AD", "Skip ad"], ["SKIP_TO_LIVE", "Skip ahead to live"], ["STATISTICS", "Statistics"], ["SUBTITLE_FORCED", "Forced"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Toggle stereoscopic"], ["UNDETERMINED_LANGUAGE", "Undetermined"], ["UNMUTE", "Unmute"], ["UNRECOGNIZED_LANGUAGE", "Unrecognised"], ["VOLUME", "volume"]])),
            a.Qa("es", new Map([["AD_DURATION", "Duración del anuncio"], ["AD_PROGRESS", "Anuncio [AD_ON] de [NUM_ADS]"], ["AD_STATISTICS", "Estadísticas del anuncio"], ["AD_TIME", "Anuncio: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automático"], ["BACK", "Atrás"], ["CAPTIONS", "Subtítulos"], ["CAST", "Enviar..."], ["CHAPTERS", "Capítulos"], ["DOWNLOAD_VIDEO_FRAME", "Guardar fotograma"], ["ENTER_LOOP_MODE", "Reproducir en bucle el vídeo actual"], ["ENTER_PICTURE_IN_PICTURE", "Activar el modo imagen en imagen"], ["EXIT_FULL_SCREEN", "Salir del modo de pantalla completa"], ["EXIT_LOOP_MODE", "Dejar de reproducir en bucle el vídeo actual"], ["EXIT_PICTURE_IN_PICTURE", "Salir del modo imagen en imagen"], ["FAST_FORWARD", "Avanzar rápidamente"], ["FULL_SCREEN", "Pantalla completa"], ["LANGUAGE", "Idioma"], ["LIVE", "En directo"], ["LOOP", "Reproducir en bucle"], ["MORE_SETTINGS", "Más ajustes"], ["MULTIPLE_LANGUAGES", "Varios idiomas"], ["MUTE", "Silenciar"], ["NOT_APPLICABLE", "No aplicable"], ["OFF", "Desactivado"], ["ON", "Activado"], ["PAUSE", "Pausar"], ["PICTURE_IN_PICTURE", "Imagen en imagen"], ["PLAY", "Reproducir"], ["PLAYBACK_RATE", "Velocidad de reproducción"], ["QUALITY", "Calidad"], ["RECENTER_VR", "Volver a centrar"], ["REPLAY", "Volver a reproducir"], ["RESOLUTION", "Resolución"], ["REWIND", "Rebobinar"], ["SEEK", "Buscar"], ["SKIP_AD", "Saltar anuncio"], ["SKIP_TO_LIVE", "Ir al vídeo en directo"], ["STATISTICS", "Estadísticas"], ["SUBTITLE_FORCED", "Forzado"], ["SURROUND", "Envolvente"], ["TOGGLE_STEREOSCOPIC", "Activar/Desactivar estereoscópica"], ["UNDETERMINED_LANGUAGE", "Sin especificar"], ["UNMUTE", "Activar sonido"], ["UNRECOGNIZED_LANGUAGE", "No reconocida"], ["VOLUME", "Volumen"]])),
            a.Qa("es-419", new Map([["AD_DURATION", "Duración del anuncio"], ["AD_PROGRESS", "Anuncio [AD_ON] de [NUM_ADS]"], ["AD_STATISTICS", "Estadísticas de anuncios"], ["AD_TIME", "Anuncio: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automático"], ["BACK", "Atrás"], ["CAPTIONS", "Subtítulos"], ["CAST", "Transmitir..."], ["CHAPTERS", "Capítulos"], ["DOWNLOAD_VIDEO_FRAME", "Guardar fotograma"], ["ENTER_LOOP_MODE", "Repetir indefinidamente el video actual"], ["ENTER_PICTURE_IN_PICTURE", "Ingresar al modo de pantalla en pantalla"], ["EXIT_FULL_SCREEN", "Salir de pantalla completa"], ["EXIT_LOOP_MODE", "Detener la repetición indefinida del video actual"], ["EXIT_PICTURE_IN_PICTURE", "Salir del modo de pantalla en pantalla"], ["FAST_FORWARD", "Avanzar"], ["FULL_SCREEN", "Pantalla completa"], ["LANGUAGE", "Idioma"], ["LIVE", "En directo"], ["LOOP", "Repetir indefinidamente"], ["MORE_SETTINGS", "Más opciones de configuración"], ["MULTIPLE_LANGUAGES", "Varios idiomas"], ["MUTE", "Silenciar"], ["NOT_APPLICABLE", "No aplicable"], ["OFF", "Desactivado"], ["ON", "Activado"], ["PAUSE", "Detener"], ["PICTURE_IN_PICTURE", "Pantalla en pantalla"], ["PLAY", "Reproducir"], ["PLAYBACK_RATE", "Velocidad de reproducción"], ["QUALITY", "Calidad"], ["RECENTER_VR", "Volver a centrar"], ["REPLAY", "Volver a reproducir"], ["RESOLUTION", "Resolución"], ["REWIND", "Retroceder"], ["SEEK", "Buscar"], ["SKIP_AD", "Omitir anuncio"], ["SKIP_TO_LIVE", "Adelantar hasta la transmisión en vivo"], ["STATISTICS", "Estadísticas"], ["SUBTITLE_FORCED", "Forzado"], ["SURROUND", "Sonido envolvente"], ["TOGGLE_STEREOSCOPIC", "Activar o desactivar el modo estereoscópico"], ["UNDETERMINED_LANGUAGE", "Sin especificar"], ["UNMUTE", "Dejar de silenciar"], ["UNRECOGNIZED_LANGUAGE", "No reconocida"], ["VOLUME", "Volumen"]])),
            a.Qa("fr", new Map([["AD_DURATION", "Durée de l'annonce"], ["AD_PROGRESS", "Annonce [AD_ON] sur [NUM_ADS]"], ["AD_STATISTICS", "Statistiques sur les annonces"], ["AD_TIME", "Annonce : [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automatique"], ["BACK", "Retour"], ["CAPTIONS", "Sous-titres"], ["CAST", "Caster…"], ["CHAPTERS", "Chapitres"], ["DOWNLOAD_VIDEO_FRAME", "Télécharger l'image de la vidéo"], ["ENTER_LOOP_MODE", "Lire en boucle la vidéo en cours"], ["ENTER_PICTURE_IN_PICTURE", "Utiliser le mode Picture-in-Picture"], ["EXIT_FULL_SCREEN", "Quitter le mode plein écran"], ["EXIT_LOOP_MODE", "Arrêter la lecture en boucle de la vidéo en cours"], ["EXIT_PICTURE_IN_PICTURE", "Quitter le mode PIP (Picture-in-picture)"], ["FAST_FORWARD", "Avance rapide"], ["FULL_SCREEN", "Plein écran"], ["LANGUAGE", "Langue"], ["LIVE", "En direct"], ["LOOP", "Répéter"], ["MORE_SETTINGS", "Plus de paramètres"], ["MULTIPLE_LANGUAGES", "Plusieurs langues"], ["MUTE", "Couper le son"], ["NOT_APPLICABLE", "Non applicable"], ["OFF", "Désactivée"], ["ON", "Activée"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Picture-in-Picture"], ["PLAY", "Visionner"], ["PLAYBACK_RATE", "Vitesse de lecture"], ["QUALITY", "Qualité"], ["RECENTER_VR", "Recentrer"], ["REPLAY", "Revoir"], ["RESOLUTION", "Résolution"], ["REWIND", "Retour arrière"], ["SEEK", "Chercher"], ["SKIP_AD", "Passer l'annonce"], ["SKIP_TO_LIVE", "Accéder à la partie la plus récente du direct"], ["STATISTICS", "Statistiques"], ["SUBTITLE_FORCED", "Forcé"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Activer/Désactiver le mode stéréoscopique"], ["UNDETERMINED_LANGUAGE", "Langue indéterminée"], ["UNMUTE", "Réactiver le son"], ["UNRECOGNIZED_LANGUAGE", "Non reconnu"], ["VOLUME", "Volume"]])),
            a.Qa("it", new Map([["AD_DURATION", "Durata dell'annuncio"], ["AD_PROGRESS", "Annuncio [AD_ON] di [NUM_ADS]"], ["AD_STATISTICS", "Statistiche sugli annunci"], ["AD_TIME", "Annuncio: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automatica"], ["BACK", "Indietro"], ["CAPTIONS", "Sottotitoli"], ["CAST", "Trasmetti..."], ["CHAPTERS", "Capitoli"], ["DOWNLOAD_VIDEO_FRAME", "Salva fotogramma"], ["ENTER_LOOP_MODE", "Riproduci in loop il video corrente"], ["ENTER_PICTURE_IN_PICTURE", "Attiva Picture in picture"], ["EXIT_FULL_SCREEN", "Esci da schermo intero"], ["EXIT_LOOP_MODE", "Interrompi riproduzione in loop del video corrente"], ["EXIT_PICTURE_IN_PICTURE", "Esci da Picture in picture"], ["FAST_FORWARD", "Avanti veloce"], ["FULL_SCREEN", "Schermo intero"], ["LANGUAGE", "Lingua"], ["LIVE", "Dal vivo"], ["LOOP", "Riproduci in loop"], ["MORE_SETTINGS", "Altre impostazioni"], ["MULTIPLE_LANGUAGES", "Più lingue"], ["MUTE", "Disattiva audio"], ["NOT_APPLICABLE", "Non applicabile"], ["OFF", "Disattivo"], ["ON", "Attivo"], ["PAUSE", "Metti in pausa"], ["PICTURE_IN_PICTURE", "Picture in picture"], ["PLAY", "Riproduci"], ["PLAYBACK_RATE", "Velocità di riproduzione"], ["QUALITY", "Qualità"], ["RECENTER_VR", "Ricentra"], ["REPLAY", "Riproduci di nuovo"], ["RESOLUTION", "Risoluzione"], ["REWIND", "Riavvolgi"], ["SEEK", "Cerca"], ["SKIP_AD", "Salta annuncio"], ["SKIP_TO_LIVE", "Passa alla trasmissione dal vivo"], ["STATISTICS", "Statistiche"], ["SUBTITLE_FORCED", "Forzata"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Pulsante di attivazione/disattivazione stereoscopico"], ["UNDETERMINED_LANGUAGE", "Indeterminata"], ["UNMUTE", "Riattiva audio"], ["UNRECOGNIZED_LANGUAGE", "Non riconosciuto"], ["VOLUME", "Volume"]])),
            a.Qa("ja", new Map([["AD_DURATION", "広告再生時間"], ["AD_PROGRESS", "[AD_ON] 番目の広告（全 [NUM_ADS] 個）"], ["AD_STATISTICS", "広告の統計情報"], ["AD_TIME", "広告: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "自動"], ["BACK", "戻る"], ["CAPTIONS", "字幕"], ["CAST", "キャスト..."], ["CHAPTERS", "章"], ["DOWNLOAD_VIDEO_FRAME", "動画フレームを保存"], ["ENTER_LOOP_MODE", "現在の動画をループ再生"], ["ENTER_PICTURE_IN_PICTURE", "ピクチャー イン ピクチャーを開始"], ["EXIT_FULL_SCREEN", "全画面表示を終了"], ["EXIT_LOOP_MODE", "現在の動画のループ再生を停止"], ["EXIT_PICTURE_IN_PICTURE", "ピクチャー イン ピクチャーを終了"], ["FAST_FORWARD", "早送り"], ["FULL_SCREEN", "全画面表示"], ["LANGUAGE", "言語"], ["LIVE", "ライブ"], ["LOOP", "ループ"], ["MORE_SETTINGS", "詳細設定"], ["MULTIPLE_LANGUAGES", "多言語"], ["MUTE", "ミュート"], ["NOT_APPLICABLE", "該当なし"], ["OFF", "オフ"], ["ON", "オン"], ["PAUSE", "一時停止"], ["PICTURE_IN_PICTURE", "ピクチャー イン ピクチャー"], ["PLAY", "再生"], ["PLAYBACK_RATE", "再生速度"], ["QUALITY", "品質"], ["RECENTER_VR", "中心を再設定"], ["REPLAY", "もう一度再生"], ["RESOLUTION", "解像度"], ["REWIND", "巻き戻し"], ["SEEK", "シーク再生"], ["SKIP_AD", "広告をスキップ"], ["SKIP_TO_LIVE", "ライブ配信までスキップ"], ["STATISTICS", "統計情報"], ["SUBTITLE_FORCED", "強制"], ["SURROUND", "サラウンド"], ["TOGGLE_STEREOSCOPIC", "立体画像を切り替える"], ["UNDETERMINED_LANGUAGE", "不明"], ["UNMUTE", "ミュートを解除"], ["UNRECOGNIZED_LANGUAGE", "不明"], ["VOLUME", "音量"]])),
            a.Qa("ko", new Map([["AD_DURATION", "광고 기간"], ["AD_PROGRESS", "광고 [AD_ON]/[NUM_ADS]"], ["AD_STATISTICS", "광고 통계"], ["AD_TIME", "광고: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "자동"], ["BACK", "뒤로"], ["CAPTIONS", "자막"], ["CAST", "전송..."], ["CHAPTERS", "장"], ["DOWNLOAD_VIDEO_FRAME", "동영상 프레임 저장"], ["ENTER_LOOP_MODE", "현재 동영상 반복 재생"], ["ENTER_PICTURE_IN_PICTURE", "PIP 모드 시작"], ["EXIT_FULL_SCREEN", "전체화면 닫기"], ["EXIT_LOOP_MODE", "현재 동영상 반복 재생 중지"], ["EXIT_PICTURE_IN_PICTURE", "PIP 모드 종료"], ["FAST_FORWARD", "빨리 감기"], ["FULL_SCREEN", "전체화면"], ["LANGUAGE", "언어"], ["LIVE", "실시간"], ["LOOP", "반복 재생"], ["MORE_SETTINGS", "설정 더보기"], ["MULTIPLE_LANGUAGES", "여러 언어"], ["MUTE", "음소거"], ["NOT_APPLICABLE", "해당 사항 없음"], ["OFF", "사용 안함"], ["ON", "사용"], ["PAUSE", "일시중지"], ["PICTURE_IN_PICTURE", "PIP 모드"], ["PLAY", "재생"], ["PLAYBACK_RATE", "재생 속도"], ["QUALITY", "품질"], ["RECENTER_VR", "중심 재설정"], ["REPLAY", "다시보기"], ["RESOLUTION", "해상도"], ["REWIND", "되감기"], ["SEEK", "찾기"], ["SKIP_AD", "광고 건너뛰기"], ["SKIP_TO_LIVE", "라이브 동영상으로 건너뛰기"], ["STATISTICS", "통계"], ["SUBTITLE_FORCED", "강제"], ["SURROUND", "서라운드"], ["TOGGLE_STEREOSCOPIC", "입체 보기 전환"], ["UNDETERMINED_LANGUAGE", "미정"], ["UNMUTE", "음소거 해제"], ["UNRECOGNIZED_LANGUAGE", "알 수 없음"], ["VOLUME", "볼륨"]])),
            a.Qa("nl", new Map([["AD_DURATION", "Advertentieduur"], ["AD_PROGRESS", "Advertentie [AD_ON] van [NUM_ADS]"], ["AD_STATISTICS", "Advertentiestatistieken"], ["AD_TIME", "Advertentie: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automatisch"], ["BACK", "Terug"], ["CAPTIONS", "Ondertiteling"], ["CAST", "Casten..."], ["CHAPTERS", "Hoofdstukken"], ["DOWNLOAD_VIDEO_FRAME", "Videoframe opslaan"], ["ENTER_LOOP_MODE", "De huidige video lussen"], ["ENTER_PICTURE_IN_PICTURE", "Scherm-in-scherm openen"], ["EXIT_FULL_SCREEN", "Volledig scherm sluiten"], ["EXIT_LOOP_MODE", "De huidige video niet meer lussen"], ["EXIT_PICTURE_IN_PICTURE", "Scherm-in-scherm afsluiten"], ["FAST_FORWARD", "Vooruitspoelen"], ["FULL_SCREEN", "Volledig scherm"], ["LANGUAGE", "Taal"], ["LIVE", "Live"], ["LOOP", "Lussen"], ["MORE_SETTINGS", "Meer instellingen"], ["MULTIPLE_LANGUAGES", "Meerdere talen"], ["MUTE", "Geluid uitzetten"], ["NOT_APPLICABLE", "Niet van toepassing"], ["OFF", "Uit"], ["ON", "Aan"], ["PAUSE", "Onderbreken"], ["PICTURE_IN_PICTURE", "Scherm-in-scherm"], ["PLAY", "Afspelen"], ["PLAYBACK_RATE", "Afspeelsnelheid"], ["QUALITY", "Kwaliteit"], ["RECENTER_VR", "Opnieuw centreren"], ["REPLAY", "Opnieuw afspelen"], ["RESOLUTION", "Resolutie"], ["REWIND", "Terugspoelen"], ["SEEK", "Zoeken"], ["SKIP_AD", "Advertentie overslaan"], ["SKIP_TO_LIVE", "Doorgaan naar live"], ["STATISTICS", "Statistieken"], ["SUBTITLE_FORCED", "Afgedwongen"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Stereoscopisch aan-/uitzetten"], ["UNDETERMINED_LANGUAGE", "Onbepaald"], ["UNMUTE", "Geluid aanzetten"], ["UNRECOGNIZED_LANGUAGE", "Onbekend"], ["VOLUME", "Volume"]])),
            a.Qa("pl", new Map([["AD_DURATION", "Czas trwania reklamy"], ["AD_PROGRESS", "Reklama [AD_ON] z [NUM_ADS]"], ["AD_STATISTICS", "Statystyki reklam"], ["AD_TIME", "Reklama: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automatycznie"], ["BACK", "Wstecz"], ["CAPTIONS", "Napisy"], ["CAST", "Przesyłaj..."], ["CHAPTERS", "Rozdziały"], ["DOWNLOAD_VIDEO_FRAME", "Zapisz klatkę filmu"], ["ENTER_LOOP_MODE", "Odtwarzaj bieżący film w pętli"], ["ENTER_PICTURE_IN_PICTURE", "Włącz tryb obrazu w obrazie"], ["EXIT_FULL_SCREEN", "Zamknij pełny ekran"], ["EXIT_LOOP_MODE", "Wyłącz odtwarzanie bieżącego filmu w pętli"], ["EXIT_PICTURE_IN_PICTURE", "Wyłącz tryb obrazu w obrazie"], ["FAST_FORWARD", "Przewiń do przodu"], ["FULL_SCREEN", "Pełny ekran"], ["LANGUAGE", "Język"], ["LIVE", "Na żywo"], ["LOOP", "Odtwarzaj w pętli"], ["MORE_SETTINGS", "Więcej ustawień"], ["MULTIPLE_LANGUAGES", "Wiele języków"], ["MUTE", "Wycisz"], ["NOT_APPLICABLE", "Nie dotyczy"], ["OFF", "Wyłączone"], ["ON", "Włączone"], ["PAUSE", "Wstrzymaj"], ["PICTURE_IN_PICTURE", "Obraz w obrazie"], ["PLAY", "Odtwórz"], ["PLAYBACK_RATE", "Szybkość odtwarzania"], ["QUALITY", "Jakość"], ["RECENTER_VR", "Wyśrodkuj"], ["REPLAY", "Odtwórz ponownie"], ["RESOLUTION", "Rozdzielczość"], ["REWIND", "Przewiń do tyłu"], ["SEEK", "Szukaj"], ["SKIP_AD", "Pomiń reklamę"], ["SKIP_TO_LIVE", "Przejdź do transmisji na żywo"], ["STATISTICS", "Statystyki"], ["SUBTITLE_FORCED", "Wymuszone"], ["SURROUND", "Przestrzenny"], ["TOGGLE_STEREOSCOPIC", "Przełącz tryb stereoskopowy"], ["UNDETERMINED_LANGUAGE", "Nie określono"], ["UNMUTE", "Wyłącz wyciszenie"], ["UNRECOGNIZED_LANGUAGE", "Nierozpoznany"], ["VOLUME", "Głośność"]])),
            a.Qa("pt-BR", new Map([["AD_DURATION", "Duração do anúncio"], ["AD_PROGRESS", "Anúncio [AD_ON] de [NUM_ADS]"], ["AD_STATISTICS", "Estatísticas de anúncios"], ["AD_TIME", "Anúncio: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Automática"], ["BACK", "Voltar"], ["CAPTIONS", "Legendas"], ["CAST", "Transmitir..."], ["CHAPTERS", "Capítulos"], ["DOWNLOAD_VIDEO_FRAME", "Salvar frame do vídeo"], ["ENTER_LOOP_MODE", "Repetir o vídeo atual"], ["ENTER_PICTURE_IN_PICTURE", "Entrar no modo picture-in-picture"], ["EXIT_FULL_SCREEN", "Sair do modo tela cheia"], ["EXIT_LOOP_MODE", "Parar repetição do vídeo atual"], ["EXIT_PICTURE_IN_PICTURE", "Sair de picture-in-picture"], ["FAST_FORWARD", "Avançar"], ["FULL_SCREEN", "Tela cheia"], ["LANGUAGE", "Idioma"], ["LIVE", "Ao vivo"], ["LOOP", "Repetir"], ["MORE_SETTINGS", "Mais definições"], ["MULTIPLE_LANGUAGES", "Vários idiomas"], ["MUTE", "Desativar som"], ["NOT_APPLICABLE", "Não relevante"], ["OFF", "Desativado"], ["ON", "Ativado"], ["PAUSE", "Pausar"], ["PICTURE_IN_PICTURE", "Picture-in-picture"], ["PLAY", "Reproduzir"], ["PLAYBACK_RATE", "Velocidade da reprodução"], ["QUALITY", "Qualidade"], ["RECENTER_VR", "Centralizar"], ["REPLAY", "Repetir"], ["RESOLUTION", "Resolução"], ["REWIND", "Voltar"], ["SEEK", "Procurar"], ["SKIP_AD", "Pular anúncio"], ["SKIP_TO_LIVE", "Pular para transmissão ao vivo"], ["STATISTICS", "Estatísticas"], ["SUBTITLE_FORCED", "Exibição forçada"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Alternar imagem estereoscópica"], ["UNDETERMINED_LANGUAGE", "Indeterminado"], ["UNMUTE", "Ativar som"], ["UNRECOGNIZED_LANGUAGE", "Não reconhecido"], ["VOLUME", "Volume"]])),
            a.Qa("ru", new Map([["AD_DURATION", "Продолжительность рекламы"], ["AD_PROGRESS", "Реклама [AD_ON] из [NUM_ADS]"], ["AD_STATISTICS", "Статистика объявлений"], ["AD_TIME", "Реклама: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Авто"], ["BACK", "Назад"], ["CAPTIONS", "Субтитры"], ["CAST", "Транслировать..."], ["CHAPTERS", "Эпизоды"], ["DOWNLOAD_VIDEO_FRAME", "Сохранить кадр видео"], ["ENTER_LOOP_MODE", "Зациклить текущее видео"], ["ENTER_PICTURE_IN_PICTURE", 'Перейти в режим "Картинка в картинке"'], ["EXIT_FULL_SCREEN", "Обычный режим"], ["EXIT_LOOP_MODE", "Отменить зацикливание текущего видео"], ["EXIT_PICTURE_IN_PICTURE", 'Выйти из режима "Картинка в картинке"'], ["FAST_FORWARD", "Перемотка вперед"], ["FULL_SCREEN", "Полноэкранный режим"], ["LANGUAGE", "Язык"], ["LIVE", "Прямой эфир"], ["LOOP", "Зациклить"], ["MORE_SETTINGS", "Дополнительные настройки"], ["MULTIPLE_LANGUAGES", "Несколько языков"], ["MUTE", "Отключить звук"], ["NOT_APPLICABLE", "Неприменимо"], ["OFF", "Выкл."], ["ON", "Вкл."], ["PAUSE", "Пауза"], ["PICTURE_IN_PICTURE", "Картинка в картинке"], ["PLAY", "Воспроизвести"], ["PLAYBACK_RATE", "Скорость воспроизведения"], ["QUALITY", "Качество"], ["RECENTER_VR", "Центрировать заново"], ["REPLAY", "Повторить"], ["RESOLUTION", "Разрешение"], ["REWIND", "Перемотать назад"], ["SEEK", "Перемотка"], ["SKIP_AD", "Пропустить"], ["SKIP_TO_LIVE", "Пропустить и перейти к прямой трансляции"], ["STATISTICS", "Статистика"], ["SUBTITLE_FORCED", "Субтитры принудительно"], ["SURROUND", "Объемный звук"], ["TOGGLE_STEREOSCOPIC", "Включить или отключить стереоскопический режим"], ["UNDETERMINED_LANGUAGE", "Не указано"], ["UNMUTE", "Включить звук"], ["UNRECOGNIZED_LANGUAGE", "Не распознано"], ["VOLUME", "Громкость"]])),
            a.Qa("th", new Map([["AD_DURATION", "ระยะเวลาโฆษณา"], ["AD_PROGRESS", "โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"], ["AD_STATISTICS", "สถิติโฆษณา"], ["AD_TIME", "โฆษณา: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "อัตโนมัติ"], ["BACK", "กลับ"], ["CAPTIONS", "คำบรรยายแทนเสียง"], ["CAST", "แคสต์..."], ["CHAPTERS", "บท"], ["DOWNLOAD_VIDEO_FRAME", "บันทึกเฟรมวิดีโอ"], ["ENTER_LOOP_MODE", "วนซ้ำวิดีโอปัจจุบัน"], ["ENTER_PICTURE_IN_PICTURE", "เข้าสู่การแสดงภาพซ้อนภาพ"], ["EXIT_FULL_SCREEN", "ออกจากการแสดงแบบเต็มหน้าจอ"], ["EXIT_LOOP_MODE", "หยุดวนซ้ำวิดีโอปัจจุบัน"], ["EXIT_PICTURE_IN_PICTURE", "ออกจากการแสดงภาพซ้อนภาพ"], ["FAST_FORWARD", "กรอไปข้างหน้า"], ["FULL_SCREEN", "เต็มหน้าจอ"], ["LANGUAGE", "ภาษา"], ["LIVE", "สด"], ["LOOP", "ลูป"], ["MORE_SETTINGS", "การตั้งค่าเพิ่มเติม"], ["MULTIPLE_LANGUAGES", "หลายภาษา"], ["MUTE", "ปิดเสียง"], ["NOT_APPLICABLE", "ไม่เกี่ยวข้อง"], ["OFF", "ปิด"], ["ON", "เปิด"], ["PAUSE", "หยุดชั่วคราว"], ["PICTURE_IN_PICTURE", "การแสดงภาพซ้อนภาพ"], ["PLAY", "เล่น"], ["PLAYBACK_RATE", "ความเร็วในการเล่น"], ["QUALITY", "คุณภาพ"], ["RECENTER_VR", "จัดกึ่งกลางใหม่"], ["REPLAY", "เล่นซ้ำ"], ["RESOLUTION", "ความละเอียด"], ["REWIND", "กรอกลับ"], ["SEEK", "ค้นหา"], ["SKIP_AD", "ข้ามโฆษณา"], ["SKIP_TO_LIVE", "ข้ามไปที่การถ่ายทอดสด"], ["STATISTICS", "สถิติ"], ["SUBTITLE_FORCED", "บังคับ"], ["SURROUND", "เซอร์ราวด์"], ["TOGGLE_STEREOSCOPIC", "เปิด/ปิดฟีเจอร์สามมิติ"], ["UNDETERMINED_LANGUAGE", "ไม่กำหนด"], ["UNMUTE", "เปิดเสียง"], ["UNRECOGNIZED_LANGUAGE", "ที่ไม่รู้จัก"], ["VOLUME", "ระดับเสียง"]])),
            a.Qa("tr", new Map([["AD_DURATION", "Reklam süresi"], ["AD_PROGRESS", "[AD_ON]/[NUM_ADS] reklam"], ["AD_STATISTICS", "Reklam istatistikleri"], ["AD_TIME", "Reklam: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Otomatik"], ["BACK", "Geri"], ["CAPTIONS", "Altyazılar"], ["CAST", "Yayınla..."], ["CHAPTERS", "Bölümler"], ["DOWNLOAD_VIDEO_FRAME", "Video karesini kaydet"], ["ENTER_LOOP_MODE", "Mevcut videoyu döngüye al"], ["ENTER_PICTURE_IN_PICTURE", "Pencere içinde Pencere moduna gir"], ["EXIT_FULL_SCREEN", "Tam ekrandan çık"], ["EXIT_LOOP_MODE", "Mevcut videonun döngüsünü durdur"], ["EXIT_PICTURE_IN_PICTURE", "Pencere İçinde Pencereden Çık"], ["FAST_FORWARD", "İleri sar"], ["FULL_SCREEN", "Tam ekran"], ["LANGUAGE", "Dil"], ["LIVE", "Canlı"], ["LOOP", "Döngü"], ["MORE_SETTINGS", "Daha fazla ayar"], ["MULTIPLE_LANGUAGES", "Birden çok dil"], ["MUTE", "Sesi kapat"], ["NOT_APPLICABLE", "Geçerli değil"], ["OFF", "Kapalı"], ["ON", "Açık"], ["PAUSE", "Duraklat"], ["PICTURE_IN_PICTURE", "Pencere İçinde Pencere"], ["PLAY", "Oynat"], ["PLAYBACK_RATE", "Çalma hızı"], ["QUALITY", "Kalite"], ["RECENTER_VR", "Ortala"], ["REPLAY", "Tekrar Oynat"], ["RESOLUTION", "Çözünürlük"], ["REWIND", "Geri sar"], ["SEEK", "Ara"], ["SKIP_AD", "Reklamı Atla"], ["SKIP_TO_LIVE", "Canlı yayına atla"], ["STATISTICS", "İstatistikler"], ["SUBTITLE_FORCED", "Zorunlu"], ["SURROUND", "Surround"], ["TOGGLE_STEREOSCOPIC", "Stereoskopik modu aç/kapat"], ["UNDETERMINED_LANGUAGE", "Belirsiz"], ["UNMUTE", "Sesi aç"], ["UNRECOGNIZED_LANGUAGE", "Tanınmayan"], ["VOLUME", "Ses"]])),
            a.Qa("zh", new Map([["AD_DURATION", "广告持续时间"], ["AD_PROGRESS", "广告 [AD_ON]/[NUM_ADS]"], ["AD_STATISTICS", "广告统计信息"], ["AD_TIME", "广告：[AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "自动"], ["BACK", "返回"], ["CAPTIONS", "字幕"], ["CAST", "投放…"], ["CHAPTERS", "章节"], ["DOWNLOAD_VIDEO_FRAME", "保存视频帧"], ["ENTER_LOOP_MODE", "循环播放当前视频"], ["ENTER_PICTURE_IN_PICTURE", "进入“画中画”模式"], ["EXIT_FULL_SCREEN", "退出全屏模式"], ["EXIT_LOOP_MODE", "停止循环播放当前视频"], ["EXIT_PICTURE_IN_PICTURE", "退出“画中画”模式"], ["FAST_FORWARD", "快进"], ["FULL_SCREEN", "全屏"], ["LANGUAGE", "语言"], ["LIVE", "直播"], ["LOOP", "循环播放"], ["MORE_SETTINGS", "更多设置"], ["MULTIPLE_LANGUAGES", "多种语言"], ["MUTE", "静音"], ["NOT_APPLICABLE", "不适用"], ["OFF", "关闭"], ["ON", "开启"], ["PAUSE", "暂停"], ["PICTURE_IN_PICTURE", "画中画"], ["PLAY", "播放"], ["PLAYBACK_RATE", "播放速度"], ["QUALITY", "画质"], ["RECENTER_VR", "重新置中"], ["REPLAY", "重放"], ["RESOLUTION", "分辨率"], ["REWIND", "快退"], ["SEEK", "进度"], ["SKIP_AD", "跳过广告"], ["SKIP_TO_LIVE", "跳至当前直播"], ["STATISTICS", "统计信息"], ["SUBTITLE_FORCED", "已强制显示"], ["SURROUND", "环绕声"], ["TOGGLE_STEREOSCOPIC", "切换立体声"], ["UNDETERMINED_LANGUAGE", "未确定"], ["UNMUTE", "取消静音"], ["UNRECOGNIZED_LANGUAGE", "无法识别"], ["VOLUME", "音量"]])),
            a.Qa("zh-TW", new Map([["AD_DURATION", "廣告長度"], ["AD_PROGRESS", "廣告 [AD_ON]/[NUM_ADS]"], ["AD_STATISTICS", "廣告統計資料"], ["AD_TIME", "廣告：[AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "自動"], ["BACK", "返回"], ["CAPTIONS", "字幕"], ["CAST", "投放..."], ["CHAPTERS", "章節"], ["DOWNLOAD_VIDEO_FRAME", "儲存影片影格"], ["ENTER_LOOP_MODE", "循環播放目前的影片"], ["ENTER_PICTURE_IN_PICTURE", "進入子母畫面"], ["EXIT_FULL_SCREEN", "退出全螢幕模式"], ["EXIT_LOOP_MODE", "停止循環播放目前的影片"], ["EXIT_PICTURE_IN_PICTURE", "離開子母畫面"], ["FAST_FORWARD", "快轉"], ["FULL_SCREEN", "全螢幕"], ["LANGUAGE", "語言"], ["LIVE", "直播"], ["LOOP", "循環播放"], ["MORE_SETTINGS", "顯示更多設定"], ["MULTIPLE_LANGUAGES", "多種語言"], ["MUTE", "靜音"], ["NOT_APPLICABLE", "不適用"], ["OFF", "關閉"], ["ON", "開啟"], ["PAUSE", "暫停"], ["PICTURE_IN_PICTURE", "子母畫面"], ["PLAY", "播放"], ["PLAYBACK_RATE", "播放速度"], ["QUALITY", "音質"], ["RECENTER_VR", "重新置中"], ["REPLAY", "重播"], ["RESOLUTION", "解析度"], ["REWIND", "倒轉"], ["SEEK", "搜尋"], ["SKIP_AD", "略過廣告"], ["SKIP_TO_LIVE", "跳至当前直播"], ["STATISTICS", "統計資料"], ["SUBTITLE_FORCED", "強制顯示"], ["SURROUND", "環場音效"], ["TOGGLE_STEREOSCOPIC", "切換立體影像"], ["UNDETERMINED_LANGUAGE", "不明"], ["UNMUTE", "取消靜音"], ["UNRECOGNIZED_LANGUAGE", "無法辨識"], ["VOLUME", "音量"]])),
            a.yh(navigator.languages || []),
            a),
            this.j = new pn,
            this.u = null,
            this.configure(this.g),
            (o = this).j.o(o.G, "buffering", function() {
                ow(o)
            }),
            ow(o),
            o.j.o(U, "keydown", function(e) {
                if (e = e,
                (a = o).ha.add(e.key),
                r = a.Fd(),
                "Tab" == e.key && (a.i.classList.add("shaka-keyboard-navigation"),
                nw(a),
                a.j.o(U, "mousedown", function() {
                    a.j.Ma(U, "mousedown")
                })),
                "Escape" == e.key && a.O.Ra(),
                r && a.ha.has("Tab")) {
                    var t = (r = a).K.filter(function(e) {
                        return !e.classList.contains("shaka-hidden")
                    });
                    if (t.length) {
                        var n = t[0];
                        if (n.childNodes.length) {
                            for (t = n.firstElementChild; t && t.classList.contains("shaka-hidden"); )
                                t = t.nextElementSibling;
                            for (n = n.lastElementChild; n && n.classList.contains("shaka-hidden"); )
                                n = n.previousElementSibling;
                            var i = document.activeElement;
                            r.ha.has("Shift") ? i == t && (e.preventDefault(),
                            n.focus()) : i == n && (e.preventDefault(),
                            t.focus())
                        }
                    }
                }
                var a, r
            }),
            o.j.o(U, "click", function() {
                return o.Nc()
            }),
            o.j.o(o, "submenuopen", function() {
                o.Nc()
            }),
            o.j.o(o.B, "play", function() {
                nw(o)
            }),
            o.j.o(o.B, "pause", function() {
                nw(o)
            }),
            o.j.o(o.l, "mousemove", function(e) {
                tw(o, e)
            }),
            o.j.o(o.l, "touchmove", function(e) {
                tw(o, e)
            }, {
                passive: !0
            }),
            o.j.o(o.l, "touchend", function(e) {
                tw(o, e)
            }, {
                passive: !0
            }),
            o.j.o(o.l, "mouseleave", function() {
                o.J || o.S.Ra()
            }),
            o.j.o(o.C, "caststatuschanged", function() {
                rw(o)
            }),
            o.j.o(o.u, "vrstatuschanged", function() {
                o.dispatchEvent(new Xe("vrstatuschanged"))
            }),
            o.j.o(o.l, "keydown", function(e) {
                var t = !(!(i = document.activeElement) || !i.classList) && i.classList.contains("shaka-volume-bar")
                  , n = i && i.classList && i.classList.contains("shaka-seek-bar");
                if (o.i.contains(i) && tw(o, e),
                o.g.enableKeyboardPlaybackControls) {
                    var i = o.g.keyboardSeekDistance
                      , a = o.g.keyboardLargeSeekDistance;
                    switch (e.key) {
                    case "ArrowLeft":
                        o.s && n && !t && 0 < i && (e.preventDefault(),
                        sw(o, o.s.getValue() - i));
                        break;
                    case "ArrowRight":
                        o.s && n && !t && 0 < i && (e.preventDefault(),
                        sw(o, o.s.getValue() + i));
                        break;
                    case "PageDown":
                        o.s && n && 0 < i && (e.preventDefault(),
                        sw(o, o.s.getValue() - a));
                        break;
                    case "PageUp":
                        o.s && n && 0 < i && (e.preventDefault(),
                        sw(o, o.s.getValue() + a));
                        break;
                    case "Home":
                        o.s && sw(o, o.G.Ia().start);
                        break;
                    case "End":
                        o.s && sw(o, o.G.Ia().end);
                        break;
                    case "f":
                        o.Sd() && o.nf();
                        break;
                    case "m":
                        o.h && o.h.isLinear() ? o.h.setMuted(!o.h.isMuted()) : o.m.muted = !o.m.muted;
                        break;
                    case "p":
                        o.Ne() && o.Dd();
                        break;
                    case " ":
                        n && aw(o)
                    }
                }
            }),
            o.j.o(o.l, "keyup", function(e) {
                o.ha.delete(e.key)
            }),
            o.j.o(o.ma, "ad-started", function(e) {
                o.h = e.ad,
                o.Ci(),
                ow(o)
            }),
            o.j.o(o.ma, "ad-stopped", function() {
                o.h = null,
                o.Qh(),
                ow(o)
            }),
            screen.orientation && o.j.o(screen.orientation, "change", function() {
                return $e(function(e) {
                    return We(e, (t = o,
                    $e(function(e) {
                        return t.B && 0 != t.B.readyState && !t.C.Ua() && t.g.enableFullscreenOnRotation && t.Sd() ? screen.orientation.type.includes("landscape") && !t.pd() ? We(e, QT(t), 0) : screen.orientation.type.includes("portrait") && t.pd() ? We(e, $T(t), 0) : e.A(0) : e.return()
                    })), 0);
                    var t
                })
            }),
            this);
            s.g.setupMediaSession && navigator.mediaSession && ((n = function(e, t) {
                try {
                    navigator.mediaSession.setActionHandler(e, function(e) {
                        t(e)
                    })
                } catch (e) {}
            }
            )("pause", e = function(e) {
                var t = s.g.keyboardSeekDistance
                  , n = s.G.Ia();
                switch (e.action) {
                case "pause":
                case "play":
                    aw(s);
                    break;
                case "seekbackward":
                    s.h && s.h.isLinear() || sw(s, s.s.getValue() - (e.seekOffset || t));
                    break;
                case "seekforward":
                    s.h && s.h.isLinear() || sw(s, s.s.getValue() + (e.seekOffset || t));
                    break;
                case "seekto":
                    s.h && s.h.isLinear() || sw(s, n.start + e.seekTime);
                    break;
                case "stop":
                    s.G.pc();
                    break;
                case "enterpictureinpicture":
                    s.h && s.h.isLinear() || s.Dd()
                }
            }
            ),
            n("play", e),
            n("seekbackward", e),
            n("seekforward", e),
            n("seekto", e),
            n("stop", e),
            ("documentPictureInPicture"in U || document.pictureInPictureEnabled) && n("enterpictureinpicture", e),
            s.j.o(s.B, "timeupdate", function() {
                var e = (t = s.G.Ia()).end - t.start
                  , t = parseFloat((s.B.currentTime - t.start).toFixed(2));
                s.G.T() && Math.abs(e - t) < 1 && (e = 1 / 0);
                try {
                    s.h && s.h.isLinear() ? navigator.mediaSession.setPositionState() : navigator.mediaSession.setPositionState({
                        duration: Math.max(0, e),
                        playbackRate: s.B.playbackRate,
                        position: Math.max(0, t)
                    })
                } catch (e) {}
            }),
            s.j.o(s.G, "metadata", function(e) {
                var t, n;
                (e = e.payload) && ("TIT2" == e.key && e.data && (t = e.data),
                "APIC" == e.key && "--\x3e" == e.mimeType && (n = e.data),
                t && (e = {
                    title: t,
                    artwork: []
                },
                navigator.mediaSession.metadata && ((e = navigator.mediaSession.metadata).title = t),
                navigator.mediaSession.metadata = new MediaMetadata(e)),
                n && (n != (t = s.m).poster && (t.poster = n),
                t = {
                    title: "",
                    artwork: [{
                        src: n
                    }]
                },
                navigator.mediaSession.metadata && ((t = navigator.mediaSession.metadata).artwork = [{
                    src: n
                }]),
                navigator.mediaSession.metadata = new MediaMetadata(t)))
            })),
            this.ha = new Set,
            rw(this),
            this.Ca.Aa(this.g.refreshTickInSeconds),
            this.j.o(this.ya, "locale-changed", function(e) {
                e = e.locales[0],
                r.ma.setLocale(e),
                r.l.setAttribute("lang", e)
            }),
            this.ma.initInterstitial(this.H, this.aa, this.m)
        }
        function YT(e) {
            for (var t = Ze(e.I), n = t.next(); !n.done; n = t.next())
                n.value.release();
            e.I = []
        }
        function qT(e, t) {
            lw.set(e, t)
        }
        function JT(e) {
            return !(!document.fullscreenEnabled || e.m.webkitSupportsFullscreen && e.g.preferVideoFullScreenInVisionOS && (navigator.userAgentData && navigator.userAgentData.platform ? "macos" == navigator.userAgentData.platform.toLowerCase() : navigator.platform && navigator.platform.toLowerCase().includes("mac")) && "xr"in navigator)
        }
        function QT(t) {
            var n;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (qe(e, 2),
                    !JT(t)) {
                        (n = t.m).webkitSupportsFullscreen && n.webkitEnterFullscreen(),
                        e.A(4);
                        break
                    }
                    if (document.pictureInPictureElement)
                        return We(e, document.exitPictureInPicture(), 5);
                    e.A(5);
                    break;
                case 5:
                    return We(e, t.g.fullScreenElement.requestFullscreen({
                        navigationUI: "hide"
                    }), 7);
                case 7:
                    if (t.g.forceLandscapeOnFullscreen && screen.orientation)
                        return qe(e, 9),
                        We(e, screen.orientation.lock("landscape"), 11);
                    e.A(4);
                    break;
                case 11:
                    Je(e, 4, 2);
                    break;
                case 9:
                    Qe(e, 2);
                case 4:
                    Je(e, 0);
                    break;
                case 2:
                    n = Qe(e),
                    t.dispatchEvent(new Xe("error",(new Map).set("detail", n))),
                    Ye(e)
                }
            })
        }
        function $T(t) {
            var n;
            return $e(function(e) {
                return JT(t) ? (screen.orientation && screen.orientation.unlock(),
                We(e, document.exitFullscreen(), 0)) : ((n = t.m).webkitSupportsFullscreen && n.webkitExitFullscreen(),
                e.A(0))
            })
        }
        function ZT(e) {
            e.Z && e.B.duration && (e.B.paused && !e.W ? e.B.play() : e.B.pause())
        }
        function ew(e) {
            e.h && e.h.isPaused() ? e.h.play() : e.h && e.h.pause()
        }
        function tw(e, t) {
            "mousemove" == t.type && (e.i.classList.remove("shaka-keyboard-navigation"),
            nw(e)),
            "touchstart" == t.type || "touchmove" == t.type || "touchend" == t.type || "keyup" == t.type ? e.J = Date.now() : e.J + 1e3 < Date.now() && (e.J = null),
            e.J && "mousemove" == t.type || (e.l.classList.remove("no-cursor"),
            e.Oa = !0,
            e.O.stop(),
            e.wc() || (uw(e),
            nw(e)),
            e.S.stop(),
            "touchend" != t.type && "keyup" != t.type && e.J || e.S.Y(3))
        }
        function nw(e) {
            var t = !!e.h && e.h.isPaused()
              , n = e.B.paused && !e.W
              , i = e.i.classList.contains("shaka-keyboard-navigation");
            t || (!e.h || !e.h.isLinear()) && n || e.Oa || i || (t = e,
            U.matchMedia("hover: hover").matches && t.Ta.some(function(e) {
                return e.matches(":hover")
            })) ? (uw(e),
            e.i.setAttribute("shown", "true"),
            e.ea.stop()) : e.ea.Y(e.g.fadeDelay)
        }
        function iw(e) {
            e.Z && !e.Mb() && (e.Fd() ? e.O.Ra() : e.g.singleClickForPlayAndPause && aw(e))
        }
        function aw(e) {
            e.h && (ew(e),
            e.h.isLinear()) || ZT(e)
        }
        function rw(e) {
            var t = e.C.Ua();
            e.dispatchEvent(new Xe("caststatuschanged",(new Map).set("newStatus", t))),
            t ? e.i.setAttribute("casting", "true") : e.i.removeAttribute("casting")
        }
        function ow(e) {
            e.Z && (e.h && e.h.isClientRendering() && e.h.isLinear() ? m(e.L, !1) : m(e.L, e.G.Me()))
        }
        function sw(e, t) {
            e.s.changeTo(t),
            e.wc() && uw(e)
        }
        function uw(e) {
            if (e.s)
                if (e.s.setValue(e.B.currentTime),
                e.s.update(),
                e.s.isShowing())
                    for (var t = Ze(e.K), n = t.next(); !n.done; n = t.next())
                        n.value.classList.remove("shaka-low-position");
                else
                    for (n = (t = Ze(e.K)).next(); !n.done; n = t.next())
                        n.value.classList.add("shaka-low-position");
            e.dispatchEvent(new Xe("timeandseekrangeupdated"))
        }
        n(a, h),
        (t = a.prototype).destroy = function() {
            var n = this;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (document.pictureInPictureElement == n.m)
                        return We(e, document.exitPictureInPicture(), 2);
                    e.A(2);
                    break;
                case 2:
                    if (n.j && (n.j.release(),
                    n.j = null),
                    n.S && (n.S.stop(),
                    n.S = null),
                    n.ea && (n.ea.stop(),
                    n.ea = null),
                    n.O && (n.O.stop(),
                    n.O = null),
                    n.Ca && (n.Ca.stop(),
                    n.Ca = null),
                    n.u && (n.u.release(),
                    n.u = null),
                    YT(n),
                    n.i && (n.l.removeChild(n.i),
                    n.i = null),
                    n.C)
                        return We(e, n.C.destroy(), 5);
                    e.A(4);
                    break;
                case 5:
                    n.C = null;
                case 4:
                    if (n.L && (n.l.removeChild(n.L),
                    n.L = null),
                    n.H && (n.l.removeChild(n.H),
                    n.H = null),
                    n.aa)
                        return We(e, n.aa.destroy(), 7);
                    e.A(6);
                    break;
                case 7:
                    n.aa = null;
                case 6:
                    n.G = null,
                    n.m = null,
                    n.B = null,
                    n.ya = null,
                    n.ha.clear();
                    var t = n;
                    if (t.g.setupMediaSession && navigator.mediaSession) {
                        try {
                            navigator.mediaSession.setPositionState()
                        } catch (e) {}
                        (t = function(e) {
                            try {
                                navigator.mediaSession.setActionHandler(e, null)
                            } catch (e) {}
                        }
                        )("pause"),
                        t("play"),
                        t("seekbackward"),
                        t("seekforward"),
                        t("seekto"),
                        t("stop"),
                        t("enterpictureinpicture")
                    }
                    h.prototype.release.call(n),
                    Ye(e)
                }
            })
        }
        ,
        t.Wi = function(e) {
            this.ra = e,
            rw(this)
        }
        ,
        t.$j = function() {
            nw(this)
        }
        ,
        t.configure = function(e) {
            this.g = e,
            this.C.Ah(e.castReceiverAppId, e.castAndroidReceiverCompatible),
            this.s && (this.s = null),
            this.Ja && (this.Ja = null),
            this.Ga && (this.Ga = null),
            this.u && this.u.configure(e),
            this.i ? (Ho(this.i),
            YT(this)) : ((n = this).i = k("div"),
            n.i.classList.add("shaka-controls-container"),
            n.l.appendChild(n.i),
            n.l.setAttribute("shaka-controls", "true"),
            n.j.o(n.i, "touchstart", function(e) {
                n.B.duration && (n.wc() ? n.J = Date.now() : (tw(n, e),
                e.cancelable && e.preventDefault()))
            }, {
                passive: !1
            }),
            n.j.o(n.i, "click", function() {
                iw(n)
            }),
            n.j.o(n.i, "dblclick", function() {
                n.g.doubleClickForFullscreen && n.Sd() && n.nf()
            }),
            (t = this).H = k("div"),
            t.H.classList.add("shaka-client-side-ad-container"),
            m(t.H, !1),
            t.j.o(t.H, "click", function() {
                iw(t)
            }),
            t.l.appendChild(t.H),
            this.u = new VT(this.i,this.Nb,this.m,this.G,this.g)),
            this.l.classList.add("shaka-video-container"),
            this.m.classList.add("shaka-video"),
            r = this,
            (a = k("div")).classList.add("shaka-scrim-container"),
            r.i.appendChild(a),
            this.g.addBigPlayButton && (r = this,
            (a = k("div")).classList.add("shaka-play-button-container"),
            r.i.appendChild(a),
            r.Ja = new cT(a,r),
            r.I.push(r.Ja)),
            this.g.customContextMenu && (this.Ga = new oT(this.V,this),
            this.I.push(this.Ga)),
            this.L || ((a = this).L = k("div"),
            a.L.classList.add("shaka-spinner-container"),
            a.l.appendChild(a.L),
            (r = k("div")).classList.add("shaka-spinner"),
            a.L.appendChild(r),
            (a = document.createElementNS("http://www.w3.org/2000/svg", "svg")).classList.add("shaka-spinner-svg"),
            a.setAttribute("viewBox", "0 0 30 30"),
            r.appendChild(a),
            (r = document.createElementNS("http://www.w3.org/2000/svg", "circle")).classList.add("shaka-spinner-path"),
            r.setAttribute("cx", "15"),
            r.setAttribute("cy", "15"),
            r.setAttribute("r", "14.5"),
            r.setAttribute("fill", "none"),
            r.setAttribute("stroke-width", "1"),
            r.setAttribute("stroke-miterlimit", "10"),
            a.appendChild(r)),
            this.g.seekOnTaps && (a = this,
            (r = k("div")).classList.add("shaka-hidden-fast-forward-container"),
            a.i.appendChild(r),
            a.Ya = new hT(r,a),
            a.I.push(a.Ya),
            r = this,
            (a = k("div")).classList.add("shaka-hidden-rewind-container"),
            r.i.appendChild(a),
            r.Lb = new fT(a,r),
            r.I.push(r.Lb)),
            this.Fa = k("div"),
            this.Fa.classList.add("shaka-server-side-ad-container"),
            this.i.appendChild(this.Fa);
            var t, n, i = this, a = (i.P = k("div"),
            i.P.classList.add("shaka-bottom-controls"),
            i.P.classList.add("shaka-no-propagation"),
            i.i.appendChild(i.P),
            i.j.o(i.P, "click", function(e) {
                e.target.closest(".shaka-overflow-button") || i.Nc()
            }),
            i), r = (a.M = k("div"),
            a.M.classList.add("shaka-ad-controls"),
            null != a.h && a.h.isLinear());
            m(a.M, r),
            a.P.appendChild(a.M),
            r = new aT(a.M,a),
            a.I.push(r),
            r = new iT(a.M,a),
            a.I.push(r),
            r = new IT(a.M,a),
            a.I.push(r),
            i.V = k("div"),
            i.V.classList.add("shaka-controls-button-panel"),
            i.V.classList.add("shaka-show-controls-on-mouse-over"),
            i.g.enableTooltips && i.V.classList.add("shaka-tooltips-on"),
            i.P.appendChild(i.V);
            for (var o = Ze(i.g.controlPanelElements), s = o.next(); !s.done; s = o.next())
                s = s.value,
                lw.get(s) ? (s = lw.get(s).create(i.V, i),
                i.I.push(s)) : Q("Unrecognized control panel element requested:", s);
            this.K = Array.from(this.l.getElementsByClassName("shaka-settings-menu")),
            this.K.push.apply(this.K, et(Array.from(this.l.getElementsByClassName("shaka-overflow-menu"))));
            var u = this;
            if (u.g.addSeekBar)
                u.s = cw.create(u.P, u),
                u.I.push(u.s);
            else
                for (var l = (u = Ze(u.K)).next(); !l.done; l = u.next())
                    l.value.classList.add("shaka-low-position");
            this.Ta = Array.from(this.l.getElementsByClassName("shaka-show-controls-on-mouse-over")),
            nw(this);
            for (var c = (e = Ze(this.l.getElementsByClassName("shaka-no-propagation"))).next(); !c.done; c = e.next()) {
                function d(e) {
                    return e.stopPropagation()
                }
                c = c.value;
                this.j.o(c, "click", d),
                this.j.o(c, "dblclick", d)
            }
        }
        ,
        t.Zg = function(e) {
            (this.Z = e) ? (this.l.setAttribute("shaka-controls", "true"),
            this.m.tabIndex = -1,
            this.m.controls = !1) : this.l.removeAttribute("shaka-controls"),
            nw(this)
        }
        ,
        t.ti = function(e) {
            this.m.controls = e,
            this.m.tabIndex = e ? 0 : -1,
            e && this.Zg(!1)
        }
        ,
        t.getAd = function() {
            return this.h
        }
        ,
        t.gj = function() {
            return this.C
        }
        ,
        t.uj = function() {
            return this.ya
        }
        ,
        t.Mj = function() {
            return this.l
        }
        ,
        t.vc = function() {
            return this.B
        }
        ,
        t.tj = function() {
            return this.m
        }
        ,
        t.nd = function() {
            return this.G
        }
        ,
        t.sj = function() {
            return this.aa
        }
        ,
        t.kj = function() {
            return this.i
        }
        ,
        t.Dj = function() {
            return this.Fa
        }
        ,
        t.hj = function() {
            return this.H
        }
        ,
        t.ij = function() {
            return this.g
        }
        ,
        t.Xj = function() {
            return this.W
        }
        ,
        t.dh = function(e) {
            this.W = e
        }
        ,
        t.Sj = function() {
            return this.ra
        }
        ,
        t.ng = function() {
            return this.s ? this.s.getValue() : this.B.currentTime
        }
        ,
        t.xi = function(e) {
            this.J = e
        }
        ,
        t.Fd = function() {
            return this.K.some(function(e) {
                return !e.classList.contains("shaka-hidden")
            })
        }
        ,
        t.Nc = function() {
            this.O.Ra()
        }
        ,
        t.Sd = function() {
            return !(!JT(this) && (this.h && this.h.isUsingAnotherMediaElement() || !this.m.webkitSupportsFullscreen))
        }
        ,
        t.pd = function() {
            if (JT(this))
                return !!document.fullscreenElement;
            var e = this.m;
            return !!e.webkitSupportsFullscreen && e.webkitDisplayingFullscreen
        }
        ,
        t.nf = function() {
            var t = this;
            return $e(function(e) {
                return t.pd() ? We(e, $T(t), 0) : We(e, QT(t), 0)
            })
        }
        ,
        t.Ne = function() {
            return !this.C.Ua() && (!!("documentPictureInPicture"in U && this.g.preferDocumentPictureInPicture || document.pictureInPictureEnabled) && !this.m.disablePictureInPicture)
        }
        ,
        t.Oe = function() {
            return "documentPictureInPicture"in U && this.g.preferDocumentPictureInPicture ? !!U.documentPictureInPicture.window : !!document.pictureInPictureElement
        }
        ,
        t.Dd = function() {
            var t, n = this;
            return $e(function(e) {
                return 1 == e.g ? (qe(e, 2),
                "documentPictureInPicture"in U && n.g.preferDocumentPictureInPicture ? We(e, (a = n,
                $e(function(e) {
                    if (1 == e.g)
                        return U.documentPictureInPicture.window ? (U.documentPictureInPicture.window.close(),
                        e.return()) : (r = a.l,
                        o = r.getBoundingClientRect(),
                        We(e, U.documentPictureInPicture.requestWindow({
                            width: o.width,
                            height: o.height
                        }), 2));
                    var i, t, n;
                    o = e.h,
                    i = o,
                    t = [].concat(et(document.styleSheets)).map(function(t) {
                        try {
                            return [].concat(et(t.cssRules)).map(function(e) {
                                return e.cssText
                            }).join("")
                        } catch (e) {
                            var n = document.createElement("link");
                            n.rel = "stylesheet",
                            n.type = t.type,
                            n.media = t.media,
                            n.href = t.href,
                            i.document.head.appendChild(n)
                        }
                        return ""
                    }).filter(Boolean).join("\n"),
                    (n = document.createElement("style")).textContent = t,
                    i.document.head.appendChild(n),
                    u = r.parentNode || document.body,
                    (s = a.l.cloneNode(!0)).style.visibility = "hidden",
                    s.style.height = getComputedStyle(r).height,
                    u.appendChild(s),
                    (u = document.createElement("style")).append("[data-shaka-player-container] {\n      width: 100% !important; max-height: 100%}"),
                    o.document.head.append(u),
                    o.document.body.append(r),
                    a.j.oa(o, "pagehide", function() {
                        s.replaceWith(r)
                    }),
                    Ye(e)
                })), 5) : document.pictureInPictureElement ? We(e, document.exitPictureInPicture(), 5) : (document.fullscreenElement && document.exitFullscreen(),
                We(e, n.m.requestPictureInPicture(), 5))) : 2 != e.g ? Je(e, 0) : (t = Qe(e),
                n.dispatchEvent(new Xe("error",(new Map).set("detail", t))),
                void Ye(e));
                var a, r, o, s, u
            })
        }
        ,
        t.Ci = function() {
            m(this.M, !0),
            m(this.H, !0),
            this.i.setAttribute("ad-active", "true")
        }
        ,
        t.Qh = function() {
            m(this.M, !1),
            m(this.H, !1),
            this.i.removeAttribute("ad-active")
        }
        ,
        t.wc = function() {
            return !!this.Z && (null != this.i.getAttribute("shown") || null != this.i.getAttribute("casting"))
        }
        ,
        t.Pk = function() {
            tw(this, new Event("mousemove",{
                bubbles: !1,
                cancelable: !1
            }))
        }
        ,
        t.Rj = function() {
            this.J || this.S.Ra()
        }
        ,
        t.Mf = function() {
            return this.u.Mf()
        }
        ,
        t.Mb = function() {
            return this.u.Mb()
        }
        ,
        t.Kj = function() {
            var e, t, n, i, a, r, o, s = this.u;
            return s = s.g ? (DT((s = s.g).h, s.G),
            s = .499995 * (r = (s = (n = s.h)[0]) * s + (e = n[1]) * e + (i = (t = n[2]) * t) + (a = (n = n[3]) * n)) < (o = s * n - e * t) ? (r = Math.PI / 2,
            2 * Math.atan2(e, s)) : o < -.499995 * r ? (r = -Math.PI / 2,
            2 * Math.atan2(e, s)) : (r = Math.asin(2 * (s * t - n * e)),
            Math.atan2(2 * (s * n + e * t), 1 - 2 * (i + a))),
            180 * Math.acos(Math.cos(s) * Math.cos(r)) / Math.PI) : (Q("Not playing VR content"),
            null)
        }
        ,
        t.Jj = function() {
            var e = this.u;
            return e = e.g ? e.g.i : (Q("Not playing VR content"),
            null)
        }
        ,
        t.Ok = function(e) {
            var t = this.u;
            t.g ? (e < 0 ? (Q("Field of view should be greater than 0"),
            e = 0) : 100 < e && (Q("Field of view should be less than 100"),
            e = 100),
            (t = t.g).i = e,
            jT(t, !1)) : Q("Not playing VR content")
        }
        ,
        t.Ed = function() {
            this.u.Ed()
        }
        ,
        t.vg = function(e) {
            this.u.vg(e)
        }
        ,
        t.sg = function(e) {
            this.u.sg(e)
        }
        ,
        t.ug = function(e) {
            this.u.ug(e)
        }
        ,
        i("shaka.ui.Controls", a),
        a.prototype.incrementRoll = a.prototype.ug,
        a.prototype.incrementPitch = a.prototype.sg,
        a.prototype.incrementYaw = a.prototype.vg,
        a.prototype.toggleStereoscopicMode = a.prototype.Ed,
        a.prototype.setVRFieldOfView = a.prototype.Ok,
        a.prototype.getVRFieldOfView = a.prototype.Jj,
        a.prototype.getVRNorth = a.prototype.Kj,
        a.prototype.isPlayingVR = a.prototype.Mb,
        a.prototype.canPlayVR = a.prototype.Mf,
        a.prototype.hideUI = a.prototype.Rj,
        a.prototype.showUI = a.prototype.Pk,
        a.prototype.isOpaque = a.prototype.wc,
        a.prototype.hideAdUI = a.prototype.Qh,
        a.prototype.showAdUI = a.prototype.Ci,
        a.prototype.togglePiP = a.prototype.Dd,
        a.prototype.isPiPEnabled = a.prototype.Oe,
        a.prototype.isPiPAllowed = a.prototype.Ne,
        a.prototype.toggleFullScreen = a.prototype.nf,
        a.prototype.isFullScreenEnabled = a.prototype.pd,
        a.prototype.isFullScreenSupported = a.prototype.Sd,
        a.prototype.hideSettingsMenus = a.prototype.Nc,
        a.prototype.anySettingsMenusAreOpen = a.prototype.Fd,
        a.prototype.setLastTouchEventTime = a.prototype.xi,
        a.prototype.getDisplayTime = a.prototype.ng,
        a.prototype.isCastAllowed = a.prototype.Sj,
        a.prototype.setSeeking = a.prototype.dh,
        a.prototype.isSeeking = a.prototype.Xj,
        a.prototype.getConfig = a.prototype.ij,
        a.prototype.getClientSideAdContainer = a.prototype.hj,
        a.prototype.getServerSideAdContainer = a.prototype.Dj,
        a.prototype.getControlsContainer = a.prototype.kj,
        a.prototype.getLocalPlayer = a.prototype.sj,
        a.prototype.getPlayer = a.prototype.nd,
        a.prototype.getLocalVideo = a.prototype.tj,
        a.prototype.getVideo = a.prototype.vc,
        a.prototype.getVideoContainer = a.prototype.Mj,
        a.prototype.getLocalization = a.prototype.uj,
        a.prototype.getCastProxy = a.prototype.gj,
        a.prototype.setEnabledNativeControls = a.prototype.ti,
        a.prototype.setEnabledShakaControls = a.prototype.Zg,
        a.prototype.loadComplete = a.prototype.$j,
        a.prototype.allowCast = a.prototype.Wi,
        a.registerSeekBar = function(e) {
            cw = e
        }
        ,
        a.registerElement = qT;
        var lw = new Map
          , cw = new xT;
        function dw(e, t) {
            p.call(this, e, t);
            for (var n = this, i = (this.l = this.controls.g,
            this.j = this.controls.i,
            this.i = [],
            this.g = Go(),
            this.g.classList.add("shaka-overflow-menu-button"),
            this.g.classList.add("shaka-no-propagation"),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-tooltip"),
            this.g.textContent = "more_vert",
            this.parent.appendChild(this.g),
            this.h = k("div"),
            this.h.classList.add("shaka-overflow-menu"),
            this.h.classList.add("shaka-no-propagation"),
            this.h.classList.add("shaka-show-controls-on-mouse-over"),
            this.h.classList.add("shaka-hidden"),
            this.j.appendChild(this.h),
            this), a = Ze(i.l.overflowMenuButtons), r = a.next(); !r.done; r = a.next())
                r = r.value,
                gw.get(r) ? (r = gw.get(r),
                i.i.push(r.create(i.h, i.controls))) : Q("Unrecognized overflow menu element requested:", r);
            this.eventManager.o(this.localization, "locale-updated", function() {
                fw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                fw(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                n.ad && n.ad.isLinear() && m(n.g, !1)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                m(n.g, !0)
            }),
            this.eventManager.o(this.controls, "submenuopen", function() {
                m(n.h, !1)
            }),
            this.eventManager.o(this.h, "touchstart", function(e) {
                n.controls.xi(Date.now()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.g, "click", function() {
                var e, t = n;
                t.controls.Fd() ? t.controls.Nc() : (m(t.h, !0),
                nw(t.controls),
                e = function(e) {
                    return 0 == e.classList.contains("shaka-hidden")
                }
                ,
                te(t.h.childNodes, e) && ne(t.h.childNodes, e)[0].focus())
            }),
            fw(this),
            this.ad && this.ad.isLinear() && m(this.g, !1)
        }
        function hw(e, t) {
            gw.set(e, t)
        }
        function fw(e) {
            e.g.ariaLabel = e.localization.resolve("MORE_SETTINGS")
        }
        function pw() {}
        n(dw, p),
        dw.prototype.release = function() {
            this.j = null;
            for (var e = Ze(this.i), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.i = [],
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.OverflowMenu", dw),
        dw.registerElement = hw,
        pw.prototype.create = function(e, t) {
            return new dw(e,t)
        }
        ,
        qT("overflow_menu", new pw);
        var gw = new Map;
        function mw(e, t) {
            function n(e) {
                return i.j[e]
            }
            p.call(this, e, t);
            var i = this
              , a = (this.h = Go(),
            this.h.classList.add("shaka-ad-statistics-button"),
            this.i = k("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "insert_chart_outlined",
            this.h.appendChild(this.i),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            this.u = k("span"),
            e.appendChild(this.u),
            this.m = k("span"),
            this.m.classList.add("shaka-current-selection-span"),
            e.appendChild(this.m),
            this.h.appendChild(e),
            this.parent.appendChild(this.h),
            this.g = k("div"),
            this.g.classList.add("shaka-no-propagation"),
            this.g.classList.add("shaka-show-controls-on-mouse-over"),
            this.g.classList.add("shaka-ad-statistics-container"),
            this.g.classList.add("shaka-hidden"),
            this.controls.i.appendChild(this.g),
            this.C = [],
            this.j = this.adManager.getStats(),
            this.s = {},
            this.B = {
                loadTimes: function(e) {
                    for (var t = 0, n = (e = Ze(i.j[e])).next(); !n.done; n = e.next())
                        t += parseFloat(n.value);
                    return t
                },
                averageLoadTime: n,
                started: n,
                playedCompletely: n,
                skipped: n,
                errors: n
            },
            this.l = new C(function() {
                i.j = i.adManager.getStats();
                for (var e = Ze(i.C), t = e.next(); !t.done; t = e.next())
                    t = t.value,
                    i.s[t].textContent = i.B[t](t)
            }
            ),
            yw(this),
            this)
              , r = k("div")
              , o = (r.classList.add("shaka-no-propagation"),
            r.classList.add("shaka-statistics-close"),
            k("i"));
            for (o.classList.add("material-icons-round"),
            o.textContent = "close",
            r.appendChild(o),
            a.g.appendChild(r),
            a.eventManager.o(o, "click", function() {
                vw(a)
            }),
            r = Ze(a.controls.g.adStatisticsList),
            o = r.next(); !o.done; o = r.next())
                (o = o.value)in a.j ? (a.g.appendChild(function(e, t) {
                    var n = k("div")
                      , i = k("label");
                    return i.textContent = t + ":",
                    n.appendChild(i),
                    (i = k("span")).textContent = e.B[t](t),
                    n.appendChild(i),
                    e.s[t] = i,
                    n
                }(a, o)),
                a.C.push(o)) : Q("Unrecognized ad statistic element:", o);
            this.eventManager.o(this.localization, "locale-updated", function() {
                yw(i)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                yw(i)
            }),
            this.eventManager.o(this.h, "click", function() {
                vw(i),
                yw(i)
            }),
            this.eventManager.o(this.player, "loading", function() {
                m(i.h, !1)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                m(i.h, !0)
            })
        }
        function vw(e) {
            m(e.parent, !1),
            e.g.classList.contains("shaka-hidden") ? (e.i.textContent = "insert_chart",
            e.l.Aa(.1),
            m(e.g, !0)) : (e.i.textContent = "insert_chart_outlined",
            e.l.stop(),
            m(e.g, !1))
        }
        function yw(e) {
            e.u.textContent = e.localization.resolve("AD_STATISTICS"),
            e.h.ariaLabel = e.localization.resolve("AD_STATISTICS"),
            e.m.textContent = e.localization.resolve(e.g.classList.contains("shaka-hidden") ? "OFF" : "ON")
        }
        function bw() {}
        function Tw(e, t) {
            p.call(this, e, t);
            var n = this;
            this.g = Go(),
            this.g.classList.add("shaka-airplay-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.h = k("i"),
            this.h.classList.add("material-icons-round"),
            this.h.textContent = "airplay",
            this.g.appendChild(this.h),
            U.WebKitPlaybackTargetAvailabilityEvent || this.g.classList.add("shaka-hidden"),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = k("span"),
            e.appendChild(this.j),
            this.i = k("span"),
            this.i.classList.add("shaka-current-selection-span"),
            e.appendChild(this.i),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            Sw(this),
            ww(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                Sw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Sw(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.controls.vc().webkitShowPlaybackTargetPicker()
            }),
            e = this.controls.vc(),
            this.eventManager.o(e, "webkitplaybacktargetavailabilitychanged", function(e) {
                var t = n.player.md() == md;
                m(n.g, "available" == e.availability && t)
            }),
            this.eventManager.o(e, "webkitcurrentplaybacktargetiswirelesschanged", function() {
                ww(n)
            })
        }
        function ww(e) {
            var t = e.controls.vc();
            e.g.ariaPressed = t && t.webkitCurrentPlaybackTargetIsWireless ? "true" : "false"
        }
        function Sw(e) {
            e.g.ariaLabel = e.localization.resolve("AIRPLAY"),
            e.j.textContent = e.localization.resolve("AIRPLAY")
        }
        function Ew() {}
        function Aw(e, t, n, i) {
            i = void 0 === i ? null : i,
            this.i = e,
            this.j = t,
            this.h = xw(this),
            t.dataset.shakaPlayerContainer = "",
            (t.ui = this).Ag() && t.classList.add("shaka-mobile"),
            this.g = new a(e,t,n,i,this.h),
            this.configure({}),
            n.controls || e.eh(t),
            t.ui = this,
            n.ui = this
        }
        function xw(e) {
            var t = {
                controlPanelElements: "play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),
                overflowMenuButtons: "captions quality language chapter picture_in_picture cast playback_rate recenter_vr toggle_stereoscopic".split(" "),
                statisticsList: "width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent manifestSizeBytes bytesDownloaded nonFatalErrorCount manifestPeriodCount manifestGapCount".split(" "),
                adStatisticsList: "loadTimes averageLoadTime started playedCompletely skipped errors".split(" "),
                contextMenuElements: ["loop", "picture_in_picture", "save_video_frame", "statistics", "ad_statistics"],
                playbackRates: [.5, .75, 1, 1.25, 1.5, 1.75, 2],
                fastForwardRates: [2, 4, 8, 1],
                rewindRates: [-1, -2, -4, -8],
                addSeekBar: !0,
                addBigPlayButton: !1,
                customContextMenu: !1,
                castReceiverAppId: "",
                castAndroidReceiverCompatible: !1,
                clearBufferOnQualityChange: !0,
                showUnbufferedStart: !1,
                seekBarColors: {
                    base: "rgba(255, 255, 255, 0.3)",
                    buffered: "rgba(255, 255, 255, 0.54)",
                    played: "rgb(255, 255, 255)",
                    adBreaks: "rgb(255, 204, 0)"
                },
                volumeBarColors: {
                    base: "rgba(255, 255, 255, 0.54)",
                    level: "rgb(255, 255, 255)"
                },
                trackLabelFormat: Lw,
                textTrackLabelFormat: Lw,
                fadeDelay: 0,
                doubleClickForFullscreen: !0,
                singleClickForPlayAndPause: !0,
                enableKeyboardPlaybackControls: !0,
                enableFullscreenOnRotation: !0,
                forceLandscapeOnFullscreen: !0,
                enableTooltips: !1,
                keyboardSeekDistance: 5,
                keyboardLargeSeekDistance: 60,
                fullScreenElement: e.j,
                preferDocumentPictureInPicture: !0,
                showAudioChannelCountVariants: !0,
                seekOnTaps: 0 < navigator.maxTouchPoints,
                tapSeekDistance: 10,
                refreshTickInSeconds: .125,
                displayInVrMode: !1,
                defaultVrProjectionMode: "equirectangular",
                setupMediaSession: !0,
                preferVideoFullScreenInVisionOS: !1
            };
            return "remote"in HTMLMediaElement.prototype ? t.overflowMenuButtons.push("remote") : U.WebKitPlaybackTargetAvailabilityEvent && t.overflowMenuButtons.push("airplay"),
            e.Ag() && (t.addBigPlayButton = !0,
            t.controlPanelElements = t.controlPanelElements.filter(function(e) {
                return "play_pause" != e && "volume" != e
            })),
            t.overflowMenuButtons.push("save_video_frame"),
            t
        }
        function Iw() {
            var t, n, i, a, r, o, s, u, l, c, d, h, f, p, g, m, v, y;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    if (R0(),
                    !Tc())
                        return kw("shaka-ui-load-failed", Rw),
                        e.return();
                    if (c = document.querySelectorAll("[data-shaka-player-container]"),
                    t = document.querySelectorAll("[data-shaka-player]"),
                    n = document.querySelectorAll("[data-shaka-player-canvas]"),
                    i = document.querySelectorAll("[data-shaka-player-vr-canvas]"),
                    !t.length && !c.length) {
                        e.A(2);
                        break
                    }
                    if (t.length && !c.length) {
                        for (a = Ze(t),
                        r = a.next(); !r.done; r = a.next())
                            (o = r.value).ui || (s = document.createElement("div"),
                            o.parentElement.replaceChild(s, o),
                            s.appendChild(o),
                            l = Mw(s, n, i),
                            u = l.Wh,
                            l = l.Oi,
                            Cw(s, o, u, l));
                        e.A(2);
                        break
                    }
                    c = Ze(c),
                    d = c.next();
                case 4:
                    if (d.done) {
                        e.A(2);
                        break
                    }
                    if ((h = d.value).ui) {
                        e.A(5);
                        break
                    }
                    for (f = null,
                    p = Ze(t),
                    g = p.next(); !g.done; g = p.next())
                        if ((m = g.value).parentElement == h) {
                            f = m;
                            break
                        }
                    return f || ((f = document.createElement("video")).setAttribute("playsinline", ""),
                    h.appendChild(f)),
                    y = Mw(h, n, i),
                    v = y.Wh,
                    y = y.Oi,
                    qe(e, 7),
                    We(e, Cw(h, f, v, y), 9);
                case 9:
                    Je(e, 5);
                    break;
                case 7:
                    return Qe(e),
                    kw("shaka-ui-load-failed", Pw),
                    e.return();
                case 5:
                    d = c.next(),
                    e.A(4);
                    break;
                case 2:
                    kw("shaka-ui-loaded"),
                    Ye(e)
                }
            })
        }
        function kw(e, t) {
            e = new CustomEvent(e,{
                detail: null != t ? {
                    reasonCode: t
                } : null
            }),
            document.dispatchEvent(e)
        }
        function Cw(t, n, i, a) {
            var r, o, s, u, l, c, d, h, f, p;
            return $e(function(e) {
                switch (e.g) {
                case 1:
                    for (r = new g,
                    o = new Aw(r,t,n,a),
                    r.sh(i),
                    u = "",
                    p = !1,
                    t.dataset && t.dataset.shakaPlayerCastReceiverId ? (u = t.dataset.shakaPlayerCastReceiverId,
                    p = "true" === t.dataset.shakaPlayerCastAndroidReceiverCompatible) : n.dataset && n.dataset.shakaPlayerCastReceiverId && (u = n.dataset.shakaPlayerCastReceiverId,
                    p = "true" === n.dataset.shakaPlayerCastAndroidReceiverCompatible),
                    u.length && o.configure({
                        castReceiverAppId: u,
                        castAndroidReceiverCompatible: p
                    }),
                    n.controls && o.g.ti(!0),
                    s = [],
                    (u = n.getAttribute("src")) && (s.push(u),
                    n.removeAttribute("src")),
                    l = Ze(n.getElementsByTagName("source")),
                    c = l.next(); !c.done; c = l.next())
                        d = c.value,
                        s.push(d.src),
                        n.removeChild(d);
                    return We(e, r.$b(n), 2);
                case 2:
                    h = Ze(s),
                    f = h.next();
                case 3:
                    if (f.done) {
                        e.A(0);
                        break
                    }
                    return p = f.value,
                    qe(e, 6),
                    We(e, o.g.nd().load(p), 8);
                case 8:
                    e.A(0);
                    break;
                case 6:
                    Qe(e);
                case 4:
                    f = h.next(),
                    e.A(3)
                }
            })
        }
        function Mw(e, t, n) {
            for (var i = null, a = (t = Ze(t)).next(); !a.done; a = t.next())
                if ((a = a.value).parentElement == e) {
                    i = a;
                    break
                }
            for (i || ((i = document.createElement("canvas")).classList.add("shaka-canvas-container"),
            e.appendChild(i)),
            t = null,
            a = (n = Ze(n)).next(); !a.done; a = n.next())
                if ((a = a.value).parentElement == e) {
                    t = a;
                    break
                }
            return t || ((t = document.createElement("canvas")).classList.add("shaka-vr-canvas-container"),
            e.appendChild(t)),
            {
                Wh: i,
                Oi: t
            }
        }
        n(mw, p),
        mw.prototype.release = function() {
            this.l.stop(),
            this.l = null,
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.AdStatisticsButton", mw),
        bw.prototype.create = function(e, t) {
            return new mw(e,t)
        }
        ,
        hw("ad_statistics", new bw),
        sT("ad_statistics", new bw),
        n(Tw, p),
        i("shaka.ui.AirPlayButton", Tw),
        Ew.prototype.create = function(e, t) {
            return new Tw(e,t)
        }
        ,
        hw("airplay", new Ew),
        qT("airplay", new Ew),
        (t = Aw.prototype).destroy = function() {
            var t = this;
            return $e(function(e) {
                return 1 == e.g ? t.g ? We(e, t.g.destroy(), 2) : e.A(2) : 4 != e.g ? (t.g = null,
                t.i ? We(e, t.i.destroy(), 4) : e.A(4)) : (t.i = null,
                void Ye(e))
            })
        }
        ,
        t.Ag = function() {
            return !!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent) || Ge() && 1 < navigator.maxTouchPoints
        }
        ,
        t.getConfiguration = function() {
            var e = xw(this);
            return cl(e, this.h, xw(this), {}, ""),
            e
        }
        ,
        t.configure = function(e, t) {
            2 == arguments.length && "string" == typeof e && (e = dl(e, t)),
            cl(this.h, e, xw(this), {}, ""),
            this.h.castReceiverAppId && !this.h.overflowMenuButtons.includes("cast") && this.h.overflowMenuButtons.push("cast"),
            this.g.configure(this.h),
            this.g.dispatchEvent(new Xe("uiupdated"))
        }
        ,
        t.jj = function() {
            return this.g
        }
        ,
        t.Lk = function(e) {
            this.g.Zg(e)
        }
        ,
        i("shaka.ui.Overlay", Aw),
        Aw.prototype.setEnabled = Aw.prototype.Lk,
        Aw.prototype.getControls = Aw.prototype.jj,
        Aw.prototype.isMobile = Aw.prototype.Ag;
        var Lw = 0
          , Rw = (Aw.TrackLabelFormat = {
            LANGUAGE: Lw,
            ROLE: 1,
            LANGUAGE_ROLE: 2,
            LABEL: 3
        },
        0)
          , Pw = 1;
        function Dw(e, t, n, i, a, r, o, s) {
            function u(e) {
                var t = "";
                return (e = e.toLowerCase()).startsWith("mp4a") ? t = "AAC" : "ac-3" === e ? t = "Dolby" : "ec-3" === e ? t = "DD+" : "opus" === e ? t = "Opus" : "flac" === e && (t = "fLaC"),
                t && " " + t
            }
            function l(e) {
                var t = "";
                return t = 5 <= e ? " " + r.resolve("SURROUND") : t
            }
            function c(e, t, n, i, a) {
                return t = [e, t],
                s && null != i && t.push(i),
                h(e) && a && t.push(a),
                n && 3 == o && t.push(n),
                t.join(": ")
            }
            function d(e) {
                return "variant" == e.type ? e.audioRoles ? e.audioRoles.join(", ") : void 0 : e.roles.join(", ")
            }
            function h(e) {
                return p.has(e) && 1 < p.get(e).size
            }
            for (var f = e.find(function(e) {
                return 1 == e.active
            }), p = new Map, g = (m = Ze(e)).next(); !g.done; g = m.next())
                (g = g.value).audioCodec && (p.has(g.language) || p.set(g.language, new Set),
                p.get(g.language).add(sa(g.audioCodec)));
            m = $b(t),
            Ho(t),
            t.appendChild(m);
            for (var m = new Map, v = (g = Ze(e)).next(); !v.done; v = g.next())
                v = v.value,
                m.has(v.language) || m.set(v.language, new Set),
                m.get(v.language).add(d(v));
            for (m = new Set,
            f = f ? c(f.language, d(f), f.label, f.channelsCount, f.audioCodec) : "",
            v = (e = Ze(e)).next(),
            g = {}; !v.done; g = {
                Zb: void 0
            },
            v = e.next()) {
                g.Zb = v.value;
                var v = g.Zb.language
                  , y = g.Zb.forced
                  , b = r.resolve("SUBTITLE_FORCED")
                  , T = d(g.Zb)
                  , w = g.Zb.label
                  , S = g.Zb.channelsCount
                  , E = g.Zb.audioCodec
                  , A = c(v, T, w, S, E);
                if (!m.has(A)) {
                    m.add(A);
                    var x = Go()
                      , I = (x.addEventListener("click", function(e) {
                        return function() {
                            n(e.Zb)
                        }
                    }(g)),
                    k("span"));
                    switch (x.appendChild(I),
                    I.textContent = function(e, t) {
                        if (!e && !t)
                            return "";
                        switch (e) {
                        case "mul":
                            return t.resolve("MULTIPLE_LANGUAGES");
                        case "und":
                            return t.resolve("UNDETERMINED_LANGUAGE");
                        case "zxx":
                            return t.resolve("NOT_APPLICABLE")
                        }
                        var n = an(e);
                        return e in Yb ? Yb[e].D : n in Yb ? Yb[n].D + " (" + e + ")" : t.resolve("UNRECOGNIZED_LANGUAGE") + " (" + e + ")"
                    }(v, r),
                    o) {
                    case Lw:
                        h(v) && (I.textContent += u(E)),
                        s && (I.textContent += l(S)),
                        y && (I.textContent += " (" + b + ")");
                        break;
                    case 1:
                        h(v) && (I.textContent += u(E)),
                        s && (I.textContent += l(S)),
                        T ? I.textContent = T : (Q("Track #" + g.Zb.id + " does not have a role, but the UI is configured to only show role."),
                        I.textContent = "?"),
                        y && (I.textContent += " (" + b + ")");
                        break;
                    case 2:
                        h(v) && (I.textContent += u(E)),
                        s && (I.textContent += l(S)),
                        T && (I.textContent += ": " + T),
                        y && (I.textContent += " (" + b + ")");
                        break;
                    case 3:
                        w ? I.textContent = w : (Q("Track #" + g.Zb.id + " does not have a label, but the UI is configured to only show labels."),
                        I.textContent = "?")
                    }
                    i && A == f && (x.appendChild(tT()),
                    I.classList.add("shaka-chosen-item"),
                    x.ariaSelected = "true",
                    a.textContent = I.textContent),
                    t.appendChild(x)
                }
            }
        }
        function Nw(e, t, n) {
            p.call(this, e, t);
            var i, a, r = this;
            e = n,
            (t = this).button = Go(),
            t.button.classList.add("shaka-overflow-button"),
            t.icon = k("i"),
            t.icon.classList.add("material-icons-round"),
            t.icon.textContent = e,
            t.button.appendChild(t.icon),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            t.nameSpan = k("span"),
            e.appendChild(t.nameSpan),
            t.currentSelection = k("span"),
            t.currentSelection.classList.add("shaka-current-selection-span"),
            e.appendChild(t.currentSelection),
            t.button.appendChild(e),
            t.parent.appendChild(t.button),
            (i = this).menu = k("div"),
            i.menu.classList.add("shaka-no-propagation"),
            i.menu.classList.add("shaka-show-controls-on-mouse-over"),
            i.menu.classList.add("shaka-settings-menu"),
            i.menu.classList.add("shaka-hidden"),
            i.backButton = Go(),
            i.backButton.classList.add("shaka-back-to-overflow-button"),
            i.menu.appendChild(i.backButton),
            i.eventManager.o(i.backButton, "click", function() {
                i.controls.Nc()
            }),
            (n = k("i")).classList.add("material-icons-round"),
            n.textContent = "close",
            i.backButton.appendChild(n),
            i.backSpan = k("span"),
            i.backButton.appendChild(i.backSpan),
            i.controls.i.appendChild(i.menu),
            (a = this).parent.classList.contains("shaka-overflow-menu") && (a.backButton.firstChild.textContent = "arrow_back",
            a.eventManager.o(a.backButton, "click", function() {
                function e(e) {
                    return 0 == e.classList.contains("shaka-hidden")
                }
                m(a.parent, !0),
                te(a.parent.childNodes, e) && ne(a.parent.childNodes, e)[0].focus(),
                nw(a.controls)
            })),
            this.eventManager.o(this.button, "click", function() {
                r.menu.classList.contains("shaka-hidden") ? (r.controls.dispatchEvent(new Xe("submenuopen")),
                m(r.menu, !0),
                eT(r.menu)) : m(r.menu, !1)
            })
        }
        function _w(e, t) {
            Nw.call(this, e, t, "language");
            var n = this;
            this.button.classList.add("shaka-language-button"),
            this.button.classList.add("shaka-tooltip-status"),
            this.menu.classList.add("shaka-audio-languages"),
            this.eventManager.o(this.localization, "locale-updated", function() {
                jw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                jw(n)
            }),
            this.eventManager.o(this.player, "loading", function() {
                Uw(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                Uw(n)
            }),
            this.eventManager.o(this.player, "variantchanged", function() {
                Ow(n)
            }),
            jw(this),
            Ow(this)
        }
        function Ow(i) {
            Dw(i.player.Kb(), i.menu, function(e) {
                var t = void 0
                  , n = (e.channelsCount && i.controls.g.showAudioChannelCountVariants && (t = e.channelsCount),
                void 0);
                e.audioCodec && (n = e.audioCodec),
                i.player.Ug(e.language, e.roles[0], t, 0, n)
            }, !0, i.currentSelection, i.localization, i.controls.g.trackLabelFormat, i.controls.g.showAudioChannelCountVariants),
            eT(i.menu),
            i.controls.dispatchEvent(new Xe("languageselectionupdated")),
            i.button.setAttribute("shaka-status", i.currentSelection.innerText),
            m(i.button, 2 < i.menu.getElementsByTagName("button").length)
        }
        function Uw(e) {
            var t = 0 < e.player.Kb().length;
            m(e.button, t),
            Ow(e)
        }
        function jw(e) {
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.button.ariaLabel = e.localization.resolve("LANGUAGE"),
            e.nameSpan.textContent = e.localization.resolve("LANGUAGE"),
            e.backSpan.textContent = e.localization.resolve("LANGUAGE")
        }
        function Fw() {}
        function Bw(e, t) {
            p.call(this, e, t);
            var i = this;
            this.h = this.controls.C,
            this.g = Go(),
            this.g.classList.add("shaka-cast-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.i = k("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "cast",
            this.g.appendChild(this.i),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.l = k("span"),
            e.appendChild(this.l),
            this.j = k("span"),
            this.j.classList.add("shaka-current-selection-span"),
            e.appendChild(this.j),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            Hw(this),
            Gw(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                Hw(i)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Hw(i)
            }),
            this.eventManager.o(this.g, "click", function() {
                var t, n;
                t = i,
                $e(function(e) {
                    return 1 == e.g ? t.h.Ua() ? (t.h.Gi(),
                    e.A(0)) : (qe(e, 3),
                    t.g.disabled = !0,
                    We(e, t.h.cast(), 5)) : 3 != e.g ? (t.g.disabled = !1,
                    Je(e, 0)) : (n = Qe(e),
                    t.g.disabled = !1,
                    8004 != n.code && t.controls.dispatchEvent(new Xe("error",(new Map).set("detail", n))),
                    void Ye(e))
                })
            }),
            this.eventManager.o(this.controls, "caststatuschanged", function() {
                Gw(i)
            })
        }
        function Gw(e) {
            var t = e.h.Lf() && e.controls.ra
              , n = e.h.Ua();
            m(e.g, t),
            e.i.textContent = n ? "cast_connected" : "cast",
            t && (e.g.ariaPressed = n ? "true" : "false"),
            Vw(e)
        }
        function Vw(e) {
            e.j.textContent = e.h.Ua() ? e.h.bf() : e.localization.resolve("OFF")
        }
        function Hw(e) {
            e.g.ariaLabel = e.localization.resolve("CAST"),
            e.l.textContent = e.localization.resolve("CAST"),
            Vw(e)
        }
        function Kw() {}
        function zw(e, t) {
            Nw.call(this, e, t, "bookmarks");
            var n = this;
            this.button.classList.add("shaka-chapter-button"),
            this.menu.classList.add("shaka-chapters"),
            this.button.classList.add("shaka-tooltip-status"),
            this.g = [],
            this.h = "und",
            this.eventManager.o(this.localization, "locale-updated", function() {
                Xw(n),
                Yw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Xw(n),
                Yw(n)
            }),
            this.eventManager.o(this.player, "unloading", function() {
                Ww(n),
                n.h = "und",
                n.g = []
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                Yw(n)
            }),
            Xw(this),
            Yw(this)
        }
        function Xw(e) {
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.button.ariaLabel = e.localization.resolve("CHAPTERS"),
            e.nameSpan.textContent = e.localization.resolve("CHAPTERS"),
            e.backSpan.textContent = e.localization.resolve("CHAPTERS")
        }
        function Ww(e) {
            var t = $b(e.menu);
            Ho(e.menu),
            e.menu.appendChild(t),
            m(e.button, !1)
        }
        function Yw(t) {
            function n(e, t) {
                return !e && !t || e.id === t.id && e.title === t.title && e.startTime === t.startTime && e.endTime === t.endTime
            }
            for (var e = "und", i = [], a = Ze(Array.from(t.localization.g)), r = a.next(); !r.done && (e = r.value,
            !(i = t.player.mg(e) || []).length); r = a.next())
                ;
            if (i.length || (i = t.player.mg(e = "und") || []),
            a = e !== t.h,
            r = t.g.length !== i.length || !t.g.some(function(t, e) {
                return e = i.at(e),
                n(t, e) || i.some(function(e) {
                    return n(t, e)
                })
            }),
            t.h = e,
            (t.g = i).length) {
                if (a || r) {
                    for (r = (e = Ze(t.g)).next(),
                    a = {}; !r.done; a = {
                        Nf: void 0
                    },
                    r = e.next()) {
                        a.Nf = r.value;
                        var r = Go()
                          , o = k("span");
                        o.classList.add("shaka-chapter"),
                        o.textContent = a.Nf.title,
                        r.appendChild(o),
                        t.eventManager.o(r, "click", function(e) {
                            return function() {
                                t.video.currentTime = e.Nf.startTime
                            }
                        }(a)),
                        t.menu.appendChild(r)
                    }
                    m(t.button, !0),
                    eT(t.menu)
                }
            } else
                Ww(t)
        }
        function qw() {}
        function Jw(e, t) {
            p.call(this, e, t);
            var n = this;
            this.g = Go(),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-fast-forward-button"),
            this.g.classList.add("shaka-tooltip-status"),
            this.g.setAttribute("shaka-status", "1x"),
            this.g.textContent = "fast_forward",
            this.parent.appendChild(this.g),
            Qw(this),
            this.h = this.controls.g.fastForwardRates,
            this.eventManager.o(this.localization, "locale-updated", function() {
                Qw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Qw(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                var e;
                n.video.duration && (e = (e = n.h.indexOf(n.player.Wa()) + 1) != n.h.length ? n.h[e] : n.h[0],
                n.player.Ec(e),
                n.g.setAttribute("shaka-status", e + "x"))
            })
        }
        function Qw(e) {
            e.g.ariaLabel = e.localization.resolve("FAST_FORWARD")
        }
        function $w() {}
        function Zw(e, t) {
            p.call(this, e, t);
            var n = this;
            this.h = this.controls.m,
            this.g = Go(),
            this.g.classList.add("shaka-fullscreen-button"),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-tooltip"),
            eS(this),
            this.g.textContent = "fullscreen",
            this.parent.appendChild(this.g),
            tS(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                tS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                tS(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                return $e(function(e) {
                    return We(e, n.controls.nf(), 0)
                })
            }),
            this.eventManager.o(document, "fullscreenchange", function() {
                n.g.textContent = n.controls.pd() ? "fullscreen_exit" : "fullscreen",
                tS(n)
            }),
            this.eventManager.o(this.h, "loadedmetadata", function() {
                eS(n)
            }),
            this.eventManager.o(this.h, "loadeddata", function() {
                eS(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                eS(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                eS(n)
            })
        }
        function eS(e) {
            e.controls.Sd() ? e.g.classList.remove("shaka-hidden") : e.g.classList.add("shaka-hidden")
        }
        function tS(e) {
            var t = e.controls.pd() ? "EXIT_FULL_SCREEN" : "FULL_SCREEN";
            e.g.ariaLabel = e.localization.resolve(t)
        }
        function nS() {}
        function iS(e, t) {
            p.call(this, e, t);
            var n = this;
            this.g = Go(),
            this.g.classList.add("shaka-loop-button"),
            this.g.classList.add("shaka-tooltip"),
            this.i = k("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "repeat",
            this.g.appendChild(this.i),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.l = k("span"),
            this.l.textContent = this.localization.resolve("LOOP"),
            e.appendChild(this.l),
            this.j = k("span"),
            this.j.classList.add("shaka-current-selection-span"),
            e.appendChild(this.j),
            this.g.appendChild(e),
            aS(this),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.localization, "locale-updated", function() {
                aS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                aS(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.video.loop = !n.video.loop,
                n.h.Ra(),
                n.h.Aa(1)
            }),
            this.m = this.video.loop,
            this.h = new C(function() {
                n.m != n.video.loop && (aS(n),
                n.m = n.video.loop)
            }
            ),
            this.h.Aa(1)
        }
        function aS(e) {
            e.l.textContent = e.localization.resolve("LOOP"),
            e.j.textContent = e.localization.resolve(e.video.loop ? "ON" : "OFF"),
            e.i.textContent = e.video.loop ? "repeat_on" : "repeat",
            e.g.ariaLabel = e.localization.resolve(e.video.loop ? "EXIT_LOOP_MODE" : "ENTER_LOOP_MODE")
        }
        function rS() {}
        function oS(e, t) {
            p.call(this, e, t);
            var n = this;
            this.g = Go(),
            this.g.classList.add("shaka-mute-button"),
            this.g.classList.add("shaka-tooltip"),
            this.h = k("i"),
            this.h.classList.add("material-icons-round"),
            this.h.textContent = "volume_up",
            this.g.appendChild(this.h),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.i = k("span"),
            this.i.textContent = this.localization.resolve("MUTE"),
            e.appendChild(this.i),
            this.j = k("span"),
            this.j.classList.add("shaka-current-selection-span"),
            e.appendChild(this.j),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            sS(this),
            uS(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                sS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                sS(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.ad && n.ad.isLinear() ? n.ad.setMuted(!n.ad.isMuted()) : n.video.muted = !n.video.muted
            }),
            this.eventManager.o(this.video, "volumechange", function() {
                sS(n),
                uS(n)
            }),
            this.eventManager.o(this.adManager, "ad-volume-changed", function() {
                sS(n),
                uS(n)
            }),
            this.eventManager.o(this.adManager, "ad-muted", function() {
                sS(n),
                uS(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.ad = null,
                sS(n),
                uS(n)
            })
        }
        function sS(e) {
            var t = e.ad ? e.ad.isMuted() ? "UNMUTE" : "MUTE" : e.video.muted ? "UNMUTE" : "MUTE";
            e.g.ariaLabel = e.localization.resolve(t),
            e.i.textContent = e.localization.resolve(t)
        }
        function uS(e) {
            var t = e.ad ? e.ad.isMuted() ? "volume_off" : "volume_up" : e.video.muted ? "volume_off" : "volume_up";
            e.h.textContent = t
        }
        function lS() {}
        function cS(e, t) {
            p.call(this, e, t);
            var n = this;
            this.l = this.controls.m,
            this.g = Go(),
            this.g.classList.add("shaka-pip-button"),
            this.g.classList.add("shaka-tooltip"),
            this.i = k("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "picture_in_picture_alt",
            this.g.appendChild(this.i),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = k("span"),
            this.j.textContent = this.localization.resolve("PICTURE_IN_PICTURE"),
            e.appendChild(this.j),
            this.h = k("span"),
            this.h.classList.add("shaka-current-selection-span"),
            e.appendChild(this.h),
            this.g.appendChild(e),
            fS(this),
            this.parent.appendChild(this.g),
            this.controls.Ne() || m(this.g, !1),
            this.eventManager.o(this.localization, "locale-updated", function() {
                fS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                fS(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.controls.Dd()
            }),
            this.eventManager.o(this.l, "enterpictureinpicture", function() {
                dS(n)
            }),
            this.eventManager.o(this.l, "leavepictureinpicture", function() {
                hS(n)
            }),
            this.eventManager.o(this.controls, "caststatuschanged", function() {
                pS(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                pS(n)
            }),
            "documentPictureInPicture"in U && this.eventManager.o(U.documentPictureInPicture, "enter", function(e) {
                dS(n),
                n.eventManager.oa(e.window, "pagehide", function() {
                    hS(n)
                })
            })
        }
        function dS(e) {
            e.i.textContent = "branding_watermark",
            e.g.ariaLabel = e.localization.resolve("EXIT_PICTURE_IN_PICTURE"),
            e.h.textContent = e.localization.resolve("ON")
        }
        function hS(e) {
            e.i.textContent = "picture_in_picture_alt",
            e.g.ariaLabel = e.localization.resolve("ENTER_PICTURE_IN_PICTURE"),
            e.h.textContent = e.localization.resolve("OFF")
        }
        function fS(e) {
            e.j.textContent = e.localization.resolve("PICTURE_IN_PICTURE");
            var t = e.controls.Oe();
            e.g.ariaLabel = e.localization.resolve(t ? "EXIT_PICTURE_IN_PICTURE" : "ENTER_PICTURE_IN_PICTURE"),
            e.h.textContent = e.localization.resolve(t ? "ON" : "OFF")
        }
        function pS(t) {
            $e(function(e) {
                return !t.controls.Ne() || t.player && t.player.Pc() ? (m(t.g, !1),
                t.controls.Oe() ? We(e, t.controls.Dd(), 0) : e.A(0)) : (m(t.g, !0),
                e.A(0))
            })
        }
        function gS() {}
        function mS(e, t) {
            Nw.call(this, e, t, "slow_motion_video");
            for (var n = this, i = (this.button.classList.add("shaka-playbackrate-button"),
            this.menu.classList.add("shaka-playback-rates"),
            this.button.classList.add("shaka-tooltip-status"),
            this.eventManager.o(this.localization, "locale-updated", function() {
                vS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                vS(n)
            }),
            this.eventManager.o(this.player, "loaded", function() {
                yS(n, n.player.Wa())
            }),
            this.eventManager.o(this.player, "ratechange", function() {
                yS(n, n.player.Wa())
            }),
            this.g = new Map(this.controls.g.playbackRates.map(function(e) {
                return [e + "x", e]
            })),
            vS(this),
            this), a = Ze(i.g.keys()), r = a.next(), o = {}; !r.done; o = {
                Og: void 0
            },
            r = a.next()) {
                o.Og = r.value,
                r = Go();
                var s = k("span");
                s.textContent = o.Og,
                r.appendChild(s),
                i.eventManager.o(r, "click", function(t) {
                    return function() {
                        var e = i.g.get(t.Og);
                        1 == e ? i.player.cd() : i.player.Ec(e, !1)
                    }
                }(o)),
                i.menu.appendChild(r)
            }
            eT(i.menu),
            yS(this, this.player.Wa())
        }
        function vS(e) {
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.button.ariaLabel = e.localization.resolve("PLAYBACK_RATE"),
            e.nameSpan.textContent = e.localization.resolve("PLAYBACK_RATE"),
            e.backSpan.textContent = e.localization.resolve("PLAYBACK_RATE")
        }
        function yS(t, n) {
            var e, i = Zb(t.menu, "material-icons-round shaka-chosen-item");
            i && ((e = i.parentElement).removeAttribute("aria-selected"),
            e.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),
            e.removeChild(i)),
            (i = Array.from(t.menu.querySelectorAll("span")).find(function(e) {
                return t.g.get(e.textContent) == n
            })) && ((e = i.parentElement).appendChild(tT()),
            e.ariaSelected = "true",
            i.classList.add("shaka-chosen-item")),
            t.currentSelection.textContent = n + "x",
            t.button.setAttribute("shaka-status", n + "x")
        }
        function bS() {}
        function TS(e, t) {
            p.call(this, e, t);
            var a = this;
            this.g = Go(),
            this.g.classList.add("shaka-current-time"),
            wS(this, "0:00"),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.g, "click", function() {
                a.player.T() && (a.video.currentTime = a.player.Ia().end)
            }),
            this.eventManager.o(this.player, "loading", function() {
                m(a.g, !0)
            }),
            this.eventManager.o(this.controls, "timeandseekrangeupdated", function() {
                var e = a.controls.W
                  , t = a.controls.ng()
                  , n = a.player.Ia()
                  , i = n.end - n.start;
                isFinite(i) ? a.player.T() ? (i = 3600 <= i,
                1 <= (t = Math.max(0, Math.floor(n.end - t))) || e ? (wS(a, "- " + nT(t, i)),
                a.g.disabled = !1) : (wS(a, a.localization.resolve("LIVE")),
                a.g.disabled = !0)) : (e = 3600 <= i,
                t = nT(Math.max(0, t - n.start), e),
                i && (t += " / " + nT(i, e)),
                wS(a, t),
                a.g.disabled = !0) : (wS(a, a.localization.resolve("LIVE")),
                a.g.disabled = !0)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                a.player.T() && (a.g.ariaLabel = a.localization.resolve("SKIP_TO_LIVE"))
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                m(a.g, !a.ad.isLinear())
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                m(a.g, !0)
            })
        }
        function wS(e, t) {
            t != e.g.textContent && (e.g.textContent = t)
        }
        function SS() {}
        function ES(e, t) {
            p.call(this, e, t);
            var n = this
              , i = (this.g = Go(),
            this.g.classList.add("shaka-recenter-vr-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.h = k("i"),
            this.h.classList.add("material-icons-round"),
            this.h.textContent = "control_camera",
            this.g.appendChild(this.h),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = k("span"),
            e.appendChild(this.j),
            this.i = k("span"),
            this.i.classList.add("shaka-current-selection-span"),
            e.appendChild(this.i),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            AS(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                AS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                AS(n)
            }),
            this.controls.u);
            this.eventManager.o(this.g, "click", function() {
                i.g ? GT(i.g) : Q("Not playing VR content")
            }),
            this.eventManager.o(i, "vrstatuschanged", function() {
                m(n.g, n.controls.Mb())
            }),
            m(this.g, this.controls.Mb())
        }
        function AS(e) {
            e.g.ariaLabel = e.localization.resolve("RECENTER_VR"),
            e.j.textContent = e.localization.resolve("RECENTER_VR")
        }
        function xS() {}
        function IS(e, t) {
            p.call(this, e, t);
            var n = this;
            this.j = !!mt(),
            this.g = Go(),
            this.g.classList.add("shaka-remote-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.i = k("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = this.j ? "airplay" : "cast",
            this.g.appendChild(this.i),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.m = k("span"),
            e.appendChild(this.m),
            this.l = k("span"),
            this.l.classList.add("shaka-current-selection-span"),
            e.appendChild(this.l),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            this.h = -1,
            CS(this),
            m(this.g, !1),
            this.video.remote ? (this.eventManager.o(this.localization, "locale-updated", function() {
                CS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                CS(n)
            }),
            this.eventManager.o(this.controls, "caststatuschanged", function() {
                kS(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.video.remote.prompt()
            }),
            this.eventManager.o(this.video.remote, "connect", function() {
                kS(n),
                MS(n)
            }),
            this.eventManager.o(this.video.remote, "connecting", function() {
                kS(n),
                MS(n)
            }),
            this.eventManager.o(this.video.remote, "disconnect", function() {
                kS(n),
                MS(n)
            }),
            this.eventManager.o(this.player, "loaded", function() {
                kS(n)
            }),
            kS(this, !0),
            MS(this)) : this.g.classList.add("shaka-hidden")
        }
        function kS(i, t) {
            var n, a;
            t = void 0 !== t && t,
            $e(function(e) {
                switch (e.g) {
                case 1:
                    if (i.controls.C.Lf() && i.controls.ra) {
                        m(i.g, !1),
                        -1 != i.h && (i.video.remote.cancelWatchAvailability(i.h),
                        i.h = -1),
                        e.A(0);
                        break
                    }
                    if ("disconnected" == i.video.remote.state || t) {
                        if (n = function(e) {
                            var t, n;
                            i.player ? (t = i.video.disableRemotePlayback,
                            n = !0,
                            mt() && i.player.md() == gd && "HLS" != i.player.Fe() && (n = !1),
                            m(i.g, n && e && !t)) : m(i.g, !1)
                        }
                        ,
                        qe(e, 7),
                        -1 != i.h)
                            return We(e, i.video.remote.cancelWatchAvailability(i.h), 10);
                        e.A(9);
                        break
                    }
                    if (-1 != i.h)
                        return We(e, i.video.remote.cancelWatchAvailability(i.h), 6);
                    e.A(0);
                    break;
                case 6:
                    i.h = -1,
                    e.A(0);
                    break;
                case 10:
                    i.h = -1;
                case 9:
                    Je(e, 8);
                    break;
                case 7:
                    Qe(e);
                case 8:
                    return qe(e, 11),
                    We(e, i.video.remote.watchAvailability(n), 13);
                case 13:
                    a = e.h,
                    i.h = a,
                    Je(e, 0);
                    break;
                case 11:
                    Qe(e),
                    n(!0),
                    Ye(e)
                }
            })
        }
        function CS(e) {
            var t = e.j ? e.localization.resolve("AIRPLAY") : e.localization.resolve("CAST");
            e.g.ariaLabel = t,
            e.m.textContent = t
        }
        function MS(e) {
            e.j || (e.i.textContent = "disconnected" == e.video.remote.state ? "cast" : "cast_connected")
        }
        function LS() {}
        function RS(e, t) {
            Nw.call(this, e, t, "settings");
            var n = this;
            this.button.classList.add("shaka-resolution-button"),
            this.button.classList.add("shaka-tooltip-status"),
            this.menu.classList.add("shaka-resolutions"),
            this.eventManager.o(this.localization, "locale-updated", function() {
                DS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                DS(n)
            }),
            this.eventManager.o(this.player, "loading", function() {
                PS(n)
            }),
            this.eventManager.o(this.player, "variantchanged", function() {
                PS(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                PS(n)
            }),
            this.eventManager.o(this.player, "abrstatuschanged", function() {
                PS(n)
            }),
            PS(this)
        }
        function PS(n) {
            var i = []
              , a = (i = n.player.md() != md ? n.player.Kb() : i).find(function(e) {
                return e.active
            })
              , e = (a && (i = i.filter(function(e) {
                if (e.language != a.language || n.controls.g.showAudioChannelCountVariants && e.channelsCount && a.channelsCount && e.channelsCount != a.channelsCount)
                    return !1;
                var t = n.controls.g.trackLabelFormat;
                return (1 != t && 2 != t || JSON.stringify(e.audioRoles) == JSON.stringify(a.audioRoles)) && (3 != t || e.label == a.label)
            })),
            i = n.player.Pc() ? i.filter(function(t, e) {
                return i.findIndex(function(e) {
                    return e.bandwidth == t.bandwidth
                }) == e
            }) : 1 < [].concat(et(new Set(i.map(function(e) {
                return e.audioId
            })))).filter(Sa).length ? i.filter(function(t, e) {
                return i.findIndex(function(e) {
                    return e.height == t.height && e.videoBandwidth == t.videoBandwidth && e.frameRate == t.frameRate && e.hdr == t.hdr && e.videoLayout == t.videoLayout
                }) == e
            }) : i.filter(function(t, e) {
                return i.findIndex(function(e) {
                    return e.height == t.height && e.bandwidth == t.bandwidth && e.frameRate == t.frameRate && e.hdr == t.hdr && e.videoLayout == t.videoLayout
                }) == e
            }),
            n.player.Pc() ? i.sort(function(e, t) {
                return t.bandwidth - e.bandwidth
            }) : i.sort(function(e, t) {
                return t.height == e.height || null == e.height || null == t.height ? t.bandwidth - e.bandwidth : t.height - e.height
            }),
            $b(n.menu));
            Ho(n.menu),
            n.menu.appendChild(e);
            for (var e = n.player.getConfiguration().abr.enabled, t = Ze(i), r = t.next(), o = {}; !r.done; o = {
                Dc: void 0
            },
            r = t.next()) {
                o.Dc = r.value,
                (r = Go()).classList.add("explicit-resolution"),
                n.eventManager.o(r, "click", function(t) {
                    return function() {
                        var e = t.Dc;
                        n.player.configure({
                            abr: {
                                enabled: !1
                            }
                        }),
                        n.player.hf(e, n.controls.g.clearBufferOnQualityChange)
                    }
                }(o));
                var s = k("span");
                s.textContent = !n.player.Pc() && o.Dc.height && o.Dc.width ? function(t, e) {
                    var n = t.height || 0
                      , i = t.width || 0
                      , a = n;
                    16 / 9 < i / n && (a = Math.round(9 * i / 16)),
                    n = 2160 == a ? "4K" : a + "p",
                    a = new Set;
                    for (var r = (i = Ze(e)).next(); !r.done; r = i.next())
                        (r = r.value).frameRate && a.add(Math.round(r.frameRate));
                    1 < a.size && (a = t.frameRate) && (50 <= a || a <= 20) && (n += Math.round(t.frameRate)),
                    "PQ" != t.hdr && "HLG" != t.hdr || (n += " (HDR)");
                    return "CH-STEREO" == t.videoLayout && (n += " (3D)"),
                    e.some(function(e) {
                        return e != t && e.height == t.height
                    }) && (n += " (" + Math.round((t.videoBandwidth || t.bandwidth) / 1e3) + " kbits/s)"),
                    n
                }(o.Dc, i) : o.Dc.bandwidth ? Math.round(o.Dc.bandwidth / 1e3) + " kbits/s" : "Unknown",
                r.appendChild(s),
                e || o.Dc != a || (r.ariaSelected = "true",
                r.appendChild(tT()),
                s.classList.add("shaka-chosen-item"),
                n.currentSelection.textContent = s.textContent),
                n.menu.appendChild(r)
            }
            (t = Go()).classList.add("shaka-enable-abr-button"),
            n.eventManager.o(t, "click", function() {
                n.player.configure({
                    abr: {
                        enabled: !0
                    }
                }),
                PS(n)
            }),
            n.g = k("span"),
            n.g.classList.add("shaka-auto-span"),
            n.g.textContent = n.localization.resolve("AUTO_QUALITY"),
            t.appendChild(n.g),
            e && (t.ariaSelected = "true",
            t.appendChild(tT()),
            n.g.classList.add("shaka-chosen-item"),
            n.currentSelection.textContent = n.localization.resolve("AUTO_QUALITY")),
            n.button.setAttribute("shaka-status", n.currentSelection.textContent),
            n.menu.appendChild(t),
            eT(n.menu),
            n.controls.dispatchEvent(new Xe("resolutionselectionupdated")),
            DS(n),
            m(n.button, 1 < i.length)
        }
        function DS(e) {
            var t = e.player.Pc() ? "QUALITY" : "RESOLUTION";
            e.button.ariaLabel = e.localization.resolve(t),
            e.backButton.ariaLabel = e.localization.resolve(t),
            e.backSpan.textContent = e.localization.resolve(t),
            e.nameSpan.textContent = e.localization.resolve(t),
            e.g.textContent = e.localization.resolve("AUTO_QUALITY"),
            e.player.getConfiguration().abr.enabled && (e.currentSelection.textContent = e.localization.resolve("AUTO_QUALITY"))
        }
        function NS() {}
        function _S(e, t) {
            p.call(this, e, t);
            var n = this;
            this.g = Go(),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-rewind-button"),
            this.g.classList.add("shaka-tooltip-status"),
            this.g.setAttribute("shaka-status", this.localization.resolve("OFF")),
            this.g.textContent = "fast_rewind",
            this.parent.appendChild(this.g),
            OS(this),
            this.h = this.controls.g.rewindRates,
            this.eventManager.o(this.localization, "locale-updated", function() {
                OS(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                OS(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                var e;
                n.video.duration && (e = (e = n.h.indexOf(n.player.Wa()) + 1) != n.h.length ? n.h[e] : n.h[0],
                n.player.Ec(e),
                n.g.setAttribute("shaka-status", e + "x"))
            })
        }
        function OS(e) {
            e.g.ariaLabel = e.localization.resolve("REWIND")
        }
        function US() {}
        function jS(e, t) {
            p.call(this, e, t);
            var i = this;
            this.g = Go(),
            this.g.classList.add("shaka-save.video-frame-button"),
            this.g.classList.add("shaka-tooltip"),
            this.h = k("i"),
            this.h.classList.add("material-icons-round"),
            this.h.textContent = "download",
            this.g.appendChild(this.h),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.i = k("span"),
            this.i.textContent = this.localization.resolve("DOWNLOAD_VIDEO_FRAME"),
            e.appendChild(this.i),
            this.j = k("span"),
            this.j.classList.add("shaka-current-selection-span"),
            e.appendChild(this.j),
            this.g.appendChild(e),
            BS(this),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.localization, "locale-updated", function() {
                BS(i)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                BS(i)
            }),
            this.eventManager.o(this.g, "click", function() {
                var e = document.createElement("canvas")
                  , t = e.getContext("2d")
                  , n = i.controls.m;
                e.width = n.videoWidth,
                e.height = n.videoHeight,
                t.drawImage(n, 0, 0, e.width, e.height),
                e = e.toDataURL("image/png"),
                (t = document.createElement("a")).href = e,
                t.download = "videoframe_" + n.currentTime.toFixed(3) + ".png",
                t.click()
            }),
            this.eventManager.o(this.controls.u, "vrstatuschanged", function() {
                FS(i)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                FS(i)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                FS(i)
            }),
            this.eventManager.o(this.player, "unloading", function() {
                FS(i)
            }),
            this.eventManager.o(this.player, "loaded", function() {
                FS(i)
            }),
            this.eventManager.o(this.player, "loaded", function() {
                FS(i)
            }),
            this.eventManager.o(this.video, "play", function() {
                FS(i)
            }),
            this.eventManager.o(this.video, "pause", function() {
                FS(i)
            }),
            this.eventManager.o(this.video, "seeking", function() {
                FS(i)
            }),
            FS(this)
        }
        function FS(e) {
            var t = !0;
            e.controls.Mb() && (t = !1),
            (e.player.drmInfo() || e.player.Pc()) && (t = !1),
            e.ad && (t = !1),
            e.video.remote && "disconnected" != e.video.remote.state && (t = !1),
            m(e.g, t)
        }
        function BS(e) {
            e.g.ariaLabel = e.localization.resolve("DOWNLOAD_VIDEO_FRAME"),
            e.i.textContent = e.localization.resolve("DOWNLOAD_VIDEO_FRAME")
        }
        function GS() {}
        function VS(e, t) {
            lT.call(this, e, t),
            this.button.classList.add("shaka-small-play-button"),
            this.button.classList.add("material-icons-round"),
            this.button.classList.add("shaka-tooltip"),
            this.h(),
            this.g()
        }
        function HS() {}
        function KS(e, t) {
            p.call(this, e, t),
            (e = k("div")).classList.add("shaka-spacer"),
            e.ariaHidden = "true",
            this.parent.appendChild(e)
        }
        function zS() {}
        function XS(e, t) {
            function n(e) {
                return 1e6 < (e = parseInt(c.g[e], 10)) ? (e / 1e6).toFixed(2) + "MB" : 1e3 < e ? (e / 1e3).toFixed(2) + "KB" : e + "B"
            }
            function i(e) {
                return c.g[e] + " (gaps)"
            }
            function a(e) {
                return nT(c.g[e], !1) + " (m)"
            }
            function r(e) {
                return Math.round(c.g[e] / 1e3) + " (kbits/s)"
            }
            function o(e) {
                return c.g[e].toFixed(2) + " (s)"
            }
            function s(e) {
                return c.g[e] + " (frames)"
            }
            function u(e) {
                return c.g[e] + " (px)"
            }
            p.call(this, e, t);
            var l, c = this, d = (this.i = Go(),
            this.i.classList.add("shaka-statistics-button"),
            this.j = k("i"),
            this.j.classList.add("material-icons-round"),
            this.j.textContent = "insert_chart_outlined",
            this.i.appendChild(this.j),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            this.u = k("span"),
            e.appendChild(this.u),
            this.m = k("span"),
            this.m.classList.add("shaka-current-selection-span"),
            e.appendChild(this.m),
            this.i.appendChild(e),
            this.parent.appendChild(this.i),
            this.h = k("div"),
            this.h.classList.add("shaka-no-propagation"),
            this.h.classList.add("shaka-show-controls-on-mouse-over"),
            this.h.classList.add("shaka-statistics-container"),
            this.h.classList.add("shaka-hidden"),
            this.controls.i.appendChild(this.h),
            this.C = [],
            this.G = ["stateHistory", "switchHistory"],
            this.g = this.player.getStats(),
            this.s = {},
            this.B = {
                width: u,
                height: u,
                completionPercent: function(e) {
                    return c.g[e] + " (%)"
                },
                bufferingTime: o,
                drmTimeSeconds: o,
                licenseTime: o,
                liveLatency: o,
                loadLatency: o,
                manifestTimeSeconds: o,
                estimatedBandwidth: r,
                streamBandwidth: r,
                maxSegmentDuration: a,
                pauseTime: a,
                playTime: a,
                corruptedFrames: s,
                decodedFrames: s,
                droppedFrames: s,
                stallsDetected: function(e) {
                    return c.g[e] + " (stalls)"
                },
                gapsJumped: i,
                manifestSizeBytes: n,
                bytesDownloaded: n,
                nonFatalErrorCount: function(e) {
                    return c.g[e] + " (errors)"
                },
                manifestPeriodCount: function(e) {
                    return c.g[e] + " (periods)"
                },
                manifestGapCount: i
            },
            this.l = new C(function() {
                c.g = c.player.getStats();
                for (var e = Ze(c.C), t = e.next(); !t.done; t = e.next()) {
                    var t = t.value
                      , n = c.s[t];
                    n.textContent = c.B[t](t),
                    n && n.parentElement && m(n.parentElement, !isNaN(c.g[t]))
                }
            }
            ),
            YS(this),
            this), h = k("div"), f = (h.classList.add("shaka-no-propagation"),
            h.classList.add("shaka-statistics-close"),
            k("i"));
            for (f.classList.add("material-icons-round"),
            f.textContent = "close",
            h.appendChild(f),
            d.h.appendChild(h),
            d.eventManager.o(f, "click", function() {
                WS(d)
            }),
            h = Ze(d.controls.g.statisticsList),
            f = h.next(); !f.done; f = h.next())
                (f = f.value)in d.g && !d.G.includes(f) ? (l = function(e, t) {
                    var n = k("div")
                      , i = k("label");
                    return i.textContent = t + ":",
                    n.appendChild(i),
                    (i = k("span")).textContent = e.B[t](t),
                    n.appendChild(i),
                    e.s[t] = i,
                    n
                }(d, f),
                d.h.appendChild(l),
                d.C.push(f)) : Q("Unrecognized statistic element:", f);
            this.eventManager.o(this.localization, "locale-updated", function() {
                YS(c)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                YS(c)
            }),
            this.eventManager.o(this.i, "click", function() {
                WS(c),
                YS(c)
            })
        }
        function WS(e) {
            m(e.parent, !1),
            e.h.classList.contains("shaka-hidden") ? (e.j.textContent = "insert_chart",
            e.l.Aa(.1),
            m(e.h, !0)) : (e.j.textContent = "insert_chart_outlined",
            e.l.stop(),
            m(e.h, !1))
        }
        function YS(e) {
            e.u.textContent = e.localization.resolve("STATISTICS"),
            e.i.ariaLabel = e.localization.resolve("STATISTICS"),
            e.m.textContent = e.localization.resolve(e.h.classList.contains("shaka-hidden") ? "OFF" : "ON")
        }
        function qS() {}
        function JS(e, t) {
            Nw.call(this, e, t, "closed_caption");
            var n = this;
            this.button.classList.add("shaka-caption-button"),
            this.button.classList.add("shaka-tooltip-status"),
            this.menu.classList.add("shaka-text-languages"),
            this.player && this.player.Rc() ? this.button.ariaPressed = "true" : this.button.ariaPressed = "false",
            e = this,
            (t = Go()).ariaSelected = "true",
            e.menu.appendChild(t),
            t.appendChild(tT()),
            e.g = k("span"),
            e.g.classList.add("shaka-auto-span"),
            t.appendChild(e.g),
            this.eventManager.o(this.localization, "locale-updated", function() {
                ZS(n),
                $S(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                ZS(n),
                $S(n)
            }),
            this.eventManager.o(this.player, "loading", function() {
                eE(n)
            }),
            this.eventManager.o(this.player, "texttrackvisibility", function() {
                QS(n),
                $S(n)
            }),
            this.eventManager.o(this.player, "textchanged", function() {
                $S(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                eE(n)
            }),
            QS(this),
            ZS(this),
            $S(this),
            eE(this)
        }
        function QS(e) {
            e.player.Rc() ? (e.icon.textContent = "closed_caption",
            e.button.ariaPressed = "true") : (e.icon.textContent = "closed_caption_disabled",
            e.button.ariaPressed = "false"),
            e.controls.dispatchEvent(new Xe("captionselectionupdated"))
        }
        function $S(i) {
            var e = i.player.ec();
            Dw(e, i.menu, function(e) {
                var t, n;
                t = i,
                n = e,
                $e(function(e) {
                    return t.player.Wg(n),
                    We(e, t.player.kf(!0), 0)
                })
            }, i.player.Rc(), i.currentSelection, i.localization, i.controls.g.textTrackLabelFormat, i.controls.g.showAudioChannelCountVariants),
            (e = Go()).classList.add("shaka-turn-captions-off-button"),
            i.eventManager.o(e, "click", function() {
                i.player.kf(!1),
                $S(i)
            }),
            e.appendChild(i.g),
            i.menu.appendChild(e),
            i.player.Rc() || (e.ariaSelected = "true",
            e.appendChild(tT()),
            i.g.classList.add("shaka-chosen-item"),
            i.currentSelection.textContent = i.localization.resolve("OFF")),
            i.button.setAttribute("shaka-status", i.currentSelection.textContent),
            eT(i.menu),
            i.controls.dispatchEvent(new Xe("captionselectionupdated"))
        }
        function ZS(e) {
            e.button.ariaLabel = e.localization.resolve("CAPTIONS"),
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.nameSpan.textContent = e.localization.resolve("CAPTIONS"),
            e.backSpan.textContent = e.localization.resolve("CAPTIONS"),
            e.g.textContent = e.localization.resolve("OFF")
        }
        function eE(e) {
            var t = 0 < e.player.ec().length;
            m(e.button, t),
            $S(e)
        }
        function tE() {}
        function nE(e, t) {
            p.call(this, e, t);
            var n = this
              , i = (this.g = Go(),
            this.g.classList.add("shaka-toggle-stereoscopic-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.h = k("i"),
            this.h.classList.add("material-icons-round"),
            this.h.textContent = "3d_rotation",
            this.g.appendChild(this.h),
            (e = k("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = k("span"),
            e.appendChild(this.j),
            this.i = k("span"),
            this.i.classList.add("shaka-current-selection-span"),
            e.appendChild(this.i),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            iE(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                iE(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                iE(n)
            }),
            this.controls.u);
            this.eventManager.o(this.g, "click", function() {
                i.Ed()
            }),
            this.eventManager.o(i, "vrstatuschanged", function() {
                m(n.g, n.controls.Mb())
            }),
            m(this.g, this.controls.Mb())
        }
        function iE(e) {
            e.g.ariaLabel = e.localization.resolve("TOGGLE_STEREOSCOPIC"),
            e.j.textContent = e.localization.resolve("TOGGLE_STEREOSCOPIC")
        }
        function aE() {}
        function rE(e, t) {
            pT.call(this, e, t, ["shaka-volume-bar-container"], ["shaka-volume-bar"]);
            var n = this;
            this.g = this.controls.g,
            this.setRange(0, 100),
            this.eventManager.o(this.video, "volumechange", function() {
                return oE(n)
            }),
            this.eventManager.o(this.adManager, "ad-volume-changed", function() {
                return sE(n)
            }),
            this.eventManager.o(this.adManager, "ad-muted", function() {
                return sE(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                return oE(n)
            }),
            this.eventManager.o(this.localization, "locale-updated", function() {
                return lE(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                return lE(n)
            }),
            oE(this),
            lE(this),
            this.ad && this.onChange()
        }
        function oE(e) {
            e.video.muted ? e.setValue(0) : e.setValue(100 * e.video.volume),
            uE(e)
        }
        function sE(e) {
            var t = e.ad.getVolume();
            e.setValue(100 * t),
            uE(e)
        }
        function uE(e) {
            var t = e.g.volumeBarColors
              , n = ["to right"];
            n.push(t.level + e.getValue() + "%"),
            n.push(t.base + e.getValue() + "%"),
            n.push(t.base + "100%"),
            e.container.style.background = "linear-gradient(" + n.join(",") + ")"
        }
        function lE(e) {
            e.bar.ariaLabel = e.localization.resolve("VOLUME")
        }
        function cE() {}
        Aw.FailReasonCode = {
            NO_BROWSER_SUPPORT: Rw,
            PLAYER_FAILED_TO_LOAD: Pw
        },
        "complete" == document.readyState ? $e(function(e) {
            if (1 == e.g)
                return We(e, Promise.resolve(), 2);
            Iw(),
            Ye(e)
        }) : U.addEventListener("load", Iw),
        n(Nw, p),
        i("shaka.ui.SettingsMenu", Nw),
        n(_w, Nw),
        i("shaka.ui.AudioLanguageSelection", _w),
        Fw.prototype.create = function(e, t) {
            return new _w(e,t)
        }
        ,
        hw("language", new Fw),
        qT("language", new Fw),
        n(Bw, p),
        i("shaka.ui.CastButton", Bw),
        Kw.prototype.create = function(e, t) {
            return new Bw(e,t)
        }
        ,
        hw("cast", new Kw),
        qT("cast", new Kw),
        n(zw, Nw),
        i("shaka.ui.ChapterSelection", zw),
        qw.prototype.create = function(e, t) {
            return new zw(e,t)
        }
        ,
        hw("chapter", new qw),
        qT("chapter", new qw),
        n(Jw, p),
        i("shaka.ui.FastForwardButton", Jw),
        $w.prototype.create = function(e, t) {
            return new Jw(e,t)
        }
        ,
        qT("fast_forward", new $w),
        n(Zw, p),
        i("shaka.ui.FullscreenButton", Zw),
        nS.prototype.create = function(e, t) {
            return new Zw(e,t)
        }
        ,
        qT("fullscreen", new nS),
        n(iS, p),
        iS.prototype.release = function() {
            this.h.stop(),
            this.h = null,
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.LoopButton", iS),
        rS.prototype.create = function(e, t) {
            return new iS(e,t)
        }
        ,
        hw("loop", new rS),
        qT("loop", new rS),
        sT("loop", new rS),
        n(oS, p),
        i("shaka.ui.MuteButton", oS),
        lS.prototype.create = function(e, t) {
            return new oS(e,t)
        }
        ,
        hw("mute", new lS),
        qT("mute", new lS),
        sT("mute", new lS),
        n(cS, p),
        i("shaka.ui.PipButton", cS),
        gS.prototype.create = function(e, t) {
            return new cS(e,t)
        }
        ,
        hw("picture_in_picture", new gS),
        qT("picture_in_picture", new gS),
        sT("picture_in_picture", new gS),
        n(mS, Nw),
        i("shaka.ui.PlaybackRateSelection", mS),
        bS.prototype.create = function(e, t) {
            return new mS(e,t)
        }
        ,
        hw("playback_rate", new bS),
        qT("playback_rate", new bS),
        n(TS, p),
        i("shaka.ui.PresentationTimeTracker", TS),
        SS.prototype.create = function(e, t) {
            return new TS(e,t)
        }
        ,
        qT("time_and_duration", new SS),
        n(ES, p),
        i("shaka.ui.RecenterVRButton", ES),
        xS.prototype.create = function(e, t) {
            return new ES(e,t)
        }
        ,
        hw("recenter_vr", new xS),
        qT("recenter_vr", new xS),
        n(IS, p),
        IS.prototype.release = function() {
            this.video.remote && -1 != this.h && this.video.remote.cancelWatchAvailability(this.h).catch(function() {}),
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.RemoteButton", IS),
        LS.prototype.create = function(e, t) {
            return new IS(e,t)
        }
        ,
        hw("remote", new LS),
        qT("remote", new LS),
        n(RS, Nw),
        i("shaka.ui.ResolutionSelection", RS),
        NS.prototype.create = function(e, t) {
            return new RS(e,t)
        }
        ,
        hw("quality", new NS),
        qT("quality", new NS),
        n(_S, p),
        i("shaka.ui.RewindButton", _S),
        US.prototype.create = function(e, t) {
            return new _S(e,t)
        }
        ,
        qT("rewind", new US),
        n(jS, p),
        i("shaka.ui.SaveVideoFrameButton", jS),
        GS.prototype.create = function(e, t) {
            return new jS(e,t)
        }
        ,
        hw("save_video_frame", new GS),
        sT("save_video_frame", new GS),
        n(VS, lT),
        VS.prototype.h = function() {
            this.isEnded() ? this.button.textContent = "replay" : this.button.textContent = this.isPaused() ? "play_arrow" : "pause"
        }
        ,
        VS.prototype.g = function() {
            var e;
            this.isEnded() ? this.button.ariaLabel = this.localization.resolve("REPLAY") : (e = this.isPaused() ? "PLAY" : "PAUSE",
            this.button.ariaLabel = this.localization.resolve(e))
        }
        ,
        i("shaka.ui.SmallPlayButton", VS),
        HS.prototype.create = function(e, t) {
            return new VS(e,t)
        }
        ,
        qT("play_pause", new HS),
        n(KS, p),
        i("shaka.ui.Spacer", KS),
        zS.prototype.create = function(e, t) {
            return new KS(e,t)
        }
        ,
        qT("spacer", new zS),
        n(XS, p),
        XS.prototype.release = function() {
            this.l.stop(),
            this.l = null,
            p.prototype.release.call(this)
        }
        ,
        i("shaka.ui.StatisticsButton", XS),
        qS.prototype.create = function(e, t) {
            return new XS(e,t)
        }
        ,
        hw("statistics", new qS),
        sT("statistics", new qS),
        n(JS, Nw),
        i("shaka.ui.TextSelection", JS),
        tE.prototype.create = function(e, t) {
            return new JS(e,t)
        }
        ,
        hw("captions", new tE),
        qT("captions", new tE),
        n(nE, p),
        i("shaka.ui.ToggleStereoscopicButton", nE),
        aE.prototype.create = function(e, t) {
            return new nE(e,t)
        }
        ,
        hw("toggle_stereoscopic", new aE),
        qT("toggle_stereoscopic", new aE),
        n(rE, pT),
        rE.prototype.onChange = function() {
            this.ad && this.ad.isLinear() ? this.ad.setVolume(this.getValue() / 100) : (this.video.volume = this.getValue() / 100,
            this.video.muted = 0 == this.video.volume)
        }
        ,
        i("shaka.ui.VolumeBar", rE),
        cE.prototype.create = function(e, t) {
            return new rE(e,t)
        }
        ,
        qT("volume", new cE)
    }
    .call(t, e, e, void 0),
    "undefined" != typeof exports)
        for (var n in t.shaka)
            exports[n] = t.shaka[n];
    else
        "function" == typeof define && define.amd ? define(function() {
            return t.shaka
        }) : e.shaka = t.shaka
}();
